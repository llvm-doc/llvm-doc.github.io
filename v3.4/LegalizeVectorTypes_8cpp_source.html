<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: LegalizeVectorTypes.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('LegalizeVectorTypes_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LegalizeVectorTypes.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LegalizeVectorTypes_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------- LegalizeVectorTypes.cpp - Legalization of vector types -------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file performs vector type splitting and scalarization for LegalizeTypes.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Scalarization is the act of changing a computation in an illegal one-element</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// vector type to be a computation in its scalar element type.  For example,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// implementing &lt;1 x f32&gt; arithmetic in a scalar f32 register.  This is needed</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// as a base case when scalarizing vector arithmetic like &lt;4 x f32&gt;, which</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// eventually decomposes to scalars if the target doesn&#39;t support v4f32 or v2f32</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// types.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// Splitting is the act of changing a computation in an invalid vector type to</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// be a computation in two vectors of half the size.  For example, implementing</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// &lt;128 x f32&gt; operations in terms of two &lt;64 x f32&gt; operations.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegalizeTypes_8h.html">LegalizeTypes.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//  Result Vector Scalarization: &lt;1 x ty&gt; -&gt; ty.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::ScalarizeVectorResult(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">unsigned</span> ResNo) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Scalarize node result &quot;</span> &lt;&lt; ResNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> R = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ScalarizeVectorResult #&quot;</span> &lt;&lt; ResNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Do not know how to scalarize the result of this &quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                       <span class="stringliteral">&quot;operator!\n&quot;</span>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE_VALUES</a>:      R = ScalarizeVecRes_MERGE_VALUES(N, ResNo);<span class="keywordflow">break</span>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:           R = ScalarizeVecRes_BITCAST(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:      R = ScalarizeVecRes_BUILD_VECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2">ISD::CONVERT_RNDSAT</a>:    R = ScalarizeVecRes_CONVERT_RNDSAT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: R = ScalarizeVecRes_EXTRACT_SUBVECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:          R = ScalarizeVecRes_FP_ROUND(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">ISD::FP_ROUND_INREG</a>:    R = ScalarizeVecRes_InregOp(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>:             R = ScalarizeVecRes_FPOWI(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: R = ScalarizeVecRes_INSERT_VECTOR_ELT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>:           R = ScalarizeVecRes_LOAD(cast&lt;LoadSDNode&gt;(N));<span class="keywordflow">break</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>:  R = ScalarizeVecRes_SCALAR_TO_VECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: R = ScalarizeVecRes_InregOp(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>:           R = ScalarizeVecRes_VSELECT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>:            R = ScalarizeVecRes_SELECT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>:         R = ScalarizeVecRes_SELECT_CC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:             R = ScalarizeVecRes_SETCC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>:             R = ScalarizeVecRes_UNDEF(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>:    R = ScalarizeVecRes_VECTOR_SHUFFLE(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>:</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a>:</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">ISD::FEXP</a>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">ISD::FEXP2</a>:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>:</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">ISD::FLOG</a>:</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">ISD::FLOG10</a>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">ISD::FLOG2</a>:</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>:</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>:</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>:</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>:</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>:</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    R = ScalarizeVecRes_UnaryOp(N);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>:</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>:</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>:</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a>:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>:</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    R = ScalarizeVecRes_BinOp(N);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    R = ScalarizeVecRes_TernaryOp(N);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// If R is null, the sub-method took care of registering the result.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (R.getNode())</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    SetScalarizedVector(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, ResNo), R);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_BinOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                     LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), LHS, RHS);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_TernaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2 = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                     Op0.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Op0, Op1, Op2);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_MERGE_VALUES(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                                       <span class="keywordtype">unsigned</span> ResNo) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = DisintegrateMERGE_VALUES(N, ResNo);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> GetScalarizedVector(Op);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                     NewVT, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_BUILD_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// The BUILD_VECTOR operands may be of wider element types and</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// we may need to truncate them back to the requested return type.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (EltVT.<a class="code" href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">isInteger</a>())</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), EltVT, InOp);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> InOp;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_CONVERT_RNDSAT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(NewVT, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                              Op0, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(NewVT),</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(Op0.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()),</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                              N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3),</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                              N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4),</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                              cast&lt;CvtRndSatSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getCvtCode());</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_EXTRACT_SUBVECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_FP_ROUND(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                     NewVT, Op, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_FPOWI(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                     Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Op, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_INSERT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// The value to insert may have a wider type than the vector element type,</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// so be sure to truncate it to the element type if necessary.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != EltVT)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// FIXME: Can this happen for floating point types?</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    Op = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), EltVT, Op);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">return</span> Op;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_LOAD(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *N) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1LSBaseSDNode.html#a958114b87bff3b4db5ae7766d44dc375">isUnindexed</a>() &amp;&amp; <span class="stringliteral">&quot;Indexed vector load?&quot;</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#af15fb8b2d4c9f295bdcf85a1eb506702">getExtensionType</a>(),</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                               <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>(), N-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>(),</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(N-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>().<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()),</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>().<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>(),</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">isInvariant</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9c2ed40a765beab830932e12f5eb82d0">getOriginalAlignment</a>(),</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>());</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Legalized the chain result - switch anything that used the old chain to</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// use the new one.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 1), Result.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_UnaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// Get the dest type - it doesn&#39;t always match the input type, e.g. int_to_fp.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), DestVT, Op);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_InregOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExtVT = cast&lt;VTSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getVT().<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), EltVT,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                     LHS, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(ExtVT));</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_SCALAR_TO_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// If the operand is wider than the vector element type then it is implicitly</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// truncated.  Make that explicit here.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != EltVT)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), EltVT, InOp);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">return</span> InOp;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_VSELECT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cond = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">TargetLowering::BooleanContent</a> ScalarBool = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a09bdc91589b715806d421ccbc540347d">getBooleanContents</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">TargetLowering::BooleanContent</a> VecBool = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a09bdc91589b715806d421ccbc540347d">getBooleanContents</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (ScalarBool != VecBool) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> CondVT = Cond.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">switch</span> (ScalarBool) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">TargetLowering::UndefinedBooleanContent</a>:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLowering::ZeroOrOneBooleanContent</a>:</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        assert(VecBool == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">TargetLowering::UndefinedBooleanContent</a> ||</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;               VecBool == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">TargetLowering::ZeroOrNegativeOneBooleanContent</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// Vector read from all ones, scalar expects a single 1 so mask.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        Cond = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), CondVT,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                           Cond, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(1, CondVT));</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">TargetLowering::ZeroOrNegativeOneBooleanContent</a>:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        assert(VecBool == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">TargetLowering::UndefinedBooleanContent</a> ||</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;               VecBool == <a class="code" href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">TargetLowering::ZeroOrOneBooleanContent</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="comment">// Vector reads from a one, scalar from all ones so sign extend.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        Cond = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), CondVT,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                           Cond, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a78990d91dd364f8bb9e7008d85fd73b8">getSelect</a>(<a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                       LHS.getValueType(), Cond, LHS,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                       GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2)));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_SELECT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a78990d91dd364f8bb9e7008d85fd73b8">getSelect</a>(<a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                       LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), LHS,</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                       GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2)));</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_SELECT_CC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), LHS.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1),</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                     LHS, GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3)),</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_SETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() ==</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;         <span class="stringliteral">&quot;Scalar/Vector type mismatch&quot;</span>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) <span class="keywordflow">return</span> ScalarizeVecRes_VSETCC(N);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// Turn it into a scalar SETCC.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, DL, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, LHS, RHS, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_UNDEF(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>());</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_VECTOR_SHUFFLE(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// Figure out if the scalar is the LHS or RHS and return it.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Arg = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2).<a class="code" href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">getOperand</a>(0);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span> (Arg.<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>());</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordtype">unsigned</span> Op = !cast&lt;ConstantSDNode&gt;(Arg)-&gt;isNullValue();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">return</span> GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(Op));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecRes_VSETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;         <span class="stringliteral">&quot;Operand types must be vectors&quot;</span>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHS = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// Turn it into a scalar SETCC.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, DL, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, LHS, RHS,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                            N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// Vectors may have a different boolean contents to scalars.  Promote the</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// value appropriately.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">ISD::NodeType</a> ExtendCode =</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="classllvm_1_1TargetLoweringBase.html#affa111c5fcedf4f9c7eaf11be9977f32">TargetLowering::getExtendForContent</a>(TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a09bdc91589b715806d421ccbc540347d">getBooleanContents</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(ExtendCode, DL, NVT, Res);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">//  Operand Vector Scalarization &lt;1 x ty&gt; -&gt; ty.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keywordtype">bool</span> DAGTypeLegalizer::ScalarizeVectorOperand(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Scalarize node operand &quot;</span> &lt;&lt; OpNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (Res.getNode() == 0) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ScalarizeVectorOperand Op #&quot;</span> &lt;&lt; OpNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Do not know how to scalarize this operator&#39;s operand!&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      Res = ScalarizeVecOp_BITCAST(N);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      Res = ScalarizeVecOp_UnaryOp(N);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>:</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      Res = ScalarizeVecOp_CONCAT_VECTORS(N);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      Res = ScalarizeVecOp_EXTRACT_VECTOR_ELT(N);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>:</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      Res = ScalarizeVecOp_STORE(cast&lt;StoreSDNode&gt;(N), OpNo);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// If the result is null, the sub-method took care of registering results etc.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (!Res.getNode()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// If the result is N, the sub-method updated N in place.  Tell the legalizer</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// core about this.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">if</span> (Res.getNode() == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  assert(Res.getValueType() == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) &amp;&amp; N-&gt;<a class="code" href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">getNumValues</a>() == 1 &amp;&amp;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <span class="stringliteral">&quot;Invalid operand expansion&quot;</span>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0), Res);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">/// ScalarizeVecOp_BITCAST - If the value to convert is a vector that needs</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">/// to be scalarized, it must be &lt;1 x ty&gt;.  Convert the element instead.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecOp_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), Elt);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">/// ScalarizeVecOp_EXTEND - If the value to extend is a vector that needs</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/// to be scalarized, it must be &lt;1 x ty&gt;.  Extend the element instead.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecOp_UnaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() == 1 &amp;&amp;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;         <span class="stringliteral">&quot;Unexected vector type!&quot;</span>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 1&gt;</a> Ops(1);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  Ops[0] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                       N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">getScalarType</a>(), Elt);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// Revectorize the result so the types line up with what the uses of this</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// expression expect.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                     &amp;Ops[0], 1);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">/// ScalarizeVecOp_CONCAT_VECTORS - The vectors to concatenate have length one -</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">/// use a BUILD_VECTOR instead.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecOp_CONCAT_VECTORS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>());</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                     &amp;Ops[0], Ops.size());</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/// ScalarizeVecOp_EXTRACT_VECTOR_ELT - If the input is a vector that needs to</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">/// be scalarized, it must be &lt;1 x ty&gt;, so just return the element, ignoring the</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/// index.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecOp_EXTRACT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (Res.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0))</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    Res = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                      Res);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">/// ScalarizeVecOp_STORE - If the value to store is a vector that needs to be</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// scalarized, it must be &lt;1 x ty&gt;.  Just store the element.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ScalarizeVecOp_STORE(<a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo){</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1LSBaseSDNode.html#a958114b87bff3b4db5ae7766d44dc375">isUnindexed</a>() &amp;&amp; <span class="stringliteral">&quot;Indexed store of one-element vector?&quot;</span>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  assert(OpNo == 1 &amp;&amp; <span class="stringliteral">&quot;Do not know how to scalarize this operand!&quot;</span>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#a272cb283a679298b7e991db7daf823ed">isTruncatingStore</a>())</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>(), dl,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                             GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)),</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                             N-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">getBasePtr</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                             N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>().<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                             N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>(),</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                             N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>());</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>(), dl, GetScalarizedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)),</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                      N-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">getBasePtr</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                      N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>(),</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                      N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9c2ed40a765beab830932e12f5eb82d0">getOriginalAlignment</a>(), N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>());</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//  Result Vector Splitting</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">/// SplitVectorResult - This method is called when the specified result of the</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">/// specified node is found to need vector splitting.  At this point, the node</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">/// may also have invalid operands or may have other results that need</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">/// legalization, we just know that (at least) one result needs vector</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">/// splitting.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DAGTypeLegalizer::SplitVectorResult(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> ResNo) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Split node result: &quot;</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// See if the target wants to custom expand this node.</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (CustomLowerNode(N, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(ResNo), <span class="keyword">true</span>))</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SplitVectorResult #&quot;</span> &lt;&lt; ResNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Do not know how to split the result of this &quot;</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                       <span class="stringliteral">&quot;operator!\n&quot;</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE_VALUES</a>: SplitRes_MERGE_VALUES(N, ResNo, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>:</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>:       SplitRes_SELECT(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>:    SplitRes_SELECT_CC(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>:        SplitRes_UNDEF(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:           SplitVecRes_BITCAST(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:      SplitVecRes_BUILD_VECTOR(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>:    SplitVecRes_CONCAT_VECTORS(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: SplitVecRes_EXTRACT_SUBVECTOR(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">ISD::FP_ROUND_INREG</a>:    SplitVecRes_InregOp(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>:             SplitVecRes_FPOWI(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: SplitVecRes_INSERT_VECTOR_ELT(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>:  SplitVecRes_SCALAR_TO_VECTOR(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: SplitVecRes_InregOp(N, Lo, Hi); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>:</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    SplitVecRes_LOAD(cast&lt;LoadSDNode&gt;(N), Lo, Hi);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    SplitVecRes_SETCC(N, Lo, Hi);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    SplitVecRes_VECTOR_SHUFFLE(cast&lt;ShuffleVectorSDNode&gt;(N), Lo, Hi);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2">ISD::CONVERT_RNDSAT</a>:</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>:</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>:</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">ISD::CTLZ_ZERO_UNDEF</a>:</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">ISD::CTTZ_ZERO_UNDEF</a>:</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>:</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>:</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>:</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a>:</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">ISD::FEXP</a>:</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">ISD::FEXP2</a>:</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>:</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">ISD::FLOG</a>:</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">ISD::FLOG10</a>:</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">ISD::FLOG2</a>:</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>:</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>:</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>:</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>:</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    SplitVecRes_UnaryOp(N, Lo, Hi);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    SplitVecRes_ExtendOp(N, Lo, Hi);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>:</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>:</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>:</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>:</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>:</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>:</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>:</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a>:</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>:</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>:</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    SplitVecRes_BinOp(N, Lo, Hi);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    SplitVecRes_TernaryOp(N, Lo, Hi);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// If Lo/Hi is null, the sub-method took care of registering results etc.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (Lo.getNode())</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    SetSplitVector(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, ResNo), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_BinOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHSLo, LHSHi;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), LHSLo, LHSHi);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RHSLo, RHSHi;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), RHSLo, RHSHi);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LHSLo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), LHSLo, RHSLo);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LHSHi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), LHSHi, RHSHi);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_TernaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                             <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0Lo, Op0Hi;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), Op0Lo, Op0Hi);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1Lo, Op1Hi;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), Op1Lo, Op1Hi);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op2Lo, Op2Hi;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2), Op2Lo, Op2Hi);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, Op0Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                   Op0Lo, Op1Lo, Op2Lo);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, Op0Hi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                   Op0Hi, Op1Hi, Op2Hi);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// We know the result is a vector.  The input may be either a vector or a</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// scalar value.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// Handle some special cases efficiently.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">switch</span> (getTypeAction(InVT)) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193af54ec6880362512f9fec982cd4ce39fb">TargetLowering::TypeLegal</a>:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a26f35604723482a1aee6514940c2987d">TargetLowering::TypePromoteInteger</a>:</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a2f11b8376488870063cf0c3036fb9577">TargetLowering::TypeSoftenFloat</a>:</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193aba2534b602f98a2952464c3682a39dbc">TargetLowering::TypeScalarizeVector</a>:</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>:</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5c111d159cec321b85802cb1baba7f12">TargetLowering::TypeExpandInteger</a>:</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a43bc669b0f21542131c6623548c567e3">TargetLowering::TypeExpandFloat</a>:</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// A scalar to vector conversion, where the scalar needs expansion.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// If the vector is being split in two then we can just convert the</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// expanded pieces.</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (LoVT == HiVT) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      GetExpandedOp(InOp, Lo, Hi);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a785a8016a792dbc65ec16688f180af71">isBigEndian</a>())</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Lo, Hi);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, LoVT, Lo);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, HiVT, Hi);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a40cd81ebfaf97cef327ad65d37b816da">TargetLowering::TypeSplitVector</a>:</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// If the input is a vector that needs to be split, convert each split</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// piece of the input now.</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    GetSplitVector(InOp, Lo, Hi);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, LoVT, Lo);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, HiVT, Hi);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// In the general case, convert the input to an integer and split it by hand.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoIntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), LoVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>());</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> HiIntVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), HiVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>());</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a785a8016a792dbc65ec16688f180af71">isBigEndian</a>())</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LoIntVT, HiIntVT);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  SplitInteger(BitConvertToInteger(InOp), LoIntVT, HiIntVT, Lo, Hi);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a785a8016a792dbc65ec16688f180af71">isBigEndian</a>())</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Lo, Hi);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, LoVT, Lo);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, HiVT, Hi);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_BUILD_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                                <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordtype">unsigned</span> LoNumElts = LoVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> LoOps(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>()+LoNumElts);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, LoVT, &amp;LoOps[0], LoOps.size());</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> HiOps(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>()+LoNumElts, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">op_end</a>());</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, HiVT, &amp;HiOps[0], HiOps.size());</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_CONCAT_VECTORS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  assert(!(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() &amp; 1) &amp;&amp; <span class="stringliteral">&quot;Unsupported CONCAT_VECTORS&quot;</span>);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordtype">unsigned</span> NumSubvectors = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() / 2;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">if</span> (NumSubvectors == 1) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    Lo = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    Hi = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> LoOps(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>()+NumSubvectors);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, LoVT, &amp;LoOps[0], LoOps.size());</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> HiOps(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>()+NumSubvectors, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">op_end</a>());</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, HiVT, &amp;HiOps[0], HiOps.size());</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_EXTRACT_SUBVECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, LoVT, Vec, Idx);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  uint64_t IdxVal = cast&lt;ConstantSDNode&gt;(Idx)-&gt;getZExtValue();</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, HiVT, Vec,</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IdxVal + LoVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>(),</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                   TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_FPOWI(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                                         <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>, dl, Lo.getValueType(), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>, dl, Hi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_InregOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LHSLo, LHSHi;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), LHSLo, LHSHi);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) =</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(cast&lt;VTSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getVT());</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LHSLo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), LHSLo,</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(LoVT));</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LHSHi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), LHSHi,</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(HiVT));</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_INSERT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                                                     <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Elt = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  GetSplitVector(Vec, Lo, Hi);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *CIdx = dyn_cast&lt;ConstantSDNode&gt;(Idx)) {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordtype">unsigned</span> IdxVal = CIdx-&gt;getZExtValue();</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordtype">unsigned</span> LoNumElts = Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span> (IdxVal &lt; LoNumElts)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, dl,</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                       Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, Elt, Idx);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, dl, Hi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>, Elt,</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IdxVal - LoNumElts,</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                       TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// Spill the vector to the stack.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT = Vec.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VecVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3de9644ea2dd81453acf760bd2c1f921">CreateStackTemporary</a>(VecVT);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Vec, StackPtr,</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                               <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="comment">// Store the new element.  This may be larger than the vector element type,</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// so use a truncating store.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EltPtr = GetVectorElementPointer(StackPtr, EltVT, Idx);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07c">VecType</a> = VecVT.<a class="code" href="structllvm_1_1EVT.html#a226345d0c8262e9469d30a993d1656ff">getTypeForEVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>());</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordtype">unsigned</span> Alignment =</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#adc25bcc279ccfb5b867c2b7b8eedaa9b">getDataLayout</a>()-&gt;<a class="code" href="classllvm_1_1DataLayout.html#adfb7610cbc23430a7d4077a3cf9c22d3">getPrefTypeAlignment</a>(VecType);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  Store = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Store, dl, Elt, EltPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), EltVT,</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                            <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// Load the Lo part from the stack slot.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), dl, <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>, StackPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                   <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Increment the pointer to the other part.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">unsigned</span> IncrementSize = Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() / 8;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, StackPtr.getValueType(), StackPtr,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IncrementSize, StackPtr.getValueType()));</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// Load the Hi part from the stack slot.</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(Hi.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), dl, <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>, StackPtr, <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(),</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                   <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Alignment, IncrementSize));</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_SCALAR_TO_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                                    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, dl, LoVT, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(HiVT);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;}</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_LOAD(<a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  assert(<a class="code" href="namespacellvm_1_1ISD.html#a7da84980dd2ee06405d74303cfb90485">ISD::isUNINDEXEDLoad</a>(LD) &amp;&amp; <span class="stringliteral">&quot;Indexed load during type legalization!&quot;</span>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(LD);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(LD-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">ISD::LoadExtType</a> ExtType = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#af15fb8b2d4c9f295bdcf85a1eb506702">getExtensionType</a>();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ch = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ptr = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>();</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Offset = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemoryVT = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9c2ed40a765beab830932e12f5eb82d0">getOriginalAlignment</a>();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordtype">bool</span> isVolatile = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordtype">bool</span> isNonTemporal = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordtype">bool</span> isInvariant = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">isInvariant</a>();</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoMemVT, HiMemVT;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoMemVT, HiMemVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(MemoryVT);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>, ExtType, LoVT, dl, Ch, Ptr, Offset,</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                   LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(), LoMemVT, isVolatile, isNonTemporal,</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                   isInvariant, Alignment, TBAAInfo);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordtype">unsigned</span> IncrementSize = LoMemVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()/8;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  Ptr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Ptr,</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IncrementSize, Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">ISD::UNINDEXED</a>, ExtType, HiVT, dl, Ch, Ptr, Offset,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                   LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(IncrementSize),</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                   HiMemVT, isVolatile, isNonTemporal, isInvariant, Alignment,</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                   TBAAInfo);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// Build a factor node to remember that this load is independent of the</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// other one.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  Ch = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, dl, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, Lo.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1),</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                   Hi.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// Legalized the chain result - switch anything that used the old chain to</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// use the new one.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(LD, 1), Ch);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_SETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;         <span class="stringliteral">&quot;Operand types must be vectors&quot;</span>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="comment">// Split the input.</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LL, LH, RL, RH;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LL, LH) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a56a2102423fcb39c2683a7e67bddf537">SplitVectorOperand</a>(N, 0);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(RL, RH) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a56a2102423fcb39c2683a7e67bddf537">SplitVectorOperand</a>(N, 1);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), DL, LoVT, LL, RL, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), DL, HiVT, LH, RH, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_UnaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                           <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">// Get the dest types - they may not match the input types, e.g. int_to_fp.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="comment">// If the input also splits, handle it directly for a compile time speedup.</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// Otherwise split it by hand.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a40cd81ebfaf97cef327ad65d37b816da">TargetLowering::TypeSplitVector</a>)</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(Lo, Hi) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a56a2102423fcb39c2683a7e67bddf537">SplitVectorOperand</a>(N, 0);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LoVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, HiVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2">ISD::CONVERT_RNDSAT</a>) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DTyOpLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(LoVT);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DTyOpHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(HiVT);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> STyOpLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(Lo.getValueType());</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> STyOpHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(Hi.getValueType());</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RndOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="namespacellvm_1_1ISD.html#a51520544b9467b0ade87e3a54e90cb6c">ISD::CvtCode</a> <a class="code" href="namespacellvm_1_1ISD.html#a51520544b9467b0ade87e3a54e90cb6c">CvtCode</a> = cast&lt;CvtRndSatSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getCvtCode();</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(LoVT, dl, Lo, DTyOpLo, STyOpLo, RndOp, SatOp,</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                              CvtCode);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(HiVT, dl, Hi, DTyOpHi, STyOpHi, RndOp, SatOp,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                              CvtCode);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LoVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, HiVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_ExtendOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo,</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                            <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoVT, HiVT;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoVT, HiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(DestVT);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// We can do better than a generic split operation if the extend is doing</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// more than just doubling the width of the elements and the following are</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// true:</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">//   - The number of vector elements is even,</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">//   - the source type is legal,</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">//   - the type of a split source is illegal,</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">//   - the type of an extended (by doubling element size) source is legal, and</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">//   - the type of that extended source when split is legal.</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// This won&#39;t necessarily completely legalize the operation, but it will</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// more effectively move in the right direction and prevent falling down</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// to scalarization in many cases due to the input vector being split too</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// far.</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordtype">unsigned</span> NumElements = SrcVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> ((NumElements &amp; 1) == 0 &amp;&amp;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      SrcVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() * 2 &lt; DestVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = *DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>();</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewSrcVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        Ctx, <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                 Ctx, SrcVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() * 2),</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        NumElements);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SplitSrcVT =</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(Ctx, SrcVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(), NumElements / 2);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> SplitLoVT, SplitHiVT;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(SplitLoVT, SplitHiVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(NewSrcVT);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(SrcVT) &amp;&amp; !TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(SplitSrcVT) &amp;&amp;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(NewSrcVT) &amp;&amp; TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(SplitLoVT)) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Split vector extend via incremental extend:&quot;</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG); <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="comment">// Extend the source vector by one step.</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewSrc =</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, NewSrcVT, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="comment">// Get the low and high halves of the new, extended one step, vector.</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(Lo, Hi) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(NewSrc, dl);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// Extend those vector halves the rest of the way.</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, LoVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, HiVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// Fall back to the generic unary operator splitting otherwise.</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  SplitVecRes_UnaryOp(N, Lo, Hi);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::SplitVecRes_VECTOR_SHUFFLE(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *N,</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                                  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Lo, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Hi) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// The low and high parts of the original input give four input vectors.</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Inputs[4];</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), Inputs[0], Inputs[1]);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), Inputs[2], Inputs[3]);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = Inputs[0].<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordtype">unsigned</span> NewElts = NewVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// If Lo or Hi uses elements from at most two of the four input vectors, then</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// express it as a vector shuffle of those two inputs.  Otherwise extract the</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// input elements by hand and construct the Lo/Hi output using a BUILD_VECTOR.</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> Ops;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> High = 0; High &lt; 2; ++High) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Output = High ? Hi : <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// Build a shuffle mask for the output, discovering on the fly which</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// input vectors to use as shuffle operands (recorded in InputUsed).</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// If building a suitable shuffle vector proves too hard, then bail</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">// out with useBuildVector set.</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordtype">unsigned</span> InputUsed[2] = { -1U, -1U }; <span class="comment">// Not yet discovered.</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordtype">unsigned</span> FirstMaskIdx = High * NewElts;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordtype">bool</span> useBuildVector = <span class="keyword">false</span>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MaskOffset = 0; MaskOffset &lt; NewElts; ++MaskOffset) {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="comment">// The mask element.  This indexes into the input.</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordtype">int</span> Idx = N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(FirstMaskIdx + MaskOffset);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="comment">// The input vector this mask element indexes into.</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="keywordtype">unsigned</span> Input = (unsigned)Idx / NewElts;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">if</span> (Input &gt;= <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(Inputs)) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="comment">// The mask element does not index into any input vector.</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(-1);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="comment">// Turn the index into an offset from the start of the input vector.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      Idx -= Input * NewElts;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="comment">// Find or create a shuffle vector operand to hold this input.</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordtype">unsigned</span> OpNo;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">for</span> (OpNo = 0; OpNo &lt; <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(InputUsed); ++OpNo) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">if</span> (InputUsed[OpNo] == Input) {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <span class="comment">// This input vector is already an operand.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (InputUsed[OpNo] == -1U) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;          <span class="comment">// Create a new operand for this input vector.</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;          InputUsed[OpNo] = Input;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">if</span> (OpNo &gt;= <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(InputUsed)) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="comment">// More than two input vectors used!  Give up on trying to create a</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="comment">// shuffle vector.  Insert all elements into a BUILD_VECTOR instead.</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        useBuildVector = <span class="keyword">true</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="comment">// Add the mask index for the new shuffle vector.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Idx + OpNo * NewElts);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (useBuildVector) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = NewVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> SVOps;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="comment">// Extract the input elements by hand.</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MaskOffset = 0; MaskOffset &lt; NewElts; ++MaskOffset) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="comment">// The mask element.  This indexes into the input.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordtype">int</span> Idx = N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(FirstMaskIdx + MaskOffset);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="comment">// The input vector this mask element indexes into.</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordtype">unsigned</span> Input = (unsigned)Idx / NewElts;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (Input &gt;= <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(Inputs)) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;          <span class="comment">// The mask element is &quot;undef&quot; or indexes off the end of the input.</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;          SVOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT));</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="comment">// Turn the index into an offset from the start of the input vector.</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        Idx -= Input * NewElts;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="comment">// Extract the vector element by hand.</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        SVOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, EltVT,</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                                    Inputs[Input], DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx,</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                                   TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>())));</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="comment">// Construct the Lo/Hi output using a BUILD_VECTOR.</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      Output = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>,dl,NewVT, &amp;SVOps[0], SVOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (InputUsed[0] == -1U) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="comment">// No input vectors were used!  The result is undefined.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      Output = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(NewVT);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op0 = Inputs[InputUsed[0]];</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="comment">// If only one input was used, use an undefined vector for the other.</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op1 = InputUsed[1] == -1U ?</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(NewVT) : Inputs[InputUsed[1]];</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="comment">// At least one input vector was used.  Create a new shuffle vector.</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      Output =  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(NewVT, dl, Op0, Op1, &amp;Ops[0]);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">//  Operand Vector Splitting</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">/// SplitVectorOperand - This method is called when the specified operand of the</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">/// specified node is found to need vector splitting.  At this point, all of the</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">/// result types of the node are known to be legal, but other operands of the</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">/// node may need legalization as well as the specified one.</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> DAGTypeLegalizer::SplitVectorOperand(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Split node operand: &quot;</span>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="comment">// See if the target wants to custom split this node.</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (CustomLowerNode(N, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(OpNo).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <span class="keyword">false</span>))</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">if</span> (Res.getNode() == 0) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SplitVectorOperand Op #&quot;</span> &lt;&lt; OpNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Do not know how to split this operator&#39;s &quot;</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                         <span class="stringliteral">&quot;operand!\n&quot;</span>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:             Res = SplitVecOp_VSETCC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:           Res = SplitVecOp_BITCAST(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: Res = SplitVecOp_EXTRACT_SUBVECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>:Res = SplitVecOp_EXTRACT_VECTOR_ELT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>:    Res = SplitVecOp_CONCAT_VECTORS(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:          Res = SplitVecOp_TRUNCATE(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:          Res = SplitVecOp_FP_ROUND(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>:</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      Res = SplitVecOp_STORE(cast&lt;StoreSDNode&gt;(N), OpNo);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>:</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      Res = SplitVecOp_VSELECT(N, OpNo);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>:</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>:</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>:</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>:</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      Res = SplitVecOp_UnaryOp(N);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// If the result is null, the sub-method took care of registering results etc.</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">if</span> (!Res.getNode()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// If the result is N, the sub-method updated N in place.  Tell the legalizer</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// core about this.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">if</span> (Res.getNode() == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  assert(Res.getValueType() == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) &amp;&amp; N-&gt;<a class="code" href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">getNumValues</a>() == 1 &amp;&amp;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         <span class="stringliteral">&quot;Invalid operand expansion&quot;</span>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0), Res);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_VSELECT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo) {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="comment">// The only possibility for an illegal operand is the mask, since result type</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="comment">// legalization would have handled this node already otherwise.</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  assert(OpNo == 0 &amp;&amp; <span class="stringliteral">&quot;Illegal operand must be mask&quot;</span>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Mask = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src0 = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Src1 = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> Src0VT = Src0.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  assert(Mask.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;VSELECT without a vector mask?&quot;</span>);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  assert(Lo.getValueType() == Hi.getValueType() &amp;&amp;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <span class="stringliteral">&quot;Lo and Hi have differing types&quot;</span>);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoOpVT, HiOpVT;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoOpVT, HiOpVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(Src0VT);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  assert(LoOpVT == HiOpVT &amp;&amp; <span class="stringliteral">&quot;Asymmetric vector split?&quot;</span>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoOp0, HiOp0, LoOp1, HiOp1, LoMask, HiMask;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoOp0, HiOp0) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(Src0, DL);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoOp1, HiOp1) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(Src1, DL);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoMask, HiMask) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(Mask, DL);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LoSelect =</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, DL, LoOpVT, LoMask, LoOp0, LoOp1);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HiSelect =</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>, DL, HiOpVT, HiMask, HiOp0, HiOp1);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, DL, Src0VT, LoSelect, HiSelect);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_UnaryOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">// The result has a legal vector type, but the input needs splitting.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OutVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), ResVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                               InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, OutVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, OutVT, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, ResVT, Lo, Hi);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;}</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="comment">// For example, i64 = BITCAST v4i16 on alpha.  Typically the vector will</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// end up being split all the way down to individual components.  Convert the</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">// split pieces into integers and reassemble.</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  Lo = BitConvertToInteger(Lo);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  Hi = BitConvertToInteger(Hi);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a785a8016a792dbc65ec16688f180af71">isBigEndian</a>())</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Lo, Hi);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                     JoinIntegers(Lo, Hi));</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_EXTRACT_SUBVECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// We know that the extracted result type is legal.</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SubVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  uint64_t LoElts = Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  uint64_t IdxVal = cast&lt;ConstantSDNode&gt;(Idx)-&gt;getZExtValue();</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">if</span> (IdxVal &lt; LoElts) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    assert(IdxVal + SubVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() &lt;= LoElts &amp;&amp;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;           <span class="stringliteral">&quot;Extracted subvector crosses vector split!&quot;</span>);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, SubVT, Lo, Idx);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, SubVT, Hi,</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IdxVal - LoElts, Idx.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;}</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_EXTRACT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Vec = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Idx = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecVT = Vec.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantSDNode&gt;(Idx)) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    uint64_t IdxVal = cast&lt;ConstantSDNode&gt;(Idx)-&gt;getZExtValue();</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    assert(IdxVal &lt; VecVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() &amp;&amp; <span class="stringliteral">&quot;Invalid vector index!&quot;</span>);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    GetSplitVector(Vec, Lo, Hi);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    uint64_t LoElts = Lo.getValueType().getVectorNumElements();</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span> (IdxVal &lt; LoElts)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae8c041f67463ea67d6c43867729b82cb">UpdateNodeOperands</a>(N, Lo, Idx), 0);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ae8c041f67463ea67d6c43867729b82cb">UpdateNodeOperands</a>(N, Hi,</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                  DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IdxVal - LoElts,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                                  Idx.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>())), 0);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// Store the vector to the stack.</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VecVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> StackPtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a3de9644ea2dd81453acf760bd2c1f921">CreateStackTemporary</a>(VecVT);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Store = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">getEntryNode</a>(), dl, Vec, StackPtr,</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                               <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// Load back the required element.</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  StackPtr = GetVectorElementPointer(StackPtr, EltVT, Idx);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(<a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">ISD::EXTLOAD</a>, dl, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Store</a>, StackPtr,</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        <a class="code" href="structllvm_1_1MachinePointerInfo.html">MachinePointerInfo</a>(), EltVT, <span class="keyword">false</span>, <span class="keyword">false</span>, 0);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_STORE(<a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1LSBaseSDNode.html#a958114b87bff3b4db5ae7766d44dc375">isUnindexed</a>() &amp;&amp; <span class="stringliteral">&quot;Indexed store of vector?&quot;</span>);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  assert(OpNo == 1 &amp;&amp; <span class="stringliteral">&quot;Can only split the stored value&quot;</span>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordtype">bool</span> isTruncating = N-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#a272cb283a679298b7e991db7daf823ed">isTruncatingStore</a>();</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ch  = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ptr = N-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">getBasePtr</a>();</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemoryVT = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a9c2ed40a765beab830932e12f5eb82d0">getOriginalAlignment</a>();</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordtype">bool</span> isVol = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordtype">bool</span> isNT = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LoMemVT, HiMemVT;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(LoMemVT, HiMemVT) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">GetSplitDestVTs</a>(MemoryVT);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordtype">unsigned</span> IncrementSize = LoMemVT.getSizeInBits()/8;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">if</span> (isTruncating)</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Ch, DL, Lo, Ptr, N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                           LoMemVT, isVol, isNT, Alignment, TBAAInfo);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Ch, DL, Lo, Ptr, N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                      isVol, isNT, Alignment, TBAAInfo);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// Increment the pointer to the other half.</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  Ptr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, DL, Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), Ptr,</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                    DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IncrementSize, Ptr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (isTruncating)</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Ch, DL, Hi, Ptr,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                           N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(IncrementSize),</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                           HiMemVT, isVol, isNT, Alignment, TBAAInfo);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Ch, DL, Hi, Ptr,</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                      N-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(IncrementSize),</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                      isVol, isNT, Alignment, TBAAInfo);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, DL, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>, Lo, Hi);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;}</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_CONCAT_VECTORS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">// The input operands all must have the same type, and we know the result</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// type is valid.  Convert this to a buildvector which extracts all the</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// input elements.</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// TODO: If the input elements are power-two vectors, we could convert this to</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// a new CONCAT_VECTORS node with elements that are half-wide.</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 32&gt;</a> Elts;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> op = 0, e = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>(); op != e; ++op) {</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Op = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(op);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Op.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      Elts.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, DL, EltVT,</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                 Op, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>())));</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, DL, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                     &amp;Elts[0], Elts.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_TRUNCATE(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// The result type is legal, but the input type is illegal.  If splitting</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// ends up with the result type of each half still being legal, just</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="comment">// do that.  If, however, that would result in an illegal result type,</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="comment">// we can try to get more clever with power-two vectors. Specifically,</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="comment">// split the input type, but also widen the result element size, then</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="comment">// concatenate the halves and truncate again.  For example, consider a target</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// where v8i8 is legal and v8i32 is not (ARM, which doesn&#39;t have 256-bit</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// vectors). To perform a &quot;%res = v8i8 trunc v8i32 %in&quot; we do:</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="comment">//   %inlo = v4i32 extract_subvector %in, 0</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">//   %inhi = v4i32 extract_subvector %in, 4</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">//   %lo16 = v4i16 trunc v4i32 %inlo</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">//   %hi16 = v4i16 trunc v4i32 %inhi</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">//   %in16 = v8i16 concat_vectors v4i16 %lo16, v4i16 %hi16</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="comment">//   %res = v8i8 trunc v8i16 %in16</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">// Without this transform, the original truncate would end up being</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// scalarized, which is pretty much always a last resort.</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InVec = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InVec-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OutVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordtype">unsigned</span> NumElements = OutVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// Widening should have already made sure this is a power-two vector</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// if we&#39;re trying to split it at all. assert() that&#39;s true, just in case.</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  assert(!(NumElements &amp; 1) &amp;&amp; <span class="stringliteral">&quot;Splitting vector, but not in half!&quot;</span>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordtype">unsigned</span> InElementSize = InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordtype">unsigned</span> OutElementSize = OutVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>().<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// If the input elements are only 1/2 the width of the result elements,</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">// just use the normal splitting. Our trick only work if there&#39;s room</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// to split more than once.</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">if</span> (InElementSize &lt;= OutElementSize * 2)</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">return</span> SplitVecOp_UnaryOp(N);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">// Extract the halves of the input via extract_subvector.</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InLoVec, InHiVec;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(InLoVec, InHiVec) = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">SplitVector</a>(InVec, DL);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">// Truncate them to 1/2 the element size.</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> HalfElementVT = <a class="code" href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">EVT::getIntegerVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InElementSize/2);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> HalfVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), HalfElementVT,</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                NumElements/2);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HalfLo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, DL, HalfVT, InLoVec);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> HalfHi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, DL, HalfVT, InHiVec);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">// Concatenate them to get the full intermediate truncation result.</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InterVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), HalfElementVT, NumElements);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InterVec = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, DL, InterVT, HalfLo,</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                 HalfHi);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="comment">// Now finish up by truncating all the way down to the original result</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// type. This should normally be something that ends up being legal directly,</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="comment">// but in theory if a target has very wide vectors and an annoyingly</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="comment">// restricted set of legal types, this split can chain to build things up.</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>, DL, OutVT, InterVec);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;}</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_VSETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;         <span class="stringliteral">&quot;Operand types must be vectors&quot;</span>);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="comment">// The result has a legal vector type, but the input needs splitting.</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lo0, Hi0, Lo1, Hi1, LoRes, HiRes;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), Lo0, Hi0);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), Lo1, Hi1);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordtype">unsigned</span> PartElements = Lo0.getValueType().getVectorNumElements();</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> PartResVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, PartElements);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WideResVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>, 2*PartElements);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  LoRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, DL, PartResVT, Lo0, Lo1, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  HiRes = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, DL, PartResVT, Hi0, Hi1, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Con = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, DL, WideResVT, LoRes, HiRes);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">return</span> PromoteTargetBoolean(Con, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::SplitVecOp_FP_ROUND(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// The result has a legal vector type, but the input needs splitting.</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  GetSplitVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0), <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = Lo.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> OutVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), ResVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                               InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  Lo = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, DL, OutVT, Lo, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  Hi = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>, DL, OutVT, Hi, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, DL, ResVT, Lo, Hi);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment">//  Result Vector Widening</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::WidenVectorResult(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> ResNo) {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Widen node result &quot;</span> &lt;&lt; ResNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">// See if the target wants to custom widen this node.</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">if</span> (CustomWidenLowerNode(N, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(ResNo)))</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;WidenVectorResult #&quot;</span> &lt;&lt; ResNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Do not know how to widen the result of this operator!&quot;</span>);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">ISD::MERGE_VALUES</a>:      Res = WidenVecRes_MERGE_VALUES(N, ResNo); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:           Res = WidenVecRes_BITCAST(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>:      Res = WidenVecRes_BUILD_VECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>:    Res = WidenVecRes_CONCAT_VECTORS(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2">ISD::CONVERT_RNDSAT</a>:    Res = WidenVecRes_CONVERT_RNDSAT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>: Res = WidenVecRes_EXTRACT_SUBVECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">ISD::FP_ROUND_INREG</a>:    Res = WidenVecRes_InregOp(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>: Res = WidenVecRes_INSERT_VECTOR_ELT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>:              Res = WidenVecRes_LOAD(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>:  Res = WidenVecRes_SCALAR_TO_VECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">ISD::SIGN_EXTEND_INREG</a>: Res = WidenVecRes_InregOp(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">ISD::VSELECT</a>:</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">ISD::SELECT</a>:            Res = WidenVecRes_SELECT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>:         Res = WidenVecRes_SELECT_CC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:             Res = WidenVecRes_SETCC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>:             Res = WidenVecRes_UNDEF(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">ISD::VECTOR_SHUFFLE</a>:</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    Res = WidenVecRes_VECTOR_SHUFFLE(cast&lt;ShuffleVectorSDNode&gt;(N));</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>:</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">ISD::AND</a>:</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">ISD::BSWAP</a>:</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">ISD::MUL</a>:</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">ISD::MULHS</a>:</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">ISD::MULHU</a>:</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>:</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">ISD::XOR</a>:</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    Res = WidenVecRes_Binary(N);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">ISD::FADD</a>:</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">ISD::FCOPYSIGN</a>:</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">ISD::FMUL</a>:</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">ISD::FPOW</a>:</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">ISD::FSUB</a>:</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">ISD::FDIV</a>:</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">ISD::FREM</a>:</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">ISD::SDIV</a>:</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">ISD::UDIV</a>:</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">ISD::SREM</a>:</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">ISD::UREM</a>:</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    Res = WidenVecRes_BinaryCanTrap(N);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">ISD::FPOWI</a>:</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    Res = WidenVecRes_POWI(N);</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">ISD::SHL</a>:</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">ISD::SRA</a>:</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">ISD::SRL</a>:</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    Res = WidenVecRes_Shift(N);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">ISD::FP_ROUND</a>:</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    Res = WidenVecRes_Convert(N);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">ISD::CTLZ</a>:</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">ISD::CTPOP</a>:</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">ISD::CTTZ</a>:</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">ISD::FABS</a>:</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">ISD::FCEIL</a>:</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">ISD::FCOS</a>:</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">ISD::FEXP</a>:</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">ISD::FEXP2</a>:</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">ISD::FFLOOR</a>:</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">ISD::FLOG</a>:</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">ISD::FLOG10</a>:</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">ISD::FLOG2</a>:</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">ISD::FNEARBYINT</a>:</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">ISD::FNEG</a>:</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">ISD::FRINT</a>:</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">ISD::FROUND</a>:</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">ISD::FSIN</a>:</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">ISD::FSQRT</a>:</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">ISD::FTRUNC</a>:</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    Res = WidenVecRes_Unary(N);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">ISD::FMA</a>:</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    Res = WidenVecRes_Ternary(N);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="comment">// If Res is null, the sub-method took care of registering the result.</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">if</span> (Res.<a class="code" href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">getNode</a>())</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    SetWidenedVector(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, ResNo), Res);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;}</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_Ternary(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// Ternary op widening.</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp3 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, WidenVT, InOp1, InOp2, InOp3);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_Binary(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">// Binary op widening.</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, WidenVT, InOp1, InOp2);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;}</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_BinaryCanTrap(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="comment">// Binary op widening for operations that can trap.</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>();</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenEltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = WidenVT;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordtype">unsigned</span> NumElts =  VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">while</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(VT) &amp;&amp; NumElts != 1) {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    NumElts = NumElts / 2;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    VT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), WidenEltVT, NumElts);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  }</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="keywordflow">if</span> (NumElts != 1 &amp;&amp; !TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a877509d30dce736625e19e3821c8ad08">canOpTrap</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), VT)) {</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="comment">// Operation doesn&#39;t trap so just widen as normal.</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), dl, WidenVT, InOp1, InOp2);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="comment">// No legal vector version so unroll the vector operation and then widen.</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordflow">if</span> (NumElts == 1)</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">UnrollVectorOp</a>(N, WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="comment">// Since the operation can trap, apply operation on the original vector.</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> MaxVT = VT;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordtype">unsigned</span> CurNumElts = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> ConcatOps(CurNumElts);</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordtype">unsigned</span> ConcatEnd = 0;  <span class="comment">// Current ConcatOps index.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordtype">int</span> Idx = 0;        <span class="comment">// Current Idx into input vectors.</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">// NumElts := greatest legal vector size (at most WidenVT)</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// while (orig. vector has unhandled elements) {</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="comment">//   take munches of size NumElts from the beginning and add to ConcatOps</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="comment">//   NumElts := next smaller supported vector size or 1</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="comment">// }</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">while</span> (CurNumElts != 0) {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">while</span> (CurNumElts &gt;= NumElts) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, VT, InOp1,</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, VT, InOp2,</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      ConcatOps[ConcatEnd++] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, dl, VT, EOp1, EOp2);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      Idx += NumElts;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      CurNumElts -= NumElts;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;      NumElts = NumElts / 2;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      VT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), WidenEltVT, NumElts);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    } <span class="keywordflow">while</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(VT) &amp;&amp; NumElts != 1);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (NumElts == 1) {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != CurNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++Idx) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp1 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, WidenEltVT,</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                                   InOp1, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx,</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                                                         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp2 = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, WidenEltVT,</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                                   InOp2, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx,</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                                                         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        ConcatOps[ConcatEnd++] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, dl, WidenEltVT,</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                             EOp1, EOp2);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      CurNumElts = 0;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  }</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">// Check to see if we have a single operation with the widen type.</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">if</span> (ConcatEnd == 1) {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    VT = ConcatOps[0].getValueType();</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span> (VT == WidenVT)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      <span class="keywordflow">return</span> ConcatOps[0];</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// while (Some element of ConcatOps is not of type MaxVT) {</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">//   From the end of ConcatOps, collect elements of the same type and put</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">//   them into an op of the next larger supported type</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="comment">// }</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordflow">while</span> (ConcatOps[ConcatEnd-1].getValueType() != MaxVT) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    Idx = ConcatEnd - 1;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    VT = ConcatOps[Idx--].getValueType();</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">while</span> (Idx &gt;= 0 &amp;&amp; ConcatOps[Idx].getValueType() == VT)</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      Idx--;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordtype">int</span> NextSize = VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() ? VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() : 1;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NextVT;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      NextSize *= 2;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      NextVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), WidenEltVT, NextSize);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    } <span class="keywordflow">while</span> (!TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(NextVT));</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordflow">if</span> (!VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <span class="comment">// Scalar type, create an INSERT_VECTOR_ELEMENT of type NextVT</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(NextVT);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      <span class="keywordtype">unsigned</span> NumToInsert = ConcatEnd - Idx - 1;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, OpIdx = Idx+1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumToInsert; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++, OpIdx++) {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, dl, NextVT, VecOp,</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                            ConcatOps[OpIdx], DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                                                         TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      }</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      ConcatOps[Idx+1] = VecOp;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      ConcatEnd = Idx + 2;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      <span class="comment">// Vector type, create a CONCAT_VECTORS of type NextVT</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> undefVec = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(VT);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <span class="keywordtype">unsigned</span> OpsToConcat = NextSize/VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> SubConcatOps(OpsToConcat);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keywordtype">unsigned</span> RealVals = ConcatEnd - Idx - 1;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keywordtype">unsigned</span> SubConcatEnd = 0;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <span class="keywordtype">unsigned</span> SubConcatIdx = Idx + 1;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">while</span> (SubConcatEnd &lt; RealVals)</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        SubConcatOps[SubConcatEnd++] = ConcatOps[++Idx];</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <span class="keywordflow">while</span> (SubConcatEnd &lt; OpsToConcat)</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        SubConcatOps[SubConcatEnd++] = undefVec;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      ConcatOps[SubConcatIdx] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl,</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                                            NextVT, &amp;SubConcatOps[0],</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                                            OpsToConcat);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      ConcatEnd = SubConcatIdx + 1;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  }</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="comment">// Check to see if we have a single operation with the widen type.</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">if</span> (ConcatEnd == 1) {</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    VT = ConcatOps[0].getValueType();</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (VT == WidenVT)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="keywordflow">return</span> ConcatOps[0];</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="comment">// add undefs of size MaxVT until ConcatOps grows to length of WidenVT</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>()/MaxVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordflow">if</span> (NumOps != ConcatEnd ) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(MaxVT);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = ConcatEnd; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; NumOps; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      ConcatOps[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>] = UndefVal;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  }</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, WidenVT, &amp;ConcatOps[0], NumOps);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_Convert(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> DL(N);</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InEltVT = InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InWidenVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InEltVT, WidenNumElts);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>();</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordtype">unsigned</span> InVTNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    InVTNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span> (InVTNumElts == WidenNumElts) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() == 1)</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InOp);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InOp, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    }</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  }</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(InWidenVT)) {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="comment">// Because the result and the input are different vector types, widening</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">// the result could create a legal type but widening the input might make</span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="comment">// it an illegal type that might lead to repeatedly splitting the input</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">// and then widening it. To avoid this, we widen the input only if</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// it results in a legal type.</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">if</span> (WidenNumElts % InVTNumElts == 0) {</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      <span class="comment">// Widen the input and call convert on the widened input vector.</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="keywordtype">unsigned</span> NumConcat = WidenNumElts/InVTNumElts;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumConcat);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      Ops[0] = InOp;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(InVT);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumConcat; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = UndefVal;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InVec = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, DL, InWidenVT,</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                                  &amp;Ops[0], NumConcat);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() == 1)</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InVec);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InVec, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    }</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">if</span> (InVTNumElts % WidenNumElts == 0) {</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, DL, InWidenVT,</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                                  InOp, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0,</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                                                        TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="comment">// Extract the input and convert the shorten input vector.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() == 1)</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InVal);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, WidenVT, InVal, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    }</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// Otherwise unroll into some nasty scalar code and rebuild the vector.</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordtype">unsigned</span> MinElts = std::min(InVTNumElts, WidenNumElts);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">for</span> (i=0; i &lt; MinElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Val = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, DL, InEltVT, InOp,</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(i, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>() == 1)</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      Ops[i] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, EltVT, Val);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, DL, EltVT, Val, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">for</span> (; i &lt; WidenNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    Ops[i] = UndefVal;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, DL, WidenVT, &amp;Ops[0], WidenNumElts);</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_POWI(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), WidenVT, InOp, ShOp);</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;}</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_Shift(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ShOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShVT = ShOp.getValueType();</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(ShVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>) {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    ShOp = GetWidenedVector(ShOp);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    ShVT = ShOp.getValueType();</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  }</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ShWidenVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                                   ShVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                                   WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="keywordflow">if</span> (ShVT != ShWidenVT)</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    ShOp = ModifyToType(ShOp, ShWidenVT);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), WidenVT, InOp, ShOp);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_Unary(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="comment">// Unary op widening.</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), WidenVT, InOp);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;}</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_InregOp(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ExtVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                               cast&lt;VTSDNode&gt;(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getVT()</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                                 .getVectorElementType(),</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                               WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> WidenLHS = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                     WidenVT, WidenLHS, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(ExtVT));</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;}</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_MERGE_VALUES(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> ResNo) {</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> WidenVec = DisintegrateMERGE_VALUES(N, ResNo);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keywordflow">return</span> GetWidenedVector(WidenVec);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;}</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">switch</span> (getTypeAction(InVT)) {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193af54ec6880362512f9fec982cd4ce39fb">TargetLowering::TypeLegal</a>:</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a26f35604723482a1aee6514940c2987d">TargetLowering::TypePromoteInteger</a>:</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">// If the incoming type is a vector that is being promoted, then</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="comment">// we know that the elements are arranged differently and that we</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="comment">// must perform the conversion using a stack slot.</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">if</span> (InVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="comment">// If the InOp is promoted to the same size, convert it.  Otherwise,</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="comment">// fall out of the switch and widen the promoted input.</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    InOp = GetPromotedInteger(InOp);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">if</span> (WidenVT.<a class="code" href="structllvm_1_1EVT.html#ab8f0e414facbed711a9754687bdcd23f">bitsEq</a>(InVT))</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, WidenVT, InOp);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a2f11b8376488870063cf0c3036fb9577">TargetLowering::TypeSoftenFloat</a>:</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5c111d159cec321b85802cb1baba7f12">TargetLowering::TypeExpandInteger</a>:</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a43bc669b0f21542131c6623548c567e3">TargetLowering::TypeExpandFloat</a>:</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193aba2534b602f98a2952464c3682a39dbc">TargetLowering::TypeScalarizeVector</a>:</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a40cd81ebfaf97cef327ad65d37b816da">TargetLowering::TypeSplitVector</a>:</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>:</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// If the InOp is widened to the same size, convert it.  Otherwise, fall</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// out of the switch and widen the widened input.</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">if</span> (WidenVT.<a class="code" href="structllvm_1_1EVT.html#ab8f0e414facbed711a9754687bdcd23f">bitsEq</a>(InVT))</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// The input widens to the same size. Convert to the widen value.</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, WidenVT, InOp);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordtype">unsigned</span> WidenSize = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordtype">unsigned</span> InSize = InVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="comment">// x86mmx is not an acceptable vector element type, so don&#39;t try.</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">if</span> (WidenSize % InSize == 0 &amp;&amp; InVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428">MVT::x86mmx</a>) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="comment">// Determine new input vector type.  The new input vector type will use</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">// the same element type (if its a vector) or use the input type as a</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="comment">// vector.  It is the same size as the type to widen to.</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewInVT;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordtype">unsigned</span> NewNumElts = WidenSize / InSize;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (InVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> InEltVT = InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      NewInVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InEltVT,</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                                 WidenSize / InEltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>());</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      NewInVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InVT, NewNumElts);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(NewInVT)) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <span class="comment">// Because the result and the input are different vector types, widening</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">// the result could create a legal type but widening the input might make</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="comment">// it an illegal type that might lead to repeatedly splitting the input</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="comment">// and then widening it. To avoid this, we widen the input only if</span></div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <span class="comment">// it results in a legal type.</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NewNumElts);</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(InVT);</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      Ops[0] = InOp;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i &lt; NewNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        Ops[i] = UndefVal;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewVec;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordflow">if</span> (InVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        NewVec = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl,</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                             NewInVT, &amp;Ops[0], NewNumElts);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        NewVec = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl,</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                             NewInVT, &amp;Ops[0], NewNumElts);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, WidenVT, NewVec);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordflow">return</span> CreateStackStoreLoad(InOp, WidenVT);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;}</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_BUILD_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="comment">// Build a vector with undefined for the new nodes.</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="comment">// Integer BUILD_VECTOR operands may be larger than the node&#39;s vector element</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="comment">// type. The UNDEFs need to have the same type as the existing operands.</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> NewOps(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">op_begin</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">op_end</a>());</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  assert(WidenNumElts &gt;= NumElts &amp;&amp; <span class="stringliteral">&quot;Shrinking vector instead of widening!&quot;</span>);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  NewOps.append(WidenNumElts - NumElts, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT));</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, WidenVT, &amp;NewOps[0], NewOps.size());</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_CONCAT_VECTORS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordtype">unsigned</span> NumInElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordtype">unsigned</span> NumOperands = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>();</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="keywordtype">bool</span> InputWidened = <span class="keyword">false</span>; <span class="comment">// Indicates we need to widen the input.</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InVT) != <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">if</span> (WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() % InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() == 0) {</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <span class="comment">// Add undef vectors to widen to correct length.</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      <span class="keywordtype">unsigned</span> NumConcat = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>() /</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                           InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(InVT);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumConcat);</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i &lt; NumOperands; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        Ops[i] = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(i);</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = NumOperands; i != NumConcat; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        Ops[i] = UndefVal;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, WidenVT, &amp;Ops[0], NumConcat);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    }</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    InputWidened = <span class="keyword">true</span>;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">if</span> (WidenVT == TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InVT)) {</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="comment">// The inputs and the result are widen to the same value.</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <span class="keywordflow">for</span> (i=1; i &lt; NumOperands; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(i).<a class="code" href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">getOpcode</a>() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">ISD::UNDEF</a>)</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      <span class="keywordflow">if</span> (i == NumOperands)</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="comment">// Everything but the first operand is an UNDEF so just return the</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="comment">// widened first operand.</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <span class="keywordflow">return</span> GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <span class="keywordflow">if</span> (NumOperands == 2) {</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="comment">// Replace concat of two operands with a shuffle.</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> MaskOps(WidenNumElts, -1);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; NumInElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;          MaskOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          MaskOps[i + NumInElts] = i + WidenNumElts;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        }</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(WidenVT, dl,</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                                    GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0)),</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                                    GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)),</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                                    &amp;MaskOps[0]);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      }</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    }</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  }</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="comment">// Fall back to use extracts and build vector.</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i &lt; NumOperands; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(i);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keywordflow">if</span> (InputWidened)</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>=0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; NumInElts; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      Ops[Idx++] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, EltVT, InOp,</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  }</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; WidenNumElts; ++Idx)</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    Ops[Idx] = UndefVal;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, WidenVT, &amp;Ops[0], WidenNumElts);</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;}</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_CONVERT_RNDSAT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp  = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> RndOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> SatOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InEltVT = InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InWidenVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InEltVT, WidenNumElts);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DTyOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(WidenVT);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> STyOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(InWidenVT);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#a51520544b9467b0ade87e3a54e90cb6c">ISD::CvtCode</a> CvtCode = cast&lt;CvtRndSatSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getCvtCode();</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="keywordtype">unsigned</span> InVTNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>) {</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    InVTNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">if</span> (InVTNumElts == WidenNumElts)</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(WidenVT, dl, InOp, DTyOp, STyOp, RndOp,</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                                  SatOp, CvtCode);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(InWidenVT)) {</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="comment">// Because the result and the input are different vector types, widening</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="comment">// the result could create a legal type but widening the input might make</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="comment">// it an illegal type that might lead to repeatedly splitting the input</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="comment">// and then widening it. To avoid this, we widen the input only if</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="comment">// it results in a legal type.</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">if</span> (WidenNumElts % InVTNumElts == 0) {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="comment">// Widen the input and call convert on the widened input vector.</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keywordtype">unsigned</span> NumConcat = WidenNumElts/InVTNumElts;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumConcat);</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      Ops[0] = InOp;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(InVT);</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i != NumConcat; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        Ops[i] = UndefVal;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      InOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, InWidenVT, &amp;Ops[0],NumConcat);</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(WidenVT, dl, InOp, DTyOp, STyOp, RndOp,</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                                  SatOp, CvtCode);</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">if</span> (InVTNumElts % WidenNumElts == 0) {</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="comment">// Extract the input and convert the shorten input vector.</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      InOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, InWidenVT, InOp,</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(WidenVT, dl, InOp, DTyOp, STyOp, RndOp,</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                                  SatOp, CvtCode);</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    }</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  }</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// Otherwise unroll into some nasty scalar code and rebuild the vector.</span></div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  DTyOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(EltVT);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  STyOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">getValueType</a>(InEltVT);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordtype">unsigned</span> MinElts = std::min(InVTNumElts, WidenNumElts);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">for</span> (i=0; i &lt; MinElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ExtVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, InEltVT, InOp,</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                                 DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(i, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">getConvertRndSat</a>(WidenVT, dl, ExtVal, DTyOp, STyOp, RndOp,</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                                  SatOp, CvtCode);</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordflow">for</span> (; i &lt; WidenNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    Ops[i] = UndefVal;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, WidenVT, &amp;Ops[0], WidenNumElts);</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;}</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_EXTRACT_SUBVECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a>      VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a>      WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  Idx  = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>)</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="comment">// Check if we can just return the input vector after widening.</span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  uint64_t IdxVal = cast&lt;ConstantSDNode&gt;(Idx)-&gt;getZExtValue();</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (IdxVal == 0 &amp;&amp; InVT == WidenVT)</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">return</span> InOp;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="comment">// Check if we can extract from the vector.</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordtype">unsigned</span> InNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordflow">if</span> (IdxVal % WidenNumElts == 0 &amp;&amp; IdxVal + WidenNumElts &lt; InNumElts)</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, WidenVT, InOp, Idx);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="comment">// We could try widening the input to the right length but for now, extract</span></div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">// the original elements, fill the rest with undefs and build a vector.</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">for</span> (i=0; i &lt; NumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    Ops[i] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, EltVT, InOp,</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(IdxVal+i, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">for</span> (; i &lt; WidenNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    Ops[i] = UndefVal;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, WidenVT, &amp;Ops[0], WidenNumElts);</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_INSERT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                     InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), InOp,</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;}</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_LOAD(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *LD = cast&lt;LoadSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">ISD::LoadExtType</a> ExtType = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#af15fb8b2d4c9f295bdcf85a1eb506702">getExtensionType</a>();</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Result;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> LdChain;  <span class="comment">// Chain for the series of load</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">if</span> (ExtType != <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>)</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    Result = GenWidenVectorExtLoads(LdChain, LD, ExtType);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    Result = GenWidenVectorLoads(LdChain, LD);</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="comment">// If we generate a single load, we can use that for the chain.  Otherwise,</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="comment">// build a factor node to remember the multiple loads are independent and</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="comment">// chain to that.</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewChain;</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">if</span> (LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1)</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    NewChain = LdChain[0];</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    NewChain = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(LD), <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                           &amp;LdChain[0], LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="comment">// Modified the chain - switch anything that used the old chain to use</span></div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="comment">// the new one.</span></div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 1), NewChain);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;}</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_SCALAR_TO_VECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                     WidenVT, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;}</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_SELECT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Cond1 = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CondVT = Cond1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="keywordflow">if</span> (CondVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> CondEltVT = CondVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> CondWidenVT =  <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                        CondEltVT, WidenNumElts);</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">if</span> (getTypeAction(CondVT) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>)</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      Cond1 = GetWidenedVector(Cond1);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (Cond1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() != CondWidenVT)</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      Cond1 = ModifyToType(Cond1, CondWidenVT);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  }</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  assert(InOp1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == WidenVT &amp;&amp; InOp2.getValueType() == WidenVT);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>(), <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                     WidenVT, Cond1, InOp1, InOp2);</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;}</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_SELECT_CC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3));</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">ISD::SELECT_CC</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                     InOp1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0),</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1), InOp1, InOp2, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4));</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;}</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_SETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() ==</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;         <span class="stringliteral">&quot;Scalar/Vector type mismatch&quot;</span>);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="keywordflow">if</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) <span class="keywordflow">return</span> WidenVecRes_VSETCC(N);</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N), WidenVT,</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                     InOp1, InOp2, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;}</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_UNDEF(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(WidenVT);</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;}</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_VECTOR_SHUFFLE(<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html">ShuffleVectorSDNode</a> *N) {</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="comment">// Adjust mask based on new input vector length.</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;int, 16&gt;</a> NewMask;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i != NumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordtype">int</span> Idx = N-&gt;<a class="code" href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">getMaskElt</a>(i);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span> (Idx &lt; (<span class="keywordtype">int</span>)NumElts)</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      NewMask.push_back(Idx);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      NewMask.push_back(Idx - NumElts + WidenNumElts);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  }</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = NumElts; i != WidenNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    NewMask.push_back(-1);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">getVectorShuffle</a>(WidenVT, dl, InOp1, InOp2, &amp;NewMask[0]);</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecRes_VSETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  assert(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;         N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;         <span class="stringliteral">&quot;Operands must be vectors&quot;</span>);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp1.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  assert(InVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; <span class="stringliteral">&quot;can not widen non vector type&quot;</span>);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenInVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                   InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(), WidenNumElts);</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  InOp1 = GetWidenedVector(InOp1);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp2 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="comment">// Assume that the input and output will be widen appropriately.  If not,</span></div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="comment">// we will have to unroll it at some point.</span></div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  assert(InOp1.getValueType() == WidenInVT &amp;&amp;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;         InOp2.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>() == WidenInVT &amp;&amp;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;         <span class="stringliteral">&quot;Input not widened to expected type!&quot;</span>);</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  (void)WidenInVT;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                     WidenVT, InOp1, InOp2, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;}</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="comment">// Widen Vector Operand</span></div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="keywordtype">bool</span> DAGTypeLegalizer::WidenVectorOperand(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N, <span class="keywordtype">unsigned</span> OpNo) {</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Widen node operand &quot;</span> &lt;&lt; OpNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Res = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>();</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="comment">// See if the target wants to custom widen this node.</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keywordflow">if</span> (CustomLowerNode(N, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(OpNo).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), <span class="keyword">false</span>))</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordflow">switch</span> (N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>()) {</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;WidenVectorOperand op #&quot;</span> &lt;&lt; OpNo &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">dump</a>(&amp;DAG);</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Do not know how to widen this operator&#39;s operand!&quot;</span>);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>:            Res = WidenVecOp_BITCAST(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>:     Res = WidenVecOp_CONCAT_VECTORS(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>:  Res = WidenVecOp_EXTRACT_SUBVECTOR(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>: Res = WidenVecOp_EXTRACT_VECTOR_ELT(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>:              Res = WidenVecOp_STORE(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>:              Res = WidenVecOp_SETCC(N); <span class="keywordflow">break</span>;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">ISD::FP_EXTEND</a>:</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">ISD::FP_TO_SINT</a>:</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">ISD::FP_TO_UINT</a>:</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">ISD::SINT_TO_FP</a>:</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">ISD::UINT_TO_FP</a>:</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">ISD::TRUNCATE</a>:</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">ISD::SIGN_EXTEND</a>:</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">ISD::ZERO_EXTEND</a>:</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">ISD::ANY_EXTEND</a>:</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    Res = WidenVecOp_Convert(N);</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  }</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="comment">// If Res is null, the sub-method took care of registering the result.</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordflow">if</span> (!Res.getNode()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="comment">// If the result is N, the sub-method updated N in place.  Tell the legalizer</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="comment">// core about this.</span></div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">if</span> (Res.getNode() == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  assert(Res.getValueType() == N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0) &amp;&amp; N-&gt;<a class="code" href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">getNumValues</a>() == 1 &amp;&amp;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;         <span class="stringliteral">&quot;Invalid operand expansion&quot;</span>);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  ReplaceValueWith(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(N, 0), Res);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;}</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_Convert(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="comment">// Since the result is legal and the input is illegal, it is unlikely</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="comment">// that we can fix the input to a legal type so unroll the convert</span></div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="comment">// into some scalar code and create a nasty build vector.</span></div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0);</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">if</span> (getTypeAction(InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>)</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InEltVT = InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">getOpcode</a>();</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumElts);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i &lt; NumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    Ops[i] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(Opcode, dl, EltVT,</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, InEltVT, InOp,</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(i, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>())));</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, VT, &amp;Ops[0], NumElts);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;}</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_BITCAST(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InWidenVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="comment">// Check if we can convert between two legal vector types and extract.</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordtype">unsigned</span> InWidenSize = InWidenVT.getSizeInBits();</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordtype">unsigned</span> Size = VT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="comment">// x86mmx is not an acceptable vector element type, so don&#39;t try.</span></div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">if</span> (InWidenSize % Size == 0 &amp;&amp; !VT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428">MVT::x86mmx</a>) {</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keywordtype">unsigned</span> NewNumElts = InWidenSize / Size;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), VT, NewNumElts);</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(NewVT)) {</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BitOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, NewVT, InOp);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, VT, BitOp,</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                         DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    }</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  }</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordflow">return</span> CreateStackStoreLoad(InOp, VT);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;}</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_CONCAT_VECTORS(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="comment">// If the input vector is not legal, it is likely that we will not find a</span></div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="comment">// legal vector of the same size. Replace the concatenate vector with a</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="comment">// nasty build vector.</span></div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0);</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = VT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = VT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumElts);</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0).<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordtype">unsigned</span> NumInElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  <span class="keywordtype">unsigned</span> NumOperands = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">getNumOperands</a>();</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i &lt; NumOperands; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(i);</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">if</span> (getTypeAction(InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()) == <a class="code" href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">TargetLowering::TypeWidenVector</a>)</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;      InOp = GetWidenedVector(InOp);</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>=0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; NumInElts; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      Ops[Idx++] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, EltVT, InOp,</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                               DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  }</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, VT, &amp;Ops[0], NumElts);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;}</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_EXTRACT_SUBVECTOR(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), InOp, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;}</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_EXTRACT_VECTOR_ELT(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                     N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0), InOp, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;}</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_STORE(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="comment">// We have to widen the value but we want only to store the original</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="comment">// vector type.</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> StChain;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="keywordflow">if</span> (ST-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#a272cb283a679298b7e991db7daf823ed">isTruncatingStore</a>())</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    GenWidenVectorTruncStores(StChain, ST);</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    GenWidenVectorStores(StChain, ST);</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordflow">if</span> (StChain.size() == 1)</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    <span class="keywordflow">return</span> StChain[0];</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">ISD::TokenFactor</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(ST),</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                       <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a>,&amp;StChain[0],StChain.size());</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;}</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::WidenVecOp_SETCC(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *N) {</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp0 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0));</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp1 = GetWidenedVector(N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1));</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(N);</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="comment">// WARNING: In this code we widen the compare instruction with garbage.</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="comment">// This garbage may contain denormal floats which may be slow. Is this a real</span></div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  <span class="comment">// concern ? Should we zero the unused lanes if this is a float compare ?</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="comment">// Get a new SETCC node to compare the newly widened operands.</span></div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="comment">// Only some of the compared elements are legal.</span></div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a6bae2f7f49a5438c150cbd4cbdda11f9">getSetCCResultType</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), InOp0.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>());</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> WideSETCC = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">ISD::SETCC</a>, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(N),</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                     SVT, InOp0, InOp1, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2));</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="comment">// Extract the needed results from the result vector.</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ResVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                               SVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>(),</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                               N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>());</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl,</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                           ResVT, WideSETCC, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0,</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                                             TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordflow">return</span> PromoteTargetBoolean(CC, N-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;}</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="comment">// Vector Widening Utilities</span></div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;<span class="comment">// Utility function to find the type to chop up a widen vector for load/store</span></div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment">//  TLI:       Target lowering used to determine legal types.</span></div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;<span class="comment">//  Width:     Width left need to load/store.</span></div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment">//  WidenVT:   The widen vector type to load to/store from</span></div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">//  Align:     If 0, don&#39;t allow use of a wider type</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment">//  WidenEx:   If Align is not 0, the amount additional we can load/store from.</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"><a class="line" href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6"> 2470</a></span>&#160;<span class="keyword">static</span> <a class="code" href="structllvm_1_1EVT.html">EVT</a> <a class="code" href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6">FindMemType</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a>&amp; DAG, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI,</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                       <span class="keywordtype">unsigned</span> Width, <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT,</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                       <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = 0, <span class="keywordtype">unsigned</span> WidenEx = 0) {</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenEltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="keywordtype">unsigned</span> WidenWidth = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordtype">unsigned</span> WidenEltWidth = WidenEltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="keywordtype">unsigned</span> AlignInBits = <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>*8;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <span class="comment">// If we have one element to load/store, return it.</span></div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> RetVT = WidenEltVT;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keywordflow">if</span> (Width == WidenEltWidth)</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">return</span> RetVT;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="comment">// See if there is larger legal integer than the element type to load/store</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="keywordtype">unsigned</span> VT;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="keywordflow">for</span> (VT = (<span class="keywordtype">unsigned</span>)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca5728436bd6ff6c800a6d96cb7dfa7d01">MVT::LAST_INTEGER_VALUETYPE</a>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;       VT &gt;= (unsigned)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97826d9e1c231c51153ef23ee4e95233">MVT::FIRST_INTEGER_VALUETYPE</a>; --VT) {</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT((<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a>) VT);</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordtype">unsigned</span> MemVTWidth = MemVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordflow">if</span> (MemVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() &lt;= WidenEltWidth)</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(MemVT) &amp;&amp; (WidenWidth % MemVTWidth) == 0 &amp;&amp;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        <a class="code" href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">isPowerOf2_32</a>(WidenWidth / MemVTWidth) &amp;&amp;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        (MemVTWidth &lt;= Width ||</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;         (<a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>!=0 &amp;&amp; MemVTWidth&lt;=AlignInBits &amp;&amp; MemVTWidth&lt;=Width+WidenEx))) {</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      RetVT = MemVT;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    }</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  }</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="comment">// See if there is a larger vector type to load/store that has the same vector</span></div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="comment">// element type and is evenly divisible with the WidenVT.</span></div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordflow">for</span> (VT = (<span class="keywordtype">unsigned</span>)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f">MVT::LAST_VECTOR_VALUETYPE</a>;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;       VT &gt;= (unsigned)<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e">MVT::FIRST_VECTOR_VALUETYPE</a>; --VT) {</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> MemVT = (<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">MVT::SimpleValueType</a>) VT;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="keywordtype">unsigned</span> MemVTWidth = MemVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordflow">if</span> (TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">isTypeLegal</a>(MemVT) &amp;&amp; WidenEltVT == MemVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>() &amp;&amp;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        (WidenWidth % MemVTWidth) == 0 &amp;&amp;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        <a class="code" href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">isPowerOf2_32</a>(WidenWidth / MemVTWidth) &amp;&amp;</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        (MemVTWidth &lt;= Width ||</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;         (<a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>!=0 &amp;&amp; MemVTWidth&lt;=AlignInBits &amp;&amp; MemVTWidth&lt;=Width+WidenEx))) {</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <span class="keywordflow">if</span> (RetVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() &lt; MemVTWidth || MemVT == WidenVT)</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        <span class="keywordflow">return</span> MemVT;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    }</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  }</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <span class="keywordflow">return</span> RetVT;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;}</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;<span class="comment">// Builds a vector type from scalar loads</span></div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;<span class="comment">//  VecTy: Resulting Vector type</span></div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="comment">//  LDOps: Load operators to build a vector type</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">//  [Start,End) the list of loads to use.</span></div><div class="line"><a name="l02523"></a><span class="lineno"><a class="line" href="LegalizeVectorTypes_8cpp.html#a0884e3469837e8ef87a3a989096f0809"> 2523</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="LegalizeVectorTypes_8cpp.html#a0884e3469837e8ef87a3a989096f0809">BuildVectorFromScalar</a>(<a class="code" href="classllvm_1_1SelectionDAG.html">SelectionDAG</a>&amp; DAG, <a class="code" href="structllvm_1_1EVT.html">EVT</a> VecTy,</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;LdOps,</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                                     <span class="keywordtype">unsigned</span> Start, <span class="keywordtype">unsigned</span> End) {</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">getTargetLoweringInfo</a>();</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(LdOps[Start]);</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LdTy = LdOps[Start].getValueType();</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordtype">unsigned</span> Width = VecTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = Width / LdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVecVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), LdTy, NumElts);</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 1;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, dl, NewVecVT,LdOps[Start]);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = Start + 1; i != End; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewLdTy = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValueType();</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="keywordflow">if</span> (NewLdTy != LdTy) {</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      NumElts = Width / NewLdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      NewVecVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), NewLdTy, NumElts);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, NewVecVT, VecOp);</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <span class="comment">// Readjust position and vector position based on new load type</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      Idx = Idx * LdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() / NewLdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      LdTy = NewLdTy;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    }</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">ISD::INSERT_VECTOR_ELT</a>, dl, NewVecVT, VecOp, LdOps[i],</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                        DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx++, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  }</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, VecTy, VecOp);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;}</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::GenWidenVectorLoads(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;LdChain,</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;                                              <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *LD) {</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">// The strategy assumes that we can efficiently load powers of two widths.</span></div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="comment">// The routines chops the vector into the largest vector loads with the same</span></div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="comment">// element type or scalar loads and then recombines it to the widen vector</span></div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// type.</span></div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),LD-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keywordtype">unsigned</span> WidenWidth = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LdVT    = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(LD);</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  assert(LdVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; WidenVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>());</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  assert(LdVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>() == WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>());</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="comment">// Load information</span></div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>   Chain = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>   BasePtr = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>();</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordtype">unsigned</span>  <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>    = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>();</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <span class="keywordtype">bool</span>      isVolatile = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="keywordtype">bool</span>      isNonTemporal = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="keywordtype">bool</span>      isInvariant = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">isInvariant</a>();</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keywordtype">int</span> LdWidth = LdVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keywordtype">int</span> WidthDiff = WidenWidth - LdWidth;          <span class="comment">// Difference</span></div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="keywordtype">unsigned</span> LdAlign = (isVolatile) ? 0 : Align; <span class="comment">// Allow wider loads</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="comment">// Find the vector type that can load from.</span></div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = <a class="code" href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6">FindMemType</a>(DAG, TLI, LdWidth, WidenVT, LdAlign, WidthDiff);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordtype">int</span> NewVTWidth = NewVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> LdOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(NewVT, dl, Chain, BasePtr, LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;                             isVolatile, isNonTemporal, isInvariant, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>,</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                             TBAAInfo);</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LdOp.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="comment">// Check if we can load the element with one instruction</span></div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">if</span> (LdWidth &lt;= NewVTWidth) {</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="keywordflow">if</span> (!NewVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = WidenWidth / NewVTWidth;</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVecVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), NewVT, NumElts);</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">ISD::SCALAR_TO_VECTOR</a>, dl, NewVecVT, LdOp);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, WidenVT, VecOp);</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    }</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">if</span> (NewVT == WidenVT)</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <span class="keywordflow">return</span> LdOp;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    assert(WidenWidth % NewVTWidth == 0);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordtype">unsigned</span> NumConcat = WidenWidth / NewVTWidth;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> ConcatOps(NumConcat);</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(NewVT);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    ConcatOps[0] = LdOp;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i != NumConcat; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      ConcatOps[i] = UndefVal;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, WidenVT, &amp;ConcatOps[0],</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                       NumConcat);</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  }</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="comment">// Load vector by using multiple loads from largest vector to scalar</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> LdOps;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  LdOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LdOp);</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  LdWidth -= NewVTWidth;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordtype">unsigned</span> Offset = 0;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keywordflow">while</span> (LdWidth &gt; 0) {</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordtype">unsigned</span> Increment = NewVTWidth / 8;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    Offset += Increment;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    BasePtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), BasePtr,</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                          DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Increment, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> L;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="keywordflow">if</span> (LdWidth &lt; NewVTWidth) {</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      <span class="comment">// Our current type we are using is too large, find a better size</span></div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;      NewVT = <a class="code" href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6">FindMemType</a>(DAG, TLI, LdWidth, WidenVT, LdAlign, WidthDiff);</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      NewVTWidth = NewVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      L = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(NewVT, dl, Chain, BasePtr,</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;                      LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset), isVolatile,</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                      isNonTemporal, isInvariant, <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Align, Increment),</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                      TBAAInfo);</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(L.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0).<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Loads;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        Loads.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(L);</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a> = L-&gt;<a class="code" href="classllvm_1_1SDNode.html#a3e579897b3fc3d645d0eea2f3442cfa2">getValueSizeInBits</a>(0);</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        <span class="keywordflow">while</span> (size &lt; LdOp-&gt;getValueSizeInBits(0)) {</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;          Loads.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(L-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0)));</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;          size += L-&gt;<a class="code" href="classllvm_1_1SDNode.html#a3e579897b3fc3d645d0eea2f3442cfa2">getValueSizeInBits</a>(0);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        }</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        L = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, LdOp-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0),</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                        &amp;Loads[0], Loads.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;      }</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      L = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">getLoad</a>(NewVT, dl, Chain, BasePtr,</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                      LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset), isVolatile,</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;                      isNonTemporal, isInvariant, <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Align, Increment),</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                      TBAAInfo);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(L.<a class="code" href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">getValue</a>(1));</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    }</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    LdOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(L);</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    LdWidth -= NewVTWidth;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  }</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="comment">// Build the vector from the loads operations</span></div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordtype">unsigned</span> End = LdOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="keywordflow">if</span> (!LdOps[0].getValueType().isVector())</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="comment">// All the loads are scalar loads.</span></div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="LegalizeVectorTypes_8cpp.html#a0884e3469837e8ef87a3a989096f0809">BuildVectorFromScalar</a>(DAG, WidenVT, LdOps, 0, End);</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="comment">// If the load contains vectors, build the vector using concat vector.</span></div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="comment">// All of the vectors used to loads are power of 2 and the scalars load</span></div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  <span class="comment">// can be combined to make a power of 2 vector.</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> ConcatOps(End);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  <span class="keywordtype">int</span> i = End - 1;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  <span class="keywordtype">int</span> Idx = End;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LdTy = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValueType();</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="comment">// First combine the scalar loads to a vector</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="keywordflow">if</span> (!LdTy.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())  {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="keywordflow">for</span> (--i; i &gt;= 0; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      LdTy = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValueType();</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      <span class="keywordflow">if</span> (LdTy.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>())</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    }</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    ConcatOps[--Idx] = <a class="code" href="LegalizeVectorTypes_8cpp.html#a0884e3469837e8ef87a3a989096f0809">BuildVectorFromScalar</a>(DAG, LdTy, LdOps, i+1, End);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  }</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  ConcatOps[--Idx] = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="keywordflow">for</span> (--i; i &gt;= 0; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewLdTy = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getValueType();</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">if</span> (NewLdTy != LdTy) {</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="comment">// Create a larger vector</span></div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;      ConcatOps[End-1] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, NewLdTy,</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;                                     &amp;ConcatOps[Idx], End - Idx);</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      Idx = End - 1;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      LdTy = NewLdTy;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    }</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    ConcatOps[--Idx] = LdOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  }</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">if</span> (WidenWidth == LdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>()*(End - Idx))</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, WidenVT,</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                       &amp;ConcatOps[Idx], End - Idx);</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  <span class="comment">// We need to fill the rest with undefs to build the vector</span></div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = WidenWidth / LdTy.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> WidenOps(NumOps);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(LdTy);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  {</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordtype">unsigned</span> i = 0;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">for</span> (; i != End-Idx; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      WidenOps[i] = ConcatOps[Idx+i];</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">for</span> (; i != NumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      WidenOps[i] = UndefVal;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  }</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, WidenVT, &amp;WidenOps[0],NumOps);</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;}</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<a class="code" href="classllvm_1_1SDValue.html">SDValue</a></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;DAGTypeLegalizer::GenWidenVectorExtLoads(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;LdChain,</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;                                         <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *LD,</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                                         <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">ISD::LoadExtType</a> ExtType) {</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="comment">// For extension loads, it may not be more efficient to chop up the vector</span></div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="comment">// and then extended it.  Instead, we unroll the load and build a new vector.</span></div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> WidenVT = TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">getTypeToTransformTo</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(),LD-&gt;<a class="code" href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">getValueType</a>(0));</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LdVT    = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(LD);</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  assert(LdVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; WidenVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>());</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  <span class="comment">// Load information</span></div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>   Chain = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>   BasePtr = LD-&gt;<a class="code" href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">getBasePtr</a>();</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;  <span class="keywordtype">unsigned</span>  <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>    = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>();</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="keywordtype">bool</span>      isVolatile = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  <span class="keywordtype">bool</span>      isNonTemporal = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> LdEltVT = LdVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = LdVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="comment">// Load each element and widen</span></div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = WidenVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <span class="keywordtype">unsigned</span> Increment = LdEltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() / 8;</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  Ops[0] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(ExtType, dl, EltVT, Chain, BasePtr,</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                          LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(),</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                          LdEltVT, isVolatile, isNonTemporal, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>, TBAAInfo);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Ops[0].getValue(1));</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="keywordtype">unsigned</span> i = 0, Offset = Increment;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="keywordflow">for</span> (i=1; i &lt; NumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Offset += Increment) {</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewBasePtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                                     BasePtr,</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                                     DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Offset,</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                                                     BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">getExtLoad</a>(ExtType, dl, EltVT, Chain, NewBasePtr,</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                            LD-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset), LdEltVT,</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;                            isVolatile, isNonTemporal, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>, TBAAInfo);</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    LdChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Ops[i].getValue(1));</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  }</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <span class="comment">// Fill the rest with undefs</span></div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <span class="keywordflow">for</span> (; i != WidenNumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    Ops[i] = UndefVal;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, WidenVT, &amp;Ops[0], Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;}</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="keywordtype">void</span> DAGTypeLegalizer::GenWidenVectorStores(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;StChain,</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                                            <a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *ST) {</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="comment">// The strategy assumes that we can efficiently store powers of two widths.</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="comment">// The routines chops the vector into the largest vector stores with the same</span></div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="comment">// element type or scalar stores.</span></div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  Chain = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  BasePtr = ST-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">getBasePtr</a>();</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>();</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="keywordtype">bool</span>     isVolatile = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordtype">bool</span>     isNonTemporal = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  ValOp = GetWidenedVector(ST-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#a7f9820a84907a5aa530d4dc36f841c76">getValue</a>());</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(ST);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> StVT = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordtype">unsigned</span> StWidth = StVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ValVT = ValOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="keywordtype">unsigned</span> ValWidth = ValVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ValEltVT = ValVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keywordtype">unsigned</span> ValEltWidth = ValEltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  assert(StVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>() == ValEltVT);</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  <span class="keywordtype">int</span> Idx = 0;          <span class="comment">// current index to store</span></div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="keywordtype">unsigned</span> Offset = 0;  <span class="comment">// offset from base to store</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="keywordflow">while</span> (StWidth != 0) {</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="comment">// Find the largest vector type we can store with</span></div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVT = <a class="code" href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6">FindMemType</a>(DAG, TLI, StWidth, ValVT);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="keywordtype">unsigned</span> NewVTWidth = NewVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>();</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <span class="keywordtype">unsigned</span> Increment = NewVTWidth / 8;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="keywordflow">if</span> (NewVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>()) {</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;      <span class="keywordtype">unsigned</span> NumVTElts = NewVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, NewVT, ValOp,</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                                   DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        StChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, EOp, BasePtr,</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                                    ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset),</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                                       isVolatile, isNonTemporal,</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                                       <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Align, Offset), TBAAInfo));</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        StWidth -= NewVTWidth;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        Offset += Increment;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        Idx += NumVTElts;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        BasePtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), BasePtr,</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                              DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Increment, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;      } <span class="keywordflow">while</span> (StWidth != 0 &amp;&amp; StWidth &gt;= NewVTWidth);</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;      <span class="comment">// Cast the vector to the scalar type we can store</span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;      <span class="keywordtype">unsigned</span> NumElts = ValWidth / NewVTWidth;</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;      <a class="code" href="structllvm_1_1EVT.html">EVT</a> NewVecVT = <a class="code" href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">EVT::getVectorVT</a>(*DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">getContext</a>(), NewVT, NumElts);</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> VecOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">ISD::BITCAST</a>, dl, NewVecVT, ValOp);</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <span class="comment">// Readjust index position based on new vector type</span></div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      Idx = Idx * ValEltWidth / NewVTWidth;</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, NewVT, VecOp,</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                      DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx++, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        StChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">getStore</a>(Chain, dl, EOp, BasePtr,</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                                    ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset),</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                                       isVolatile, isNonTemporal,</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                                       <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Align, Offset), TBAAInfo));</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;        StWidth -= NewVTWidth;</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        Offset += Increment;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;        BasePtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(), BasePtr,</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Increment, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      } <span class="keywordflow">while</span> (StWidth != 0 &amp;&amp; StWidth &gt;= NewVTWidth);</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;      <span class="comment">// Restore index back to be relative to the original widen element type</span></div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      Idx = Idx * NewVTWidth / ValEltWidth;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    }</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  }</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;}</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;DAGTypeLegalizer::GenWidenVectorTruncStores(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SDValue&gt;</a> &amp;StChain,</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                                            <a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *ST) {</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <span class="comment">// For extension loads, it may not be more efficient to truncate the vector</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;  <span class="comment">// and then store it.  Instead, we extract each element and then store it.</span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  Chain = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">getChain</a>();</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  BasePtr = ST-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">getBasePtr</a>();</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">getAlignment</a>();</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordtype">bool</span>     isVolatile = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">isVolatile</a>();</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="keywordtype">bool</span>     isNonTemporal = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">isNonTemporal</a>();</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TBAAInfo = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">getTBAAInfo</a>();</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>  ValOp = GetWidenedVector(ST-&gt;<a class="code" href="classllvm_1_1StoreSDNode.html#a7f9820a84907a5aa530d4dc36f841c76">getValue</a>());</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(ST);</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> StVT = ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">getMemoryVT</a>();</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ValVT = ValOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="comment">// It must be true that we the widen vector type is bigger than where</span></div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="comment">// we need to store.</span></div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  assert(StVT.<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>() &amp;&amp; ValOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>().<a class="code" href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">isVector</a>());</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;  assert(StVT.<a class="code" href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">bitsLT</a>(ValOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="comment">// For truncating stores, we can not play the tricks of chopping legal</span></div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="comment">// vector types and bit cast it to the right type.  Instead, we unroll</span></div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="comment">// the store.</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> StEltVT  = StVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> ValEltVT = ValVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <span class="keywordtype">unsigned</span> Increment = ValEltVT.<a class="code" href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">getSizeInBits</a>() / 8;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordtype">unsigned</span> NumElts = StVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, ValEltVT, ValOp,</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  StChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Chain, dl, EOp, BasePtr,</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                                      ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>(), StEltVT,</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                                      isVolatile, isNonTemporal, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>,</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                                      TBAAInfo));</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="keywordtype">unsigned</span> Offset = Increment;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=1; i &lt; NumElts; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Offset += Increment) {</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewBasePtr = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>, dl, BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>(),</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                                     BasePtr, DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Offset,</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                                                       BasePtr.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>()));</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> EOp = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, ValEltVT, ValOp,</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                            DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    StChain.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">getTruncStore</a>(Chain, dl, EOp, NewBasePtr,</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                                      ST-&gt;<a class="code" href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">getPointerInfo</a>().<a class="code" href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">getWithOffset</a>(Offset),</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                                        StEltVT, isVolatile, isNonTemporal,</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                                        <a class="code" href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">MinAlign</a>(Align, Offset), TBAAInfo));</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  }</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;}</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;<span class="comment">/// Modifies a vector input (widen or narrows) to a vector of NVT.  The</span></div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;<span class="comment">/// input vector must have the same element type as NVT.</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SDValue.html">SDValue</a> DAGTypeLegalizer::ModifyToType(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InOp, <a class="code" href="structllvm_1_1EVT.html">EVT</a> NVT) {</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <span class="comment">// Note that InOp might have been widened so it might already have</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="comment">// the right width or it might need be narrowed.</span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> InVT = InOp.<a class="code" href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">getValueType</a>();</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  assert(InVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>() == NVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>() &amp;&amp;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;         <span class="stringliteral">&quot;input and widen element type must match&quot;</span>);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(InOp);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="comment">// Check if InOp already has the right width.</span></div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordflow">if</span> (InVT == NVT)</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">return</span> InOp;</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keywordtype">unsigned</span> InNumElts = InVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordtype">unsigned</span> WidenNumElts = NVT.<a class="code" href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">getVectorNumElements</a>();</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">if</span> (WidenNumElts &gt; InNumElts &amp;&amp; WidenNumElts % InNumElts == 0) {</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordtype">unsigned</span> NumConcat = WidenNumElts / InNumElts;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(NumConcat);</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(InVT);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    Ops[0] = InOp;</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 1; i != NumConcat; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;      Ops[i] = UndefVal;</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">ISD::CONCAT_VECTORS</a>, dl, NVT, &amp;Ops[0], NumConcat);</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  }</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">if</span> (WidenNumElts &lt; InNumElts &amp;&amp; InNumElts % WidenNumElts)</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">ISD::EXTRACT_SUBVECTOR</a>, dl, NVT, InOp,</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                       DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(0, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <span class="comment">// Fall back to extract and build.</span></div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 16&gt;</a> Ops(WidenNumElts);</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> EltVT = NVT.<a class="code" href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">getVectorElementType</a>();</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordtype">unsigned</span> MinNumElts = std::min(WidenNumElts, InNumElts);</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordtype">unsigned</span> Idx;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordflow">for</span> (Idx = 0; Idx &lt; MinNumElts; ++Idx)</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    Ops[Idx] = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">ISD::EXTRACT_VECTOR_ELT</a>, dl, EltVT, InOp,</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;                           DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">getConstant</a>(Idx, TLI.<a class="code" href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">getVectorIdxTy</a>()));</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> UndefVal = DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">getUNDEF</a>(EltVT);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keywordflow">for</span> ( ; Idx &lt; WidenNumElts; ++Idx)</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    Ops[Idx] = UndefVal;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="keywordflow">return</span> DAG.<a class="code" href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">getNode</a>(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">ISD::BUILD_VECTOR</a>, dl, NVT, &amp;Ops[0], WidenNumElts);</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;}</div><div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cae95173386f40dde17d7ae56a7bdd416e">llvm::MVT::FIRST_VECTOR_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00113">ValueTypes.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a412ddf522b53f07690a86bffba1278e7">llvm::ISD::BITCAST</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00420">ISDOpcodes.h:420</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110adaf9a3cb5c2ef5eb713bd6bf4ae23aeb">llvm::ISD::FP_ROUND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00393">ISDOpcodes.h:393</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a3e579897b3fc3d645d0eea2f3442cfa2"><div class="ttname"><a href="classllvm_1_1SDNode.html#a3e579897b3fc3d645d0eea2f3442cfa2">llvm::SDNode::getValueSizeInBits</a></div><div class="ttdeci">unsigned getValueSizeInBits(unsigned ResNo) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00622">SelectionDAGNodes.h:622</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a13ad902229b8b6b3a7a1d29dedac01e0"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a13ad902229b8b6b3a7a1d29dedac01e0">llvm::SelectionDAG::getConstant</a></div><div class="ttdeci">SDValue getConstant(uint64_t Val, EVT VT, bool isTarget=false)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l00959">SelectionDAG.cpp:959</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2852a5b6baa80b1589a46737210a8cad">llvm::ISD::FSUB</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a040481b9bda32faa6b1435532405d88f"><div class="ttname"><a href="classllvm_1_1SDValue.html#a040481b9bda32faa6b1435532405d88f">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00122">SelectionDAGNodes.h:122</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9133d7cfb6a66404ff7757b699bc3941">llvm::ISD::FCOS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a39c6dff47b8dbd25cfaf6336c7056077"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a39c6dff47b8dbd25cfaf6336c7056077">llvm::SelectionDAG::getContext</a></div><div class="ttdeci">LLVMContext * getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00285">SelectionDAG.h:285</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a305a3a4874c597243cd5ba04af01339e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a305a3a4874c597243cd5ba04af01339e">llvm::SelectionDAG::UnrollVectorOp</a></div><div class="ttdeci">SDValue UnrollVectorOp(SDNode *N, unsigned ResNE=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06253">SelectionDAG.cpp:6253</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a535ca517df1b4ae62e75475141e65787"><div class="ttname"><a href="classllvm_1_1SDNode.html#a535ca517df1b4ae62e75475141e65787">llvm::SDNode::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdoc">dump - Dump this node, for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGDumper_8cpp_source.html#l00328">SelectionDAGDumper.cpp:328</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9070de8a5c5b71851732c4c54e2ffedf">llvm::ISD::EXTRACT_SUBVECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00270">ISDOpcodes.h:270</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8d8773b28111d8898663d4a0f6223d68">llvm::ISD::VECTOR_SHUFFLE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00279">ISDOpcodes.h:279</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a695a19c9c3ae14638be151add82755cb">llvm::TargetLoweringBase::ZeroOrNegativeOneBooleanContent</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00108">TargetLowering.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193aba2534b602f98a2952464c3682a39dbc"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193aba2534b602f98a2952464c3682a39dbc">llvm::TargetLoweringBase::TypeScalarizeVector</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00095">TargetLowering.h:95</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b7dd3d6a9b68d1558fc6b4706708b0">llvm::ISD::FROUND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31ade1c53e7b8a373e22ec53ff7bcbace9f">llvm::ISD::UNINDEXED</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00679">ISDOpcodes.h:679</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_adfb7610cbc23430a7d4077a3cf9c22d3"><div class="ttname"><a href="classllvm_1_1DataLayout.html#adfb7610cbc23430a7d4077a3cf9c22d3">llvm::DataLayout::getPrefTypeAlignment</a></div><div class="ttdeci">unsigned getPrefTypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00600">DataLayout.cpp:600</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9ab5860c97a00c4627a08cab7b0c8178">llvm::ISD::FMUL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">llvm::ISD::NON_EXTLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00698">ISDOpcodes.h:698</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a69a858247fbce6bd8035a1dbeb770f24"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a69a858247fbce6bd8035a1dbeb770f24">llvm::SelectionDAG::GetSplitDestVTs</a></div><div class="ttdeci">std::pair&lt; EVT, EVT &gt; GetSplitDestVTs(const EVT &amp;VT) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06413">SelectionDAG.cpp:6413</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_af0d328f3f61168f4ea7d6e4044af4f97"><div class="ttname"><a href="classllvm_1_1SDNode.html#af0d328f3f61168f4ea7d6e4044af4f97">llvm::SDNode::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00369">SelectionDAGNodes.h:369</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a169032eecd015d4eeb869c457202a6c8">llvm::ISD::UINT_TO_FP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00368">ISDOpcodes.h:368</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_affa111c5fcedf4f9c7eaf11be9977f32"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#affa111c5fcedf4f9c7eaf11be9977f32">llvm::TargetLoweringBase::getExtendForContent</a></div><div class="ttdeci">static ISD::NodeType getExtendForContent(BooleanContent Content)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00120">TargetLowering.h:120</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a226345d0c8262e9469d30a993d1656ff"><div class="ttname"><a href="structllvm_1_1EVT.html#a226345d0c8262e9469d30a993d1656ff">llvm::EVT::getTypeForEVT</a></div><div class="ttdeci">Type * getTypeForEVT(LLVMContext &amp;Context) const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8cpp_source.html#l00180">ValueTypes.cpp:180</a></div></div>
<div class="ttc" id="classllvm_1_1LSBaseSDNode_html_a958114b87bff3b4db5ae7766d44dc375"><div class="ttname"><a href="classllvm_1_1LSBaseSDNode.html#a958114b87bff3b4db5ae7766d44dc375">llvm::LSBaseSDNode::isUnindexed</a></div><div class="ttdeci">bool isUnindexed() const </div><div class="ttdoc">isUnindexed - Return true if this is NOT a pre/post inc/dec load/store. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01710">SelectionDAGNodes.h:1710</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca5728436bd6ff6c800a6d96cb7dfa7d01"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca5728436bd6ff6c800a6d96cb7dfa7d01">llvm::MVT::LAST_INTEGER_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00051">ValueTypes.h:51</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2b4d07600495a563319d6a3dda8dc44d">llvm::ISD::FABS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_abc5c2f1d47a517373030133c6a102106"><div class="ttname"><a href="classllvm_1_1SDNode.html#abc5c2f1d47a517373030133c6a102106">llvm::SDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00548">SelectionDAGNodes.h:548</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a5c111d159cec321b85802cb1baba7f12"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5c111d159cec321b85802cb1baba7f12">llvm::TargetLoweringBase::TypeExpandInteger</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00092">TargetLowering.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a836c27481205f56e708fe0c15538d5ff"><div class="ttname"><a href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00554">SelectionDAGNodes.h:554</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a51520544b9467b0ade87e3a54e90cb6c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a51520544b9467b0ade87e3a54e90cb6c">llvm::ISD::CvtCode</a></div><div class="ttdeci">CvtCode</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00800">ISDOpcodes.h:800</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad46ae9fdfe20cd04f7fda7ccbb937543">llvm::ISD::FSIN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="classllvm_1_1LoadSDNode_html_a3ded48ce66b58b7e7e143991df5dbfae"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#a3ded48ce66b58b7e7e143991df5dbfae">llvm::LoadSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01739">SelectionDAGNodes.h:1739</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0d05d4a5cd10a46f69f9e62d49d275bb">llvm::ISD::FLOG10</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="LegalizeVectorTypes_8cpp_html_a0884e3469837e8ef87a3a989096f0809"><div class="ttname"><a href="LegalizeVectorTypes_8cpp.html#a0884e3469837e8ef87a3a989096f0809">BuildVectorFromScalar</a></div><div class="ttdeci">static SDValue BuildVectorFromScalar(SelectionDAG &amp;DAG, EVT VecTy, SmallVectorImpl&lt; SDValue &gt; &amp;LdOps, unsigned Start, unsigned End)</div><div class="ttdef"><b>Definition:</b> <a href="LegalizeVectorTypes_8cpp_source.html#l02523">LegalizeVectorTypes.cpp:2523</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a99ad6b342b7457df56b91d24e66016b3">llvm::ISD::SELECT_CC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00331">ISDOpcodes.h:331</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110">llvm::ISD::NodeType</a></div><div class="ttdeci">NodeType</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00039">ISDOpcodes.h:39</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5ebe5227fe53e0dcf4102a6ebf1594a2"><div class="ttname"><a href="structllvm_1_1EVT.html#a5ebe5227fe53e0dcf4102a6ebf1594a2">llvm::EVT::bitsLT</a></div><div class="ttdeci">bool bitsLT(EVT VT) const </div><div class="ttdoc">bitsLT - Return true if this has less bits than VT. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00735">ValueTypes.h:735</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a71640703ec096a8b07111e85cfff6987">llvm::ISD::FP_TO_UINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00380">ISDOpcodes.h:380</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110add33c0ae9a63902e573fc1f92fc33f1c">llvm::ISD::CTLZ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorSDNode_html"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html">llvm::ShuffleVectorSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01205">SelectionDAGNodes.h:1205</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7afab3fffd153f7d7770fed81272e4b78f">llvm::ISD::EXTLOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00699">ISDOpcodes.h:699</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab8395be5698f080c0036d866e121a478"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab8395be5698f080c0036d866e121a478">llvm::SelectionDAG::getLoad</a></div><div class="ttdeci">SDValue getLoad(EVT VT, SDLoc dl, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, bool isVolatile, bool isNonTemporal, bool isInvariant, unsigned Alignment, const MDNode *TBAAInfo=0, const MDNode *Ranges=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04565">SelectionDAG.cpp:4565</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a73f7c824cad61a47c21bf6d652ae2fd7"><div class="ttname"><a href="structllvm_1_1EVT.html#a73f7c824cad61a47c21bf6d652ae2fd7">llvm::EVT::isVector</a></div><div class="ttdeci">bool isVector() const </div><div class="ttdoc">isVector - Return true if this is a vector value type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00661">ValueTypes.h:661</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a877509d30dce736625e19e3821c8ad08"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a877509d30dce736625e19e3821c8ad08">llvm::TargetLoweringBase::canOpTrap</a></div><div class="ttdeci">virtual bool canOpTrap(unsigned Op, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l00823">TargetLoweringBase.cpp:823</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">llvm::MVT::i1</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00043">ValueTypes.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a2bdce1dfec3bab37c9a38e516eba42e7"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a2bdce1dfec3bab37c9a38e516eba42e7">llvm::SelectionDAG::getStore</a></div><div class="ttdeci">SDValue getStore(SDValue Chain, SDLoc dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, bool isVolatile, bool isNonTemporal, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04618">SelectionDAG.cpp:4618</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8cc94e03dea594863073a02f5bb94997">llvm::ISD::SHL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_aed0958deb6d25f9fdccd7518e26b50f8"><div class="ttname"><a href="classllvm_1_1SDNode.html#aed0958deb6d25f9fdccd7518e26b50f8">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00609">SelectionDAGNodes.h:609</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a6bae2f7f49a5438c150cbd4cbdda11f9"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a6bae2f7f49a5438c150cbd4cbdda11f9">llvm::TargetLoweringBase::getSetCCResultType</a></div><div class="ttdeci">virtual EVT getSetCCResultType(LLVMContext &amp;Context, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01096">TargetLoweringBase.cpp:1096</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_aa7b903b38006dd4cb8fcf8854af5b6b9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#aa7b903b38006dd4cb8fcf8854af5b6b9">llvm::MachinePointerInfo::getWithOffset</a></div><div class="ttdeci">MachinePointerInfo getWithOffset(int64_t O) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00044">MachineMemOperand.h:44</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a15be9767d0aad93fe5dcb60b7b7a78da"><div class="ttname"><a href="structllvm_1_1EVT.html#a15be9767d0aad93fe5dcb60b7b7a78da">llvm::EVT::getScalarType</a></div><div class="ttdeci">EVT getScalarType() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00756">ValueTypes.h:756</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorSDNode_html_aae5468704c119f87dceb6728814b5502"><div class="ttname"><a href="classllvm_1_1ShuffleVectorSDNode.html#aae5468704c119f87dceb6728814b5502">llvm::ShuffleVectorSDNode::getMaskElt</a></div><div class="ttdeci">int getMaskElt(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01224">SelectionDAGNodes.h:1224</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01695">TargetLowering.h:1695</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cc407ac00df4edd4ec4d5168d6ecb26"><div class="ttname"><a href="structllvm_1_1EVT.html#a8cc407ac00df4edd4ec4d5168d6ecb26">llvm::EVT::isInteger</a></div><div class="ttdeci">bool isInteger() const </div><div class="ttdoc">isInteger - Return true if this is an integer, or a vector integer type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00656">ValueTypes.h:656</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a3a07c062cc9330acd8e8c4e3930cbb25"><div class="ttname"><a href="structllvm_1_1EVT.html#a3a07c062cc9330acd8e8c4e3930cbb25">llvm::EVT::getVectorElementType</a></div><div class="ttdeci">EVT getVectorElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00762">ValueTypes.h:762</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abc6c09c7af98236460f0b020eb3be94e">llvm::ISD::FDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a315004656a75a3c3a9d7294f105a8da2">llvm::ISD::SINT_TO_FP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00367">ISDOpcodes.h:367</a></div></div>
<div class="ttc" id="namespacellvm_html_a370ed0e0f2bb66d17cd13f84be54e867"><div class="ttname"><a href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">llvm::array_lengthof</a></div><div class="ttdeci">size_t array_lengthof(T(&amp;)[N])</div><div class="ttdoc">Find the length of an array. </div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00250">STLExtras.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_ab319fc51db27ec95fd50a910c7ccec94"><div class="ttname"><a href="classllvm_1_1SDNode.html#ab319fc51db27ec95fd50a910c7ccec94">llvm::SDNode::getNumValues</a></div><div class="ttdeci">unsigned getNumValues() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00605">SelectionDAGNodes.h:605</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ab0b7d2c769fd0fbaab3c4a2fc8e7ea0c">llvm::ISD::VSELECT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00325">ISDOpcodes.h:325</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdoc">Simple integer binary arithmetic operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a819041d6f932a577122acfff723fe4af"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a819041d6f932a577122acfff723fe4af">llvm::SelectionDAG::getVectorShuffle</a></div><div class="ttdeci">SDValue getVectorShuffle(EVT VT, SDLoc dl, SDValue N1, SDValue N2, const int *MaskElts)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01351">SelectionDAG.cpp:1351</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae1118ddac1ce0af8e9f7cc16c9e94fc0">llvm::ISD::FSQRT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a15637879021fa7d5226045c0668a99a8">llvm::ISD::UDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a2f11b8376488870063cf0c3036fb9577"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a2f11b8376488870063cf0c3036fb9577">llvm::TargetLoweringBase::TypeSoftenFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00093">TargetLowering.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1StoreSDNode_html_aec453733fbb9f24036960fdc6b3b4b46"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html#aec453733fbb9f24036960fdc6b3b4b46">llvm::StoreSDNode::getBasePtr</a></div><div class="ttdeci">const SDValue &amp; getBasePtr() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01769">SelectionDAGNodes.h:1769</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a5b0e59823444a55c295af279611a9d24"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a5b0e59823444a55c295af279611a9d24">llvm::SelectionDAG::getUNDEF</a></div><div class="ttdeci">SDValue getUNDEF(EVT VT)</div><div class="ttdoc">getUNDEF - Return an UNDEF node. UNDEF does not have a useful SDLoc. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00585">SelectionDAG.h:585</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a7cead3a2a7771e61083bcc6959915a13"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a7cead3a2a7771e61083bcc6959915a13">llvm::MemSDNode::getMemoryVT</a></div><div class="ttdeci">EVT getMemoryVT() const </div><div class="ttdoc">getMemoryVT - Return the type of the in-memory value. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01030">SelectionDAGNodes.h:1030</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a867f81380094404dbe04ed9b7bc26a99"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a867f81380094404dbe04ed9b7bc26a99">llvm::TargetLoweringBase::getVectorIdxTy</a></div><div class="ttdeci">virtual MVT getVectorIdxTy() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00165">TargetLowering.h:165</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad49a46d391f73aa96002adbdd0cf03f5">llvm::ISD::FEXP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7c6d8f265e9e16e5debdb9a536b55d3d">llvm::ISD::UNDEF</a></div><div class="ttdoc">UNDEF - An undefined node. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00154">ISDOpcodes.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50c"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50c">llvm::MVT::SimpleValueType</a></div><div class="ttdeci">SimpleValueType</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00035">ValueTypes.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1StoreSDNode_html"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html">llvm::StoreSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01749">SelectionDAGNodes.h:1749</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a66b7368b776f6aff492cf970db3df548">llvm::ISD::FPOWI</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac3f8f8d8437c64b2e2e9f978e2707210">llvm::ISD::FP_TO_SINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00379">ISDOpcodes.h:379</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aff6f73b624fecca7dbe94259f9437e32">llvm::ISD::BUILD_VECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a3fad042e27ba626acf5366c845b352d3"><div class="ttname"><a href="classllvm_1_1SDValue.html#a3fad042e27ba626acf5366c845b352d3">llvm::SDValue::getNode</a></div><div class="ttdeci">SDNode * getNode() const </div><div class="ttdoc">get the SDNode which holds the desired result </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00105">SelectionDAGNodes.h:105</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a861aaccc0f468493e76c011811548804"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a861aaccc0f468493e76c011811548804">llvm::TargetLoweringBase::isTypeLegal</a></div><div class="ttdeci">bool isTypeLegal(EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00285">TargetLowering.h:285</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a991d07d163bd4d9984cf1ef36e92c214">llvm::ISD::CTPOP</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00042">ValueTypes.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01246">SelectionDAGNodes.h:1246</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">llvm::HexagonISD::Lo</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00460">ISDOpcodes.h:460</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad56e9199ae3993a09af36ff41d327a11">llvm::ISD::FCEIL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a3c6553c8acebe1b57c211ee45e2d8f98">llvm::ISD::SRL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="LegalizeVectorTypes_8cpp_html_aa016b183ee8aa361cc891ee125296bb6"><div class="ttname"><a href="LegalizeVectorTypes_8cpp.html#aa016b183ee8aa361cc891ee125296bb6">FindMemType</a></div><div class="ttdeci">static EVT FindMemType(SelectionDAG &amp;DAG, const TargetLowering &amp;TLI, unsigned Width, EVT WidenVT, unsigned Align=0, unsigned WidenEx=0)</div><div class="ttdef"><b>Definition:</b> <a href="LegalizeVectorTypes_8cpp_source.html#l02470">LegalizeVectorTypes.cpp:2470</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a5891be2cd50b5b7f01eb7c1cb0e7a682"><div class="ttname"><a href="classllvm_1_1SDValue.html#a5891be2cd50b5b7f01eb7c1cb0e7a682">llvm::SDValue::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00849">SelectionDAGNodes.h:849</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6da41a113af0909470baea7486b3386b">llvm::ISD::CTTZ</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a32ec12017722f5b42a295fe5eb0b0bdf">llvm::ISD::FADD</a></div><div class="ttdoc">Simple binary floating point operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a967ffaf77f64a5deb1e96951e4224112"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a967ffaf77f64a5deb1e96951e4224112">llvm::MemSDNode::isNonTemporal</a></div><div class="ttdeci">bool isNonTemporal() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01009">SelectionDAGNodes.h:1009</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1e92ea554489509b0ad970901bcc715b">llvm::ISD::FTRUNC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a785a8016a792dbc65ec16688f180af71"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a785a8016a792dbc65ec16688f180af71">llvm::TargetLoweringBase::isBigEndian</a></div><div class="ttdeci">bool isBigEndian() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00149">TargetLowering.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7">llvm::ISD::LoadExtType</a></div><div class="ttdeci">LoadExtType</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00697">ISDOpcodes.h:697</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad3bc7c2d379fbfdc2f8eaca038690ec9">llvm::ISD::INSERT_VECTOR_ELT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00245">ISDOpcodes.h:245</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">llvm::HexagonISD::Hi</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a56a2102423fcb39c2683a7e67bddf537"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a56a2102423fcb39c2683a7e67bddf537">llvm::SelectionDAG::SplitVectorOperand</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; SplitVectorOperand(const SDNode *N, unsigned OpNo)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l01152">SelectionDAG.h:1152</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a9c2ed40a765beab830932e12f5eb82d0"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a9c2ed40a765beab830932e12f5eb82d0">llvm::MemSDNode::getOriginalAlignment</a></div><div class="ttdeci">unsigned getOriginalAlignment() const </div><div class="ttdoc">Returns alignment and volatility of the memory access. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00992">SelectionDAGNodes.h:992</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_adc25bcc279ccfb5b867c2b7b8eedaa9b"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#adc25bcc279ccfb5b867c2b7b8eedaa9b">llvm::TargetLoweringBase::getDataLayout</a></div><div class="ttdeci">const DataLayout * getDataLayout() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00146">TargetLowering.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a5290057031a9bc71850f61e757cb940e">llvm::TargetLoweringBase::TypeWidenVector</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00097">TargetLowering.h:97</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110abdd7bbb76dac7962dda6e116e33699da">llvm::ISD::FREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a0caf6a31d8034336a9ba7791a5f583f1"><div class="ttname"><a href="classllvm_1_1SDValue.html#a0caf6a31d8034336a9ba7791a5f583f1">llvm::SDValue::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00840">SelectionDAGNodes.h:840</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac70c1ab4641d55854fdc2d7b7d40350f">llvm::MVT::LAST_VECTOR_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00114">ValueTypes.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0340c8d57d1dcebc43a00412989583d3">llvm::ISD::CTLZ_ZERO_UNDEF</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00312">ISDOpcodes.h:312</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_acd3bb9ee2ec53fa4be1fdf155b0b5a17"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#acd3bb9ee2ec53fa4be1fdf155b0b5a17">llvm::MemSDNode::isVolatile</a></div><div class="ttdeci">bool isVolatile() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01008">SelectionDAGNodes.h:1008</a></div></div>
<div class="ttc" id="classllvm_1_1StoreSDNode_html_a7f9820a84907a5aa530d4dc36f841c76"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html#a7f9820a84907a5aa530d4dc36f841c76">llvm::StoreSDNode::getValue</a></div><div class="ttdeci">const SDValue &amp; getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01768">SelectionDAGNodes.h:1768</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a601e66a26efd05520f7cb26aef3af340">llvm::ISD::CTTZ_ZERO_UNDEF</a></div><div class="ttdoc">Bit counting operators with an undefined result for zero inputs. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00312">ISDOpcodes.h:312</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aadfdefcb133a7f0262a05934aba8ce5d">llvm::ISD::FP_EXTEND</a></div><div class="ttdoc">X = FP_EXTEND(Y) - Extend a smaller FP type into a larger FP type. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00411">ISDOpcodes.h:411</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00576">ValueTypes.h:576</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_ab8f0e414facbed711a9754687bdcd23f"><div class="ttname"><a href="structllvm_1_1EVT.html#ab8f0e414facbed711a9754687bdcd23f">llvm::EVT::bitsEq</a></div><div class="ttdeci">bool bitsEq(EVT VT) const </div><div class="ttdoc">bitsEq - Return true if this has the same number of bits as VT. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00717">ValueTypes.h:717</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad8aec9273962cf78d087090c11a1dd1c">llvm::ISD::MUL</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a18c2edf1939f6e87f1e586b815f398cd"><div class="ttname"><a href="structllvm_1_1EVT.html#a18c2edf1939f6e87f1e586b815f398cd">llvm::EVT::getVectorVT</a></div><div class="ttdeci">static EVT getVectorVT(LLVMContext &amp;Context, EVT VT, unsigned NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00616">ValueTypes.h:616</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html">llvm::MachinePointerInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00032">MachineMemOperand.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110af3542a99501ffb93cee4aae9d1ec2d05">llvm::ISD::FEXP2</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a3de9644ea2dd81453acf760bd2c1f921"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a3de9644ea2dd81453acf760bd2c1f921">llvm::SelectionDAG::CreateStackTemporary</a></div><div class="ttdeci">SDValue CreateStackTemporary(EVT VT, unsigned minAlign=1)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01596">SelectionDAG.cpp:1596</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad1657dbc1957901a6d9cd224efbc0f28">llvm::ISD::UREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a2fa8491ab36125d7f5dd38d3a4868934"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a2fa8491ab36125d7f5dd38d3a4868934">llvm::MemSDNode::getPointerInfo</a></div><div class="ttdeci">const MachinePointerInfo &amp; getPointerInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01036">SelectionDAGNodes.h:1036</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a7da84980dd2ee06405d74303cfb90485"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a7da84980dd2ee06405d74303cfb90485">llvm::ISD::isUNINDEXEDLoad</a></div><div class="ttdeci">bool isUNINDEXEDLoad(const SDNode *N)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01922">SelectionDAGNodes.h:1922</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ad469508535ce2082a1ab1f0e429187b8">llvm::ISD::TokenFactor</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00050">ISDOpcodes.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4a055321c361a0f6ee77ed764730ffc1">llvm::ISD::SRA</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00306">ISDOpcodes.h:306</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a83aefeac4465d7798cd008d8cf07388d"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a83aefeac4465d7798cd008d8cf07388d">llvm::SelectionDAG::getConvertRndSat</a></div><div class="ttdeci">SDValue getConvertRndSat(EVT VT, SDLoc dl, SDValue Val, SDValue DTy, SDValue STy, SDValue Rnd, SDValue Sat, ISD::CvtCode Code)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01436">SelectionDAG.cpp:1436</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9329e79f62e9ab9b41cfbcafd314bcbd">llvm::ISD::EXTRACT_VECTOR_ELT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00251">ISDOpcodes.h:251</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_ad8e64770a04af6b3da2099477e7c28de"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#ad8e64770a04af6b3da2099477e7c28de">llvm::MemSDNode::isInvariant</a></div><div class="ttdeci">bool isInvariant() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01010">SelectionDAGNodes.h:1010</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a8695950995820e5f6c0407c68f91f44f"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a8695950995820e5f6c0407c68f91f44f">llvm::SelectionDAG::SplitVector</a></div><div class="ttdeci">std::pair&lt; SDValue, SDValue &gt; SplitVector(const SDValue &amp;N, const SDLoc &amp;DL, const EVT &amp;LoVT, const EVT &amp;HiVT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l06430">SelectionDAG.cpp:6430</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a09bdc91589b715806d421ccbc540347d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a09bdc91589b715806d421ccbc540347d">llvm::TargetLoweringBase::getBooleanContents</a></div><div class="ttdeci">BooleanContent getBooleanContents(bool isVec) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00240">TargetLowering.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ae8c041f67463ea67d6c43867729b82cb"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ae8c041f67463ea67d6c43867729b82cb">llvm::SelectionDAG::UpdateNodeOperands</a></div><div class="ttdeci">SDNode * UpdateNodeOperands(SDNode *N, SDValue Op)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l05066">SelectionDAG.cpp:5066</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html">llvm::SelectionDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00169">SelectionDAG.h:169</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8745901e68ed76ceaf48791715cefcb4">llvm::ISD::FP_ROUND_INREG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00408">ISDOpcodes.h:408</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ad6ff413bea6f8195d8e6f29f4fc519c4"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad6ff413bea6f8195d8e6f29f4fc519c4">llvm::SelectionDAG::getExtLoad</a></div><div class="ttdeci">SDValue getExtLoad(ISD::LoadExtType ExtType, SDLoc dl, EVT VT, SDValue Chain, SDValue Ptr, MachinePointerInfo PtrInfo, EVT MemVT, bool isVolatile, bool isNonTemporal, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04586">SelectionDAG.cpp:4586</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_ae3cb6fbf8c8cb79e10ac61bd98c85211"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#ae3cb6fbf8c8cb79e10ac61bd98c85211">llvm::MemSDNode::getChain</a></div><div class="ttdeci">const SDValue &amp; getChain() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01053">SelectionDAGNodes.h:1053</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a19328c462764af5f4699fb1698dad994">llvm::ISD::BSWAP</a></div><div class="ttdoc">Byte Swap and Counting operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00309">ISDOpcodes.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a43bc669b0f21542131c6623548c567e3"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a43bc669b0f21542131c6623548c567e3">llvm::TargetLoweringBase::TypeExpandFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00094">TargetLowering.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00799">SelectionDAGNodes.h:799</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00306">SelectionDAGNodes.h:306</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">llvm::A64DB::LD</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00177">AArch64BaseInfo.h:177</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a26f35604723482a1aee6514940c2987d"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a26f35604723482a1aee6514940c2987d">llvm::TargetLoweringBase::TypePromoteInteger</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00091">TargetLowering.h:91</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a23670ceb5797afa3d45ca1a9b011fd87"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a23670ceb5797afa3d45ca1a9b011fd87">llvm::MemSDNode::getTBAAInfo</a></div><div class="ttdeci">const MDNode * getTBAAInfo() const </div><div class="ttdoc">Returns the TBAAInfo that describes the dereference. </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01024">SelectionDAGNodes.h:1024</a></div></div>
<div class="ttc" id="classllvm_1_1LoadSDNode_html_af15fb8b2d4c9f295bdcf85a1eb506702"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html#af15fb8b2d4c9f295bdcf85a1eb506702">llvm::LoadSDNode::getExtensionType</a></div><div class="ttdeci">ISD::LoadExtType getExtensionType() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01735">SelectionDAGNodes.h:1735</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a124ba0f5b2887879212c74a68bc230a3">llvm::ISD::SREM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a78d0f198115bfe3331ab7cfcf7a40a97">llvm::ISD::SELECT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00316">ISDOpcodes.h:316</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a20f382e841761654032bf8b4712e805f"><div class="ttname"><a href="classllvm_1_1SDNode.html#a20f382e841761654032bf8b4712e805f">llvm::SDNode::op_begin</a></div><div class="ttdeci">op_iterator op_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00560">SelectionDAGNodes.h:560</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93fdf85eff945f1a668b4915a051453e">llvm::ISD::ZERO_EXTEND</a></div><div class="ttdoc">ZERO_EXTEND - Used for integer types, zeroing the new bits. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00357">ISDOpcodes.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_af5d5ed0a2c2186ec77b8dd9c38474d3e"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#af5d5ed0a2c2186ec77b8dd9c38474d3e">llvm::SelectionDAG::getNode</a></div><div class="ttdeci">SDValue getNode(unsigned Opcode, SDLoc DL, EVT VT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l02485">SelectionDAG.cpp:2485</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a27d5d8ef82302b739ba3ca8be1a5513d">llvm::ISD::ANY_EXTEND</a></div><div class="ttdoc">ANY_EXTEND - Used for integer types. The high bits are undefined. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00360">ISDOpcodes.h:360</a></div></div>
<div class="ttc" id="LegalizeTypes_8h_html"><div class="ttname"><a href="LegalizeTypes_8h.html">LegalizeTypes.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aeffc3319657e213a530ce583603f7221">llvm::ISD::FCOPYSIGN</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00228">ISDOpcodes.h:228</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1f61c2422057e10403b2f6003543c300">llvm::ISD::SDIV</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="namespacellvm_html_af36d7e69ab16b64b2e3a48c83aa9f0f6"><div class="ttname"><a href="namespacellvm.html#af36d7e69ab16b64b2e3a48c83aa9f0f6">llvm::MinAlign</a></div><div class="ttdeci">uint64_t MinAlign(uint64_t A, uint64_t B)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00535">MathExtras.h:535</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac513a7da1bf74fb3e3c594da8534f2d2">llvm::ISD::AND</a></div><div class="ttdoc">Bitwise operators - logical and, logical or, logical xor. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1a6952b1572a4ce241cc3cf45a9ab071">llvm::ISD::FPOW</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aaa59dd5ec37f21905436b354c0292d9e">llvm::ISD::SIGN_EXTEND_INREG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00375">ISDOpcodes.h:375</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00460">ISDOpcodes.h:460</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a8cca25ddb3be86ad23567dc8d36dacd3"><div class="ttname"><a href="structllvm_1_1EVT.html#a8cca25ddb3be86ad23567dc8d36dacd3">llvm::EVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdoc">getSizeInBits - Return the size of the specified value type in bits. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00779">ValueTypes.h:779</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a0e2d72cfdcc49d2d189f440b3cc31dff">llvm::TargetLoweringBase::ZeroOrOneBooleanContent</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00107">TargetLowering.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a76ccaa8c8885072ba11aee5133865e36"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a76ccaa8c8885072ba11aee5133865e36">llvm::SelectionDAG::getTruncStore</a></div><div class="ttdeci">SDValue getTruncStore(SDValue Chain, SDLoc dl, SDValue Val, SDValue Ptr, MachinePointerInfo PtrInfo, EVT TVT, bool isNonTemporal, bool isVolatile, unsigned Alignment, const MDNode *TBAAInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l04672">SelectionDAG.cpp:4672</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a992906781101abb22f6e4d16622bbe24"><div class="ttname"><a href="classllvm_1_1SDNode.html#a992906781101abb22f6e4d16622bbe24">llvm::SDNode::op_end</a></div><div class="ttdeci">op_iterator op_end() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00561">SelectionDAGNodes.h:561</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html_a7d2ad4aa4277eb4e1138ff9791c8fbb7"><div class="ttname"><a href="classllvm_1_1SDValue.html#a7d2ad4aa4277eb4e1138ff9791c8fbb7">llvm::SDValue::getValueType</a></div><div class="ttdeci">EVT getValueType() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00843">SelectionDAGNodes.h:843</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6e9aa535cbf4850ebebc18aa834402b2">llvm::ISD::CONVERT_RNDSAT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00437">ISDOpcodes.h:437</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a320898056eadc3254fc601e1362eb9f5">llvm::ISD::CONCAT_VECTORS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00257">ISDOpcodes.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a78990d91dd364f8bb9e7008d85fd73b8"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a78990d91dd364f8bb9e7008d85fd73b8">llvm::SelectionDAG::getSelect</a></div><div class="ttdeci">SDValue getSelect(SDLoc DL, EVT VT, SDValue Cond, SDValue LHS, SDValue RHS)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00666">SelectionDAG.h:666</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a68014623710f7a44c808cd412236d6a1">llvm::ISD::FRINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca99d6935065e7c7a2fa53208e41e5b428">llvm::MVT::x86mmx</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00116">ValueTypes.h:116</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4336c27826676e1ef61383cafa999219">llvm::ISD::FFLOOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193a40cd81ebfaf97cef327ad65d37b816da"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193a40cd81ebfaf97cef327ad65d37b816da">llvm::TargetLoweringBase::TypeSplitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00096">TargetLowering.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a76daffc43a9b516f4fe4999c7b680ca0"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a76daffc43a9b516f4fe4999c7b680ca0">llvm::TargetLoweringBase::getTypeToTransformTo</a></div><div class="ttdeci">EVT getTypeToTransformTo(LLVMContext &amp;Context, EVT VT) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00332">TargetLowering.h:332</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a293ca68b3b2ce80eef991de822822254">llvm::ISD::FMA</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00222">ISDOpcodes.h:222</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a92febb83e6ba116eb7aae8e7e3f70cc1">llvm::ISD::XOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1StoreSDNode_html_a272cb283a679298b7e991db7daf823ed"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html#a272cb283a679298b7e991db7daf823ed">llvm::StoreSDNode::isTruncatingStore</a></div><div class="ttdeci">bool isTruncatingStore() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01766">SelectionDAGNodes.h:1766</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ab8ba6b05ad4fa7517f2e23b26f84ae1b"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ab8ba6b05ad4fa7517f2e23b26f84ae1b">llvm::SelectionDAG::getValueType</a></div><div class="ttdeci">SDValue getValueType(EVT)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8cpp_source.html#l01291">SelectionDAG.cpp:1291</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ac82d37f93ae4420659acdd03f79b15e0">llvm::ISD::FLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755a145391af8fd5e5455ffa3170c2d701ce">llvm::TargetLoweringBase::UndefinedBooleanContent</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00106">TargetLowering.h:106</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_a848b46af8fabd1ab34b28adbc3665609"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#a848b46af8fabd1ab34b28adbc3665609">llvm::SelectionDAG::getTargetLoweringInfo</a></div><div class="ttdeci">const TargetLowering &amp; getTargetLoweringInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00282">SelectionDAG.h:282</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a558dc710055f9d60cc3c0893bc29a72d">llvm::ISD::FLOG2</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00450">ISDOpcodes.h:450</a></div></div>
<div class="ttc" id="namespacellvm_html_af4d1a918800291e75b01ce1447be0e83"><div class="ttname"><a href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">llvm::isPowerOf2_32</a></div><div class="ttdeci">bool isPowerOf2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00354">MathExtras.h:354</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a0158ee47dfa868be5d28e2cbef70d5d0">llvm::ISD::SETCC</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00339">ISDOpcodes.h:339</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a01c94937492f3ac3fb1e0be8eb0b9ef1">llvm::ISD::MERGE_VALUES</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00173">ISDOpcodes.h:173</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a5183f3d72924bc7c77ba8d3f5de9f602">llvm::ISD::SIGN_EXTEND</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00354">ISDOpcodes.h:354</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_aa61af767c51a95e2dd0dff2001168755"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#aa61af767c51a95e2dd0dff2001168755">llvm::TargetLoweringBase::BooleanContent</a></div><div class="ttdeci">BooleanContent</div><div class="ttdoc">Enum that describes how the target represents true/false values. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00105">TargetLowering.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1SelectionDAG_html_ad755b1a25cf0c4507d5f615f64471ae9"><div class="ttname"><a href="classllvm_1_1SelectionDAG.html#ad755b1a25cf0c4507d5f615f64471ae9">llvm::SelectionDAG::getEntryNode</a></div><div class="ttdeci">SDValue getEntryNode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAG_8h_source.html#l00332">SelectionDAG.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97826d9e1c231c51153ef23ee4e95233"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97826d9e1c231c51153ef23ee4e95233">llvm::MVT::FIRST_INTEGER_VALUETYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00050">ValueTypes.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae690127648393001a7d5b93dc23da7b3">llvm::ISD::TRUNCATE</a></div><div class="ttdoc">TRUNCATE - Completely drop the high bits. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00363">ISDOpcodes.h:363</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07c"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07c">llvm::NVPTX::PTXLdStInstCode::VecType</a></div><div class="ttdeci">VecType</div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00125">NVPTX.h:125</a></div></div>
<div class="ttc" id="classllvm_1_1MemSDNode_html_a4f68cd016138440f215ad80c1d6c1e04"><div class="ttname"><a href="classllvm_1_1MemSDNode.html#a4f68cd016138440f215ad80c1d6c1e04">llvm::MemSDNode::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00995">SelectionDAGNodes.h:995</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aa2a7c3eccf06b41e4275bbeadb46d22e">llvm::ISD::MULHS</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00292">ISDOpcodes.h:292</a></div></div>
<div class="ttc" id="classllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00094">SelectionDAGNodes.h:94</a></div></div>
<div class="ttc" id="namespacellvm_html_a7dc3e2c002713fec56bdbf16aa704576"><div class="ttname"><a href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a></div><div class="ttdeci">tier&lt; T1, T2 &gt; tie(T1 &amp;f, T2 &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00216">STLExtras.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLoweringBase_html_a88a8b01d4dbc2ebd81244d1eb459b193af54ec6880362512f9fec982cd4ce39fb"><div class="ttname"><a href="classllvm_1_1TargetLoweringBase.html#a88a8b01d4dbc2ebd81244d1eb459b193af54ec6880362512f9fec982cd4ce39fb">llvm::TargetLoweringBase::TypeLegal</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00090">TargetLowering.h:90</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a6d26c45c040d8f85d577a5f645261d1a">llvm::ISD::FNEG</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00449">ISDOpcodes.h:449</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a752372e170e4e7c595bf8810bb52adf2"><div class="ttname"><a href="structllvm_1_1EVT.html#a752372e170e4e7c595bf8810bb52adf2">llvm::EVT::getIntegerVT</a></div><div class="ttdeci">static EVT getIntegerVT(LLVMContext &amp;Context, unsigned BitWidth)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00607">ValueTypes.h:607</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a576080a08ef1bbab0308eac9d5838f75">llvm::ISD::SCALAR_TO_VECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00287">ISDOpcodes.h:287</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a2dc876d6cc16ac04376483552292f9f4">llvm::ISD::FNEARBYINT</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00451">ISDOpcodes.h:451</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a8a80d3b085af08f0dce1724207ef99b5">llvm::ISD::MULHU</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00292">ISDOpcodes.h:292</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a42bca41d2438197c12b6db2c710a959c"><div class="ttname"><a href="structllvm_1_1EVT.html#a42bca41d2438197c12b6db2c710a959c">llvm::EVT::getVectorNumElements</a></div><div class="ttdeci">unsigned getVectorNumElements() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00771">ValueTypes.h:771</a></div></div>
<div class="ttc" id="classllvm_1_1LoadSDNode_html"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html">llvm::LoadSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01720">SelectionDAGNodes.h:1720</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:17 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
