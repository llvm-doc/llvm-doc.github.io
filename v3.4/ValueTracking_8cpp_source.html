<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ValueTracking.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ValueTracking_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ValueTracking.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ValueTracking_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- ValueTracking.cpp - Walk computations to compute properties --------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains routines that help analyze properties that chains of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// computations have.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/Support/ConstantRange.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/Support/PatternMatch.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">   36</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a> = 6;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// getBitWidth - Returns the bitwidth of the given scalar or pointer type (if</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// unknown returns 0).  For vector types, returns the element type&#39;s bitwidth.</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">   40</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> BitWidth = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>())</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> BitWidth;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> TD ? TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ab39b93d717af84ec8c4deced264716e3">getPointerTypeSizeInBits</a>(Ty) : 0;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">   47</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a>(<span class="keywordtype">bool</span> Add, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> NSW,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                    <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                    <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero2, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne2,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">if</span> (!Add) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CLHS = dyn_cast&lt;ConstantInt&gt;(Op0)) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="comment">// We know that the top bits of C-X are clear if X contains less bits</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="comment">// than C (i.e. no wrap-around can happen).  For example, 20-X is</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="comment">// positive if we can prove that X is &gt;= 0 and &lt; 16.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">if</span> (!CLHS-&gt;getValue().isNegative()) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordtype">unsigned</span> BitWidth = KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordtype">unsigned</span> NLZ = (CLHS-&gt;getValue()+1).<a class="code" href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">countLeadingZeros</a>();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="comment">// NLZ can&#39;t be BitWidth with no sign bit</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaskV = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, NLZ+1);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a>(Op1, KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="comment">// If all of the MaskV bits are known to be zero, then we know the</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment">// output top bits are zero, because we now know that the output is</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="comment">// from [0-C].</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> ((KnownZero2 &amp; MaskV) == MaskV) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          <span class="keywordtype">unsigned</span> NLZ2 = CLHS-&gt;getValue().countLeadingZeros();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          <span class="comment">// Top bits known zero.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, NLZ2);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// If one of the operands has trailing zeros, then the bits that the</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// other operand has in those bit positions will be preserved in the</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// result. For an add, this works with either operand. For a subtract,</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// this only works if the known zeros are in the right operand.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSKnownZero(BitWidth, 0), LHSKnownOne(BitWidth, 0);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a>(Op0, LHSKnownZero, LHSKnownOne, TD, Depth+1);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  assert((LHSKnownZero &amp; LHSKnownOne) == 0 &amp;&amp;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;         <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">unsigned</span> LHSKnownZeroOut = LHSKnownZero.countTrailingOnes();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a>(Op1, KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">unsigned</span> RHSKnownZeroOut = KnownZero2.<a class="code" href="classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">countTrailingOnes</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// Determine which operand has more trailing zeros, and use that</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// many bits from the other operand.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (LHSKnownZeroOut &gt; RHSKnownZeroOut) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (Add) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, LHSKnownZeroOut);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      KnownZero |= KnownZero2 &amp; Mask;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      KnownOne  |= KnownOne2 &amp; Mask;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="comment">// If the known zeros are in the left operand for a subtract,</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">// fall back to the minimum known zeros in both operands.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      KnownZero |= <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                        std::min(LHSKnownZeroOut,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                                 RHSKnownZeroOut));</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RHSKnownZeroOut &gt;= LHSKnownZeroOut) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, RHSKnownZeroOut);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    KnownZero |= LHSKnownZero &amp; Mask;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    KnownOne  |= LHSKnownOne &amp; Mask;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// Are we still trying to solve for the sign bit?</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (!KnownZero.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>() &amp;&amp; !KnownOne.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>()) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (NSW) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">if</span> (Add) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="comment">// Adding two positive numbers can&#39;t wrap into negative</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> (LHSKnownZero.isNegative() &amp;&amp; KnownZero2.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>())</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          KnownZero |= <a class="code" href="classllvm_1_1APInt.html#a2e5e9f65d911e80a46d3098933794056">APInt::getSignBit</a>(BitWidth);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment">// and adding two negative numbers can&#39;t wrap into positive.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LHSKnownOne.isNegative() &amp;&amp; KnownOne2.isNegative())</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          KnownOne |= <a class="code" href="classllvm_1_1APInt.html#a2e5e9f65d911e80a46d3098933794056">APInt::getSignBit</a>(BitWidth);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// Subtracting a negative number from a positive one can&#39;t wrap</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (LHSKnownZero.isNegative() &amp;&amp; KnownOne2.isNegative())</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          KnownZero |= <a class="code" href="classllvm_1_1APInt.html#a2e5e9f65d911e80a46d3098933794056">APInt::getSignBit</a>(BitWidth);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// neither can subtracting a positive number from a negative one.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LHSKnownOne.isNegative() &amp;&amp; KnownZero2.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>())</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;          KnownOne |= <a class="code" href="classllvm_1_1APInt.html#a2e5e9f65d911e80a46d3098933794056">APInt::getSignBit</a>(BitWidth);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#ad8299c2e7a9af0966692fa8ad3930344">  133</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ValueTracking_8cpp.html#ad8299c2e7a9af0966692fa8ad3930344">ComputeMaskedBitsMul</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> NSW,</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                 <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                 <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero2, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne2,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(Op1, KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(Op0, KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">bool</span> isKnownNegative = <span class="keyword">false</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">bool</span> isKnownNonNegative = <span class="keyword">false</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// If the multiplication is known not to overflow, compute the sign bit.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (NSW) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (Op0 == Op1) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">// The product of a number with itself is non-negative.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      isKnownNonNegative = <span class="keyword">true</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordtype">bool</span> isKnownNonNegativeOp1 = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordtype">bool</span> isKnownNonNegativeOp0 = KnownZero2.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordtype">bool</span> isKnownNegativeOp1 = KnownOne.isNegative();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordtype">bool</span> isKnownNegativeOp0 = KnownOne2.isNegative();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">// The product of two numbers with the same sign is non-negative.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      isKnownNonNegative = (isKnownNegativeOp1 &amp;&amp; isKnownNegativeOp0) ||</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        (isKnownNonNegativeOp1 &amp;&amp; isKnownNonNegativeOp0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// The product of a negative number and a non-negative number is either</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// negative or zero.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">if</span> (!isKnownNonNegative)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        isKnownNegative = (isKnownNegativeOp1 &amp;&amp; isKnownNonNegativeOp0 &amp;&amp;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                           <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(Op0, TD, Depth)) ||</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                          (isKnownNegativeOp0 &amp;&amp; isKnownNonNegativeOp1 &amp;&amp;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                           <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(Op1, TD, Depth));</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// If low bits are zero in either operand, output low known-0 bits.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Also compute a conserative estimate for high known-0 bits.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// More trickiness is possible, but this is sufficient for the</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// interesting case of alignment computation.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  KnownOne.clearAllBits();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">unsigned</span> TrailZ = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">countTrailingOnes</a>() +</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    KnownZero2.<a class="code" href="classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">countTrailingOnes</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">unsigned</span> LeadZ =  std::max(KnownZero.<a class="code" href="classllvm_1_1APInt.html#ab7a62c4beaed93a09ac3fde3b1b0b01f">countLeadingOnes</a>() +</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                             KnownZero2.<a class="code" href="classllvm_1_1APInt.html#ab7a62c4beaed93a09ac3fde3b1b0b01f">countLeadingOnes</a>(),</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                             BitWidth) - BitWidth;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  TrailZ = std::min(TrailZ, BitWidth);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  LeadZ = std::min(LeadZ, BitWidth);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, TrailZ) |</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;              <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, LeadZ);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Only make use of no-wrap flags if we failed to compute the sign bit</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// directly.  This matters if the multiplication always overflows, in</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// which case we prefer to follow the result of the direct computation,</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// though as the program is invoking undefined behaviour we can choose</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// whatever we like here.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (isKnownNonNegative &amp;&amp; !KnownOne.isNegative())</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    KnownZero.<a class="code" href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">setBit</a>(BitWidth - 1);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isKnownNegative &amp;&amp; !KnownZero.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>())</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    KnownOne.setBit(BitWidth - 1);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="namespacellvm.html#a78cc0bff962931776f866d3d7b5dda08">  195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a78cc0bff962931776f866d3d7b5dda08">llvm::computeMaskedBitsLoad</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> &amp;Ranges, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordtype">unsigned</span> NumRanges = Ranges.<a class="code" href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">getNumOperands</a>() / 2;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  assert(NumRanges &gt;= 1);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// Use the high end of the ranges to find leading zeros.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">unsigned</span> MinLeadingZeros = BitWidth;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumRanges; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Lower = cast&lt;ConstantInt&gt;(Ranges.<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 0));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Upper = cast&lt;ConstantInt&gt;(Ranges.<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1));</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Range(Lower-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>(), Upper-&gt;getValue());</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (Range.isWrappedSet())</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      MinLeadingZeros = 0; <span class="comment">// -1 has no zeros</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">unsigned</span> LeadingZeros = (Upper-&gt;getValue() - 1).<a class="code" href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">countLeadingZeros</a>();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    MinLeadingZeros = std::min(LeadingZeros, MinLeadingZeros);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, MinLeadingZeros);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}<span class="comment"></span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/// ComputeMaskedBits - Determine which of the bits are known to be either zero</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/// or one and return them in the KnownZero/KnownOne bit sets.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/// NOTE: we cannot consider &#39;undef&#39; to be &quot;IsZero&quot; here.  The problem is that</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">/// we cannot optimize based on the assumption that it is zero without changing</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/// it to be an explicit zero.  If we don&#39;t change it to zero, other code could</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/// optimized based on the contradictory assumption that it is non-zero.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// Because instcombine aggressively folds operations with undef args anyway,</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/// this won&#39;t lose us code quality.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/// This function is defined on values with integer type, values with pointer</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/// type (but only if TD is non-null), and vectors of integers.  In the case</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">/// where V is a vector, known zero, and known one values are the</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">/// same width as the vector element, and the bit is set only if it is true</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/// for all of the elements in the vector.</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">  229</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownZero, <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;KnownOne,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  assert(V &amp;&amp; <span class="stringliteral">&quot;No Value?&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  assert(Depth &lt;= <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a> &amp;&amp; <span class="stringliteral">&quot;Limit Search Depth&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  assert((V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3bd5e6108cd2c28c267d70e631a7b11a">isIntOrIntVectorTy</a>() ||</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <span class="stringliteral">&quot;Not integer or pointer type!&quot;</span>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  assert((!TD ||</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;          TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#add914112e0b2935dda06ad5dfd3a31db">getTypeSizeInBits</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()) == BitWidth) &amp;&amp;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;         (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3bd5e6108cd2c28c267d70e631a7b11a">isIntOrIntVectorTy</a>() ||</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>() == BitWidth) &amp;&amp;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == BitWidth &amp;&amp;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         KnownOne.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() == BitWidth &amp;&amp;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         <span class="stringliteral">&quot;V, Mask, KnownOne and KnownZero should have same BitWidth&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V)) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// We know all of the bits for a constant!</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    KnownOne = CI-&gt;getValue();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    KnownZero = ~KnownOne;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Null and aggregate-zero are all-zeros.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(V) ||</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      isa&lt;ConstantAggregateZero&gt;(V)) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    KnownOne.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    KnownZero = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Handle a constant vector by taking the intersection of the known bits of</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// each element.  There is no real need to handle ConstantVector here, because</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// we don&#39;t handle undef in any particularly useful way.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantDataSequential.html">ConstantDataSequential</a> *CDS = dyn_cast&lt;ConstantDataSequential&gt;(V)) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// We know that CDS must be a vector of integers. Take the intersection of</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// each element.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    KnownZero.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>(); KnownOne.<a class="code" href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">setAllBits</a>();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Elt(KnownZero.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 0);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CDS-&gt;getNumElements(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      Elt = CDS-&gt;getElementAsInteger(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      KnownZero &amp;= ~Elt;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      KnownOne &amp;= Elt;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// The address of an aligned GlobalValue has trailing zeros.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V)) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = GV-&gt;getAlignment();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (Align == 0 &amp;&amp; TD) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVar = dyn_cast&lt;GlobalVariable&gt;(GV)) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *ObjectType = GVar-&gt;getType()-&gt;getElementType();</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (ObjectType-&gt;<a class="code" href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">isSized</a>()) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <span class="comment">// If the object is defined in the current Module, we&#39;ll be giving</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          <span class="comment">// it the preferred alignment. Otherwise, we have to assume that it</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          <span class="comment">// may only have the minimum ABI alignment.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          <span class="keywordflow">if</span> (!GVar-&gt;isDeclaration() &amp;&amp; !GVar-&gt;isWeakForLinker())</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            Align = TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ac7d6bce6f39466f58c4a06593e226d4e">getPreferredAlignment</a>(GVar);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            Align = TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">getABITypeAlignment</a>(ObjectType);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (Align &gt; 0)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                       <a class="code" href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">countTrailingZeros</a>(Align));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      KnownZero.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    KnownOne.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// A weak GlobalAlias is totally unknown. A non-weak GlobalAlias has</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// the bits of its aliasee.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V)) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (GA-&gt;mayBeOverridden()) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      KnownZero.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>(); KnownOne.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(GA-&gt;getAliasee(), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;Argument&gt;(V)) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = 0;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;hasByValAttr()) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// Get alignment information off byval arguments if specified in the IR.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      Align = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getParamAlignment();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TD &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;hasStructRetAttr()) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// An sret parameter has at least the ABI alignment of the return type.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *EltTy = cast&lt;PointerType&gt;(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getType())-&gt;getElementType();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">if</span> (EltTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">isSized</a>())</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        Align = TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">getABITypeAlignment</a>(EltTy);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (Align)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, <a class="code" href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">countTrailingZeros</a>(Align));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// Start out not knowing anything.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  KnownZero.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>(); KnownOne.<a class="code" href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">clearAllBits</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">if</span> (Depth == <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span>;  <span class="comment">// Limit search depth.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(V);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (!I) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero2(KnownZero), KnownOne2(KnownOne);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>()) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MD = cast&lt;LoadInst&gt;(I)-&gt;getMetadata(<a class="code" href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da75f0c503935327915cc9325b04f23de4">LLVMContext::MD_range</a>))</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="namespacellvm.html#a78cc0bff962931776f866d3d7b5dda08">computeMaskedBitsLoad</a>(*MD, KnownZero);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>: {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// If either the LHS or the RHS are Zero, the result is zero.</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// Output known-1 bits are only known if set in both the LHS &amp; RHS.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    KnownOne &amp;= KnownOne2;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Output known-0 are known to be clear if zero in either the LHS | RHS.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    KnownZero |= KnownZero2;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>: {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// Output known-0 bits are only known if clear in both the LHS &amp; RHS.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    KnownZero &amp;= KnownZero2;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// Output known-1 are known to be set if set in either the LHS | RHS.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    KnownOne |= KnownOne2;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>: {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Output known-0 bits are known if clear or set in both the LHS &amp; RHS.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZeroOut = (KnownZero &amp; KnownZero2) | (KnownOne &amp; KnownOne2);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// Output known-1 are known to be set if set in only one of the LHS, RHS.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    KnownOne = (KnownZero &amp; KnownOne2) | (KnownOne &amp; KnownZero2);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    KnownZero = KnownZeroOut;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul: {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">bool</span> NSW = cast&lt;OverflowingBinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="ValueTracking_8cpp.html#ad8299c2e7a9af0966692fa8ad3930344">ComputeMaskedBitsMul</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), NSW,</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                         KnownZero, KnownOne, KnownZero2, KnownOne2, TD, Depth);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv: {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// For the purposes of computing leading zeros we can conservatively</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// treat a udiv as a logical right shift by the power of 2 known to</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// be less than the denominator.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">unsigned</span> LeadZ = KnownZero2.countLeadingOnes();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    KnownOne2.clearAllBits();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    KnownZero2.clearAllBits();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordtype">unsigned</span> RHSUnknownLeadingOnes = KnownOne2.countLeadingZeros();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (RHSUnknownLeadingOnes != BitWidth)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      LeadZ = std::min(BitWidth,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                       LeadZ + BitWidth - RHSUnknownLeadingOnes - 1);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, LeadZ);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">Instruction::Select</a>:</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero2, KnownOne2, TD,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                      Depth+1);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    assert((KnownZero2 &amp; KnownOne2) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// Only known if known in both the LHS and RHS.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    KnownOne &amp;= KnownOne2;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    KnownZero &amp;= KnownZero2;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">case</span> Instruction::FPTrunc:</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">case</span> Instruction::FPExt:</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">case</span> Instruction::FPToUI:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">case</span> Instruction::FPToSI:</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">case</span> Instruction::SIToFP:</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">case</span> Instruction::UIToFP:</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Can&#39;t work with floating point.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">case</span> Instruction::PtrToInt:</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">case</span> Instruction::IntToPtr:</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// We can&#39;t handle these if we don&#39;t know the pointer size.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (!TD) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// FALL THROUGH and handle them the same as zext/trunc.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc: {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">unsigned</span> SrcBitWidth;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Note that we handle pointer operands here because of inttoptr/ptrtoint</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// which fall through here.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span>(TD) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      SrcBitWidth = TD-&gt;getTypeSizeInBits(SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>());</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      SrcBitWidth = SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">if</span> (!SrcBitWidth) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    assert(SrcBitWidth &amp;&amp; <span class="stringliteral">&quot;SrcBitWidth can&#39;t be zero&quot;</span>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    KnownZero = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a7fe47410bb825eccb20f010dab13c72f">zextOrTrunc</a>(SrcBitWidth);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    KnownOne = KnownOne.<a class="code" href="classllvm_1_1APInt.html#a7fe47410bb825eccb20f010dab13c72f">zextOrTrunc</a>(SrcBitWidth);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    KnownZero = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a7fe47410bb825eccb20f010dab13c72f">zextOrTrunc</a>(BitWidth);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    KnownOne = KnownOne.<a class="code" href="classllvm_1_1APInt.html#a7fe47410bb825eccb20f010dab13c72f">zextOrTrunc</a>(BitWidth);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// Any top bits are known to be zero.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (BitWidth &gt; SrcBitWidth)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      KnownZero |= <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, BitWidth - SrcBitWidth);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast: {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> ((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="comment">// TODO: For now, not handling conversions like:</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// (bitcast i64 %x to &lt;2 x i32&gt;)</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        !I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>()) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt: {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// Compute the bits in the result that are not present in the input.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordtype">unsigned</span> SrcBitWidth = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    KnownZero = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(SrcBitWidth);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    KnownOne = KnownOne.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(SrcBitWidth);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    KnownZero = KnownZero.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(BitWidth);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    KnownOne = KnownOne.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(BitWidth);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// If the sign bit of the input is known set or clear, then we know the</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// top bits of the result.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (KnownZero[SrcBitWidth-1])             <span class="comment">// Input sign bit known zero</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      KnownZero |= <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, BitWidth - SrcBitWidth);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (KnownOne[SrcBitWidth-1])           <span class="comment">// Input sign bit known set</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      KnownOne |= <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, BitWidth - SrcBitWidth);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// (shl X, C1) &amp; C2 == 0   iff   (X &amp; C2 &gt;&gt;u C1) == 0</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      uint64_t ShiftAmt = SA-&gt;getLimitedValue(BitWidth);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      KnownZero &lt;&lt;= ShiftAmt;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      KnownOne  &lt;&lt;= ShiftAmt;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      KnownZero |= <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, ShiftAmt); <span class="comment">// low bits known 0</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// (ushr X, C1) &amp; C2 == 0   iff  (-1 &gt;&gt; C1) &amp; C2 == 0</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="comment">// Compute the new bits that are at the top now.</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      uint64_t ShiftAmt = SA-&gt;getLimitedValue(BitWidth);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">// Unsigned shift right.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero,KnownOne, TD, Depth+1);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      KnownZero = <a class="code" href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">APIntOps::lshr</a>(KnownZero, ShiftAmt);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      KnownOne  = <a class="code" href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">APIntOps::lshr</a>(KnownOne, ShiftAmt);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="comment">// high bits known zero.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      KnownZero |= <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, ShiftAmt);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// (ashr X, C1) &amp; C2 == 0   iff  (-1 &gt;&gt; C1) &amp; C2 == 0</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="comment">// Compute the new bits that are at the top now.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      uint64_t ShiftAmt = SA-&gt;getLimitedValue(BitWidth-1);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="comment">// Signed shift right.</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      KnownZero = <a class="code" href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">APIntOps::lshr</a>(KnownZero, ShiftAmt);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      KnownOne  = <a class="code" href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">APIntOps::lshr</a>(KnownOne, ShiftAmt);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> HighBits(<a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, ShiftAmt));</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (KnownZero[BitWidth-ShiftAmt-1])    <span class="comment">// New bits are known zero.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        KnownZero |= HighBits;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (KnownOne[BitWidth-ShiftAmt-1])  <span class="comment">// New bits are known one.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        KnownOne |= HighBits;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub: {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">bool</span> NSW = cast&lt;OverflowingBinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a>(<span class="keyword">false</span>, I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), NSW,</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                            KnownZero, KnownOne, KnownZero2, KnownOne2, TD,</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                            Depth);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">case</span> Instruction::Add: {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">bool</span> NSW = cast&lt;OverflowingBinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a>(<span class="keyword">true</span>, I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), NSW,</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                            KnownZero, KnownOne, KnownZero2, KnownOne2, TD,</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                            Depth);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Rem = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> RA = Rem-&gt;getValue().<a class="code" href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">abs</a>();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>()) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> LowBits = RA - 1;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// The low bits of the first operand are unchanged by the srem.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        KnownZero = KnownZero2 &amp; LowBits;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        KnownOne = KnownOne2 &amp; LowBits;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// If the first operand is non-negative or has all low bits zero, then</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment">// the upper bits are all zero.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (KnownZero2[BitWidth-1] || ((KnownZero2 &amp; LowBits) == LowBits))</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          KnownZero |= ~LowBits;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// If the first operand is negative and not all low bits are zero, then</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// the upper bits are all one.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (KnownOne2[BitWidth-1] &amp;&amp; ((KnownOne2 &amp; LowBits) != 0))</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          KnownOne |= ~LowBits;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// The sign bit is the LHS&#39;s sign bit, except when the result of the</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// remainder is zero.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (KnownZero.<a class="code" href="classllvm_1_1APInt.html#a28b816a2b6d88476edb2af52948f29ec">isNonNegative</a>()) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSKnownZero(BitWidth, 0), LHSKnownOne(BitWidth, 0);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), LHSKnownZero, LHSKnownOne, TD,</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        Depth+1);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="comment">// If it&#39;s known zero, our sign bit is also zero.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">if</span> (LHSKnownZero.isNegative())</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        KnownZero.<a class="code" href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">setBit</a>(BitWidth - 1);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">case</span> Instruction::URem: {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Rem = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> RA = Rem-&gt;getValue();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">isPowerOf2</a>()) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> LowBits = (RA - 1);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD,</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                          Depth+1);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        KnownZero |= ~LowBits;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        KnownOne &amp;= LowBits;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Since the result is less than or equal to either operand, any leading</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// zero bits in either operand must also exist in the result.</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordtype">unsigned</span> Leaders = std::max(KnownZero.<a class="code" href="classllvm_1_1APInt.html#ab7a62c4beaed93a09ac3fde3b1b0b01f">countLeadingOnes</a>(),</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                KnownZero2.countLeadingOnes());</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    KnownOne.clearAllBits();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, Leaders);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">case</span> Instruction::Alloca: {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = cast&lt;AllocaInst&gt;(V);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">getAlignment</a>();</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (Align == 0 &amp;&amp; TD)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      Align = TD-&gt;getABITypeAlignment(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (Align &gt; 0)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, <a class="code" href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">countTrailingZeros</a>(Align));</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr: {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// Analyze all of the subscripts of this getelementptr instruction</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// to determine if we can prove known low zero bits.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> LocalKnownZero(BitWidth, 0), LocalKnownOne(BitWidth, 0);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), LocalKnownZero, LocalKnownOne, TD,</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                      Depth+1);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">unsigned</span> TrailZ = LocalKnownZero.countTrailingOnes();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(I);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = I-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++GTI) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Index = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// Handle struct member offset arithmetic.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span> (!TD)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">// Handle case when index is vector zeroinitializer</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CIndex = cast&lt;Constant&gt;(Index);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">if</span> (CIndex-&gt;<a class="code" href="classllvm_1_1Constant.html#aa61f2c732f136e0dcbaaf1a09c9fb2a8">isZeroValue</a>())</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">if</span> (CIndex-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;          Index = CIndex-&gt;<a class="code" href="classllvm_1_1Constant.html#afd3c51a1fe84d166b161f1b96f2d0cee">getSplatValue</a>();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordtype">unsigned</span> Idx = cast&lt;ConstantInt&gt;(Index)-&gt;getZExtValue();</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1StructLayout.html">StructLayout</a> *SL = TD-&gt;getStructLayout(STy);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        uint64_t Offset = SL-&gt;<a class="code" href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(Idx);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        TrailZ = std::min&lt;unsigned&gt;(TrailZ,</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                                    <a class="code" href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">countTrailingZeros</a>(Offset));</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="comment">// Handle array index arithmetic.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *IndexedTy = GTI.<a class="code" href="classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">getIndexedType</a>();</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">if</span> (!IndexedTy-&gt;<a class="code" href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">isSized</a>()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordtype">unsigned</span> GEPOpiBits = Index-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        uint64_t TypeSize = TD ? TD-&gt;getTypeAllocSize(IndexedTy) : 1;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        LocalKnownZero = LocalKnownOne = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(GEPOpiBits, 0);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(Index, LocalKnownZero, LocalKnownOne, TD, Depth+1);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        TrailZ = std::min(TrailZ,</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                          <span class="keywordtype">unsigned</span>(<a class="code" href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">countTrailingZeros</a>(TypeSize) +</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                   LocalKnownZero.countTrailingOnes()));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, TrailZ);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">Instruction::PHI</a>: {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// Handle the case of a simple two-predecessor recurrence PHI.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// There&#39;s a lot more that could theoretically be done here, but</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">// this is sufficient to catch some interesting cases.</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span> (P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>() == 2) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != 2; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *L = P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *R = P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(!<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="classllvm_1_1Operator.html">Operator</a> *LU = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(L);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">if</span> (!LU)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordtype">unsigned</span> Opcode = LU-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="comment">// Check for operations that have the property that if</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="comment">// both their operands have low zero bits, the result</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment">// will have low zero bits.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span> (Opcode == Instruction::Add ||</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            Opcode == Instruction::Sub ||</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            Opcode == <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a> ||</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            Opcode == <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a> ||</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            Opcode == Instruction::Mul) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *LL = LU-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *LR = LU-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <span class="comment">// Find a recurrence.</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          <span class="keywordflow">if</span> (LL == I)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            L = LR;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LR == I)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            L = LL;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          <span class="comment">// Ok, we have a PHI of the form L op= R. Check for low</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <span class="comment">// zero bits.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(R, KnownZero2, KnownOne2, TD, Depth+1);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <span class="comment">// We need to take the minimum number of known bits</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero3(KnownZero), KnownOne3(KnownOne);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(L, KnownZero3, KnownOne3, TD, Depth+1);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;          KnownZero = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth,</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                                           std::min(KnownZero2.countTrailingOnes(),</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                                                    KnownZero3.countTrailingOnes()));</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// Unreachable blocks may have zero-operand PHI nodes.</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>() == 0)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// Otherwise take the unions of the known bit sets of the operands,</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// taking conservative care to avoid excessive recursion.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (Depth &lt; <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a> - 1 &amp;&amp; !KnownZero &amp;&amp; !KnownOne) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="comment">// Skip if every incoming value references to ourself.</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">if</span> (dyn_cast_or_null&lt;UndefValue&gt;(P-&gt;<a class="code" href="classllvm_1_1PHINode.html#ab421865744bd8b5aea08be18e86c6aa5">hasConstantValue</a>()))</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      KnownZero = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      KnownOne = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(BitWidth);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="comment">// Skip direct self references.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">if</span> (P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        KnownZero2 = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 0);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        KnownOne2 = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 0);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// Recurse, but cap the recursion to one level, because we don&#39;t</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// want to waste time spinning around in loops.</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(P-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), KnownZero2, KnownOne2, TD,</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                          <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>-1);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        KnownZero &amp;= KnownZero2;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        KnownOne &amp;= KnownOne2;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="comment">// If all bits have been ruled out, there&#39;s no need to check</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="comment">// more operands.</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">if</span> (!KnownZero &amp;&amp; !KnownOne)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Instruction::Call</a>:</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(I)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aec4d763aa35e2d7933293967ebf71d89">Intrinsic::ctlz</a>:</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4">Intrinsic::cttz</a>: {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordtype">unsigned</span> LowBits = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(BitWidth)+1;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment">// If this call is undefined for 0, the result will be less than 2^n.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span> (II-&gt;getArgOperand(1) == <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(II-&gt;getContext()))</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;          LowBits -= 1;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, BitWidth - LowBits);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a71901b588a9f2b63c6a878ad6c20dc32">Intrinsic::ctpop</a>: {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordtype">unsigned</span> LowBits = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">Log2_32</a>(BitWidth)+1;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(BitWidth, BitWidth - LowBits);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a485a50c87ee70213743c74943662da42">Intrinsic::x86_sse42_crc32_64_64</a>:</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        KnownZero = <a class="code" href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">APInt::getHighBitsSet</a>(64, 32);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">case</span> Instruction::ExtractValue:</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0))) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *EVI = cast&lt;ExtractValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">if</span> (EVI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#accfb950dd96959bfa9d44451540d088a">getNumIndices</a>() != 1) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">if</span> (EVI-&gt;<a class="code" href="classllvm_1_1ExtractValueInst.html#aabcc9d0c7c5b68bf66032d1c1c1aa4dd">getIndices</a>()[0] == 0) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907">Intrinsic::uadd_with_overflow</a>:</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">Intrinsic::sadd_with_overflow</a>:</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          <a class="code" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a>(<span class="keyword">true</span>, II-&gt;getArgOperand(0),</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                  II-&gt;getArgOperand(1), <span class="keyword">false</span>, KnownZero,</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                  KnownOne, KnownZero2, KnownOne2, TD, Depth);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acd74a673807c129d89e2456d8d2e566d">Intrinsic::usub_with_overflow</a>:</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1558c7c51d5102374564fd690d19df99">Intrinsic::ssub_with_overflow</a>:</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          <a class="code" href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a>(<span class="keyword">false</span>, II-&gt;getArgOperand(0),</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                  II-&gt;getArgOperand(1), <span class="keyword">false</span>, KnownZero,</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                  KnownOne, KnownZero2, KnownOne2, TD, Depth);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a95107a51be6c979110631a4c9145d6e0">Intrinsic::umul_with_overflow</a>:</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a534c8dc56785061e35fb476480d11a3d">Intrinsic::smul_with_overflow</a>:</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          <a class="code" href="ValueTracking_8cpp.html#ad8299c2e7a9af0966692fa8ad3930344">ComputeMaskedBitsMul</a>(II-&gt;getArgOperand(0), II-&gt;getArgOperand(1),</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                               <span class="keyword">false</span>, KnownZero, KnownOne,</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                               KnownZero2, KnownOne2, TD, Depth);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">/// ComputeSignBit - Determine whether the sign bit is known to be zero or</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">/// one.  Convenience wrapper around ComputeMaskedBits.</span></div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">  802</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">llvm::ComputeSignBit</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">bool</span> &amp;KnownZero, <span class="keywordtype">bool</span> &amp;KnownOne,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = <a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), TD);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (!BitWidth) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    KnownZero = <span class="keyword">false</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    KnownOne = <span class="keyword">false</span>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ZeroBits(BitWidth, 0);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> OneBits(BitWidth, 0);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(V, ZeroBits, OneBits, TD, Depth);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  KnownOne = OneBits[BitWidth - 1];</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  KnownZero = ZeroBits[BitWidth - 1];</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">/// isKnownToBeAPowerOfTwo - Return true if the given value is known to have exactly one</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">/// bit set when defined. For vectors return true if every element is known to</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">/// be a power of two when defined.  Supports values with integer or pointer</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">/// types and vectors of integers.</span></div><div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">  821</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">llvm::isKnownToBeAPowerOfTwo</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">bool</span> OrZero, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V)) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">return</span> OrZero;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">return</span> CI-&gt;getValue().isPowerOf2();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// TODO: Handle vector constants.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// 1 &lt;&lt; X is clearly a power of two if the one is not shifted off the end.  If</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// it is shifted off the end then the result is undefined.</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// (signbit) &gt;&gt;l X is clearly a power of two if the one is not shifted off the</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// bottom.  If it is shifted off the bottom then the result is undefined.</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#ad828a9d7323b25627466cd0d72b79382">m_SignBit</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// The remaining tests are all recursive, so bail out if we hit the limit.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (Depth++ == <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = 0, *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = 0;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// A shift of a power of two is a power of two or zero.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">if</span> (OrZero &amp;&amp; (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                 <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8429e9826885bbef0cfb350bbc49f5db">m_Shr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))))</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(X, <span class="comment">/*OrZero*/</span><span class="keyword">true</span>, Depth);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ZExtInst.html">ZExtInst</a> *ZI = dyn_cast&lt;ZExtInst&gt;(V))</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(ZI-&gt;getOperand(0), OrZero, Depth);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = dyn_cast&lt;SelectInst&gt;(V))</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(SI-&gt;getTrueValue(), OrZero, Depth) &amp;&amp;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(SI-&gt;getFalseValue(), OrZero, Depth);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">if</span> (OrZero &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// A power of two and&#39;d with anything is a power of two or zero.</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(X, <span class="comment">/*OrZero*/</span><span class="keyword">true</span>, Depth) ||</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <span class="comment">/*OrZero*/</span><span class="keyword">true</span>, Depth))</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">// X &amp; (-X) is always a power of two or zero.</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(X, <a class="code" href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>))) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(X))))</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// Adding a power-of-two or zero to the same power-of-two or zero yields</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// either the original power-of-two, a larger power-of-two or zero.</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a> *VOBO = cast&lt;OverflowingBinaryOperator&gt;(V);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (OrZero || VOBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">hasNoUnsignedWrap</a>() || VOBO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a5a1ebefdf12a23a94f8a135cdfa0cd90">hasNoSignedWrap</a>()) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(X, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(X, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>))))</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, OrZero, Depth))</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())) ||</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(X))))</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(X, OrZero, Depth))</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> LHSZeroBits(BitWidth, 0), LHSOneBits(BitWidth, 0);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(X, LHSZeroBits, LHSOneBits, 0, Depth);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> RHSZeroBits(BitWidth, 0), RHSOneBits(BitWidth, 0);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, RHSZeroBits, RHSOneBits, 0, Depth);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="comment">// If i8 V is a power of two or zero:</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="comment">//  ZeroBits: 1 1 1 0 1 1 1 1</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="comment">// ~ZeroBits: 0 0 0 1 0 0 0 0</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">if</span> ((~(LHSZeroBits &amp; RHSZeroBits)).isPowerOf2())</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="comment">// If OrZero isn&#39;t set, we cannot give back a zero result.</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// Make sure either the LHS or RHS has a bit set.</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span> (OrZero || RHSOneBits.<a class="code" href="classllvm_1_1APInt.html#ac8be1ee0c47d9e47e567fa353f987ed5">getBoolValue</a>() || LHSOneBits.<a class="code" href="classllvm_1_1APInt.html#ac8be1ee0c47d9e47e567fa353f987ed5">getBoolValue</a>())</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// An exact divide or right shift can only shift off zero bits, so the result</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// is a power of two only if the first operand is a power of two and not</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="comment">// copying a sign bit (sdiv int_min, 2).</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) ||</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(cast&lt;Operator&gt;(V)-&gt;getOperand(0), OrZero, Depth);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;}</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">/// \brief Test whether a GEP&#39;s result is known to be non-null.</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">/// Uses properties inherent in a GEP to try to determine whether it is known</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">/// to be non-null.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">/// Currently this routine does not support vector GEPs.</span></div><div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#ad69f386e70dc2ed50e03d75bdcf989df">  916</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ValueTracking_8cpp.html#ad69f386e70dc2ed50e03d75bdcf989df">isGEPKnownNonNull</a>(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *DL,</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                              <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">if</span> (!GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">isInBounds</a>() || GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#a09322a290a7c24694ca1813237f7d9c9">getPointerAddressSpace</a>() != 0)</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// FIXME: Support vector-GEPs.</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  assert(GEP-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;We only support plain pointer GEP&quot;</span>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// If the base pointer is non-null, we cannot walk to a null address with an</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// inbounds GEP in address space zero.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#a3e7aed6d56bdb4dfdb9faf5821d159d6">getPointerOperand</a>(), DL, Depth))</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Past this, if we don&#39;t have DataLayout, we can&#39;t do much.</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (!DL)</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// Walk the GEP operands and see if any operand introduces a non-zero offset.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// If so, then the GEP cannot produce a null pointer, as doing so would</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// inherently violate the inbounds contract within address space zero.</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(GEP), GTE = <a class="code" href="namespacellvm.html#a43c6ebb4fd35ebd815d66a2df4eed0b9">gep_type_end</a>(GEP);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;       GTI != GTE; ++GTI) {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// Struct types are easy -- they must always be indexed by a constant.</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *OpC = cast&lt;ConstantInt&gt;(GTI.getOperand());</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordtype">unsigned</span> ElementIdx = OpC-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1StructLayout.html">StructLayout</a> *SL = DL-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a35c840104f32575e0d91422cf1ef3ce4">getStructLayout</a>(STy);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      uint64_t ElementOffset = SL-&gt;<a class="code" href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(ElementIdx);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">if</span> (ElementOffset &gt; 0)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="comment">// If we have a zero-sized type, the index doesn&#39;t matter. Keep looping.</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (DL-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(GTI.getIndexedType()) == 0)</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// Fast path the constant operand case both for efficiency and so we don&#39;t</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// increment Depth when just zipping down an all-constant GEP.</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *OpC = dyn_cast&lt;ConstantInt&gt;(GTI.getOperand())) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">if</span> (!OpC-&gt;isZero())</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// We post-increment Depth here because while isKnownNonZero increments it</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// as well, when we pop back up that increment won&#39;t persist. We don&#39;t want</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// to recurse 10k times just because we have 10k GEP operands. We don&#39;t</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">// bail completely out because we want to handle constant GEPs regardless</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// of depth.</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (Depth++ &gt;= <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>)</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(GTI.getOperand(), DL, Depth))</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;}</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">/// isKnownNonZero - Return true if the given value is known to be non-zero</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">/// when defined.  For vectors return true if every element is known to be</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">/// non-zero when defined.  Supports values with integer or pointer type and</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">/// vectors of integers.</span></div><div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">  980</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">llvm::isKnownNonZero</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V)) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="comment">// Must be non-zero due to null test above.</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// TODO: Handle vectors</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">// The remaining tests are all recursive, so bail out if we hit the limit.</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">if</span> (Depth++ &gt;= <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>)</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// Check for pointer simplifications.</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">isKnownNonNull</a>(V))</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>; </div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(V))</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ValueTracking_8cpp.html#ad69f386e70dc2ed50e03d75bdcf989df">isGEPKnownNonNull</a>(GEP, TD, Depth))</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  }</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = <a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>(), TD);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">// X | Y != 0 if X != 0 or Y != 0.</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = 0, *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = 0;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>))))</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth) || <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, TD, Depth);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// ext X != 0 if X != 0.</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SExtInst&gt;(V) || isa&lt;ZExtInst&gt;(V))</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(cast&lt;Instruction&gt;(V)-&gt;getOperand(0), TD, Depth);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// shl X, Y != 0 if X is odd.  Note that the value of the shift is undefined</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// if the lowest bit is shifted off the end.</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (BitWidth &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// shl nuw can&#39;t remove any non-zero bits.</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a> *BO = cast&lt;OverflowingBinaryOperator&gt;(V);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">hasNoUnsignedWrap</a>())</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(BitWidth, 0);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownOne(BitWidth, 0);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(X, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (KnownOne[0])</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// shr X, Y != 0 if X is negative.  Note that the value of the shift is not</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// defined if the sign bit is shifted off the end.</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8429e9826885bbef0cfb350bbc49f5db">m_Shr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// shr exact can only shift out zero bits.</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="classllvm_1_1PossiblyExactOperator.html">PossiblyExactOperator</a> *BO = cast&lt;PossiblyExactOperator&gt;(V);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span> (BO-&gt;<a class="code" href="classllvm_1_1PossiblyExactOperator.html#aab2ebc5edbe3f0052e43feb33cdf6754">isExact</a>())</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordtype">bool</span> XKnownNonNegative, XKnownNegative;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(X, XKnownNonNegative, XKnownNegative, TD, Depth);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span> (XKnownNegative)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// div exact can only produce a zero if the dividend is zero.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a44d1e9e73bc9862b44a3037cefc34036">m_IDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>())))) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// X + Y.</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordtype">bool</span> XKnownNonNegative, XKnownNegative;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordtype">bool</span> YKnownNonNegative, YKnownNegative;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(X, XKnownNonNegative, XKnownNegative, TD, Depth);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, YKnownNonNegative, YKnownNegative, TD, Depth);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="comment">// If X and Y are both non-negative (as signed values) then their sum is not</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="comment">// zero unless both X and Y are zero.</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (XKnownNonNegative &amp;&amp; YKnownNonNegative)</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth) || <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, TD, Depth))</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">// If X and Y are both negative (as signed values) then their sum is not</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="comment">// zero unless both X and Y equal INT_MIN.</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> (BitWidth &amp;&amp; XKnownNegative &amp;&amp; YKnownNegative) {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(BitWidth, 0);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownOne(BitWidth, 0);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="comment">// The sign bit of X is set.  If some other bit is set then X is not equal</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="comment">// to INT_MIN.</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(X, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">if</span> ((KnownOne &amp; Mask) != 0)</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="comment">// The sign bit of Y is set.  If some other bit is set then Y is not equal</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="comment">// to INT_MIN.</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">if</span> ((KnownOne &amp; Mask) != 0)</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="comment">// The sum of a non-negative number and a power of two is not zero.</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (XKnownNonNegative &amp;&amp; <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <span class="comment">/*OrZero*/</span><span class="keyword">false</span>, Depth))</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> (YKnownNonNegative &amp;&amp; <a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(X, <span class="comment">/*OrZero*/</span><span class="keyword">false</span>, Depth))</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// X * Y.</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(V, <a class="code" href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">m_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)))) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a> *BO = cast&lt;OverflowingBinaryOperator&gt;(V);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// If X and Y are non-zero then so is X * Y as long as the multiplication</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// does not overflow.</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> ((BO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a5a1ebefdf12a23a94f8a135cdfa0cd90">hasNoSignedWrap</a>() || BO-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">hasNoUnsignedWrap</a>()) &amp;&amp;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(X, TD, Depth) &amp;&amp; <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, TD, Depth))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// (C ? X : Y) != 0 if X != 0 and Y != 0.</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = dyn_cast&lt;SelectInst&gt;(V)) {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(SI-&gt;getTrueValue(), TD, Depth) &amp;&amp;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(SI-&gt;getFalseValue(), TD, Depth))</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">if</span> (!BitWidth) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(BitWidth, 0);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownOne(BitWidth, 0);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(V, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">return</span> KnownOne != 0;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">/// MaskedValueIsZero - Return true if &#39;V &amp; Mask&#39; is known to be zero.  We use</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">/// this predicate to simplify operations downstream.  Mask is known to be zero</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">/// for bits that V cannot have.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">/// This function is defined on values with integer type, values with pointer</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">/// type (but only if TD is non-null), and vectors of integers.  In the case</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">/// where V is a vector, the mask, known zero, and known one values are the</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">/// same width as the vector element, and the bit is set only if it is true</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">/// for all of the elements in the vector.</span></div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8bc4c3e77e6f3d6c54b8b4504393dfa7"> 1115</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a8bc4c3e77e6f3d6c54b8b4504393dfa7">llvm::MaskedValueIsZero</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Mask,</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(Mask.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 0), KnownOne(Mask.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 0);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(V, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  assert((KnownZero &amp; KnownOne) == 0 &amp;&amp; <span class="stringliteral">&quot;Bits known to be one AND zero?&quot;</span>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keywordflow">return</span> (KnownZero &amp; Mask) == Mask;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;}</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">/// ComputeNumSignBits - Return the number of times the sign bit of the</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">/// register is replicated into the other bits.  We know that at least 1 bit</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">/// is always equal to the sign bit (itself), but other cases can give us</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">/// information.  For example, immediately after an &quot;ashr X, 2&quot;, we know that</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">/// the top 3 bits are all equal to each other, so we return 3.</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">/// &#39;Op&#39; must have a scalar integer type.</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01133"></a><span class="lineno"><a class="line" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb"> 1133</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">llvm::ComputeNumSignBits</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                                  <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  assert((TD || V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a3bd5e6108cd2c28c267d70e631a7b11a">isIntOrIntVectorTy</a>()) &amp;&amp;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <span class="stringliteral">&quot;ComputeNumSignBits requires a DataLayout object to operate &quot;</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         <span class="stringliteral">&quot;on non-integer values!&quot;</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordtype">unsigned</span> TyBits = TD ? TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#add914112e0b2935dda06ad5dfd3a31db">getTypeSizeInBits</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()) :</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                         Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordtype">unsigned</span> Tmp, Tmp2;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordtype">unsigned</span> FirstAnswer = 1;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// Note that ConstantInt is handled by the general ComputeMaskedBits case</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// below.</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">if</span> (Depth == 6)</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">return</span> 1;  <span class="comment">// Limit search depth.</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *U = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(V);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(V)) {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    Tmp = TyBits - U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>();</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1) + Tmp;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr: {</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">// ashr X, C   -&gt; adds C sign bits.  Vectors too.</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShAmt;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmt))) {</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      Tmp += ShAmt-&gt;<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>();</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> (Tmp &gt; TyBits) Tmp = TyBits;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> Tmp;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl: {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *ShAmt;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">m_APInt</a>(ShAmt))) {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="comment">// shl destroys sign bits.</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      Tmp2 = ShAmt-&gt;<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>();</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">if</span> (Tmp2 &gt;= TyBits ||      <span class="comment">// Bad shift.</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;          Tmp2 &gt;= Tmp) <span class="keywordflow">break</span>;    <span class="comment">// Shifted all sign bits out.</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">return</span> Tmp - Tmp2;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>:</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>:    <span class="comment">// NOT is handled here.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">// Logical binary ops preserve the number of sign bits at the worst.</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">if</span> (Tmp != 1) {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      Tmp2 = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, Depth+1);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      FirstAnswer = std::min(Tmp, Tmp2);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <span class="comment">// We computed what we know about the sign bits as our first</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="comment">// answer. Now proceed to the generic code that uses</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="comment">// ComputeMaskedBits, and pick whichever answer is better.</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">Instruction::Select</a>:</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, Depth+1);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (Tmp == 1) <span class="keywordflow">return</span> 1;  <span class="comment">// Early out.</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    Tmp2 = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2), TD, Depth+1);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span> std::min(Tmp, Tmp2);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">case</span> Instruction::Add:</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// Add can have at most one carry bit.  Thus we know that the output</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">// is, at worst, one more bit than the inputs.</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (Tmp == 1) <span class="keywordflow">return</span> 1;  <span class="comment">// Early out.</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Special case decrementing a value (ADD X, -1):</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CRHS = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)))</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">if</span> (CRHS-&gt;isAllOnesValue()) {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(TyBits, 0), KnownOne(TyBits, 0);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="comment">// If the input is known to be 0 or 1, the output is 0/-1, which is all</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">// sign bits set.</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordflow">if</span> ((KnownZero | <a class="code" href="classllvm_1_1APInt.html">APInt</a>(TyBits, 1)).isAllOnesValue())</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;          <span class="keywordflow">return</span> TyBits;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">// If we are subtracting one from a positive number, there is no carry</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="comment">// out of the result.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">if</span> (KnownZero.isNegative())</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;          <span class="keywordflow">return</span> Tmp;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      }</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    Tmp2 = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, Depth+1);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">if</span> (Tmp2 == 1) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">return</span> std::min(Tmp, Tmp2)-1;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    Tmp2 = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, Depth+1);</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (Tmp2 == 1) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// Handle NEG.</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CLHS = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)))</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">if</span> (CLHS-&gt;isNullValue()) {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(TyBits, 0), KnownOne(TyBits, 0);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), KnownZero, KnownOne, TD, Depth+1);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="comment">// If the input is known to be 0 or 1, the output is 0/-1, which is all</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="comment">// sign bits set.</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="keywordflow">if</span> ((KnownZero | <a class="code" href="classllvm_1_1APInt.html">APInt</a>(TyBits, 1)).isAllOnesValue())</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          <span class="keywordflow">return</span> TyBits;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="comment">// If the input is known to be positive (the sign bit is known clear),</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="comment">// the output of the NEG has the same number of sign bits as the input.</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">if</span> (KnownZero.isNegative())</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;          <span class="keywordflow">return</span> Tmp2;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="comment">// Otherwise, we treat this like a SUB.</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">// Sub can have at most one carry bit.  Thus we know that the output</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// is, at worst, one more bit than the inputs.</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), TD, Depth+1);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (Tmp == 1) <span class="keywordflow">return</span> 1;  <span class="comment">// Early out.</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">return</span> std::min(Tmp, Tmp2)-1;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">Instruction::PHI</a>: {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(U);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="comment">// Don&#39;t analyze large in-degree PHIs.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>() &gt; 4) <span class="keywordflow">break</span>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">// Take the minimum of all incoming values.  This can&#39;t infinitely loop</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// because of our depth threshold.</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    Tmp = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(0), TD, Depth+1);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <span class="keywordflow">if</span> (Tmp == 1) <span class="keywordflow">return</span> Tmp;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      Tmp = std::min(Tmp,</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                     <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), TD, Depth+1));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">return</span> Tmp;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// FIXME: it&#39;s tricky to do anything useful for this, but it is an important</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// case for targets like X86.</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  }</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="comment">// Finally, if we can prove that the top bits of the result are 0&#39;s or 1&#39;s,</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="comment">// use this information.</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(TyBits, 0), KnownOne(TyBits, 0);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mask;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(V, KnownZero, KnownOne, TD, Depth);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">if</span> (KnownZero.isNegative()) {        <span class="comment">// sign bit is 0</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    Mask = KnownZero;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (KnownOne.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>()) {  <span class="comment">// sign bit is 1;</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    Mask = KnownOne;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">// Nothing known.</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">return</span> FirstAnswer;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// Okay, we know that the sign bit in Mask is set.  Use CLZ to determine</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// the number of identical bits in the top of the input value.</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  Mask = ~Mask;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  Mask &lt;&lt;= Mask.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()-TyBits;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// Return # leading zeros.  We use &#39;min&#39; here in case Val was zero before</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="comment">// shifting.  We don&#39;t want to return &#39;64&#39; as for an i32 &quot;0&quot;.</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">return</span> std::max(FirstAnswer, std::min(TyBits, Mask.<a class="code" href="classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">countLeadingZeros</a>()));</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">/// ComputeMultiple - This function computes the integer multiple of Base that</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">/// equals V.  If successful, it returns true and returns the multiple in</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">/// Multiple.  If unsuccessful, it returns false. It looks</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">/// through SExt instructions only if LookThroughSExt is true.</span></div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc"> 1304</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc">llvm::ComputeMultiple</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">unsigned</span> Base, <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Multiple,</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                           <span class="keywordtype">bool</span> LookThroughSExt, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a> = 6;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  assert(V &amp;&amp; <span class="stringliteral">&quot;No Value?&quot;</span>);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  assert(Depth &lt;= MaxDepth &amp;&amp; <span class="stringliteral">&quot;Limit Search Depth&quot;</span>);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Not integer or pointer type!&quot;</span>);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a> = V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(V);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">if</span> (Base == 0)</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordflow">if</span> (Base == 1) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    Multiple = V;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CO = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a>&gt;(V);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *BaseVal = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(T, Base);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordflow">if</span> (CO &amp;&amp; CO == BaseVal) {</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">// Multiple is 1.</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    Multiple = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(T, 1);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  }</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">if</span> (CI &amp;&amp; CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>() % Base == 0) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    Multiple = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(T, CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>() / Base);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">if</span> (Depth == MaxDepth) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Limit search depth.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(V);</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">if</span> (!I) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>()) {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (!LookThroughSExt) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">// otherwise fall through to ZExt</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc">ComputeMultiple</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Base, Multiple,</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                           LookThroughSExt, Depth+1);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul: {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1 = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>() == Instruction::Shl) {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Op1CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(Op1);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">if</span> (!Op1CI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="comment">// Turn Op0 &lt;&lt; Op1 into Op0 * 2^Op1</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Op1Int = Op1CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      uint64_t BitToSet = Op1Int.<a class="code" href="classllvm_1_1APInt.html#ae0c5e70885cf005feb6707932774f99c">getLimitedValue</a>(Op1Int.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() - 1);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> API(Op1Int.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), 0);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      API.<a class="code" href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">setBit</a>(BitToSet);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      Op1 = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), API);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Mul0 = NULL;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc">ComputeMultiple</a>(Op0, Base, Mul0, LookThroughSExt, Depth+1)) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Op1C = dyn_cast&lt;Constant&gt;(Op1))</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *MulC = dyn_cast&lt;Constant&gt;(Mul0)) {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          <span class="keywordflow">if</span> (Op1C-&gt;getType()-&gt;getPrimitiveSizeInBits() &lt;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;              MulC-&gt;getType()-&gt;getPrimitiveSizeInBits())</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            Op1C = <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(Op1C, MulC-&gt;getType());</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;          <span class="keywordflow">if</span> (Op1C-&gt;getType()-&gt;getPrimitiveSizeInBits() &gt;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;              MulC-&gt;getType()-&gt;getPrimitiveSizeInBits())</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            MulC = <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(MulC, Op1C-&gt;getType());</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;          <span class="comment">// V == Base * (Mul0 * Op1), so return (Mul0 * Op1)</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;          Multiple = <a class="code" href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">ConstantExpr::getMul</a>(MulC, Op1C);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Mul0CI = dyn_cast&lt;ConstantInt&gt;(Mul0))</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span> (Mul0CI-&gt;getValue() == 1) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          <span class="comment">// V == Base * Op1, so return Op1</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          Multiple = Op1;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        }</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Mul1 = NULL;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc">ComputeMultiple</a>(Op1, Base, Mul1, LookThroughSExt, Depth+1)) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Op0C = dyn_cast&lt;Constant&gt;(Op0))</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *MulC = dyn_cast&lt;Constant&gt;(Mul1)) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;          <span class="keywordflow">if</span> (Op0C-&gt;getType()-&gt;getPrimitiveSizeInBits() &lt;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;              MulC-&gt;getType()-&gt;getPrimitiveSizeInBits())</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            Op0C = <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(Op0C, MulC-&gt;getType());</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;          <span class="keywordflow">if</span> (Op0C-&gt;getType()-&gt;getPrimitiveSizeInBits() &gt;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;              MulC-&gt;getType()-&gt;getPrimitiveSizeInBits())</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            MulC = <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(MulC, Op0C-&gt;getType());</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;          <span class="comment">// V == Base * (Mul1 * Op0), so return (Mul1 * Op0)</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;          Multiple = <a class="code" href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">ConstantExpr::getMul</a>(MulC, Op0C);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Mul1CI = dyn_cast&lt;ConstantInt&gt;(Mul1))</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="keywordflow">if</span> (Mul1CI-&gt;getValue() == 1) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;          <span class="comment">// V == Base * Op0, so return Op0</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;          Multiple = Op0;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  }</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">// We could not determine if V is a multiple of Base.</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">/// CannotBeNegativeZero - Return true if we can prove that the specified FP</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">/// value is never equal to -0.0.</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">/// NOTE: this function will need to be revisited when we support non-default</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">/// rounding modes!</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c"> 1426</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">llvm::CannotBeNegativeZero</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(V))</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">return</span> !CFP-&gt;getValueAPF().isNegZero();</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (Depth == 6)</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> 1;  <span class="comment">// Limit search depth.</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Operator.html">Operator</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(V);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (I == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// Check if the nsz fast-math flag is set</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1FPMathOperator.html">FPMathOperator</a> *FPO = dyn_cast&lt;FPMathOperator&gt;(I))</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span> (FPO-&gt;hasNoSignedZeros())</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="comment">// (add x, 0.0) is guaranteed to return +0.0, not -0.0.</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>() == Instruction::FAdd)</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)))</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">if</span> (CFP-&gt;isNullValue())</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// sitofp and uitofp turn into +0.0 for zero.</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SIToFPInst&gt;(I) || isa&lt;UIToFPInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(I))</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// sqrt(-0.0) = -0.0, no other negative results are possible.</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2282198fc9635210d0f678fd0b92e5ce">Intrinsic::sqrt</a>)</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">CannotBeNegativeZero</a>(II-&gt;getArgOperand(0), Depth+1);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(I))</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = CI-&gt;getCalledFunction()) {</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;isDeclaration()) {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="comment">// abs(x) != -0.0</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;abs&quot;</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="comment">// fabs[lf](x) != -0.0</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;fabs&quot;</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;fabsf&quot;</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;fabsl&quot;</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;sqrt&quot;</span> || <a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;sqrtf&quot;</span> ||</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>-&gt;getName() == <span class="stringliteral">&quot;sqrtl&quot;</span>)</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">CannotBeNegativeZero</a>(CI-&gt;getArgOperand(0), Depth+1);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      }</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    }</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;}</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">/// isBytewiseValue - If the specified value can be set by repeating the same</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">/// byte in memory, return the i8 value that it is represented with.  This is</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">/// true for all i8 values obviously, but is also true for i32 0, i32 -1,</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">/// i16 0xF0F0, double 0.0 etc.  If the value can&#39;t be handled with a repeated</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">/// byte store (e.g. i16 0x1234), return null.</span></div><div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9945de214e3ba2b16f664bcdc953f0e0"> 1479</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9945de214e3ba2b16f664bcdc953f0e0">llvm::isBytewiseValue</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="comment">// All byte-wide stores are splatable, even of arbitrary variables.</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(8)) <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="comment">// Handle &#39;null&#39; ConstantArrayZero etc.</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V))</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue())</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// Constant float and double values can be handled as integer values if the</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// corresponding integer value is &quot;byteable&quot;.  An important case is 0.0.</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(V)) {</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (CFP-&gt;getType()-&gt;isFloatTy())</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      V = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(CFP, <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span> (CFP-&gt;getType()-&gt;isDoubleTy())</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      V = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(CFP, <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()));</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="comment">// Don&#39;t handle long double formats, which have strange constraints.</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// We can handle constant integers that are power of two in size and a</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="comment">// multiple of 8 bits.</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V)) {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordtype">unsigned</span> Width = CI-&gt;getBitWidth();</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">isPowerOf2_32</a>(Width) &amp;&amp; Width &gt; 8) {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="comment">// We can handle this value if the recursive binary decomposition is the</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="comment">// same at all levels.</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Val = CI-&gt;getValue();</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Val2;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keywordflow">while</span> (Val.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() != 8) {</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordtype">unsigned</span> NextWidth = Val.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()/2;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        Val2  = Val.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(NextWidth);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        Val2 = Val2.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(Val.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()/2);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        Val = Val.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(Val.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>()/2);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="comment">// If the top/bottom halves aren&#39;t the same, reject it.</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">if</span> (Val != Val2)</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      }</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), Val);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    }</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// A ConstantDataArray/Vector is splatable if all its members are equal and</span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// also splatable.</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantDataSequential.html">ConstantDataSequential</a> *CA = dyn_cast&lt;ConstantDataSequential&gt;(V)) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Elt = CA-&gt;getElementAsConstant(0);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Val = <a class="code" href="namespacellvm.html#a9945de214e3ba2b16f664bcdc953f0e0">isBytewiseValue</a>(Elt);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">if</span> (!Val)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1, E = CA-&gt;getNumElements(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">if</span> (CA-&gt;getElementAsConstant(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) != Elt)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  }</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// Conceptually, we could handle things like:</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">//   %a = zext i8 %X to i16</span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">//   %b = shl i16 %a, 8</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">//   %c = or i16 %a, %b</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// but until there is an example that actually needs this, it doesn&#39;t seem</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// worth worrying about.</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;}</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">// This is the recursive version of BuildSubAggregate. It takes a few different</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">// arguments. Idxs is the index within the nested struct From that we are</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">// looking at now (which is of type IndexedType). IdxSkip is the number of</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">// indices from Idxs that should be left out when inserting into the resulting</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">// struct. To is the result struct built so far, new insertvalue instructions</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// build on that.</span></div><div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a"> 1552</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *From, <a class="code" href="classllvm_1_1Value.html">Value</a>* To, <a class="code" href="classllvm_1_1Type.html">Type</a> *IndexedType,</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;Idxs,</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                <span class="keywordtype">unsigned</span> IdxSkip,</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">llvm::StructType</a> *STy = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1StructType.html">llvm::StructType</a>&gt;(IndexedType);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">if</span> (STy) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="comment">// Save the original To argument so we can modify it</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *OrigTo = To;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// General case, the type indexed by Idxs is a struct</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = STy-&gt;<a class="code" href="classllvm_1_1StructType.html#aa2113dcf8c96c19c9a2abf786b9ad3b7">getNumElements</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <span class="comment">// Process each struct element recursively</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      Idxs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *PrevTo = To;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      To = <a class="code" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a>(From, To, STy-&gt;<a class="code" href="classllvm_1_1StructType.html#a2f54639fcb5162f6f51192eb1697d2ad">getElementType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), Idxs, IdxSkip,</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                             InsertBefore);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      Idxs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">if</span> (!To) {</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="comment">// Couldn&#39;t find any inserted value for this index? Cleanup</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="keywordflow">while</span> (PrevTo != OrigTo) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;          <a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a>* Del = cast&lt;InsertValueInst&gt;(PrevTo);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;          PrevTo = Del-&gt;<a class="code" href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">getAggregateOperand</a>();</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;          Del-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="comment">// Stop processing elements</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      }</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    }</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="comment">// If we successfully found a value for each of our subaggregates</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">if</span> (To)</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <span class="keywordflow">return</span> To;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  }</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="comment">// Base case, the type indexed by SourceIdxs is not a struct, or not all of</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">// the struct&#39;s elements had a value that was inserted directly. In the latter</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// case, perhaps we can&#39;t determine each of the subelements individually, but</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// we might be able to find the complete struct somewhere.</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="comment">// Find the value that is at that particular spot</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">FindInsertedValue</a>(From, Idxs);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordflow">if</span> (!V)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// Insert the value in the new (sub) aggregrate</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1InsertValueInst.html#a6df8a5db1907e4cfed3029c0c786a40b">llvm::InsertValueInst::Create</a>(To, V, <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(Idxs).slice(IdxSkip),</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                       <span class="stringliteral">&quot;tmp&quot;</span>, InsertBefore);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;}</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">// This helper takes a nested struct and extracts a part of it (which is again a</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">// struct) into a new value. For example, given the struct:</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">// { a, { b, { c, d }, e } }</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">// and the indices &quot;1, 1&quot; this returns</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">// { c, d }.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">// It does this by inserting an insertvalue for each element in the resulting</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">// struct, as opposed to just inserting a single struct. This will only work if</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">// each of the elements of the substruct are known (ie, inserted into From by an</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">// insertvalue instruction somewhere).</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">// All inserted insertvalue instructions are inserted before InsertBefore</span></div><div class="line"><a name="l01611"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#ac796ca058098e5992af1231ad3972a09"> 1611</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *From, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> idx_range,</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                                <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  assert(InsertBefore &amp;&amp; <span class="stringliteral">&quot;Must have someplace to insert!&quot;</span>);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IndexedType = <a class="code" href="classllvm_1_1ExtractValueInst.html#a32a446b2a178bcd482521e3d273beeaf">ExtractValueInst::getIndexedType</a>(From-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                                                             idx_range);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *To = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(IndexedType);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 10&gt;</a> Idxs(idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>());</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordtype">unsigned</span> IdxSkip = Idxs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a>(From, To, IndexedType, Idxs, IdxSkip, InsertBefore);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">/// FindInsertedValue - Given an aggregrate and an sequence of indices, see if</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">/// the scalar value indexed is already around as a register, for example if it</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">/// were inserted directly into the aggregrate.</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">/// If InsertBefore is not null, this function will duplicate (modified)</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">/// insertvalues when a part of a nested struct is extracted.</span></div><div class="line"><a name="l01629"></a><span class="lineno"><a class="line" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369"> 1629</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">llvm::FindInsertedValue</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> idx_range,</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                               <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore) {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="comment">// Nothing to index? Just return V then (this is useful at the end of our</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="comment">// recursion).</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">if</span> (idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a3aa55c9d9145cd6b3b21c466b18abd80">empty</a>())</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  <span class="comment">// We have indices, so V should have an indexable type.</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  assert((V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">isStructTy</a>() || V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">isArrayTy</a>()) &amp;&amp;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;         <span class="stringliteral">&quot;Not looking at a struct or array?&quot;</span>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  assert(<a class="code" href="classllvm_1_1ExtractValueInst.html#a32a446b2a178bcd482521e3d273beeaf">ExtractValueInst::getIndexedType</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), idx_range) &amp;&amp;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;         <span class="stringliteral">&quot;Invalid indices for type?&quot;</span>);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V)) {</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getAggregateElement(idx_range[0]);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">FindInsertedValue</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a8a4a04e719ab242a67a91dbfd17e16b0">slice</a>(1), InsertBefore);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;InsertValueInst&gt;(V)) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="comment">// Loop the indices for the insertvalue instruction in parallel with the</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="comment">// requested indices</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> *req_idx = idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>();</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;idx_begin(), *e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;idx_end();</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++req_idx) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <span class="keywordflow">if</span> (req_idx == idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>()) {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="comment">// We can&#39;t handle this without inserting insertvalues</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <span class="keywordflow">if</span> (!InsertBefore)</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;          <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <span class="comment">// The requested index identifies a part of a nested aggregate. Handle</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="comment">// this specially. For example,</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="comment">// %A = insertvalue { i32, {i32, i32 } } undef, i32 10, 1, 0</span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <span class="comment">// %B = insertvalue { i32, {i32, i32 } } %A, i32 11, 1, 1</span></div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="comment">// %C = extractvalue {i32, { i32, i32 } } %B, 1</span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="comment">// This can be changed into</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="comment">// %A = insertvalue {i32, i32 } undef, i32 10, 0</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="comment">// %C = insertvalue {i32, i32 } %A, i32 11, 1</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="comment">// which allows the unused 0,0 element from the nested struct to be</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="comment">// removed.</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a>(V, <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), req_idx),</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                 InsertBefore);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="comment">// This insert value inserts something else than what we are looking for.</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="comment">// See if the (aggregrate) value inserted into has the value we are</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="comment">// looking for, then.</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="keywordflow">if</span> (*req_idx != *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">FindInsertedValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getAggregateOperand(), idx_range,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                                 InsertBefore);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">// If we end up here, the indices of the insertvalue match with those</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">// requested (though possibly only partially). Now we recursively look at</span></div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="comment">// the inserted value, passing any remaining indices.</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">FindInsertedValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getInsertedValueOperand(),</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                             <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(req_idx, idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>()),</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                             InsertBefore);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;ExtractValueInst&gt;(V)) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">// If we&#39;re extracting a value from an aggregrate that was extracted from</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="comment">// something else, we can extract from that something else directly instead.</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// However, we will need to chain I&#39;s indices with the requested indices.</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="comment">// Calculate the number of indices required</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumIndices() + idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>();</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="comment">// Allocate some space to put the new indices in</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 5&gt;</a> Idxs;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    Idxs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(size);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="comment">// Add indices from the extract value instruction</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    Idxs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;idx_begin(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;idx_end());</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="comment">// Add requested indices</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    Idxs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), idx_range.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>());</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    assert(Idxs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == size</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;           &amp;&amp; <span class="stringliteral">&quot;Number of indices added not correct?&quot;</span>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">FindInsertedValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getAggregateOperand(), Idxs, InsertBefore);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  }</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// Otherwise, we don&#39;t know (such as, extracting from a function return value</span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="comment">// or load instruction)</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">/// GetPointerBaseWithConstantOffset - Analyze the specified pointer to see if</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">/// it can be expressed as a base pointer plus a constant offset.  Return the</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">/// base and offset to the caller.</span></div><div class="line"><a name="l01716"></a><span class="lineno"><a class="line" href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19"> 1716</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19">llvm::GetPointerBaseWithConstantOffset</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr, int64_t &amp;Offset,</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *DL) {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// Without DataLayout, conservatively assume 64-bit offsets, which is</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// the widest we support.</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = DL ? DL-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ab39b93d717af84ec8c4deced264716e3">getPointerTypeSizeInBits</a>(Ptr-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) : 64;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> ByteOffset(BitWidth, 0);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">if</span> (Ptr-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(Ptr)) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">if</span> (DL) {</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> GEPOffset(BitWidth, 0);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordflow">if</span> (!GEP-&gt;accumulateConstantOffset(*DL, GEPOffset))</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        ByteOffset += GEPOffset;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      }</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      Ptr = GEP-&gt;getPointerOperand();</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(Ptr) == Instruction::BitCast) {</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      Ptr = cast&lt;Operator&gt;(Ptr)-&gt;getOperand(0);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(Ptr)) {</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <span class="keywordflow">if</span> (GA-&gt;mayBeOverridden())</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      Ptr = GA-&gt;getAliasee();</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    }</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  }</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  Offset = ByteOffset.<a class="code" href="classllvm_1_1APInt.html#a7189a37206963029447c31d57771b997">getSExtValue</a>();</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordflow">return</span> Ptr;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">/// getConstantStringInfo - This function computes the length of a</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="comment">/// null-terminated C string pointed to by V.  If successful, it returns true</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment">/// and returns the string in Str.  If unsuccessful, it returns false.</span></div><div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c"> 1754</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">llvm::getConstantStringInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;Str,</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                                 uint64_t Offset, <span class="keywordtype">bool</span> TrimAtNul) {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  assert(V);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="comment">// Look through bitcast instructions and geps.</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  V = V-&gt;<a class="code" href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">stripPointerCasts</a>();</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="comment">// If the value is a GEP instructionor  constant expression, treat it as an</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// offset.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(V)) {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="comment">// Make sure the GEP has exactly three arguments.</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">if</span> (GEP-&gt;getNumOperands() != 3)</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">// Make sure the index-ee is a pointer to array of i8.</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PT = cast&lt;PointerType&gt;(GEP-&gt;getOperand(0)-&gt;getType());</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *AT = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a>&gt;(PT-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (AT == 0 || !AT-&gt;getElementType()-&gt;isIntegerTy(8))</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">// Check to make sure that the first operand of the GEP is an integer and</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="comment">// has value 0 so that we are sure we&#39;re indexing into the initializer.</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *FirstIdx = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(GEP-&gt;getOperand(1));</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">if</span> (FirstIdx == 0 || !FirstIdx-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>())</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="comment">// If the second index isn&#39;t a ConstantInt, then this is a variable index</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="comment">// into the array.  If this occurs, we can&#39;t say anything meaningful about</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="comment">// the string.</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    uint64_t StartIdx = 0;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(GEP-&gt;getOperand(2)))</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      StartIdx = CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(GEP-&gt;getOperand(0), Str, StartIdx+Offset);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  }</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="comment">// The GEP instruction, constant or instruction, must reference a global</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="comment">// variable that is a constant and is initialized. The referenced constant</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// initializer is the array that we&#39;ll use for optimization.</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>&gt;(V);</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">if</span> (!GV || !GV-&gt;isConstant() || !GV-&gt;hasDefinitiveInitializer())</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// Handle the all-zeros case</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getInitializer()-&gt;isNullValue()) {</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">// This is a degenerate case. The initializer is constant zero so the</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">// length of the string must be zero.</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    Str = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="comment">// Must be a Constant Array</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantDataArray.html">ConstantDataArray</a> *Array =</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantDataArray.html">ConstantDataArray</a>&gt;(GV-&gt;getInitializer());</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keywordflow">if</span> (Array == 0 || !Array-&gt;<a class="code" href="classllvm_1_1ConstantDataSequential.html#a22468fcb799be4bbbcb3128b917ee1c5">isString</a>())</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="comment">// Get the number of elements in the array</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  uint64_t NumElts = Array-&gt;<a class="code" href="classllvm_1_1ConstantDataArray.html#ae73fc85f5fe6654fe4249cddb21fdd81">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#aeaf73fee81cb53d8bb6136a3d0ad39f6">getArrayNumElements</a>();</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">// Start out with the entire array in the StringRef.</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  Str = Array-&gt;<a class="code" href="classllvm_1_1ConstantDataSequential.html#a4f09ef75daf46d56fb24fa37e036a093">getAsString</a>();</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keywordflow">if</span> (Offset &gt; NumElts)</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="comment">// Skip over &#39;offset&#39; bytes.</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  Str = Str.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(Offset);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">if</span> (TrimAtNul) {</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="comment">// Trim off the \0 and anything after it.  If the array is not nul</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="comment">// terminated, we just return the whole end of string.  The client may know</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="comment">// some other way that the string is length-bound.</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    Str = Str.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(0, Str.<a class="code" href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">find</a>(<span class="charliteral">&#39;\0&#39;</span>));</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  }</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;}</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">// These next two are very similar to the above, but also look through PHI</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">// nodes.</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">// TODO: See if we can integrate these two together.</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">/// GetStringLengthH - If we can compute the length of the string pointed to by</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">/// the specified pointer, return &#39;len+1&#39;.  If we can&#39;t, return 0.</span></div><div class="line"><a name="l01839"></a><span class="lineno"><a class="line" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b"> 1839</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> uint64_t <a class="code" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;PHINode*, 32&gt;</a> &amp;PHIs) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// Look through noop bitcast instructions.</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  V = V-&gt;<a class="code" href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">stripPointerCasts</a>();</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">// If this is a PHI node, there are two cases: either we have already seen it</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// or we haven&#39;t.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(V)) {</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordflow">if</span> (!PHIs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(PN))</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="keywordflow">return</span> ~0ULL;  <span class="comment">// already in the set.</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="comment">// If it was new, see if all the input strings are the same length.</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    uint64_t LenSoFar = ~0ULL;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PN-&gt;getNumIncomingValues(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;      uint64_t Len = <a class="code" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a>(PN-&gt;getIncomingValue(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), PHIs);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="keywordflow">if</span> (Len == 0) <span class="keywordflow">return</span> 0; <span class="comment">// Unknown length -&gt; unknown.</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">if</span> (Len == ~0ULL) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="keywordflow">if</span> (Len != LenSoFar &amp;&amp; LenSoFar != ~0ULL)</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordflow">return</span> 0;    <span class="comment">// Disagree -&gt; unknown.</span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      LenSoFar = Len;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    }</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="comment">// Success, all agree.</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">return</span> LenSoFar;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  }</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="comment">// strlen(select(c,x,y)) -&gt; strlen(x) ^ strlen(y)</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = dyn_cast&lt;SelectInst&gt;(V)) {</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    uint64_t Len1 = <a class="code" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a>(SI-&gt;getTrueValue(), PHIs);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (Len1 == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    uint64_t Len2 = <a class="code" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a>(SI-&gt;getFalseValue(), PHIs);</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">if</span> (Len2 == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">if</span> (Len1 == ~0ULL) <span class="keywordflow">return</span> Len2;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">if</span> (Len2 == ~0ULL) <span class="keywordflow">return</span> Len1;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">if</span> (Len1 != Len2) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> Len1;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// Otherwise, see if we can read the string.</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> StrData;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">getConstantStringInfo</a>(V, StrData))</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">return</span> StrData.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>()+1;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">/// GetStringLength - If we can compute the length of the string pointed to by</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">/// the specified pointer, return &#39;len+1&#39;.  If we can&#39;t, return 0.</span></div><div class="line"><a name="l01888"></a><span class="lineno"><a class="line" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a"> 1888</a></span>&#160;<span class="comment"></span>uint64_t <a class="code" href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">llvm::GetStringLength</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;PHINode*, 32&gt;</a> PHIs;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  uint64_t Len = <a class="code" href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a>(V, PHIs);</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="comment">// If Len is ~0ULL, we had an infinite phi cycle: this is dead code, so return</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <span class="comment">// an empty string as a length.</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordflow">return</span> Len == ~0ULL ? 1 : Len;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *</div><div class="line"><a name="l01899"></a><span class="lineno"><a class="line" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480"> 1899</a></span>&#160;<a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">llvm::GetUnderlyingObject</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keywordtype">unsigned</span> MaxLookup) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Count = 0; MaxLookup == 0 || Count &lt; MaxLookup; ++Count) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(V)) {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      V = GEP-&gt;getPointerOperand();</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(V) == Instruction::BitCast) {</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      V = cast&lt;Operator&gt;(V)-&gt;getOperand(0);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V)) {</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      <span class="keywordflow">if</span> (GA-&gt;mayBeOverridden())</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      V = GA-&gt;getAliasee();</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      <span class="comment">// See if InstructionSimplify knows any relevant tricks.</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V))</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="comment">// TODO: Acquire a DominatorTree and use it.</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *Simplified = <a class="code" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">SimplifyInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, TD, 0)) {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;          V = Simplified;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    }</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected operand type!&quot;</span>);</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;}</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l01928"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40"> 1928</a></span>&#160;<a class="code" href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">llvm::GetUnderlyingObjects</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                           <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;<a class="code" href="LeakDetector_8cpp.html#ac6084dabb960efba10b44f82edd99599">Objects</a>,</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                           <span class="keywordtype">unsigned</span> MaxLookup) {</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 4&gt;</a> Visited;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> Worklist;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(V);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    P = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(P, TD, MaxLookup);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(P))</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = dyn_cast&lt;SelectInst&gt;(P)) {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SI-&gt;getTrueValue());</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SI-&gt;getFalseValue());</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    }</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(P)) {</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PN-&gt;getNumIncomingValues(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PN-&gt;getIncomingValue(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    }</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    Objects.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(P);</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  } <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;}</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">/// onlyUsedByLifetimeMarkers - Return true if the only users of this pointer</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/// are lifetime markers.</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01961"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9d0a7040918ba81ef34046fd474cee10"> 1961</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a9d0a7040918ba81ef34046fd474cee10">llvm::onlyUsedByLifetimeMarkers</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::const_use_iterator</a> UI = V-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = V-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;       UI != UE; ++UI) {</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a>&gt;(*UI);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">if</span> (!II) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">if</span> (II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">getIntrinsicID</a>() != <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">Intrinsic::lifetime_start</a> &amp;&amp;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        II-&gt;<a class="code" href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">getIntrinsicID</a>() != <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">Intrinsic::lifetime_end</a>)</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;}</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="namespacellvm.html#acb7a7f0df849c2c44503352493524895"> 1974</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#acb7a7f0df849c2c44503352493524895">llvm::isSafeToSpeculativelyExecute</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD) {</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Operator.html">Operator</a> *Inst = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Operator.html">Operator</a>&gt;(V);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (!Inst)</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Inst-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(Inst-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;canTrap())</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="keywordflow">switch</span> (Inst-&gt;<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">getOpcode</a>()) {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="comment">// x / y is undefined if y == 0, but calcuations like x / 3 are safe.</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(Inst-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem: {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = Inst-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// x / y is undefined if y == 0</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(Op, TD))</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">// x / y might be undefined if y == -1</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordtype">unsigned</span> BitWidth = <a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>(Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), TD);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keywordflow">if</span> (BitWidth == 0)</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(BitWidth, 0);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownOne(BitWidth, 0);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(Op, KnownZero, KnownOne, TD);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">return</span> !!KnownZero;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>: {</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = cast&lt;LoadInst&gt;(Inst);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">if</span> (!LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#af5ed72f95abe438ddf3dff1c76c9ea42">isUnordered</a>())</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">return</span> LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#ae6a2729f1446acc2ae3e5a05bc2a5a4b">isDereferenceablePointer</a>();</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Instruction::Call</a>: {</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(Inst)) {</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;     <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;       <span class="comment">// These synthetic intrinsics have no side-effects, and just mark</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;       <span class="comment">// information about their operands.</span></div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;       <span class="comment">// FIXME: There are other no-op synthetic instructions that potentially</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;       <span class="comment">// should be considered at least *safe* to speculate...</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126">Intrinsic::dbg_declare</a>:</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af3ede9077760c88ac478707b1ff19273">Intrinsic::dbg_value</a>:</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afb28523b72573e3468cd1ce52453f221">Intrinsic::bswap</a>:</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aec4d763aa35e2d7933293967ebf71d89">Intrinsic::ctlz</a>:</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a71901b588a9f2b63c6a878ad6c20dc32">Intrinsic::ctpop</a>:</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4">Intrinsic::cttz</a>:</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afb99c5b4c79f8419d2018d9499d15a93">Intrinsic::objectsize</a>:</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">Intrinsic::sadd_with_overflow</a>:</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a534c8dc56785061e35fb476480d11a3d">Intrinsic::smul_with_overflow</a>:</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1558c7c51d5102374564fd690d19df99">Intrinsic::ssub_with_overflow</a>:</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907">Intrinsic::uadd_with_overflow</a>:</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a95107a51be6c979110631a4c9145d6e0">Intrinsic::umul_with_overflow</a>:</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;       <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acd74a673807c129d89e2456d8d2e566d">Intrinsic::usub_with_overflow</a>:</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;       <span class="comment">// TODO: some fp intrinsics are marked as having the same error handling</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;       <span class="comment">// as libm. They&#39;re safe to speculate when they won&#39;t error.</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;       <span class="comment">// TODO: are convert_{from,to}_fp16 safe?</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;       <span class="comment">// TODO: can we list target-specific intrinsics here?</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;       <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;     }</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// The called function could have undefined behavior or</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                  <span class="comment">// side-effects, even if marked readnone nounwind.</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  }</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keywordflow">case</span> Instruction::VAArg:</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="keywordflow">case</span> Instruction::Alloca:</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <span class="keywordflow">case</span> Instruction::Invoke:</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">Instruction::PHI</a>:</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>:</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Instruction::Ret</a>:</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">case</span> Instruction::Br:</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keywordflow">case</span> Instruction::IndirectBr:</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keywordflow">case</span> Instruction::Switch:</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">case</span> Instruction::Unreachable:</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="keywordflow">case</span> Instruction::Fence:</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">case</span> Instruction::LandingPad:</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">case</span> Instruction::AtomicRMW:</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordflow">case</span> Instruction::AtomicCmpXchg:</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordflow">case</span> Instruction::Resume:</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Misc instructions which have effects</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  }</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment">/// isKnownNonNull - Return true if we know that the specified value is never</span></div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">/// null.</span></div><div class="line"><a name="l02067"></a><span class="lineno"><a class="line" href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d"> 2067</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">llvm::isKnownNonNull</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// Alloca never returns null, malloc might.</span></div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(V)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="comment">// A byval argument is never null.</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;Argument&gt;(V))</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;hasByValAttr();</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="comment">// Global values are not null unless extern weak.</span></div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V))</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">return</span> !GV-&gt;hasExternalWeakLinkage();</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="comment">// operator new never returns null.</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a390a2482f8a6d3537ee580fe37c115fe">isOperatorNewLikeFn</a>(V, TLI, <span class="comment">/*LookThroughBitCast=*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div><div class="ttc" id="classllvm_1_1APInt_html_a781bd5c20864a9c185018258af774ace"><div class="ttname"><a href="classllvm_1_1APInt.html#a781bd5c20864a9c185018258af774ace">llvm::APInt::clearAllBits</a></div><div class="ttdeci">void clearAllBits()</div><div class="ttdoc">Set every bit to 0. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01218">APInt.h:1218</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00467">PatternMatch.h:467</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">llvm::Intrinsic::lifetime_end</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01254">Intrinsics.h:1254</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html_aa9576aea404b156a949122affc839777"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">llvm::generic_gep_type_iterator::getIndexedType</a></div><div class="ttdeci">Type * getIndexedType() const </div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00057">GetElementPtrTypeIterator.h:57</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">m_Value() - Match an arbitrary value and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00070">PatternMatch.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a2e5e9f65d911e80a46d3098933794056"><div class="ttname"><a href="classllvm_1_1APInt.html#a2e5e9f65d911e80a46d3098933794056">llvm::APInt::getSignBit</a></div><div class="ttdeci">static APInt getSignBit(unsigned BitWidth)</div><div class="ttdoc">Get the SignBit for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00443">APInt.h:443</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_ad828a9d7323b25627466cd0d72b79382"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ad828a9d7323b25627466cd0d72b79382">llvm::PatternMatch::m_SignBit</a></div><div class="ttdeci">cst_pred_ty&lt; is_sign_bit &gt; m_SignBit()</div><div class="ttdoc">m_SignBit() - Match an integer or vector with only the sign bit(s) set. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00273">PatternMatch.h:273</a></div></div>
<div class="ttc" id="namespacellvm_html_a6592393edcc944aa0fae70e18b5fbe0a"><div class="ttname"><a href="namespacellvm.html#a6592393edcc944aa0fae70e18b5fbe0a">llvm::GetStringLength</a></div><div class="ttdeci">uint64_t GetStringLength(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01888">ValueTracking.cpp:1888</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ae130d109fdba9ebb976e4fe2621b374a"><div class="ttname"><a href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">llvm::APInt::abs</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT abs() const </div><div class="ttdoc">Get the absolute value;. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01521">APInt.h:1521</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01740">Instructions.h:1740</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a539bdb4fdbf46e0bfcefebf5ac6d21dd"><div class="ttname"><a href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">llvm::APInt::getAllOnesValue</a></div><div class="ttdeci">static APInt getAllOnesValue(unsigned numBits)</div><div class="ttdoc">Get the all-ones value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00450">APInt.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="classllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">LLVM Argument representation. </div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00035">Argument.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a082d322376f368b751695d3687954471"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">llvm::InsertValueInst::getAggregateOperand</a></div><div class="ttdeci">Value * getAggregateOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01901">Instructions.h:1901</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7dc983ebf0eb2d255fa90a67063c72e2"><div class="ttname"><a href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Get zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01306">APInt.h:1306</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html_ae7484b83e7c2b58ffd67422a919aba40"><div class="ttname"><a href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">llvm::GetUnderlyingObjects</a></div><div class="ttdeci">void GetUnderlyingObjects(Value *V, SmallVectorImpl&lt; Value * &gt; &amp;Objects, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01928">ValueTracking.cpp:1928</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_af68d5ebdb576d7481ea2766151b875d4"><div class="ttname"><a href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">llvm::StringRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the string size. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="namespacellvm_html_a9945de214e3ba2b16f664bcdc953f0e0"><div class="ttname"><a href="namespacellvm.html#a9945de214e3ba2b16f664bcdc953f0e0">llvm::isBytewiseValue</a></div><div class="ttdeci">Value * isBytewiseValue(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01479">ValueTracking.cpp:1479</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad979b3c1bc975ee23810e3018ffe951b"><div class="ttname"><a href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits()</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00135">Type.cpp:135</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html_a6cbb4809b81f3994ee0c79b38556bd66"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html#a6cbb4809b81f3994ee0c79b38556bd66">llvm::IntrinsicInst::getIntrinsicID</a></div><div class="ttdeci">Intrinsic::ID getIntrinsicID() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00043">IntrinsicInst.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_afd3c51a1fe84d166b161f1b96f2d0cee"><div class="ttname"><a href="classllvm_1_1Constant.html#afd3c51a1fe84d166b161f1b96f2d0cee">llvm::Constant::getSplatValue</a></div><div class="ttdeci">Constant * getSplatValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01276">Constants.cpp:1276</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a901362ad921722671d31108bcfaf6b03"><div class="ttname"><a href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">llvm::APInt::setBit</a></div><div class="ttdeci">void setBit(unsigned bitPosition)</div><div class="ttdoc">Set a given bit to 1. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00583">APInt.cpp:583</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1ZExtInst_html"><div class="ttname"><a href="classllvm_1_1ZExtInst.html">llvm::ZExtInst</a></div><div class="ttdoc">This class represents zero extension of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03211">Instructions.h:3211</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00108">User.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html_ade17b50e4f0b835cd9eb58dffe12a90d"><div class="ttname"><a href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdoc">getNumOperands - Return number of MDNode operands. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00146">Metadata.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html_a5a1ebefdf12a23a94f8a135cdfa0cd90"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#a5a1ebefdf12a23a94f8a135cdfa0cd90">llvm::OverflowingBinaryOperator::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00107">Operator.h:107</a></div></div>
<div class="ttc" id="namespacellvm_html_a8bc4c3e77e6f3d6c54b8b4504393dfa7"><div class="ttname"><a href="namespacellvm.html#a8bc4c3e77e6f3d6c54b8b4504393dfa7">llvm::MaskedValueIsZero</a></div><div class="ttdeci">bool MaskedValueIsZero(Value *V, const APInt &amp;Mask, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01115">ValueTracking.cpp:1115</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ab39b93d717af84ec8c4deced264716e3"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ab39b93d717af84ec8c4deced264716e3">llvm::DataLayout::getPointerTypeSizeInBits</a></div><div class="ttdeci">unsigned getPointerTypeSizeInBits(Type *) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00510">DataLayout.cpp:510</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a421e16456fe6d7b71fb4af736194165c"><div class="ttname"><a href="classllvm_1_1StringRef.html#a421e16456fe6d7b71fb4af736194165c">llvm::StringRef::find</a></div><div class="ttdeci">size_t find(char C, size_t From=0) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00233">StringRef.h:233</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a971522b36bf432ad69a0083581ab4108"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">llvm::PatternMatch::m_Mul</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Mul &gt; m_Mul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00419">PatternMatch.h:419</a></div></div>
<div class="ttc" id="namespacellvm_html_a090878b40a781fbfccd4496adb00dd19"><div class="ttname"><a href="namespacellvm.html#a090878b40a781fbfccd4496adb00dd19">llvm::GetPointerBaseWithConstantOffset</a></div><div class="ttdeci">Value * GetPointerBaseWithConstantOffset(Value *Ptr, int64_t &amp;Offset, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01716">ValueTracking.cpp:1716</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a38ed8cc3c342ad6910e8c869d3e2b9cf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00098">ArrayRef.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a28b816a2b6d88476edb2af52948f29ec"><div class="ttname"><a href="classllvm_1_1APInt.html#a28b816a2b6d88476edb2af52948f29ec">llvm::APInt::isNonNegative</a></div><div class="ttdeci">bool isNonNegative() const </div><div class="ttdoc">Determine if this APInt Value is non-negative (&gt;= 0) </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00327">APInt.h:327</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a534c8dc56785061e35fb476480d11a3d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a534c8dc56785061e35fb476480d11a3d">llvm::Intrinsic::smul_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02436">Intrinsics.h:2436</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="Metadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Get a value with low bits set. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00528">APInt.h:528</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a71901b588a9f2b63c6a878ad6c20dc32"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a71901b588a9f2b63c6a878ad6c20dc32">llvm::Intrinsic::ctpop</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00366">Intrinsics.h:366</a></div></div>
<div class="ttc" id="namespacellvm_html_a43c6ebb4fd35ebd815d66a2df4eed0b9"><div class="ttname"><a href="namespacellvm.html#a43c6ebb4fd35ebd815d66a2df4eed0b9">llvm::gep_type_end</a></div><div class="ttdeci">gep_type_iterator gep_type_end(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00089">GetElementPtrTypeIterator.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a4010b27bb068167801ff99622ea92907">llvm::Intrinsic::uadd_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02445">Intrinsics.h:2445</a></div></div>
<div class="ttc" id="namespacellvm_html_a56d040fb4ab99ba83607e4d63d1f296d"><div class="ttname"><a href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">llvm::isKnownNonNull</a></div><div class="ttdeci">bool isKnownNonNull(const Value *V, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l02067">ValueTracking.cpp:2067</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a3d0712956e53687d1894ba17b84aeffa"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">llvm::StringRef::substr</a></div><div class="ttdeci">StringRef substr(size_t Start, size_t N=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00392">StringRef.h:392</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ae0c5e70885cf005feb6707932774f99c"><div class="ttname"><a href="classllvm_1_1APInt.html#ae0c5e70885cf005feb6707932774f99c">llvm::APInt::getLimitedValue</a></div><div class="ttdeci">uint64_t getLimitedValue(uint64_t Limit=~0ULL) const </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00408">APInt.h:408</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ab6fff8a97bcb55e50e9be0ecf0c99b63"><div class="ttname"><a href="classllvm_1_1APInt.html#ab6fff8a97bcb55e50e9be0ecf0c99b63">llvm::APInt::setAllBits</a></div><div class="ttdeci">void setAllBits()</div><div class="ttdoc">Set every bit to 1. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01200">APInt.h:1200</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="classllvm_1_1PossiblyExactOperator_html_aab2ebc5edbe3f0052e43feb33cdf6754"><div class="ttname"><a href="classllvm_1_1PossiblyExactOperator.html#aab2ebc5edbe3f0052e43feb33cdf6754">llvm::PossiblyExactOperator::isExact</a></div><div class="ttdeci">bool isExact() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00147">Operator.h:147</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7fe47410bb825eccb20f010dab13c72f"><div class="ttname"><a href="classllvm_1_1APInt.html#a7fe47410bb825eccb20f010dab13c72f">llvm::APInt::zextOrTrunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zextOrTrunc(unsigned width) const </div><div class="ttdoc">Zero extend or truncate to width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01002">APInt.cpp:1002</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00423">APInt.h:423</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00111">Constants.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html_adb91929f939ff02dbee552d32afaf4e6"><div class="ttname"><a href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">llvm::MDNode::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const LLVM_READONLY</div><div class="ttdoc">getOperand - Return specified operand. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00307">Metadata.cpp:307</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantDataArray_html_ae73fc85f5fe6654fe4249cddb21fdd81"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#ae73fc85f5fe6654fe4249cddb21fdd81">llvm::ConstantDataArray::getType</a></div><div class="ttdeci">ArrayType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00680">Constants.h:680</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0e9a2d7ec903d191ef029589ec647cb6"><div class="ttname"><a href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdoc">Determine sign of this APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00322">APInt.h:322</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_aabcc9d0c7c5b68bf66032d1c1c1aa4dd"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#aabcc9d0c7c5b68bf66032d1c1c1aa4dd">llvm::ExtractValueInst::getIndices</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01800">Instructions.h:1800</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">llvm::MCID::Select</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00113">MCInstrDesc.h:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="namespacellvm_html_ace6c957db39858291c6ce01c38e78480"><div class="ttname"><a href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">llvm::GetUnderlyingObject</a></div><div class="ttdeci">Value * GetUnderlyingObject(Value *V, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01899">ValueTracking.cpp:1899</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html"><div class="ttname"><a href="classllvm_1_1StructLayout.html">llvm::StructLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00418">DataLayout.h:418</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a2282198fc9635210d0f678fd0b92e5ce"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2282198fc9635210d0f678fd0b92e5ce">llvm::Intrinsic::sqrt</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02437">Intrinsics.h:2437</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a06c14477546c3a0eb4c79ff007ea2375"><div class="ttname"><a href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a></div><div class="ttdeci">static unsigned getBitWidth(Type *Ty, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00040">ValueTracking.cpp:40</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_a32a446b2a178bcd482521e3d273beeaf"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#a32a446b2a178bcd482521e3d273beeaf">llvm::ExtractValueInst::getIndexedType</a></div><div class="ttdeci">static Type * getIndexedType(Type *Agg, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01702">Instructions.cpp:1702</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aec4d763aa35e2d7933293967ebf71d89"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aec4d763aa35e2d7933293967ebf71d89">llvm::Intrinsic::ctlz</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00365">Intrinsics.h:365</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01430">Instructions.h:1430</a></div></div>
<div class="ttc" id="namespacellvm_html_a77ef9326e49c5c7b55e7bee44c473369"><div class="ttname"><a href="namespacellvm.html#a77ef9326e49c5c7b55e7bee44c473369">llvm::FindInsertedValue</a></div><div class="ttdeci">Value * FindInsertedValue(Value *V, ArrayRef&lt; unsigned &gt; idx_range, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01629">ValueTracking.cpp:1629</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a35c840104f32575e0d91422cf1ef3ce4"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a35c840104f32575e0d91422cf1ef3ce4">llvm::DataLayout::getStructLayout</a></div><div class="ttdeci">const StructLayout * getStructLayout(StructType *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00445">DataLayout.cpp:445</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&amp;#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_af5ed72f95abe438ddf3dff1c76c9ea42"><div class="ttname"><a href="classllvm_1_1LoadInst.html#af5ed72f95abe438ddf3dff1c76c9ea42">llvm::LoadInst::isUnordered</a></div><div class="ttdeci">bool isUnordered() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00219">Instructions.h:219</a></div></div>
<div class="ttc" id="namespacellvm_html_a0448108c43f3a226744d0a4c28c989f7"><div class="ttname"><a href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">llvm::makeArrayRef</a></div><div class="ttdeci">ArrayRef&lt; T &gt; makeArrayRef(const T &amp;OneElt)</div><div class="ttdoc">Construct an ArrayRef from a single element. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00266">ArrayRef.h:266</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a0d67a58f519c9ff820e1015ef3932f75"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">llvm::PatternMatch::m_Exact</a></div><div class="ttdeci">Exact_match&lt; T &gt; m_Exact(const T &amp;SubPattern)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00564">PatternMatch.h:564</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00430">SmallVector.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="namespacellvm_html_a390a2482f8a6d3537ee580fe37c115fe"><div class="ttname"><a href="namespacellvm.html#a390a2482f8a6d3537ee580fe37c115fe">llvm::isOperatorNewLikeFn</a></div><div class="ttdeci">bool isOperatorNewLikeFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates memory and never returns nu...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00195">MemoryBuiltins.cpp:195</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a8429e9826885bbef0cfb350bbc49f5db"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8429e9826885bbef0cfb350bbc49f5db">llvm::PatternMatch::m_Shr</a></div><div class="ttdeci">BinOp2_match&lt; LHS, RHS, Instruction::LShr, Instruction::AShr &gt; m_Shr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">m_Shr - Matches LShr or AShr. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00528">PatternMatch.h:528</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa1953b3ad7ef6aa87dc0205db0c2ea45"><div class="ttname"><a href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">llvm::APInt::lshr</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT lshr(unsigned shiftAmt) const </div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01127">APInt.cpp:1127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; unsigned &gt;</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90acd74a673807c129d89e2456d8d2e566d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acd74a673807c129d89e2456d8d2e566d">llvm::Intrinsic::usub_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02447">Intrinsics.h:2447</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_accfb950dd96959bfa9d44451540d088a"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#accfb950dd96959bfa9d44451540d088a">llvm::ExtractValueInst::getNumIndices</a></div><div class="ttdeci">unsigned getNumIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01804">Instructions.h:1804</a></div></div>
<div class="ttc" id="namespacellvm_html_a85acbc71797c5df4b82f6c527ff9ad1a"><div class="ttname"><a href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">llvm::countLeadingZeros</a></div><div class="ttdeci">enable_if_c&lt; std::numeric_limits&lt; T &gt;::is_integer &amp;&amp;!std::numeric_limits&lt; T &gt;::is_signed, std::size_t &gt;::type countLeadingZeros(T Val, ZeroBehavior ZB=ZB_Width)</div><div class="ttdoc">Count number of 0&amp;#39;s from the most significant bit to the least stopping at the first 1...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00120">MathExtras.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a944c25ac9b73b02a17a20a08a25b9b21"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">llvm::PatternMatch::m_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add &gt; m_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00395">PatternMatch.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ac8be1ee0c47d9e47e567fa353f987ed5"><div class="ttname"><a href="classllvm_1_1APInt.html#ac8be1ee0c47d9e47e567fa353f987ed5">llvm::APInt::getBoolValue</a></div><div class="ttdeci">bool getBoolValue() const </div><div class="ttdoc">Convert APInt to a boolean value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00404">APInt.h:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a75a71c5acb58449ea8a731e9caebf1fe"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">llvm::APIntOps::lshr</a></div><div class="ttdeci">APInt lshr(const APInt &amp;LHS, unsigned shiftAmt)</div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01790">APInt.h:1790</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="namespacellvm_html_a78cc0bff962931776f866d3d7b5dda08"><div class="ttname"><a href="namespacellvm.html#a78cc0bff962931776f866d3d7b5dda08">llvm::computeMaskedBitsLoad</a></div><div class="ttdeci">void computeMaskedBitsLoad(const MDNode &amp;Ranges, APInt &amp;KnownZero)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00195">ValueTracking.cpp:195</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00790">Constants.h:790</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantDataSequential_html"><div class="ttname"><a href="classllvm_1_1ConstantDataSequential.html">llvm::ConstantDataSequential</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00524">Constants.h:524</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a8a4a04e719ab242a67a91dbfd17e16b0"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a8a4a04e719ab242a67a91dbfd17e16b0">llvm::ArrayRef::slice</a></div><div class="ttdeci">ArrayRef&lt; T &gt; slice(unsigned N) const </div><div class="ttdoc">slice(n) - Chop off the first N elements of the array. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00134">ArrayRef.h:134</a></div></div>
<div class="ttc" id="namespacellvm_html_abdaf1eaf6120421977095bd97eee892e"><div class="ttname"><a href="namespacellvm.html#abdaf1eaf6120421977095bd97eee892e">llvm::countTrailingZeros</a></div><div class="ttdeci">enable_if_c&lt; std::numeric_limits&lt; T &gt;::is_integer &amp;&amp;!std::numeric_limits&lt; T &gt;::is_signed, std::size_t &gt;::type countTrailingZeros(T Val, ZeroBehavior ZB=ZB_Width)</div><div class="ttdoc">Count number of 0&amp;#39;s from the least significant bit to the most stopping at the first 1...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00049">MathExtras.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9aae7c60b468bcf6db982dc76e6c703a"><div class="ttname"><a href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">llvm::Type::isArrayTy</a></div><div class="ttdeci">bool isArrayTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00216">Type.h:216</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90afb28523b72573e3468cd1ce52453f221"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afb28523b72573e3468cd1ce52453f221">llvm::Intrinsic::bswap</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00350">Intrinsics.h:350</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="namespacellvm_html_a7985318bedfe5c2040025ef13db9c57b"><div class="ttname"><a href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a></div><div class="ttdeci">void ComputeMaskedBits(Value *V, APInt &amp;KnownZero, APInt &amp;KnownOne, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00229">ValueTracking.cpp:229</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02055">Instructions.h:2055</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html_ae10c4483372a357a0d3411b3d64be10c"><div class="ttname"><a href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">llvm::StructLayout::getElementOffset</a></div><div class="ttdeci">uint64_t getElementOffset(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00442">DataLayout.h:442</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_adcb96bd09d7c75c7669fa5f9d1190899"><div class="ttname"><a href="classllvm_1_1APInt.html#adcb96bd09d7c75c7669fa5f9d1190899">llvm::APInt::getHighBitsSet</a></div><div class="ttdeci">static APInt getHighBitsSet(unsigned numBits, unsigned hiBitsSet)</div><div class="ttdoc">Get a value with high bits set. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00510">APInt.h:510</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_ac0b4edbad04a9715bf70369ebc0fb131"><div class="ttname"><a href="ValueTracking_8cpp.html#ac0b4edbad04a9715bf70369ebc0fb131">ComputeMaskedBitsAddSub</a></div><div class="ttdeci">static void ComputeMaskedBitsAddSub(bool Add, Value *Op0, Value *Op1, bool NSW, APInt &amp;KnownZero, APInt &amp;KnownOne, APInt &amp;KnownZero2, APInt &amp;KnownOne2, const DataLayout *TD, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00047">ValueTracking.cpp:47</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a3bd5e6108cd2c28c267d70e631a7b11a"><div class="ttname"><a href="classllvm_1_1Type.html#a3bd5e6108cd2c28c267d70e631a7b11a">llvm::Type::isIntOrIntVectorTy</a></div><div class="ttdeci">bool isIntOrIntVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00204">Type.h:204</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aa08fee11e8a5ec10c0cc2a7abbbd799a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">llvm::PatternMatch::m_LShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::LShr &gt; m_LShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00491">PatternMatch.h:491</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aac9e78b3aa02ec087c4621358f506718"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac9e78b3aa02ec087c4621358f506718">llvm::PatternMatch::m_APInt</a></div><div class="ttdeci">apint_match m_APInt(const APInt *&amp;Res)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00183">PatternMatch.h:183</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8cf5475fb3e9c737112cc248194c1040"><div class="ttname"><a href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">llvm::APInt::trunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT trunc(unsigned width) const </div><div class="ttdoc">Truncate to new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00919">APInt.cpp:919</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantDataArray_html"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html">llvm::ConstantDataArray</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00645">Constants.h:645</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_ab421865744bd8b5aea08be18e86c6aa5"><div class="ttname"><a href="classllvm_1_1PHINode.html#ab421865744bd8b5aea08be18e86c6aa5">llvm::PHINode::hasConstantValue</a></div><div class="ttdeci">Value * hasConstantValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00161">Instructions.cpp:161</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a42569041ddafba7d40243e126af07f42"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">llvm::PatternMatch::m_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or &gt; m_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00473">PatternMatch.h:473</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00229">Type.h:229</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a2f54639fcb5162f6f51192eb1697d2ad"><div class="ttname"><a href="classllvm_1_1StructType.html#a2f54639fcb5162f6f51192eb1697d2ad">llvm::StructType::getElementType</a></div><div class="ttdeci">Type * getElementType(unsigned N) const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00287">DerivedTypes.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a597c918a615f26a0cea7adb84f06fc3f"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">llvm::AllocaInst::getType</a></div><div class="ttdeci">PointerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00091">Instructions.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7189a37206963029447c31d57771b997"><div class="ttname"><a href="classllvm_1_1APInt.html#a7189a37206963029447c31d57771b997">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Get sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01318">APInt.h:1318</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantDataSequential_html_a4f09ef75daf46d56fb24fa37e036a093"><div class="ttname"><a href="classllvm_1_1ConstantDataSequential.html#a4f09ef75daf46d56fb24fa37e036a093">llvm::ConstantDataSequential::getAsString</a></div><div class="ttdeci">StringRef getAsString() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00607">Constants.h:607</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a137f4ed94704473ee62c0a70084984fc">llvm::Intrinsic::sadd_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02431">Intrinsics.h:2431</a></div></div>
<div class="ttc" id="namespacellvm_html_a9d0a7040918ba81ef34046fd474cee10"><div class="ttname"><a href="namespacellvm.html#a9d0a7040918ba81ef34046fd474cee10">llvm::onlyUsedByLifetimeMarkers</a></div><div class="ttdeci">bool onlyUsedByLifetimeMarkers(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01961">ValueTracking.cpp:1961</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01845">APInt.h:1845</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_ad441932c20e5b9ba36c8c72a6c7f5ec3"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#ad441932c20e5b9ba36c8c72a6c7f5ec3">llvm::AllocaInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00103">Instructions.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_afc7c4d88d09cba0c5e920f8a3a3ace55"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">llvm::APIntOps::Xor</a></div><div class="ttdeci">APInt Xor(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise XOR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01850">APInt.h:1850</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa61f2c732f136e0dcbaaf1a09c9fb2a8"><div class="ttname"><a href="classllvm_1_1Constant.html#aa61f2c732f136e0dcbaaf1a09c9fb2a8">llvm::Constant::isZeroValue</a></div><div class="ttdeci">bool isZeroValue() const </div><div class="ttdoc">Return true if the value is negative zero or null value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00066">Constants.cpp:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">m_Specific - Match if we have a specific specified value. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00323">PatternMatch.h:323</a></div></div>
<div class="ttc" id="classllvm_1_1PossiblyExactOperator_html"><div class="ttname"><a href="classllvm_1_1PossiblyExactOperator.html">llvm::PossiblyExactOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00131">Operator.h:131</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a37668d9884c78ac77254cf9fb8a4276a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">llvm::PatternMatch::m_Shl</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Shl &gt; m_Shl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00485">PatternMatch.h:485</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html">llvm::OverflowingBinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00079">Operator.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01252">APInt.h:1252</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a836367b39ed630bf14db99923c22740e"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00097">ArrayRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_a3e7aed6d56bdb4dfdb9faf5821d159d6"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#a3e7aed6d56bdb4dfdb9faf5821d159d6">llvm::GEPOperator::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00382">Operator.h:382</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00223">Instructions.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a3aa55c9d9145cd6b3b21c466b18abd80"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a3aa55c9d9145cd6b3b21c466b18abd80">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Check if the array is empty. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00104">ArrayRef.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a669d55980a7d4b6307b94596deeb0b1f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(in_iter in_start, in_iter in_end)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00445">SmallVector.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01334">Constants.cpp:1334</a></div></div>
<div class="ttc" id="namespacellvm_html_a50f8f41fccbea466816345520e9bfabb"><div class="ttname"><a href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">llvm::SimplifyInstruction</a></div><div class="ttdeci">Value * SimplifyInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03036">InstructionSimplify.cpp:3036</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a396f873d805aa9521cbcac4a019e550a"><div class="ttname"><a href="ValueTracking_8cpp.html#a396f873d805aa9521cbcac4a019e550a">BuildSubAggregate</a></div><div class="ttdeci">static Value * BuildSubAggregate(Value *From, Value *To, Type *IndexedType, SmallVectorImpl&lt; unsigned &gt; &amp;Idxs, unsigned IdxSkip, Instruction *InsertBefore)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01552">ValueTracking.cpp:1552</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af3deb6522c4fe2043fe07af2ec90190c"><div class="ttname"><a href="classllvm_1_1APInt.html#af3deb6522c4fe2043fe07af2ec90190c">llvm::APInt::isPowerOf2</a></div><div class="ttdeci">bool isPowerOf2() const </div><div class="ttdoc">Check if this APInt&amp;#39;s value is a power of two greater than zero. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00390">APInt.h:390</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ac7d6bce6f39466f58c4a06593e226d4e"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ac7d6bce6f39466f58c4a06593e226d4e">llvm::DataLayout::getPreferredAlignment</a></div><div class="ttdeci">unsigned getPreferredAlignment(const GlobalVariable *GV) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00679">DataLayout.cpp:679</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90af3ede9077760c88ac478707b1ff19273"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90af3ede9077760c88ac478707b1ff19273">llvm::Intrinsic::dbg_value</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00370">Intrinsics.h:370</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00039">PatternMatch.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a66117262c223380ed69d25376318a8b4"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">llvm::PatternMatch::m_Neg</a></div><div class="ttdeci">neg_match&lt; LHS &gt; m_Neg(const LHS &amp;L)</div><div class="ttdoc">m_Neg - Match an integer negate. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00764">PatternMatch.h:764</a></div></div>
<div class="ttc" id="namespacellvm_html_acb7a7f0df849c2c44503352493524895"><div class="ttname"><a href="namespacellvm.html#acb7a7f0df849c2c44503352493524895">llvm::isSafeToSpeculativelyExecute</a></div><div class="ttdeci">bool isSafeToSpeculativelyExecute(const Value *V, const DataLayout *TD=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01974">ValueTracking.cpp:1974</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a26e11e9c1ef55164b429eb9dc019f213"><div class="ttname"><a href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a></div><div class="ttdeci">const unsigned MaxDepth</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00036">ValueTracking.cpp:36</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_abb381519d34dcb9ccf673bf7689d0721"><div class="ttname"><a href="classllvm_1_1DataLayout.html#abb381519d34dcb9ccf673bf7689d0721">llvm::DataLayout::getABITypeAlignment</a></div><div class="ttdeci">unsigned getABITypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00582">DataLayout.cpp:582</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aba93ec4079f8d709a1d5b4745310782e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01672">Constants.cpp:1672</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="LeakDetector_8cpp_html_ac6084dabb960efba10b44f82edd99599"><div class="ttname"><a href="LeakDetector_8cpp.html#ac6084dabb960efba10b44f82edd99599">Objects</a></div><div class="ttdeci">static ManagedStatic&lt; LeakDetectorImpl&lt; void &gt; &gt; Objects</div><div class="ttdef"><b>Definition:</b> <a href="LeakDetector_8cpp_source.html#l00025">LeakDetector.cpp:25</a></div></div>
<div class="ttc" id="ConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a485a50c87ee70213743c74943662da42"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a485a50c87ee70213743c74943662da42">llvm::Intrinsic::x86_sse42_crc32_64_64</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l03114">Intrinsics.h:3114</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02059">Instructions.h:2059</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a1d6fcc02e91ba24510aba42660c90e29"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">llvm::DataLayout::getTypeAllocSize</a></div><div class="ttdeci">uint64_t getTypeAllocSize(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00326">DataLayout.h:326</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a1558c7c51d5102374564fd690d19df99"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a1558c7c51d5102374564fd690d19df99">llvm::Intrinsic::ssub_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02438">Intrinsics.h:2438</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1FPMathOperator_html"><div class="ttname"><a href="classllvm_1_1FPMathOperator.html">llvm::FPMathOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00218">Operator.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html"><div class="ttname"><a href="classllvm_1_1Operator.html">llvm::Operator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00034">Operator.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00042">ConstantRange.h:42</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_abd9323a37d0beb24f9975b4d36994b24"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">llvm::PatternMatch::m_UDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::UDiv &gt; m_UDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00431">PatternMatch.h:431</a></div></div>
<div class="ttc" id="namespacellvm_html_affb36b53a017bc7fe4754691559e2cd6"><div class="ttname"><a href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">llvm::isKnownToBeAPowerOfTwo</a></div><div class="ttdeci">bool isKnownToBeAPowerOfTwo(Value *V, bool OrZero=false, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00821">ValueTracking.cpp:821</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a38ea12c04523d63adda732b9c5d6da0a"><div class="ttname"><a href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">Value * stripPointerCasts()</div><div class="ttdoc">Strips off any unneeded pointer casts, all-zero GEPs and aliases from the specified value...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00385">Value.cpp:385</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00438">Constants.cpp:438</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html"><div class="ttname"><a href="classllvm_1_1GEPOperator.html">llvm::GEPOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00357">Operator.h:357</a></div></div>
<div class="ttc" id="namespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00443">MathExtras.h:443</a></div></div>
<div class="ttc" id="GlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="PatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01840">APInt.h:1840</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aed87738661d539150b3fc4bb46e36aa3"><div class="ttname"><a href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00212">Type.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html_a2f14b03fb8025d2bfa20a34da2b20ccf"><div class="ttname"><a href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">llvm::Operator::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00051">Operator.h:51</a></div></div>
<div class="ttc" id="namespacellvm_html_a9317b5c1851e0364c704a01d7163c758"><div class="ttname"><a href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">llvm::ComputeSignBit</a></div><div class="ttdeci">void ComputeSignBit(Value *V, bool &amp;KnownZero, bool &amp;KnownOne, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00802">ValueTracking.cpp:802</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a6df8a5db1907e4cfed3029c0c786a40b"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a6df8a5db1907e4cfed3029c0c786a40b">llvm::InsertValueInst::Create</a></div><div class="ttdeci">static InsertValueInst * Create(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01881">Instructions.h:1881</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ae6a2729f1446acc2ae3e5a05bc2a5a4b"><div class="ttname"><a href="classllvm_1_1Value.html#ae6a2729f1446acc2ae3e5a05bc2a5a4b">llvm::Value::isDereferenceablePointer</a></div><div class="ttdeci">bool isDereferenceablePointer() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00500">Value.cpp:500</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ab7a62c4beaed93a09ac3fde3b1b0b01f"><div class="ttname"><a href="classllvm_1_1APInt.html#ab7a62c4beaed93a09ac3fde3b1b0b01f">llvm::APInt::countLeadingOnes</a></div><div class="ttdeci">unsigned countLeadingOnes() const </div><div class="ttdoc">Count the number of leading one bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00709">APInt.cpp:709</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a80e82791d4d7f4d1d23d68ca0a2b1f64"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01566">Constants.cpp:1566</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_ac876de9f2b1ddbe458be4d57e3e11b16"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">llvm::GEPOperator::isInBounds</a></div><div class="ttdeci">bool isInBounds() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00373">Operator.h:373</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a95107a51be6c979110631a4c9145d6e0"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a95107a51be6c979110631a4c9145d6e0">llvm::Intrinsic::umul_with_overflow</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02446">Intrinsics.h:2446</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90afb99c5b4c79f8419d2018d9499d15a93"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afb99c5b4c79f8419d2018d9499d15a93">llvm::Intrinsic::objectsize</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02214">Intrinsics.h:2214</a></div></div>
<div class="ttc" id="namespacellvm_html_a9ad8b72e67d188e6a62dac7f02779ffc"><div class="ttname"><a href="namespacellvm.html#a9ad8b72e67d188e6a62dac7f02779ffc">llvm::ComputeMultiple</a></div><div class="ttdeci">bool ComputeMultiple(Value *V, unsigned Base, Value *&amp;Multiple, bool LookThroughSExt=false, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01304">ValueTracking.cpp:1304</a></div></div>
<div class="ttc" id="MemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantDataSequential_html_a22468fcb799be4bbbcb3128b917ee1c5"><div class="ttname"><a href="classllvm_1_1ConstantDataSequential.html#a22468fcb799be4bbbcb3128b917ee1c5">llvm::ConstantDataSequential::isString</a></div><div class="ttdeci">bool isString() const </div><div class="ttdoc">isString - This method returns true if this is an array of i8. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02523">Constants.cpp:2523</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a3f94def79176d0cd1c4bec190e7eb66c"><div class="ttname"><a href="classllvm_1_1APInt.html#a3f94def79176d0cd1c4bec190e7eb66c">llvm::APInt::countTrailingOnes</a></div><div class="ttdeci">unsigned countTrailingOnes() const </div><div class="ttdoc">Count the number of trailing one bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01382">APInt.h:1382</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_a09322a290a7c24694ca1813237f7d9c9"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#a09322a290a7c24694ca1813237f7d9c9">llvm::GEPOperator::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00400">Operator.h:400</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8eafa71cf399da8f21b2af5549f3f9e7"><div class="ttname"><a href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">llvm::Type::getScalarType</a></div><div class="ttdeci">const Type * getScalarType() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00051">Type.cpp:51</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aeaf73fee81cb53d8bb6136a3d0ad39f6"><div class="ttname"><a href="classllvm_1_1Type.html#aeaf73fee81cb53d8bb6136a3d0ad39f6">llvm::Type::getArrayNumElements</a></div><div class="ttdeci">uint64_t getArrayNumElements() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00210">Type.cpp:210</a></div></div>
<div class="ttc" id="namespacellvm_html_a26072ee56129fc3220771cda9f053ecb"><div class="ttname"><a href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">llvm::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(Value *Op, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01133">ValueTracking.cpp:1133</a></div></div>
<div class="ttc" id="namespacellvm_html_a66d195fefcf9fab4b08703860991c14c"><div class="ttname"><a href="namespacellvm.html#a66d195fefcf9fab4b08703860991c14c">llvm::getConstantStringInfo</a></div><div class="ttdeci">bool getConstantStringInfo(const Value *V, StringRef &amp;Str, uint64_t Offset=0, bool TrimAtNul=true)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01754">ValueTracking.cpp:1754</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a44d1e9e73bc9862b44a3037cefc34036"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a44d1e9e73bc9862b44a3037cefc34036">llvm::PatternMatch::m_IDiv</a></div><div class="ttdeci">BinOp2_match&lt; LHS, RHS, Instruction::SDiv, Instruction::UDiv &gt; m_IDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">m_IDiv - Matches UDiv and SDiv. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00542">PatternMatch.h:542</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a63eff34e14f4840ec2f23581d9d4a126">llvm::Intrinsic::dbg_declare</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00369">Intrinsics.h:369</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_ac09febee262bde97dde9c9f7f663e59b"><div class="ttname"><a href="ValueTracking_8cpp.html#ac09febee262bde97dde9c9f7f663e59b">GetStringLengthH</a></div><div class="ttdeci">static uint64_t GetStringLengthH(Value *V, SmallPtrSet&lt; PHINode *, 32 &gt; &amp;PHIs)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01839">ValueTracking.cpp:1839</a></div></div>
<div class="ttc" id="namespacellvm_html_a7eed428870efe1c2023decfb1eeadf7c"><div class="ttname"><a href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">llvm::CannotBeNegativeZero</a></div><div class="ttdeci">bool CannotBeNegativeZero(const Value *V, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01426">ValueTracking.cpp:1426</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf42e24475fdea623c2a8cb7b3f412c4">llvm::Intrinsic::cttz</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00367">Intrinsics.h:367</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="ValueTracking_8cpp_html_ad69f386e70dc2ed50e03d75bdcf989df"><div class="ttname"><a href="ValueTracking_8cpp.html#ad69f386e70dc2ed50e03d75bdcf989df">isGEPKnownNonNull</a></div><div class="ttdeci">static bool isGEPKnownNonNull(GEPOperator *GEP, const DataLayout *DL, unsigned Depth)</div><div class="ttdoc">Test whether a GEP&amp;#39;s result is known to be non-null. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00916">ValueTracking.cpp:916</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aebdb2700a77d10ae6f0ce115e23d9f77"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">llvm::PatternMatch::m_One</a></div><div class="ttdeci">cst_pred_ty&lt; is_one &gt; m_One()</div><div class="ttdoc">m_One() - Match an integer 1 or a vector with all elements equal to 1. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00257">PatternMatch.h:257</a></div></div>
<div class="ttc" id="namespacellvm_html_a738c0f9bfa56a3d53d75b67dd1182063"><div class="ttname"><a href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(Value *V, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00980">ValueTracking.cpp:980</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html_a0869c4dfee48696ce863fcd367eba52da75f0c503935327915cc9325b04f23de4"><div class="ttname"><a href="classllvm_1_1LLVMContext.html#a0869c4dfee48696ce863fcd367eba52da75f0c503935327915cc9325b04f23de4">llvm::LLVMContext::MD_range</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00050">LLVMContext.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9dc5111b1a9b1d5c4652d50f74fe850b"><div class="ttname"><a href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00278">Type.h:278</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_add914112e0b2935dda06ad5dfd3a31db"><div class="ttname"><a href="classllvm_1_1DataLayout.html#add914112e0b2935dda06ad5dfd3a31db">llvm::DataLayout::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00459">DataLayout.h:459</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af0336ea4c7f7f56354b2ca7c8859c1f9"><div class="ttname"><a href="classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">llvm::APInt::countLeadingZeros</a></div><div class="ttdeci">unsigned countLeadingZeros() const </div><div class="ttdoc">The APInt version of the countLeadingZeros functions in MathExtras.h. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01340">APInt.h:1340</a></div></div>
<div class="ttc" id="namespacellvm_html_af4d1a918800291e75b01ce1447be0e83"><div class="ttname"><a href="namespacellvm.html#af4d1a918800291e75b01ce1447be0e83">llvm::isPowerOf2_32</a></div><div class="ttdeci">bool isPowerOf2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00354">MathExtras.h:354</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6142fc5662411269a7ca0217f49f338c"><div class="ttname"><a href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">llvm::APInt::zext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zext(unsigned width) const </div><div class="ttdoc">Zero extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00983">APInt.cpp:983</a></div></div>
<div class="ttc" id="OcamlGCPrinter_8cpp_html_a1bdbcdc4205781eefd549946d40ff378"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;,&quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aa3e1005525fe79e631f1fe5bd91fdf3c"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">llvm::ConstantExpr::getMul</a></div><div class="ttdeci">static Constant * getMul(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02062">Constants.cpp:2062</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_aa2113dcf8c96c19c9a2abf786b9ad3b7"><div class="ttname"><a href="classllvm_1_1StructType.html#aa2113dcf8c96c19c9a2abf786b9ad3b7">llvm::StructType::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const </div><div class="ttdoc">Random access to the elements. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00286">DerivedTypes.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="namespacellvm_html_a6569d00d31a5d74e563e2f39f82271ab"><div class="ttname"><a href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">llvm::X</a></div><div class="ttdeci">static RegisterPass&lt; NVPTXAllocaHoisting &gt; X(&quot;alloca-hoisting&quot;,&quot;Hoisting alloca instructions in non-entry &quot;&quot;blocks to the entry block&quot;)</div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">llvm::Intrinsic::lifetime_start</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01255">Intrinsics.h:1255</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html_abe8af726db43885a1178cf75ed0725d9"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">llvm::OverflowingBinaryOperator::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00101">Operator.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_ad8299c2e7a9af0966692fa8ad3930344"><div class="ttname"><a href="ValueTracking_8cpp.html#ad8299c2e7a9af0966692fa8ad3930344">ComputeMaskedBitsMul</a></div><div class="ttdeci">static void ComputeMaskedBitsMul(Value *Op0, Value *Op1, bool NSW, APInt &amp;KnownZero, APInt &amp;KnownOne, APInt &amp;KnownZero2, APInt &amp;KnownOne2, const DataLayout *TD, unsigned Depth)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00133">ValueTracking.cpp:133</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01846">Instructions.h:1846</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:03:02 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
