<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: JIT.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('JIT_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">JIT.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="JIT_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- JIT.cpp - LLVM Just in Time Compiler ------------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This tool implements a just-in-time compiler for LLVM, allowing direct</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// execution of LLVM bitcode in an efficient manner.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lib_2ExecutionEngine_2JIT_2JIT_8h.html">JIT.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JITCodeEmitter_8h.html">llvm/CodeGen/JITCodeEmitter.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineCodeInfo_8h.html">llvm/CodeGen/MachineCodeInfo.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/config.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GenericValue_8h.html">llvm/ExecutionEngine/GenericValue.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JITEventListener_8h.html">llvm/ExecutionEngine/JITEventListener.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JITMemoryManager_8h.html">llvm/ExecutionEngine/JITMemoryManager.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/Support/Dwarf.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DynamicLibrary_8h.html">llvm/Support/DynamicLibrary.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ManagedStatic_8h.html">llvm/Support/ManagedStatic.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MutexGuard_8h.html">llvm/Support/MutexGuard.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetJITInfo_8h.html">llvm/Target/TargetJITInfo.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#ifdef __APPLE__</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// Apple gcc defaults to -fuse-cxa-atexit (i.e. calls __cxa_atexit instead</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// of atexit). It passes the address of linker generated symbol __dso_handle</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// to the function.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// This configuration change happened at version 5330.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"># include &lt;AvailabilityMacros.h&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"># if defined(MAC_OS_X_VERSION_10_4) &amp;&amp; \</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">     ((MAC_OS_X_VERSION_MIN_REQUIRED &gt; MAC_OS_X_VERSION_10_4) || \</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">      (MAC_OS_X_VERSION_MIN_REQUIRED == MAC_OS_X_VERSION_10_4 &amp;&amp; \</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">       __APPLE_CC__ &gt;= 5330))</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#  ifndef HAVE___DSO_HANDLE</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#   define HAVE___DSO_HANDLE 1</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#  endif</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#if HAVE___DSO_HANDLE</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> *__dso_handle __attribute__ ((__visibility__ (<span class="stringliteral">&quot;hidden&quot;</span>)));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>RegisterJIT {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  RegisterJIT() { <a class="code" href="classllvm_1_1JIT.html#a01e526369d007f26d91a9886e937b024">JIT::Register</a>(); }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;} JITRegistrator;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="group__LLVMCExecutionEngine.html#ga231a4bc228944496d88bcf28753e88a2">   67</a></span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> <a class="code" href="group__LLVMCExecutionEngine.html#ga231a4bc228944496d88bcf28753e88a2">LLVMLinkInJIT</a>() {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/// createJIT - This is the factory method for creating a JIT for the current</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// machine, it does not fall back to the interpreter.  This takes ownership</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/// of the module.</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a64a0b3f81a51bb837f4adf4a868be56c">   73</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ExecutionEngine.html">ExecutionEngine</a> *<a class="code" href="classllvm_1_1JIT.html#a64a0b3f81a51bb837f4adf4a868be56c">JIT::createJIT</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                std::string *ErrorStr,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                <a class="code" href="classllvm_1_1JITMemoryManager.html">JITMemoryManager</a> *JMM,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                <span class="keywordtype">bool</span> GVsWithCode,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Try to register the program as a source of symbols to resolve against.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// FIXME: Don&#39;t do this here.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1sys_1_1DynamicLibrary.html#a18575725b7c13545198708dac576048b">sys::DynamicLibrary::LoadLibraryPermanently</a>(0, NULL);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// If the target supports JIT code generation, create the JIT.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetJITInfo.html">TargetJITInfo</a> *TJ = TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#afa7a5bd7d386113e90f85d42423fc528">getJITInfo</a>()) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441a41413991d9e4a8c017e9d83f8446d875">JIT</a>(M, *TM, *TJ, JMM, GVsWithCode);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (ErrorStr)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      *ErrorStr = <span class="stringliteral">&quot;target does not support JIT code generation&quot;</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/// This class supports the global getPointerToNamedFunction(), which allows</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/// bugpoint or gdb users to search for a function by name without any context.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span><span class="keyword">class </span>JitPool {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;JIT*, 1&gt;</a> JITs;  <span class="comment">// Optimize for process containing just 1 JIT.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">sys::Mutex</a> <a class="code" href="PassRegistry_8cpp.html#ac92dcbc9680e0644e459e0635f43f8fb">Lock</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">void</span> Add(<a class="code" href="classllvm_1_1JIT.html">JIT</a> *jit) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> guard(Lock);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    JITs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(jit);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">void</span> Remove(<a class="code" href="classllvm_1_1JIT.html">JIT</a> *jit) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> guard(Lock);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    JITs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ce650c1d4a48661b501206d04b6ab04">erase</a>(jit);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">void</span> *<a class="code" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> guard(Lock);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    assert(JITs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a41c201584742f7eb45b2be8cd54e3bcb">size</a>() != 0 &amp;&amp; <span class="stringliteral">&quot;No Jit registered&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">//search function in every instance of JIT</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSet&lt;JIT*, 1&gt;::const_iterator</a> Jit = JITs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>(),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;           <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> = JITs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">end</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;         Jit != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++Jit) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = (*Jit)-&gt;FindFunctionNamed(Name))</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> (*Jit)-&gt;getPointerToFunction(<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// The function is not available : fallback on the first created (will</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// search in symbol of the current program/library)</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> (*JITs.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>())-&gt;<a class="code" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a>(Name);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;};</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<a class="code" href="classllvm_1_1ManagedStatic.html">ManagedStatic&lt;JitPool&gt;</a> AllJits;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// getPointerToNamedFunction - This function is used as a global wrapper to</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// JIT::getPointerToNamedFunction for the purpose of resolving symbols when</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// bugpoint is debugging the JIT. In that scenario, we are loading an .so and</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// need to resolve function(s) that are being mis-codegenerated, so we need to</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// resolve their addresses at runtime, and this is the way to do it.</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">  131</a></span>&#160;  <span class="keywordtype">void</span> *<a class="code" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> AllJits-&gt;getPointerToNamedFunction(Name);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;JIT::JIT(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;tm, <a class="code" href="classllvm_1_1TargetJITInfo.html">TargetJITInfo</a> &amp;tji,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;         <a class="code" href="classllvm_1_1JITMemoryManager.html">JITMemoryManager</a> *jmm, <span class="keywordtype">bool</span> GVsWithCode)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  : <a class="code" href="classllvm_1_1ExecutionEngine.html">ExecutionEngine</a>(M), <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>(tm), TJI(tji),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    JMM(jmm ? jmm : <a class="code" href="classllvm_1_1JITMemoryManager.html#a38a94276e787acd0cda0f1a0b7d58463">JITMemoryManager::CreateDefaultMemManager</a>()),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    AllocateGVsWithCode(GVsWithCode), isAlreadyCodeGenerating(<span class="keyword">false</span>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  setDataLayout(<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getDataLayout());</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  jitstate = <span class="keyword">new</span> <a class="code" href="classllvm_1_1JITState.html">JITState</a>(M);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// Initialize JCE</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  JCE = createEmitter(*<span class="keyword">this</span>, JMM, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// Register in global list of all JITs.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  AllJits-&gt;Add(<span class="keyword">this</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Add target data</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classllvm_1_1FunctionPassManager.html">FunctionPassManager</a> &amp;PM = jitstate-&gt;getPM(locked);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  PM.add(<span class="keyword">new</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a>(*<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getDataLayout()));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// Turn the machine code intermediate representation into bytes in memory that</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// may be executed.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.addPassesToEmitMachineCode(PM, *JCE)) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Target does not support machine code emission!&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// Initialize passes.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  PM.doInitialization();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a9c533cbb87917b1fa81148331c80917b">  166</a></span>&#160;<a class="code" href="classllvm_1_1JIT.html#a9c533cbb87917b1fa81148331c80917b">JIT::~JIT</a>() {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Cleanup.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  AllJits-&gt;Remove(<span class="keyword">this</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keyword">delete</span> jitstate;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keyword">delete</span> JCE;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// JMM is a ownership of JCE, so we no need delete JMM here.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keyword">delete</span> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// addModule - Add a new Module to the JIT.  If we previously removed the last</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// Module, we need re-initialize jitstate with a valid Module.</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#af745cbfcabc82108a0c5aca1660d3d81">  177</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#af745cbfcabc82108a0c5aca1660d3d81">JIT::addModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *M) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (Modules.empty()) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    assert(!jitstate &amp;&amp; <span class="stringliteral">&quot;jitstate should be NULL if Modules vector is empty!&quot;</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    jitstate = <span class="keyword">new</span> <a class="code" href="classllvm_1_1JITState.html">JITState</a>(M);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classllvm_1_1FunctionPassManager.html">FunctionPassManager</a> &amp;PM = jitstate-&gt;getPM(locked);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    PM.add(<span class="keyword">new</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a>(*<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getDataLayout()));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Turn the machine code intermediate representation into bytes in memory</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// that may be executed.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.addPassesToEmitMachineCode(PM, *JCE)) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Target does not support machine code emission!&quot;</span>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// Initialize passes.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    PM.doInitialization();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classllvm_1_1ExecutionEngine.html#af7d3440b41718259c50afaac2b0855cc">ExecutionEngine::addModule</a>(M);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// removeModule - If we are removing the last Module, invalidate the jitstate</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// since the PassManager it contains references a released Module.</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a909a5637afdd25f40bc81cf96f5cfd0b">  203</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1JIT.html#a909a5637afdd25f40bc81cf96f5cfd0b">JIT::removeModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *M) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a> = <a class="code" href="classllvm_1_1ExecutionEngine.html#a514dfa1719bb6dadcc8bb7b71619805e">ExecutionEngine::removeModule</a>(M);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span> (jitstate &amp;&amp; jitstate-&gt;getModule() == <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">delete</span> jitstate;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    jitstate = 0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (!jitstate &amp;&amp; !Modules.empty()) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    jitstate = <span class="keyword">new</span> <a class="code" href="classllvm_1_1JITState.html">JITState</a>(Modules[0]);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classllvm_1_1FunctionPassManager.html">FunctionPassManager</a> &amp;PM = jitstate-&gt;getPM(locked);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    PM.add(<span class="keyword">new</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a>(*<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getDataLayout()));</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Turn the machine code intermediate representation into bytes in memory</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// that may be executed.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.addPassesToEmitMachineCode(PM, *JCE)) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Target does not support machine code emission!&quot;</span>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Initialize passes.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    PM.doInitialization();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/// run - Start execution with the specified function and arguments.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a3c8a8208408138f9ed8f90b89709a537">  233</a></span>&#160;<span class="comment"></span><a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> <a class="code" href="classllvm_1_1JIT.html#a3c8a8208408138f9ed8f90b89709a537">JIT::runFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                              <span class="keyword">const</span> std::vector&lt;GenericValue&gt; &amp;ArgValues) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  assert(F &amp;&amp; <span class="stringliteral">&quot;Function *F was null at entry to run()&quot;</span>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordtype">void</span> *FPtr = getPointerToFunction(F);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  assert(FPtr &amp;&amp; <span class="stringliteral">&quot;Pointer to fn&#39;s code was null after getPointerToFunction&quot;</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = F-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  assert((FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == ArgValues.size() ||</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>() &amp;&amp; FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() &lt;= ArgValues.size())) &amp;&amp;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         <span class="stringliteral">&quot;Wrong number of arguments passed into function!&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  assert(FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == ArgValues.size() &amp;&amp;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         <span class="stringliteral">&quot;This doesn&#39;t support passing arguments through varargs (yet)!&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// Handle some common cases first.  These cases correspond to common `main&#39;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// prototypes.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) || RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">switch</span> (ArgValues.size()) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) &amp;&amp;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **, <span class="keyword">const</span> <span class="keywordtype">char</span> **) =</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;          (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **, <span class="keyword">const</span> <span class="keywordtype">char</span> **))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// Call the function.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue(),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                 (<span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[1]),</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                 (<span class="keyword">const</span> <span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[2])));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) &amp;&amp;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **) = (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Call the function.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue(),</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                 (<span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[1])));</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32)) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) = (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue()));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<span class="keywordtype">char</span> *) = (<span class="keywordtype">int</span>(*)(<span class="keywordtype">char</span> *))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF((<span class="keywordtype">char</span>*)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[0])));</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// Handle cases where no arguments are passed first.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (ArgValues.empty()) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">switch</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown return type for function call!&quot;</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">Type::IntegerTyID</a>: {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = cast&lt;IntegerType&gt;(RetTy)-&gt;<a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (BitWidth == 1)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">bool</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 8)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">char</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 16)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">short</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 32)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">int</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 64)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((int64_t(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Integer types &gt; 64 bits not supported&quot;</span>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520">Type::VoidTyID</a>:</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, ((<span class="keywordtype">int</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#a5160197592bd1fc5c8cc81cd803e0629">FloatVal</a> = ((float(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)();</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#a9810b36b4c4c17901d491f5aac030623">DoubleVal</a> = ((<a class="code" href="README-SSE_8txt.html#a698e4bd87a8adc0c042ae6b6e10ee6e1">double</a>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7">Type::X86_FP80TyID</a>:</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc">Type::FP128TyID</a>:</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48">Type::PPC_FP128TyID</a>:</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;long double not supported yet&quot;</span>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">Type::PointerTyID</a>:</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77905b5e34e8754df1ed4051e0ad9d1a">PTOGV</a>(((<span class="keywordtype">void</span>*(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// Okay, this is not one of our quick and easy cases.  Because we don&#39;t have a</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// full FFI, we have to codegen a nullary stub function that just calls the</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// function we are interested in, passing in constants for all of the</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// arguments.  Make this function and return.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// First, create the function.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *STy=<a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(RetTy, <span class="keyword">false</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Stub = <a class="code" href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">Function::Create</a>(STy, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">Function::InternalLinkage</a>, <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                    F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>());</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// Insert a basic block.</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *StubBB = <a class="code" href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">BasicBlock::Create</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), <span class="stringliteral">&quot;&quot;</span>, Stub);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// Convert all of the GenericValue arguments over to constants.  Note that we</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// currently don&#39;t support varargs.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value*, 8&gt;</a> Args;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = ArgValues.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = 0;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> &amp;AV = ArgValues[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">switch</span> (ArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown argument type for function call!&quot;</span>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">Type::IntegerTyID</a>:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), AV.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(AV.<a class="code" href="structllvm_1_1GenericValue.html#a5160197592bd1fc5c8cc81cd803e0629">FloatVal</a>));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(AV.<a class="code" href="structllvm_1_1GenericValue.html#a9810b36b4c4c17901d491f5aac030623">DoubleVal</a>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48">Type::PPC_FP128TyID</a>:</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7">Type::X86_FP80TyID</a>:</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc">Type::FP128TyID</a>:</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">ConstantFP::get</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">APFloat</a>(ArgTy-&gt;<a class="code" href="classllvm_1_1Type.html#a60e80d9427d27573184d95640eafe328">getFltSemantics</a>(),</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                     AV.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a>));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">Type::PointerTyID</a>:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordtype">void</span> *ArgPtr = <a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(AV);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*) == 4)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>()),</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                             (<span class="keywordtype">int</span>)(<a class="code" href="classintptr__t.html">intptr_t</a>)ArgPtr);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        C = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>()),</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                             (<a class="code" href="classintptr__t.html">intptr_t</a>)ArgPtr);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="comment">// Cast the integer to pointer</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      C = <a class="code" href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">ConstantExpr::getIntToPtr</a>(C, ArgTy);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    Args.push_back(C);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *TheCall = <a class="code" href="classllvm_1_1CallInst.html#a861226dd056dd2438da26760b8e7a9a0">CallInst::Create</a>(F, Args, <span class="stringliteral">&quot;&quot;</span>, StubBB);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  TheCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">setCallingConv</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">getCallingConv</a>());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  TheCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#ad54481e3c992b555aeaba34a83daf7e6">setTailCall</a>();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (!TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Return result of the call.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), TheCall, StubBB);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(F-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(), StubBB);           <span class="comment">// Just return void.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// Finally, call our nullary stub function.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> Result = runFunction(Stub, std::vector&lt;GenericValue&gt;());</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Erase it, since no other function can have a reference to it.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  Stub-&gt;<a class="code" href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">eraseFromParent</a>();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// And return the result.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a391d2fadb0e41f80974a95e7b04c1e3f">  404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a391d2fadb0e41f80974a95e7b04c1e3f">JIT::RegisterJITEventListener</a>(<a class="code" href="classllvm_1_1JITEventListener.html">JITEventListener</a> *L) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (L == NULL)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  EventListeners.push_back(L);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#abf07bf1f1544fd49ab08272ece9a963f">  410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#abf07bf1f1544fd49ab08272ece9a963f">JIT::UnregisterJITEventListener</a>(<a class="code" href="classllvm_1_1JITEventListener.html">JITEventListener</a> *L) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">if</span> (L == NULL)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">std::vector&lt;JITEventListener*&gt;::reverse_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>=</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      std::find(EventListeners.rbegin(), EventListeners.rend(), L);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">if</span> (I != EventListeners.rend()) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(*I, EventListeners.back());</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    EventListeners.pop_back();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a192952cd92a1e0a31683bb21403acb53">  421</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a192952cd92a1e0a31683bb21403acb53">JIT::NotifyFunctionEmitted</a>(</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>,</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3">Code</a>, <span class="keywordtype">size_t</span> Size,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1JITEvent__EmittedFunctionDetails.html">JITEvent_EmittedFunctionDetails</a> &amp;Details) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = EventListeners.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    EventListeners[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;NotifyFunctionEmitted(F, Code, Size, Details);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a93e42472d827f20066b76aa18a1fa0f0">  431</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a93e42472d827f20066b76aa18a1fa0f0">JIT::NotifyFreeingMachineCode</a>(<span class="keywordtype">void</span> *OldPtr) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = EventListeners.size(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    EventListeners[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;NotifyFreeingMachineCode(OldPtr);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/// runJITOnFunction - Run the FunctionPassManager full of</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">/// just-in-time compilation passes on F, hopefully filling in</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/// GlobalAddress[F] with the address of F&#39;s machine code.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a03ca9c68eac58a1444ba25a1d0737a3f">  442</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a03ca9c68eac58a1444ba25a1d0737a3f">JIT::runJITOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <a class="code" href="classllvm_1_1MachineCodeInfo.html">MachineCodeInfo</a> *MCI) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">class </span>MCIListener : <span class="keyword">public</span> <a class="code" href="classllvm_1_1JITEventListener.html">JITEventListener</a> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="classllvm_1_1MachineCodeInfo.html">MachineCodeInfo</a> *<span class="keyword">const</span> MCI;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    MCIListener(<a class="code" href="classllvm_1_1MachineCodeInfo.html">MachineCodeInfo</a> *mci) : MCI(mci) {}</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> NotifyFunctionEmitted(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                       <span class="keywordtype">void</span> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3">Code</a>, <span class="keywordtype">size_t</span> Size,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                       <span class="keyword">const</span> EmittedFunctionDetails &amp;) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      MCI-&gt;<a class="code" href="classllvm_1_1MachineCodeInfo.html#a23f8b7bbbe44d1d8b929221b4eed3840">setAddress</a>(Code);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      MCI-&gt;<a class="code" href="classllvm_1_1MachineCodeInfo.html#a89b575a7bb6666431c15dec1c4b69570">setSize</a>(Size);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  };</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  MCIListener MCIL(MCI);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (MCI)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    RegisterJITEventListener(&amp;MCIL);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  runJITOnFunctionUnlocked(F, locked);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (MCI)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    UnregisterJITEventListener(&amp;MCIL);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="keywordtype">void</span> JIT::runJITOnFunctionUnlocked(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> &amp;locked) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  assert(!isAlreadyCodeGenerating &amp;&amp; <span class="stringliteral">&quot;Error: Recursive compilation detected!&quot;</span>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  jitTheFunction(F, locked);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// If the function referred to another function that had not yet been</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// read from bitcode, and we are jitting non-lazily, emit it now.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">while</span> (!jitstate-&gt;getPendingFunctions(locked).empty()) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *PF = jitstate-&gt;getPendingFunctions(locked).<a class="code" href="classllvm_1_1Function.html#a8ac50c3e2e6c3dd02e21c1ab2836aed6">back</a>();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    jitstate-&gt;getPendingFunctions(locked).pop_back();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    assert(!PF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>() &amp;&amp;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;           <span class="stringliteral">&quot;Externally-defined function should not be in pending list.&quot;</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    jitTheFunction(PF, locked);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">// Now that the function has been jitted, ask the JITEmitter to rewrite</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// the stub with real address of the function.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    updateFunctionStub(PF);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keywordtype">void</span> JIT::jitTheFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *F, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> &amp;locked) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  isAlreadyCodeGenerating = <span class="keyword">true</span>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  jitstate-&gt;getPM(locked).run(*F);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  isAlreadyCodeGenerating = <span class="keyword">false</span>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// clear basic block addresses after this function is done</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  getBasicBlockAddressMap(locked).clear();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// getPointerToFunction - This method is used to get the address of the</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// specified function, compiling it if necessary.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a06bc6435b6cc1169adb0b066b3a8f6f1">  500</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1JIT.html#a06bc6435b6cc1169adb0b066b3a8f6f1">JIT::getPointerToFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *F) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">void</span> *Addr = getPointerToGlobalIfAvailable(F))</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> Addr;   <span class="comment">// Check if function already code gen&#39;d</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Now that this thread owns the lock, make sure we read in the function if it</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// exists in this Module.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  std::string ErrorMsg;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#acb27ae484baaedcb76238c884a39ca4f">Materialize</a>(&amp;ErrorMsg)) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Error reading function &#39;&quot;</span> + F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                      <span class="stringliteral">&quot;&#39; from bitcode file: &quot;</span> + ErrorMsg);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// ... and check if another thread has already code gen&#39;d the function.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">void</span> *Addr = getPointerToGlobalIfAvailable(F))</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() || F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>()) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">bool</span> AbortOnFailure = !F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">void</span> *Addr = <a class="code" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a>(F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), AbortOnFailure);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    addGlobalMapping(F, Addr);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  runJITOnFunctionUnlocked(F, locked);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordtype">void</span> *Addr = getPointerToGlobalIfAvailable(F);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  assert(Addr &amp;&amp; <span class="stringliteral">&quot;Code generation didn&#39;t add function to GlobalAddress table!&quot;</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a0d503ff61e6b8554a1963af3fb0772fb">  533</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a0d503ff61e6b8554a1963af3fb0772fb">JIT::addPointerToBasicBlock</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <span class="keywordtype">void</span> *Addr) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classllvm_1_1ValueMapIterator.html">BasicBlockAddressMapTy::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    getBasicBlockAddressMap(locked).find(BB);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> (I == getBasicBlockAddressMap(locked).<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    getBasicBlockAddressMap(locked)[<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>] = Addr;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// ignore repeats: some BBs can be split into few MBBs?</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#afac4ef08c21447bc32427dfa8031e429">  545</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#afac4ef08c21447bc32427dfa8031e429">JIT::clearPointerToBasicBlock</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  getBasicBlockAddressMap(locked).erase(BB);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#ab03302660c345fd258ec844c114c5d46">  550</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1JIT.html#ab03302660c345fd258ec844c114c5d46">JIT::getPointerToBasicBlock</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// make sure it&#39;s function is compiled by JIT</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  (void)getPointerToFunction(BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>());</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// resolve basic block address</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classllvm_1_1ValueMapIterator.html">BasicBlockAddressMapTy::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    getBasicBlockAddressMap(locked).find(BB);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (I != getBasicBlockAddressMap(locked).<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> I-&gt;<a class="code" href="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy.html#a5bcf5b029fa9492c00d2329def9b5137">second</a>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;JIT does not have BB address for address-of-label, was&quot;</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                     <span class="stringliteral">&quot; it eliminated by optimizer?&quot;</span>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a9e5f7c20c09a3fbac0f49caadb1dc537">  567</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1JIT.html#a9e5f7c20c09a3fbac0f49caadb1dc537">JIT::getPointerToNamedFunction</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                     <span class="keywordtype">bool</span> AbortOnFailure){</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (!isSymbolSearchingDisabled()) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordtype">void</span> *ptr = JMM-&gt;getPointerToNamedFunction(Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (ptr)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">return</span> ptr;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">  /// If a LazyFunctionCreator is installed, use it to get/create the function.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span> (LazyFunctionCreator)</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">void</span> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">RP</a> = LazyFunctionCreator(Name))</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">RP</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">if</span> (AbortOnFailure) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Program used external function &#39;&quot;</span>+Name+</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                      <span class="stringliteral">&quot;&#39; which could not be resolved!&quot;</span>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">/// getOrEmitGlobalVariable - Return the address of the specified global</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/// variable, possibly emitting it to memory if needed.  This is used by the</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">/// Emitter.</span></div><div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a3c266de337af71bab5a1bbff9cbd1298">  591</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1JIT.html#a3c266de337af71bab5a1bbff9cbd1298">JIT::getOrEmitGlobalVariable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordtype">void</span> *Ptr = getPointerToGlobalIfAvailable(GV);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (Ptr) <span class="keywordflow">return</span> Ptr;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// If the global is external, just remember the address.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() || GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>()) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#if HAVE___DSO_HANDLE</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <span class="stringliteral">&quot;__dso_handle&quot;</span>)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)&amp;__dso_handle;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    Ptr = <a class="code" href="classllvm_1_1sys_1_1DynamicLibrary.html#ae003d16a33e81b88943d3e3aa179fcc4">sys::DynamicLibrary::SearchForAddressOfSymbol</a>(GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>());</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (Ptr == 0) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Could not resolve external global address: &quot;</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        +GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>());</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    addGlobalMapping(GV, Ptr);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// If the global hasn&#39;t been emitted to memory yet, allocate space and</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// emit it into memory.</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    Ptr = getMemoryForGV(GV);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    addGlobalMapping(GV, Ptr);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    EmitGlobalVariable(GV);  <span class="comment">// Initialize the variable.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> Ptr;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">/// recompileAndRelinkFunction - This method is used to force a function</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">/// which has already been compiled, to be compiled again, possibly</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">/// after it has been modified. Then the entry to the old copy is overwritten</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">/// with a branch to the new copy. If there was no old copy, this acts</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">/// just like JIT::getPointerToFunction().</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#ae9f850e5a2f120780d3a5eaf9adc4421">  625</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1JIT.html#ae9f850e5a2f120780d3a5eaf9adc4421">JIT::recompileAndRelinkFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *F) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordtype">void</span> *OldAddr = getPointerToGlobalIfAvailable(F);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">// If it&#39;s not already compiled there is no reason to patch it up.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (OldAddr == 0) { <span class="keywordflow">return</span> getPointerToFunction(F); }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// Delete the old function mapping.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  addGlobalMapping(F, 0);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// Recodegen the function</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  runJITOnFunction(F);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// Update state, forward the old function to the new function.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordtype">void</span> *Addr = getPointerToGlobalIfAvailable(F);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  assert(Addr &amp;&amp; <span class="stringliteral">&quot;Code generation didn&#39;t add function to GlobalAddress table!&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  TJI.replaceMachineCodeForFunction(OldAddr, Addr);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">/// getMemoryForGV - This method abstracts memory allocation of global</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/// variable so that the JIT can allocate thread local variables depending</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">/// on the target.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#ac6a2d23c0622fc61049266de820418d4">  648</a></span>&#160;<span class="comment"></span><span class="keywordtype">char</span>* <a class="code" href="classllvm_1_1JIT.html#ac6a2d23c0622fc61049266de820418d4">JIT::getMemoryForGV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>* GV) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordtype">char</span> *Ptr;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// GlobalVariable&#39;s which are not &quot;constant&quot; will cause trouble in a server</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// situation. It&#39;s returned in the same block of memory as code which may</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// not be writable.</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (isGVCompilationDisabled() &amp;&amp; !GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>()) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Compilation of non-internal GlobalValue is disabled!&quot;</span>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// Some applications require globals and code to live together, so they may</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// be allocated into the same buffer, but in general globals are allocated</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="comment">// through the memory manager which puts them near the code but not in the</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="comment">// same buffer.</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *GlobalType = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = getDataLayout()-&gt;getTypeAllocSize(GlobalType);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = getDataLayout()-&gt;getPreferredAlignment(GV);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ab475a5d7e2ef20e13658adefb8c1be13">isThreadLocal</a>()) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    Ptr = TJI.allocateThreadLocalMemory(S);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TJI.allocateSeparateGVMemory()) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (A &lt;= 8) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      Ptr = (<span class="keywordtype">char</span>*)<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fae98ed5ddfcb816b8429fb3fe239324e8">malloc</a>(S);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// Allocate S+A bytes of memory, then use an aligned pointer within that</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">// space.</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      Ptr = (<span class="keywordtype">char</span>*)<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fae98ed5ddfcb816b8429fb3fe239324e8">malloc</a>(S+A);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordtype">unsigned</span> MisAligned = ((<a class="code" href="classintptr__t.html">intptr_t</a>)Ptr &amp; (A-1));</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      Ptr = Ptr + (MisAligned ? (A-MisAligned) : 0);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AllocateGVsWithCode) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    Ptr = (<span class="keywordtype">char</span>*)JCE-&gt;allocateSpace(S, A);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    Ptr = (<span class="keywordtype">char</span>*)JCE-&gt;allocateGlobal(S, A);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> Ptr;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="classllvm_1_1JIT.html#a4c1079ebd385acceb2f24ba5fd8d6287">  686</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1JIT.html#a4c1079ebd385acceb2f24ba5fd8d6287">JIT::addPendingFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *F) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  jitstate-&gt;getPendingFunctions(locked).push_back(F);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="classllvm_1_1JITEventListener.html#a863d934f0883d6bb73404f9981beb135">  692</a></span>&#160;<a class="code" href="classllvm_1_1JITEventListener.html#a863d934f0883d6bb73404f9981beb135">JITEventListener::~JITEventListener</a>() {}</div><div class="ttc" id="structllvm_1_1JITEvent__EmittedFunctionDetails_html"><div class="ttname"><a href="structllvm_1_1JITEvent__EmittedFunctionDetails.html">llvm::JITEvent_EmittedFunctionDetails</a></div><div class="ttdef"><b>Definition:</b> <a href="JITEventListener_8h_source.html#l00032">JITEventListener.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1DynamicLibrary_html_ae003d16a33e81b88943d3e3aa179fcc4"><div class="ttname"><a href="classllvm_1_1sys_1_1DynamicLibrary.html#ae003d16a33e81b88943d3e3aa179fcc4">llvm::sys::DynamicLibrary::SearchForAddressOfSymbol</a></div><div class="ttdeci">static void * SearchForAddressOfSymbol(const char *symbolName)</div><div class="ttdoc">Search through libraries for address of a symbol. </div><div class="ttdef"><b>Definition:</b> <a href="DynamicLibrary_8cpp_source.html#l00111">DynamicLibrary.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a192952cd92a1e0a31683bb21403acb53"><div class="ttname"><a href="classllvm_1_1JIT.html#a192952cd92a1e0a31683bb21403acb53">llvm::JIT::NotifyFunctionEmitted</a></div><div class="ttdeci">void NotifyFunctionEmitted(const Function &amp;F, void *Code, size_t Size, const JITEvent_EmittedFunctionDetails &amp;Details)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00421">JIT.cpp:421</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_abf07bf1f1544fd49ab08272ece9a963f"><div class="ttname"><a href="classllvm_1_1JIT.html#abf07bf1f1544fd49ab08272ece9a963f">llvm::JIT::UnregisterJITEventListener</a></div><div class="ttdeci">virtual void UnregisterJITEventListener(JITEventListener *L)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00410">JIT.cpp:410</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a06bc6435b6cc1169adb0b066b3a8f6f1"><div class="ttname"><a href="classllvm_1_1JIT.html#a06bc6435b6cc1169adb0b066b3a8f6f1">llvm::JIT::getPointerToFunction</a></div><div class="ttdeci">void * getPointerToFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00500">JIT.cpp:500</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a97cf043af111c14bb4d03a99cf42af03"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00133">DerivedTypes.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1ExecutionEngine_html_a514dfa1719bb6dadcc8bb7b71619805e"><div class="ttname"><a href="classllvm_1_1ExecutionEngine.html#a514dfa1719bb6dadcc8bb7b71619805e">llvm::ExecutionEngine::removeModule</a></div><div class="ttdeci">virtual bool removeModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_8cpp_source.html#l00114">ExecutionEngine.cpp:114</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">llvm::Type::FloatTyID</a></div><div class="ttdoc">2: 32-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00057">Type.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a0d503ff61e6b8554a1963af3fb0772fb"><div class="ttname"><a href="classllvm_1_1JIT.html#a0d503ff61e6b8554a1963af3fb0772fb">llvm::JIT::addPointerToBasicBlock</a></div><div class="ttdeci">void addPointerToBasicBlock(const BasicBlock *BB, void *Addr)</div><div class="ttdoc">addPointerToBasicBlock - Adds address of the specific basic block. </div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00533">JIT.cpp:533</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classintptr__t_html"><div class="ttname"><a href="classintptr__t.html">intptr_t</a></div></div>
<div class="ttc" id="classllvm_1_1JITEventListener_html"><div class="ttname"><a href="classllvm_1_1JITEventListener.html">llvm::JITEventListener</a></div><div class="ttdef"><b>Definition:</b> <a href="JITEventListener_8h_source.html#l00054">JITEventListener.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1SmartMutex_html"><div class="ttname"><a href="classllvm_1_1sys_1_1SmartMutex.html">llvm::sys::SmartMutex&lt; false &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a64a0b3f81a51bb837f4adf4a868be56c"><div class="ttname"><a href="classllvm_1_1JIT.html#a64a0b3f81a51bb837f4adf4a868be56c">llvm::JIT::createJIT</a></div><div class="ttdeci">static ExecutionEngine * createJIT(Module *M, std::string *ErrorStr, JITMemoryManager *JMM, bool GVsWithCode, TargetMachine *TM)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00073">JIT.cpp:73</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="JITEventListener_8h_html"><div class="ttname"><a href="JITEventListener_8h.html">JITEventListener.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_af4399141c23e944cc1f75390c3cbd959"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">llvm::GlobalValue::hasAvailableExternallyLinkage</a></div><div class="ttdeci">bool hasAvailableExternallyLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="GenericValue_8h_html"><div class="ttname"><a href="GenericValue_8h.html">GenericValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html"><div class="ttname"><a href="classllvm_1_1JIT.html">llvm::JIT</a></div><div class="ttdef"><b>Definition:</b> <a href="lib_2ExecutionEngine_2JIT_2JIT_8h_source.html#l00053">lib/ExecutionEngine/JIT/JIT.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1JITEventListener_html_a863d934f0883d6bb73404f9981beb135"><div class="ttname"><a href="classllvm_1_1JITEventListener.html#a863d934f0883d6bb73404f9981beb135">llvm::JITEventListener::~JITEventListener</a></div><div class="ttdeci">virtual ~JITEventListener()</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00692">JIT.cpp:692</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7">llvm::Type::X86_FP80TyID</a></div><div class="ttdoc">4: 80-bit floating point type (X87) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00059">Type.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1MachineCodeInfo_html_a89b575a7bb6666431c15dec1c4b69570"><div class="ttname"><a href="classllvm_1_1MachineCodeInfo.html#a89b575a7bb6666431c15dec1c4b69570">llvm::MachineCodeInfo::setSize</a></div><div class="ttdeci">void setSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="MachineCodeInfo_8h_source.html#l00032">MachineCodeInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">llvm::Type::PointerTyID</a></div><div class="ttdoc">14: Pointers </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00072">Type.h:72</a></div></div>
<div class="ttc" id="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy_html_a5bcf5b029fa9492c00d2329def9b5137"><div class="ttname"><a href="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy.html#a5bcf5b029fa9492c00d2329def9b5137">llvm::ValueMapIterator::ValueTypeProxy::second</a></div><div class="ttdeci">ValueT &amp; second</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00293">ValueMap.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1JITMemoryManager_html"><div class="ttname"><a href="classllvm_1_1JITMemoryManager.html">llvm::JITMemoryManager</a></div><div class="ttdef"><b>Definition:</b> <a href="JITMemoryManager_8h_source.html#l00026">JITMemoryManager.h:26</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af4d5ada526cdf057f5f29047e058187d"><div class="ttname"><a href="classllvm_1_1Function.html#af4d5ada526cdf057f5f29047e058187d">llvm::Function::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00161">Function.h:161</a></div></div>
<div class="ttc" id="TargetJITInfo_8h_html"><div class="ttname"><a href="TargetJITInfo_8h.html">TargetJITInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_acd74b2224788f8d010e47622bb3c2a04"><div class="ttname"><a href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">llvm::CallInst::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01253">Instructions.h:1253</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_aae67c508d4f0716516f5c412c5592556"><div class="ttname"><a href="Target_2README_8txt.html#aae67c508d4f0716516f5c412c5592556">result</a></div><div class="ttdeci">then result</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00393">Target/README.txt:393</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="JITMemoryManager_8h_html"><div class="ttname"><a href="JITMemoryManager_8h.html">JITMemoryManager.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="group__LLVMCExecutionEngine_html_ga231a4bc228944496d88bcf28753e88a2"><div class="ttname"><a href="group__LLVMCExecutionEngine.html#ga231a4bc228944496d88bcf28753e88a2">LLVMLinkInJIT</a></div><div class="ttdeci">void LLVMLinkInJIT()</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00067">JIT.cpp:67</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a06c14477546c3a0eb4c79ff007ea2375"><div class="ttname"><a href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a></div><div class="ttdeci">static unsigned getBitWidth(Type *Ty, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00040">ValueTracking.cpp:40</a></div></div>
<div class="ttc" id="classllvm_1_1JITState_html"><div class="ttname"><a href="classllvm_1_1JITState.html">llvm::JITState</a></div><div class="ttdef"><b>Definition:</b> <a href="lib_2ExecutionEngine_2JIT_2JIT_8h_source.html#l00030">lib/ExecutionEngine/JIT/JIT.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_ab475a5d7e2ef20e13658adefb8c1be13"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ab475a5d7e2ef20e13658adefb8c1be13">llvm::GlobalVariable::isThreadLocal</a></div><div class="ttdeci">bool isThreadLocal() const </div><div class="ttdoc">If the value is &quot;Thread Local&quot;, its value isn&amp;#39;t shared by the threads. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00159">GlobalVariable.h:159</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1TargetJITInfo_html"><div class="ttname"><a href="classllvm_1_1TargetJITInfo.html">llvm::TargetJITInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetJITInfo_8h_source.html#l00032">TargetJITInfo.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1JITMemoryManager_html_a38a94276e787acd0cda0f1a0b7d58463"><div class="ttname"><a href="classllvm_1_1JITMemoryManager.html#a38a94276e787acd0cda0f1a0b7d58463">llvm::JITMemoryManager::CreateDefaultMemManager</a></div><div class="ttdeci">static JITMemoryManager * CreateDefaultMemManager()</div><div class="ttdef"><b>Definition:</b> <a href="JITMemoryManager_8cpp_source.html#l00901">JITMemoryManager.cpp:901</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="MutexGuard_8h_html"><div class="ttname"><a href="MutexGuard_8h.html">MutexGuard.h</a></div></div>
<div class="ttc" id="DynamicLibrary_8h_html"><div class="ttname"><a href="DynamicLibrary_8h.html">DynamicLibrary.h</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html"><div class="ttname"><a href="structllvm_1_1GenericValue.html">llvm::GenericValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00026">GenericValue.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8ac50c3e2e6c3dd02e21c1ab2836aed6"><div class="ttname"><a href="classllvm_1_1Function.html#a8ac50c3e2e6c3dd02e21c1ab2836aed6">llvm::Function::back</a></div><div class="ttdeci">const BasicBlock &amp; back() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a698e4bd87a8adc0c042ae6b6e10ee6e1"><div class="ttname"><a href="README-SSE_8txt.html#a698e4bd87a8adc0c042ae6b6e10ee6e1">double</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in and only one load from a constant double</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00053">README-SSE.txt:53</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00361">Type.cpp:361</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a03ca9c68eac58a1444ba25a1d0737a3f"><div class="ttname"><a href="classllvm_1_1JIT.html#a03ca9c68eac58a1444ba25a1d0737a3f">llvm::JIT::runJITOnFunction</a></div><div class="ttdeci">void runJITOnFunction(Function *F, MachineCodeInfo *MCI=0)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00442">JIT.cpp:442</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e08dfcb75ff1b4b38c352bc0d9db223"><div class="ttname"><a href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">llvm::Type::getTypeID</a></div><div class="ttdeci">TypeID getTypeID() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00137">Type.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a15e279291892399c141cd01c7e358cbf"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01660">Constants.cpp:1660</a></div></div>
<div class="ttc" id="namespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a56697632782c9ab774d6c132a955674a">llvm::lltok::APFloat</a></div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00182">LLToken.h:182</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_a9810b36b4c4c17901d491f5aac030623"><div class="ttname"><a href="structllvm_1_1GenericValue.html#a9810b36b4c4c17901d491f5aac030623">llvm::GenericValue::DoubleVal</a></div><div class="ttdeci">double DoubleVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00032">GenericValue.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">llvm::Type::IntegerTyID</a></div><div class="ttdoc">10: Arbitrary bit width integers </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00068">Type.h:68</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a01e526369d007f26d91a9886e937b024"><div class="ttname"><a href="classllvm_1_1JIT.html#a01e526369d007f26d91a9886e937b024">llvm::JIT::Register</a></div><div class="ttdeci">static void Register()</div><div class="ttdef"><b>Definition:</b> <a href="lib_2ExecutionEngine_2JIT_2JIT_8h_source.html#l00086">lib/ExecutionEngine/JIT/JIT.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1MutexGuard_html"><div class="ttname"><a href="classllvm_1_1MutexGuard.html">llvm::MutexGuard</a></div><div class="ttdoc">Guard a section of code with a Mutex. </div><div class="ttdef"><b>Definition:</b> <a href="MutexGuard_8h_source.html#l00027">MutexGuard.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520">llvm::Type::VoidTyID</a></div><div class="ttdoc">0: type with no size </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00055">Type.h:55</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a176b84b12bc19326444728c6404dd068"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const </div><div class="ttdoc">Parameter type accessors. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00128">DerivedTypes.h:128</a></div></div>
<div class="ttc" id="ManagedStatic_8h_html"><div class="ttname"><a href="ManagedStatic_8h.html">ManagedStatic.h</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1EngineKind_html_a9df47239a42cd9621ac26d9ecbd57441a41413991d9e4a8c017e9d83f8446d875"><div class="ttname"><a href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441a41413991d9e4a8c017e9d83f8446d875">llvm::EngineKind::JIT</a></div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00500">ExecutionEngine/ExecutionEngine.h:500</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_a5160197592bd1fc5c8cc81cd803e0629"><div class="ttname"><a href="structllvm_1_1GenericValue.html#a5160197592bd1fc5c8cc81cd803e0629">llvm::GenericValue::FloatVal</a></div><div class="ttdeci">float FloatVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00033">GenericValue.h:33</a></div></div>
<div class="ttc" id="lib_2ExecutionEngine_2JIT_2JIT_8h_html"><div class="ttname"><a href="lib_2ExecutionEngine_2JIT_2JIT_8h.html">JIT.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">llvm::tgtok::IntVal</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00054">TGLexer.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="PassRegistry_8cpp_html_ac92dcbc9680e0644e459e0635f43f8fb"><div class="ttname"><a href="PassRegistry_8cpp.html#ac92dcbc9680e0644e459e0635f43f8fb">Lock</a></div><div class="ttdeci">static ManagedStatic&lt; sys::SmartRWMutex&lt; true &gt; &gt; Lock</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00039">PassRegistry.cpp:39</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1DynamicLibrary_html_a18575725b7c13545198708dac576048b"><div class="ttname"><a href="classllvm_1_1sys_1_1DynamicLibrary.html#a18575725b7c13545198708dac576048b">llvm::sys::DynamicLibrary::LoadLibraryPermanently</a></div><div class="ttdeci">static bool LoadLibraryPermanently(const char *Filename, std::string *ErrMsg=0)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicLibrary_8h_source.html#l00075">DynamicLibrary.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a3c266de337af71bab5a1bbff9cbd1298"><div class="ttname"><a href="classllvm_1_1JIT.html#a3c266de337af71bab5a1bbff9cbd1298">llvm::JIT::getOrEmitGlobalVariable</a></div><div class="ttdeci">void * getOrEmitGlobalVariable(const GlobalVariable *GV)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00591">JIT.cpp:591</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48">llvm::Type::PPC_FP128TyID</a></div><div class="ttdoc">6: 128-bit floating point type (two 64-bits, PowerPC) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00061">Type.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a9c533cbb87917b1fa81148331c80917b"><div class="ttname"><a href="classllvm_1_1JIT.html#a9c533cbb87917b1fa81148331c80917b">llvm::JIT::~JIT</a></div><div class="ttdeci">~JIT()</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00166">JIT.cpp:166</a></div></div>
<div class="ttc" id="classllvm_1_1MachineCodeInfo_html_a23f8b7bbbe44d1d8b929221b4eed3840"><div class="ttname"><a href="classllvm_1_1MachineCodeInfo.html#a23f8b7bbbe44d1d8b929221b4eed3840">llvm::MachineCodeInfo::setAddress</a></div><div class="ttdeci">void setAddress(void *a)</div><div class="ttdef"><b>Definition:</b> <a href="MachineCodeInfo_8h_source.html#l00036">MachineCodeInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_ad54481e3c992b555aeaba34a83daf7e6"><div class="ttname"><a href="classllvm_1_1CallInst.html#ad54481e3c992b555aeaba34a83daf7e6">llvm::CallInst::setTailCall</a></div><div class="ttdeci">void setTailCall(bool isTC=true)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01231">Instructions.h:1231</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a4c1079ebd385acceb2f24ba5fd8d6287"><div class="ttname"><a href="classllvm_1_1JIT.html#a4c1079ebd385acceb2f24ba5fd8d6287">llvm::JIT::addPendingFunction</a></div><div class="ttdeci">void addPendingFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00686">JIT.cpp:686</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_afac4ef08c21447bc32427dfa8031e429"><div class="ttname"><a href="classllvm_1_1JIT.html#afac4ef08c21447bc32427dfa8031e429">llvm::JIT::clearPointerToBasicBlock</a></div><div class="ttdeci">void clearPointerToBasicBlock(const BasicBlock *BB)</div><div class="ttdoc">clearPointerToBasicBlock - Removes address of specific basic block. </div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00545">JIT.cpp:545</a></div></div>
<div class="ttc" id="classllvm_1_1ExecutionEngine_html_af7d3440b41718259c50afaac2b0855cc"><div class="ttname"><a href="classllvm_1_1ExecutionEngine.html#af7d3440b41718259c50afaac2b0855cc">llvm::ExecutionEngine::addModule</a></div><div class="ttdeci">virtual void addModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00203">ExecutionEngine/ExecutionEngine.h:203</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_afa7a5bd7d386113e90f85d42423fc528"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#afa7a5bd7d386113e90f85d42423fc528">llvm::TargetMachine::getJITInfo</a></div><div class="ttdeci">virtual TargetJITInfo * getJITInfo()</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00150">Target/TargetMachine.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMapIterator_html"><div class="ttname"><a href="classllvm_1_1ValueMapIterator.html">llvm::ValueMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00041">ValueMap.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1ExecutionEngine_html"><div class="ttname"><a href="classllvm_1_1ExecutionEngine.html">llvm::ExecutionEngine</a></div><div class="ttdoc">Abstract interface for implementation execution of LLVM modules, designed to support both interpreter...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00100">ExecutionEngine/ExecutionEngine.h:100</a></div></div>
<div class="ttc" id="namespacellvm_html_a7f09b8c588531603bac440b5fecc85bc"><div class="ttname"><a href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">llvm::GVTOP</a></div><div class="ttdeci">void * GVTOP(const GenericValue &amp;GV)</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00050">GenericValue.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a861226dd056dd2438da26760b8e7a9a0"><div class="ttname"><a href="classllvm_1_1CallInst.html#a861226dd056dd2438da26760b8e7a9a0">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(Value *Func, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01187">Instructions.h:1187</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00174">SmallPtrSet.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a543b0415de2670670f8346a7251391af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">llvm::GlobalValue::hasExternalWeakLinkage</a></div><div class="ttdeci">bool hasExternalWeakLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00214">GlobalValue.h:214</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a2ce650c1d4a48661b501206d04b6ab04"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a2ce650c1d4a48661b501206d04b6ab04">llvm::SmallPtrSet::erase</a></div><div class="ttdeci">bool erase(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00259">SmallPtrSet.h:259</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a4a6621856674f376740a1ba6efd809e3">llvm::tgtok::Code</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_ab03302660c345fd258ec844c114c5d46"><div class="ttname"><a href="classllvm_1_1JIT.html#ab03302660c345fd258ec844c114c5d46">llvm::JIT::getPointerToBasicBlock</a></div><div class="ttdeci">void * getPointerToBasicBlock(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00550">JIT.cpp:550</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_a41c201584742f7eb45b2be8cd54e3bcb"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a41c201584742f7eb45b2be8cd54e3bcb">llvm::SmallPtrSetImpl::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00075">SmallPtrSet.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_ae9f850e5a2f120780d3a5eaf9adc4421"><div class="ttname"><a href="classllvm_1_1JIT.html#ae9f850e5a2f120780d3a5eaf9adc4421">llvm::JIT::recompileAndRelinkFunction</a></div><div class="ttdeci">void * recompileAndRelinkFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00625">JIT.cpp:625</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html_a5eb8f7a5d3cfdd127ad9db2e425e14eb"><div class="ttname"><a href="classllvm_1_1ConstantFP.html#a5eb8f7a5d3cfdd127ad9db2e425e14eb">llvm::ConstantFP::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, double V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00557">Constants.cpp:557</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a60e80d9427d27573184d95640eafe328"><div class="ttname"><a href="classllvm_1_1Type.html#a60e80d9427d27573184d95640eafe328">llvm::Type::getFltSemantics</a></div><div class="ttdeci">const fltSemantics &amp; getFltSemantics() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00169">Type.h:169</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="GlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="Dwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a77905b5e34e8754df1ed4051e0ad9d1a"><div class="ttname"><a href="namespacellvm.html#a77905b5e34e8754df1ed4051e0ad9d1a">llvm::PTOGV</a></div><div class="ttdeci">GenericValue PTOGV(void *P)</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00049">GenericValue.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a1500a3fe55cf38153aa1e0fbe7284e05"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">llvm::GlobalVariable::isConstant</a></div><div class="ttdeci">bool isConstant() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00155">GlobalVariable.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPassManager_html"><div class="ttname"><a href="classllvm_1_1FunctionPassManager.html">llvm::FunctionPassManager</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2PassManager_8h_source.html#l00104">IR/PassManager.h:104</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a93e42472d827f20066b76aa18a1fa0f0"><div class="ttname"><a href="classllvm_1_1JIT.html#a93e42472d827f20066b76aa18a1fa0f0">llvm::JIT::NotifyFreeingMachineCode</a></div><div class="ttdeci">void NotifyFreeingMachineCode(void *OldPtr)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00431">JIT.cpp:431</a></div></div>
<div class="ttc" id="JITCodeEmitter_8h_html"><div class="ttname"><a href="JITCodeEmitter_8h.html">JITCodeEmitter.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ad60ec7475b0ffe7fc1f68a8019780643"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const </div><div class="ttdoc">getType - Global values are always pointers. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00107">GlobalValue.h:107</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fae98ed5ddfcb816b8429fb3fe239324e8"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fae98ed5ddfcb816b8429fb3fe239324e8">llvm::LibFunc::malloc</a></div><div class="ttdoc">void *malloc(size_t size); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00380">TargetLibraryInfo.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXCvtMode_html_ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">llvm::NVPTX::PTXCvtMode::RP</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00143">NVPTX.h:143</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a8fb092ecc42706d8901ee791cd6c90a7"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">llvm::sys::path::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; const_iterator &gt; reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Path_8h_source.html#l00079">Path.h:79</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a7f055d0b03ebf1d6a5988b178e9b8f4f"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">llvm::SmallPtrSet::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00279">SmallPtrSet.h:279</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ae1d53a21892854816885c7288f8b46f1"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=0, BasicBlock *InsertBefore=0)</div><div class="ttdoc">Creates a new BasicBlock. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00109">BasicBlock.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdoc">Rename collisions when linking (static functions). </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00041">GlobalValue.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_af745cbfcabc82108a0c5aca1660d3d81"><div class="ttname"><a href="classllvm_1_1JIT.html#af745cbfcabc82108a0c5aca1660d3d81">llvm::JIT::addModule</a></div><div class="ttdeci">virtual void addModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00177">JIT.cpp:177</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8969dec86d24dd579f8ecc963e1dc8b4"><div class="ttname"><a href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">llvm::Function::eraseFromParent</a></div><div class="ttdeci">virtual void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00187">Function.cpp:187</a></div></div>
<div class="ttc" id="MachineCodeInfo_8h_html"><div class="ttname"><a href="MachineCodeInfo_8h.html">MachineCodeInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html_ace9225fc27f77c5078f56027ed5421a6"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">llvm::ReturnInst::Create</a></div><div class="ttdeci">static ReturnInst * Create(LLVMContext &amp;C, Value *retVal=0, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02301">Instructions.h:2301</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_adc1cecb2e860959165c8ad83d0d26023"><div class="ttname"><a href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">llvm::GenericValue::IntVal</a></div><div class="ttdeci">APInt IntVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00038">GenericValue.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">llvm::Type::DoubleTyID</a></div><div class="ttdoc">3: 64-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00058">Type.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a9eda832d6e80bc19b98f22f4ec714e3f"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00121">DerivedTypes.h:121</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a9e5f7c20c09a3fbac0f49caadb1dc537"><div class="ttname"><a href="classllvm_1_1JIT.html#a9e5f7c20c09a3fbac0f49caadb1dc537">llvm::JIT::getPointerToNamedFunction</a></div><div class="ttdeci">virtual void * getPointerToNamedFunction(const std::string &amp;Name, bool AbortOnFailure=true)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00567">JIT.cpp:567</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a669d599eeacffd29a09050e2af83bf67"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">llvm::SmallPtrSet::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00276">SmallPtrSet.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1MachineCodeInfo_html"><div class="ttname"><a href="classllvm_1_1MachineCodeInfo.html">llvm::MachineCodeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineCodeInfo_8h_source.html#l00024">MachineCodeInfo.h:24</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_ac6a2d23c0622fc61049266de820418d4"><div class="ttname"><a href="classllvm_1_1JIT.html#ac6a2d23c0622fc61049266de820418d4">llvm::JIT::getMemoryForGV</a></div><div class="ttdeci">virtual char * getMemoryForGV(const GlobalVariable *GV)</div><div class="ttdoc">getMemoryforGV - Allocate memory for a global variable. </div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00648">JIT.cpp:648</a></div></div>
<div class="ttc" id="classllvm_1_1ManagedStatic_html"><div class="ttname"><a href="classllvm_1_1ManagedStatic.html">llvm::ManagedStatic</a></div><div class="ttdef"><b>Definition:</b> <a href="ManagedStatic_8h_source.html#l00061">ManagedStatic.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_acb27ae484baaedcb76238c884a39ca4f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#acb27ae484baaedcb76238c884a39ca4f">llvm::GlobalValue::Materialize</a></div><div class="ttdeci">bool Materialize(std::string *ErrInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00036">Globals.cpp:36</a></div></div>
<div class="ttc" id="JIT_8cpp_html_a3972a06550c629a9a489fd3e3f91bcb6"><div class="ttname"><a href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a></div><div class="ttdeci">void * getPointerToNamedFunction(const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00131">JIT.cpp:131</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a909a5637afdd25f40bc81cf96f5cfd0b"><div class="ttname"><a href="classllvm_1_1JIT.html#a909a5637afdd25f40bc81cf96f5cfd0b">llvm::JIT::removeModule</a></div><div class="ttdeci">virtual bool removeModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00203">JIT.cpp:203</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a391d2fadb0e41f80974a95e7b04c1e3f"><div class="ttname"><a href="classllvm_1_1JIT.html#a391d2fadb0e41f80974a95e7b04c1e3f">llvm::JIT::RegisterJITEventListener</a></div><div class="ttdeci">virtual void RegisterJITEventListener(JITEventListener *L)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00404">JIT.cpp:404</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a162a63c89ac118c8ffef75b3a892efa0"><div class="ttname"><a href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, const Twine &amp;N=&quot;&quot;, Module *M=0)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00128">Function.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af5c7041df3ad5edffe5da17b5264c1fc"><div class="ttname"><a href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const </div><div class="ttdoc">isVoidTy - Return true if this is &amp;#39;void&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc">llvm::Type::FP128TyID</a></div><div class="ttdoc">5: 128-bit floating point type (112-bit mantissa) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00060">Type.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1JIT_html_a3c8a8208408138f9ed8f90b89709a537"><div class="ttname"><a href="classllvm_1_1JIT.html#a3c8a8208408138f9ed8f90b89709a537">llvm::JIT::runFunction</a></div><div class="ttdeci">virtual GenericValue runFunction(Function *F, const std::vector&lt; GenericValue &gt; &amp;ArgValues)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00233">JIT.cpp:233</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:08 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
