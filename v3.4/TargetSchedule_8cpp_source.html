<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: TargetSchedule.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('TargetSchedule_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TargetSchedule.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TargetSchedule_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- llvm/Target/TargetSchedule.cpp - Sched Machine Model ----*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements a wrapper around MCSchedModel that allows the interface</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// to benefit from information currently only available in TargetInstrInfo.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSchedule_8h.html">llvm/CodeGen/TargetSchedule.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/Target/TargetRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/Target/TargetSubtargetInfo.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="TargetSchedule_8cpp.html#a748a068930467bc949718bd3b13cf690">EnableSchedModel</a>(<span class="stringliteral">&quot;schedmodel&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use TargetSchedModel for latency lookup&quot;</span>));</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="TargetSchedule_8cpp.html#a74889488d66dd687ad41c17403cda85d">EnableSchedItins</a>(<span class="stringliteral">&quot;scheditins&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use InstrItineraryData for latency lookup&quot;</span>));</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">   31</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">TargetSchedModel::hasInstrSchedModel</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="TargetSchedule_8cpp.html#a748a068930467bc949718bd3b13cf690">EnableSchedModel</a> &amp;&amp; SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#a6dd869ee53027534ae12dfee958dbc34">hasInstrSchedModel</a>();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">   35</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">TargetSchedModel::hasInstrItineraries</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="TargetSchedule_8cpp.html#a74889488d66dd687ad41c17403cda85d">EnableSchedItins</a> &amp;&amp; !InstrItins.<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="TargetSchedule_8cpp.html#a228b4c336376bde569f5089b29f9f9de">   39</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetSchedule_8cpp.html#a228b4c336376bde569f5089b29f9f9de">gcd</a>(<span class="keywordtype">unsigned</span> Dividend, <span class="keywordtype">unsigned</span> Divisor) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// Dividend and Divisor will be naturally swapped as needed.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">while</span>(Divisor) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">unsigned</span> Rem = Dividend % Divisor;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    Dividend = Divisor;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    Divisor = Rem;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  };</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">return</span> Dividend;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="TargetSchedule_8cpp.html#a59ae110735f7370384bca779e21b67df">   48</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetSchedule_8cpp.html#a59ae110735f7370384bca779e21b67df">lcm</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordtype">unsigned</span> LCM = (uint64_t(A) * <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>) / <a class="code" href="TargetSchedule_8cpp.html#a228b4c336376bde569f5089b29f9f9de">gcd</a>(A, B);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  assert((LCM &gt;= A &amp;&amp; LCM &gt;= B) &amp;&amp; <span class="stringliteral">&quot;LCM overflow&quot;</span>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> LCM;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a5419fb52cab4895e3fc6fc9fc5c73f91">   54</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a5419fb52cab4895e3fc6fc9fc5c73f91">TargetSchedModel::init</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSchedModel.html">MCSchedModel</a> &amp;sm,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> *sti,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *tii) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  SchedModel = sm;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  STI = sti;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  TII = tii;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a73852f47d607fc0d3fa8f41e624cca12">initInstrItins</a>(InstrItins);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">unsigned</span> NumRes = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#a59487e9e5951e6ecc5f16defc19a29b4">getNumProcResourceKinds</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  ResourceFactors.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(NumRes);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  ResourceLCM = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ac0f11354e854441ac5fefd72d91dd8ee">IssueWidth</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumRes; ++Idx) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">unsigned</span> NumUnits = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ab41bcf3b84bd10587b266e2b08be5c71">getProcResource</a>(Idx)-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (NumUnits &gt; 0)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      ResourceLCM = <a class="code" href="TargetSchedule_8cpp.html#a59ae110735f7370384bca779e21b67df">lcm</a>(ResourceLCM, NumUnits);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  MicroOpFactor = ResourceLCM / SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ac0f11354e854441ac5fefd72d91dd8ee">IssueWidth</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; NumRes; ++Idx) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">unsigned</span> NumUnits = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ab41bcf3b84bd10587b266e2b08be5c71">getProcResource</a>(Idx)-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">NumUnits</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ResourceFactors[Idx] = NumUnits ? (ResourceLCM / NumUnits) : 0;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a62c7a4fcb40a033c1f4ae7d45f7aa752">   77</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a62c7a4fcb40a033c1f4ae7d45f7aa752">TargetSchedModel::getNumMicroOps</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">hasInstrItineraries</a>()) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">int</span> UOps = InstrItins.<a class="code" href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">getNumMicroOps</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>());</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> (UOps &gt;= 0) ? UOps : TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a51d38fbb0d2a4134718f08a8e230e447">getNumMicroOps</a>(&amp;InstrItins, MI);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">hasInstrSchedModel</a>()) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (!SC)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      SC = <a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(MI);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (SC-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">isValid</a>())</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">return</span> SC-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#af1d4835dca6874fb9e03a68097c0f2e0">NumMicroOps</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">isTransient</a>() ? 0 : 1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// The machine model may explicitly specify an invalid latency, which</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// effectively means infinite latency. Since users of the TargetSchedule API</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">// don&#39;t know how to handle this, we convert it to a very large latency that is</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// easy to distinguish when debugging the DAG but won&#39;t induce overflow.</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="TargetSchedule_8cpp.html#a53077df79c9287854b0082944955b854">   96</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetSchedule_8cpp.html#a53077df79c9287854b0082944955b854">capLatency</a>(<span class="keywordtype">int</span> Cycles) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">return</span> Cycles &gt;= 0 ? Cycles : 1000;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/// Return the MCSchedClassDesc for this instruction. Some SchedClasses require</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/// evaluation of predicates that depend on instruction operands or flags.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *<a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">TargetSchedModel::</a></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">  103</a></span>&#160;<a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Get the definition&#39;s scheduling class descriptor from this machine model.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">unsigned</span> SchedClass = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ae32c187457de34674f839df2e6d0546b">getSchedClassDesc</a>(SchedClass);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> (!SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">isValid</a>())</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> SCDesc;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">unsigned</span> NIter = 0;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">while</span> (SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#abe81832f2d2bd1474f23e1f10b3933ed">isVariant</a>()) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    assert(++NIter &lt; 6 &amp;&amp; <span class="stringliteral">&quot;Variants are nested deeper than the magic number&quot;</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    SchedClass = STI-&gt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a0b8556a4a9550bda032e66ba6ff2b4c3">resolveSchedClass</a>(SchedClass, MI, <span class="keyword">this</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    SCDesc = SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ae32c187457de34674f839df2e6d0546b">getSchedClassDesc</a>(SchedClass);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> SCDesc;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/// Find the def index of this operand. This index maps to the machine model and</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// is independent of use operands. Def operands may be reordered with uses or</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// merged with uses without affecting the def index (e.g. before/after</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/// regalloc). However, an instruction&#39;s def operands must never be reordered</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// with respect to each other.</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="TargetSchedule_8cpp.html#a7ee47bba7fdfe2b4de0b767f6d493c26">  128</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetSchedule_8cpp.html#a7ee47bba7fdfe2b4de0b767f6d493c26">findDefIdx</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> DefOperIdx) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">unsigned</span> DefIdx = 0;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DefOperIdx; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>())</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      ++DefIdx;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> DefIdx;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/// Find the use index of this operand. This is independent of the instruction&#39;s</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/// def operands.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/// Note that uses are not determined by the operand&#39;s isUse property, which</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/// is simply the inverse of isDef. Here we consider any readsReg operand to be</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/// a &quot;use&quot;. The machine model allows an operand to be both a Def and Use.</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="TargetSchedule_8cpp.html#a0402c8e75bccfb666de451d465cd0ac5">  144</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="TargetSchedule_8cpp.html#a0402c8e75bccfb666de451d465cd0ac5">findUseIdx</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> UseOperIdx) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">unsigned</span> UseIdx = 0;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != UseOperIdx; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>())</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      ++UseIdx;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">return</span> UseIdx;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// Top-level API for clients that know the operand indices.</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">  155</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">TargetSchedModel::computeOperandLatency</a>(</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefOperIdx,</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMI, <span class="keywordtype">unsigned</span> UseOperIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">hasInstrSchedModel</a>() &amp;&amp; !<a class="code" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">hasInstrItineraries</a>())</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a21af491ad2c61a55d087c89d7a11558c">defaultDefLatency</a>(&amp;SchedModel, DefMI);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">hasInstrItineraries</a>()) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">int</span> OperLatency = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (UseMI) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      OperLatency = TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#adc939be170e88a125dc61b64294de450">getOperandLatency</a>(&amp;InstrItins, DefMI, DefOperIdx,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                           UseMI, UseOperIdx);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordtype">unsigned</span> DefClass = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      OperLatency = InstrItins.<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefClass, DefOperIdx);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (OperLatency &gt;= 0)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">return</span> OperLatency;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// No operand latency was found.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">unsigned</span> InstrLatency = TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#aaf9c5e138e520c6d2d7cd50c185141a5">getInstrLatency</a>(&amp;InstrItins, DefMI);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Expected latency is the max of the stage latency and itinerary props.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Rather than directly querying InstrItins stage latency, we call a TII</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// hook to allow subtargets to specialize latency. This hook is only</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// applicable to the InstrItins model. InstrSchedModel should model all</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// special cases without TII hooks.</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    InstrLatency = std::max(InstrLatency,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                            TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a21af491ad2c61a55d087c89d7a11558c">defaultDefLatency</a>(&amp;SchedModel, DefMI));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> InstrLatency;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// hasInstrSchedModel()</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = <a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(DefMI);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordtype">unsigned</span> DefIdx = <a class="code" href="TargetSchedule_8cpp.html#a7ee47bba7fdfe2b4de0b767f6d493c26">findDefIdx</a>(DefMI, DefOperIdx);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (DefIdx &lt; SCDesc-&gt;NumWriteLatencyEntries) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Lookup the definition&#39;s write latency in SubtargetInfo.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteLatencyEntry.html">MCWriteLatencyEntry</a> *WLEntry =</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a1cc24fb6ef6cda8f3bfbf732e1d87afe">getWriteLatencyEntry</a>(SCDesc, DefIdx);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">unsigned</span> WriteID = WLEntry-&gt;<a class="code" href="structllvm_1_1MCWriteLatencyEntry.html#af0c1076bd04f01c7e09f41f87267eee1">WriteResourceID</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">unsigned</span> Latency = <a class="code" href="TargetSchedule_8cpp.html#a53077df79c9287854b0082944955b854">capLatency</a>(WLEntry-&gt;<a class="code" href="structllvm_1_1MCWriteLatencyEntry.html#a5f8536baa8291f170a203aebcf3c942a">Cycles</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (!UseMI)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Lookup the use&#39;s latency adjustment in SubtargetInfo.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *UseDesc = <a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(UseMI);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (UseDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#a410a7c3a0e431cb5df00a13339382a02">NumReadAdvanceEntries</a> == 0)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">unsigned</span> UseIdx = <a class="code" href="TargetSchedule_8cpp.html#a0402c8e75bccfb666de451d465cd0ac5">findUseIdx</a>(UseMI, UseOperIdx);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">int</span> Advance = STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a2da484f5ef9226a8f43f4c18d04bcc1c">getReadAdvanceCycles</a>(UseDesc, UseIdx, WriteID);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (Advance &gt; 0 &amp;&amp; (<span class="keywordtype">unsigned</span>)Advance &gt; Latency) <span class="comment">// unsigned wrap</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> Latency - Advance;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// If DefIdx does not exist in the model (e.g. implicit defs), then return</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// unit latency (defaultDefLatency may be too conservative).</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">isValid</a>() &amp;&amp; !DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(DefOperIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">isImplicit</a>()</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      &amp;&amp; !DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#aa4766bd7c8b854a0c28d85283ab303ad">OpInfo</a>[DefOperIdx].<a class="code" href="classllvm_1_1MCOperandInfo.html#a579137208bd578a8a99b0e46c5bdfb8c">isOptionalDef</a>()</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      &amp;&amp; SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#a628f04a9f0e6eb479ca0eb3decd3be9e">isComplete</a>()) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::string Err;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> ss(Err);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    ss &lt;&lt; <span class="stringliteral">&quot;DefIdx &quot;</span> &lt;&lt; DefIdx &lt;&lt; <span class="stringliteral">&quot; exceeds machine model writes for &quot;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;       &lt;&lt; *DefMI;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(ss.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>());</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// FIXME: Automatically giving all implicit defs defaultDefLatency is</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// undesirable. We should only do it for defs that are known to the MC</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// desc like flags. Truly implicit defs should get 1 cycle latency.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">return</span> DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">isTransient</a>() ? 0 : TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a21af491ad2c61a55d087c89d7a11558c">defaultDefLatency</a>(&amp;SchedModel, DefMI);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">  229</a></span>&#160;<a class="code" href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">TargetSchedModel::computeInstrLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                      <span class="keywordtype">bool</span> UseDefaultDefLatency)<span class="keyword"> const </span>{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// For the itinerary model, fall back to the old subtarget hook.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Allow subtargets to compute Bundle latencies outside the machine model.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">hasInstrItineraries</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>() ||</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      (!<a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">hasInstrSchedModel</a>() &amp;&amp; !UseDefaultDefLatency))</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#aaf9c5e138e520c6d2d7cd50c185141a5">getInstrLatency</a>(&amp;InstrItins, MI);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">hasInstrSchedModel</a>()) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = <a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(MI);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">isValid</a>()) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordtype">unsigned</span> Latency = 0;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> DefIdx = 0, DefEnd = SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#aea35210856f63d251fda4c65312429f4">NumWriteLatencyEntries</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;           DefIdx != DefEnd; ++DefIdx) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// Lookup the definition&#39;s write latency in SubtargetInfo.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteLatencyEntry.html">MCWriteLatencyEntry</a> *WLEntry =</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a1cc24fb6ef6cda8f3bfbf732e1d87afe">getWriteLatencyEntry</a>(SCDesc, DefIdx);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        Latency = std::max(Latency, <a class="code" href="TargetSchedule_8cpp.html#a53077df79c9287854b0082944955b854">capLatency</a>(WLEntry-&gt;<a class="code" href="structllvm_1_1MCWriteLatencyEntry.html#a5f8536baa8291f170a203aebcf3c942a">Cycles</a>));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">return</span> TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a21af491ad2c61a55d087c89d7a11558c">defaultDefLatency</a>(&amp;SchedModel, MI);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">TargetSchedModel::</a></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">  255</a></span>&#160;<a class="code" href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">computeOutputLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefOperIdx,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DepMI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#aaaca528ae14befaac95c11df31faf36b">MicroOpBufferSize</a> &lt;= 1)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// MicroOpBufferSize &gt; 1 indicates an out-of-order processor that can dispatch</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// WAW dependencies in the same cycle.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// Treat predication as a data dependency for out-of-order cpus. In-order</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// cpus do not need to treat predicated writes specially.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// TODO: The following hack exists because predication passes do not</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// correctly append imp-use operands, and readsReg() strangely returns false</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// for predicated defs.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(DefOperIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (!DepMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(Reg, TRI) &amp;&amp; TII-&gt;<a class="code" href="classllvm_1_1TargetInstrInfo.html#a2a69dd402cbc7f6282c93c32161395bc">isPredicated</a>(DepMI))</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">computeInstrLatency</a>(DefMI);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// If we have a per operand scheduling model, check if this def is writing</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// an unbuffered resource. If so, it treated like an in-order cpu.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">hasInstrSchedModel</a>()) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1MCSchedClassDesc.html">MCSchedClassDesc</a> *SCDesc = <a class="code" href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">resolveSchedClass</a>(DefMI);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (SCDesc-&gt;<a class="code" href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">isValid</a>()) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1MCWriteProcResEntry.html">MCWriteProcResEntry</a> *PRI = STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a4e7dd8dc15ccf67fcc75abb483bbdb73">getWriteProcResBegin</a>(SCDesc),</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;             *PRE = STI-&gt;<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a163c41f52f3509de257e0ad81309ba3b">getWriteProcResEnd</a>(SCDesc); PRI != PRE; ++PRI) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (!SchedModel.<a class="code" href="classllvm_1_1MCSchedModel.html#ab41bcf3b84bd10587b266e2b08be5c71">getProcResource</a>(PRI-&gt;ProcResourceIdx)-&gt;<a class="code" href="structllvm_1_1MCProcResourceDesc.html#a1cabc35908985a4252812bbff35df8f9">BufferSize</a>)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="ttc" id="TargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a40a5d6e03f5bfd15839355a7c39ab3a0"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">llvm::MachineOperand::isImplicit</a></div><div class="ttdeci">bool isImplicit() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00279">MachineOperand.h:279</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a615cad8f2751cc7fcc8115bc24c7f646"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a615cad8f2751cc7fcc8115bc24c7f646">llvm::TargetSchedModel::resolveSchedClass</a></div><div class="ttdeci">const MCSchedClassDesc * resolveSchedClass(const MachineInstr *MI) const </div><div class="ttdoc">Return the MCSchedClassDesc for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00103">TargetSchedule.cpp:103</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a615a43ac2282db4e4494ee56d83e3097"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a615a43ac2282db4e4494ee56d83e3097">llvm::TargetSchedModel::hasInstrItineraries</a></div><div class="ttdeci">bool hasInstrItineraries() const </div><div class="ttdoc">Return true if this machine model includes cycle-to-cycle itinerary data. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00035">TargetSchedule.cpp:35</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="TargetSchedule_8h_html"><div class="ttname"><a href="TargetSchedule_8h.html">TargetSchedule.h</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a59ae110735f7370384bca779e21b67df"><div class="ttname"><a href="TargetSchedule_8cpp.html#a59ae110735f7370384bca779e21b67df">lcm</a></div><div class="ttdeci">static unsigned lcm(unsigned A, unsigned B)</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00048">TargetSchedule.cpp:48</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a2b5a3ba5d3a4090be8c4cd5850d5e9dd"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">llvm::InstrItineraryData::getNumMicroOps</a></div><div class="ttdeci">int getNumMicroOps(unsigned ItinClassIndx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00242">MCInstrItineraries.h:242</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a4e7dd8dc15ccf67fcc75abb483bbdb73"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a4e7dd8dc15ccf67fcc75abb483bbdb73">llvm::MCSubtargetInfo::getWriteProcResBegin</a></div><div class="ttdeci">const MCWriteProcResEntry * getWriteProcResBegin(const MCSchedClassDesc *SC) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00096">MCSubtargetInfo.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a0fb79e823eb579e1ec4f4ee3867117e0"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">llvm::TargetSchedModel::computeOutputLatency</a></div><div class="ttdeci">unsigned computeOutputLatency(const MachineInstr *DefMI, unsigned DefIdx, const MachineInstr *DepMI) const </div><div class="ttdoc">Output dependency latency of a pair of defs of the same register. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00255">TargetSchedule.cpp:255</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a62c7a4fcb40a033c1f4ae7d45f7aa752"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a62c7a4fcb40a033c1f4ae7d45f7aa752">llvm::TargetSchedModel::getNumMicroOps</a></div><div class="ttdeci">unsigned getNumMicroOps(const MachineInstr *MI, const MCSchedClassDesc *SC=0) const </div><div class="ttdoc">Return the number of issue slots required for this MI. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00077">TargetSchedule.cpp:77</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html_af1d4835dca6874fb9e03a68097c0f2e0"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#af1d4835dca6874fb9e03a68097c0f2e0">llvm::MCSchedClassDesc::NumMicroOps</a></div><div class="ttdeci">unsigned short NumMicroOps</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00103">MCSchedule.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a5419fb52cab4895e3fc6fc9fc5c73f91"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a5419fb52cab4895e3fc6fc9fc5c73f91">llvm::TargetSchedModel::init</a></div><div class="ttdeci">void init(const MCSchedModel &amp;sm, const TargetSubtargetInfo *sti, const TargetInstrInfo *tii)</div><div class="ttdoc">Initialize the machine model for instruction scheduling. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00054">TargetSchedule.cpp:54</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html">llvm::MCSchedModel</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00131">MCSchedule.h:131</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a803a7424877fd049679b9aa2f07597b5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">llvm::MachineInstr::getDesc</a></div><div class="ttdeci">const MCInstrDesc &amp; getDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00257">MachineInstr.h:257</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a228b4c336376bde569f5089b29f9f9de"><div class="ttname"><a href="TargetSchedule_8cpp.html#a228b4c336376bde569f5089b29f9f9de">gcd</a></div><div class="ttdeci">static unsigned gcd(unsigned Dividend, unsigned Divisor)</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00039">TargetSchedule.cpp:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_ac7fed7cb7bb03c7ace7c3b36a1f9d108"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">llvm::InstrItineraryData::getOperandCycle</a></div><div class="ttdeci">int getOperandCycle(unsigned ItinClassIndx, unsigned OperandIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00180">MCInstrItineraries.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a73852f47d607fc0d3fa8f41e624cca12"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a73852f47d607fc0d3fa8f41e624cca12">llvm::MCSubtargetInfo::initInstrItins</a></div><div class="ttdeci">void initInstrItins(InstrItineraryData &amp;InstrItins) const </div><div class="ttdoc">Initialize an InstrItineraryData instance. </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8cpp_source.html#l00118">MCSubtargetInfo.cpp:118</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a163c41f52f3509de257e0ad81309ba3b"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a163c41f52f3509de257e0ad81309ba3b">llvm::MCSubtargetInfo::getWriteProcResEnd</a></div><div class="ttdeci">const MCWriteProcResEntry * getWriteProcResEnd(const MCSchedClassDesc *SC) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00100">MCSubtargetInfo.h:100</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a74889488d66dd687ad41c17403cda85d"><div class="ttname"><a href="TargetSchedule_8cpp.html#a74889488d66dd687ad41c17403cda85d">EnableSchedItins</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableSchedItins(&quot;scheditins&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Use InstrItineraryData for latency lookup&quot;))</div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad8198d6d83af9410d867136e33fbf4b2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const </div><div class="ttdoc">isReg - Tests if this is a MO_Register operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a2da484f5ef9226a8f43f4c18d04bcc1c"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a2da484f5ef9226a8f43f4c18d04bcc1c">llvm::MCSubtargetInfo::getReadAdvanceCycles</a></div><div class="ttdeci">int getReadAdvanceCycles(const MCSchedClassDesc *SC, unsigned UseIdx, unsigned WriteResID) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00113">MCSubtargetInfo.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8b64b30189b85c9dd54292b7d1d08a70"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">llvm::MachineInstr::readsRegister</a></div><div class="ttdeci">bool readsRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00724">MachineInstr.h:724</a></div></div>
<div class="ttc" id="structllvm_1_1MCProcResourceDesc_html_a9d4d0cc34fcce4779dc4445d8265fffc"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html#a9d4d0cc34fcce4779dc4445d8265fffc">llvm::MCProcResourceDesc::NumUnits</a></div><div class="ttdeci">unsigned NumUnits</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00030">MCSchedule.h:30</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html_ac4375f281abc4b511502c46de69bb838"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#ac4375f281abc4b511502c46de69bb838">llvm::MCSchedClassDesc::isValid</a></div><div class="ttdeci">bool isValid() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00113">MCSchedule.h:113</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html_a410a7c3a0e431cb5df00a13339382a02"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#a410a7c3a0e431cb5df00a13339382a02">llvm::MCSchedClassDesc::NumReadAdvanceEntries</a></div><div class="ttdeci">unsigned NumReadAdvanceEntries</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00111">MCSchedule.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="structllvm_1_1MCProcResourceDesc_html_a1cabc35908985a4252812bbff35df8f9"><div class="ttname"><a href="structllvm_1_1MCProcResourceDesc.html#a1cabc35908985a4252812bbff35df8f9">llvm::MCProcResourceDesc::BufferSize</a></div><div class="ttdeci">int BufferSize</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00040">MCSchedule.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a944a1a1574cf3b42c917bd8442b5399f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">llvm::MachineInstr::isBundle</a></div><div class="ttdeci">bool isBundle() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00666">MachineInstr.h:666</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html_aea35210856f63d251fda4c65312429f4"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#aea35210856f63d251fda4c65312429f4">llvm::MCSchedClassDesc::NumWriteLatencyEntries</a></div><div class="ttdeci">unsigned NumWriteLatencyEntries</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00109">MCSchedule.h:109</a></div></div>
<div class="ttc" id="structllvm_1_1MCWriteProcResEntry_html"><div class="ttname"><a href="structllvm_1_1MCWriteProcResEntry.html">llvm::MCWriteProcResEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00050">MCSchedule.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperandInfo_html_a579137208bd578a8a99b0e46c5bdfb8c"><div class="ttname"><a href="classllvm_1_1MCOperandInfo.html#a579137208bd578a8a99b0e46c5bdfb8c">llvm::MCOperandInfo::isOptionalDef</a></div><div class="ttdeci">bool isOptionalDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00087">MCInstrDesc.h:87</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html">llvm::MCSchedClassDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00096">MCSchedule.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a1cc24fb6ef6cda8f3bfbf732e1d87afe"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a1cc24fb6ef6cda8f3bfbf732e1d87afe">llvm::MCSubtargetInfo::getWriteLatencyEntry</a></div><div class="ttdeci">const MCWriteLatencyEntry * getWriteLatencyEntry(const MCSchedClassDesc *SC, unsigned DefIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00105">MCSubtargetInfo.h:105</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_ab41bcf3b84bd10587b266e2b08be5c71"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#ab41bcf3b84bd10587b266e2b08be5c71">llvm::MCSchedModel::getProcResource</a></div><div class="ttdeci">const MCProcResourceDesc * getProcResource(unsigned ProcResourceIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00230">MCSchedule.h:230</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_a59487e9e5951e6ecc5f16defc19a29b4"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#a59487e9e5951e6ecc5f16defc19a29b4">llvm::MCSchedModel::getNumProcResourceKinds</a></div><div class="ttdeci">unsigned getNumProcResourceKinds() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00226">MCSchedule.h:226</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html_ae086260f8c216554ff46dcd96e171459"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">llvm::raw_string_ostream::str</a></div><div class="ttdeci">std::string &amp; str()</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00441">raw_ostream.h:441</a></div></div>
<div class="ttc" id="structllvm_1_1MCSchedClassDesc_html_abe81832f2d2bd1474f23e1f10b3933ed"><div class="ttname"><a href="structllvm_1_1MCSchedClassDesc.html#abe81832f2d2bd1474f23e1f10b3933ed">llvm::MCSchedClassDesc::isVariant</a></div><div class="ttdeci">bool isVariant() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00116">MCSchedule.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a82ca1bcea2c966addd442d7cfa49bf51"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a82ca1bcea2c966addd442d7cfa49bf51">llvm::TargetSchedModel::hasInstrSchedModel</a></div><div class="ttdeci">bool hasInstrSchedModel() const </div><div class="ttdoc">Return true if this machine model includes an instruction-level scheduling model. ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00031">TargetSchedule.cpp:31</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_ac0f11354e854441ac5fefd72d91dd8ee"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#ac0f11354e854441ac5fefd72d91dd8ee">llvm::MCSchedModel::IssueWidth</a></div><div class="ttdeci">unsigned IssueWidth</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00137">MCSchedule.h:137</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">llvm::PPCISD::SC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00247">PPCISelLowering.h:247</a></div></div>
<div class="ttc" id="structllvm_1_1MCWriteLatencyEntry_html"><div class="ttname"><a href="structllvm_1_1MCWriteLatencyEntry.html">llvm::MCWriteLatencyEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00064">MCSchedule.h:64</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a51d38fbb0d2a4134718f08a8e230e447"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a51d38fbb0d2a4134718f08a8e230e447">llvm::TargetInstrInfo::getNumMicroOps</a></div><div class="ttdeci">virtual unsigned getNumMicroOps(const InstrItineraryData *ItinData, const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00648">TargetInstrInfo.cpp:648</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html_a0b8556a4a9550bda032e66ba6ff2b4c3"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a0b8556a4a9550bda032e66ba6ff2b4c3">llvm::TargetSubtargetInfo::resolveSchedClass</a></div><div class="ttdeci">virtual unsigned resolveSchedClass(unsigned SchedClass, const MachineInstr *MI, const TargetSchedModel *SchedModel) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00054">TargetSubtargetInfo.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8de7d5cf38939044471c6ee60a01a3df"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00274">MachineOperand.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_aaaca528ae14befaac95c11df31faf36b"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#aaaca528ae14befaac95c11df31faf36b">llvm::MCSchedModel::MicroOpBufferSize</a></div><div class="ttdeci">unsigned MicroOpBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00154">MCSchedule.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_a6dd869ee53027534ae12dfee958dbc34"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#a6dd869ee53027534ae12dfee958dbc34">llvm::MCSchedModel::hasInstrSchedModel</a></div><div class="ttdeci">bool hasInstrSchedModel() const </div><div class="ttdoc">Does this machine model include instruction-level scheduling. </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00220">MCSchedule.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac596847316c2e2472695402f00a5065d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">llvm::MachineInstr::isTransient</a></div><div class="ttdeci">bool isTransient() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00692">MachineInstr.h:692</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a21af491ad2c61a55d087c89d7a11558c"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a21af491ad2c61a55d087c89d7a11558c">llvm::TargetInstrInfo::defaultDefLatency</a></div><div class="ttdeci">unsigned defaultDefLatency(const MCSchedModel *SchedModel, const MachineInstr *DefMI) const </div><div class="ttdoc">Return the default expected latency for a def based on it&amp;#39;s opcode. </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00664">TargetInstrInfo.cpp:664</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_ae32c187457de34674f839df2e6d0546b"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#ae32c187457de34674f839df2e6d0546b">llvm::MCSchedModel::getSchedClassDesc</a></div><div class="ttdeci">const MCSchedClassDesc * getSchedClassDesc(unsigned SchedClassIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00237">MCSchedule.h:237</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a0402c8e75bccfb666de451d465cd0ac5"><div class="ttname"><a href="TargetSchedule_8cpp.html#a0402c8e75bccfb666de451d465cd0ac5">findUseIdx</a></div><div class="ttdeci">static unsigned findUseIdx(const MachineInstr *MI, unsigned UseOperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00144">TargetSchedule.cpp:144</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_aaf9c5e138e520c6d2d7cd50c185141a5"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aaf9c5e138e520c6d2d7cd50c185141a5">llvm::TargetInstrInfo::getInstrLatency</a></div><div class="ttdeci">virtual unsigned getInstrLatency(const InstrItineraryData *ItinData, const MachineInstr *MI, unsigned *PredCost=0) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00680">TargetInstrInfo.cpp:680</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00037">TargetSubtargetInfo.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="structllvm_1_1MCWriteLatencyEntry_html_a5f8536baa8291f170a203aebcf3c942a"><div class="ttname"><a href="structllvm_1_1MCWriteLatencyEntry.html#a5f8536baa8291f170a203aebcf3c942a">llvm::MCWriteLatencyEntry::Cycles</a></div><div class="ttdeci">int Cycles</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00065">MCSchedule.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a61ecbe20e0dc248b415cd7731d517da1"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">llvm::MCInstrDesc::getSchedClass</a></div><div class="ttdeci">unsigned getSchedClass() const </div><div class="ttdoc">Return the scheduling class for this instruction. The scheduling class is an index into the InstrItin...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00570">MCInstrDesc.h:570</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a748a068930467bc949718bd3b13cf690"><div class="ttname"><a href="TargetSchedule_8cpp.html#a748a068930467bc949718bd3b13cf690">EnableSchedModel</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableSchedModel(&quot;schedmodel&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Use TargetSchedModel for latency lookup&quot;))</div></div>
<div class="ttc" id="TargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a102d0ad36060677286c3aefb812e5512"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00401">SmallVector.h:401</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_adc939be170e88a125dc61b64294de450"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#adc939be170e88a125dc61b64294de450">llvm::TargetInstrInfo::getOperandLatency</a></div><div class="ttdeci">virtual int getOperandLatency(const InstrItineraryData *ItinData, SDNode *DefNode, unsigned DefIdx, SDNode *UseNode, unsigned UseIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00616">TargetInstrInfo.cpp:616</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a70b47eca6a99c87b81f4c1b1455dc090"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">llvm::TargetMachine::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00140">Target/TargetMachine.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a62eff453556ab0541cb285741f7eec8d"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">llvm::TargetSchedModel::computeOperandLatency</a></div><div class="ttdeci">unsigned computeOperandLatency(const MachineInstr *DefMI, unsigned DefOperIdx, const MachineInstr *UseMI, unsigned UseOperIdx) const </div><div class="ttdoc">Compute operand latency based on the available machine model. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00155">TargetSchedule.cpp:155</a></div></div>
<div class="ttc" id="classllvm_1_1MCSchedModel_html_a628f04a9f0e6eb479ca0eb3decd3be9e"><div class="ttname"><a href="classllvm_1_1MCSchedModel.html#a628f04a9f0e6eb479ca0eb3decd3be9e">llvm::MCSchedModel::isComplete</a></div><div class="ttdeci">bool isComplete() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00224">MCSchedule.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a16d6c2f29862a9d10dc7dc4540e9d04f"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">llvm::TargetSchedModel::computeInstrLatency</a></div><div class="ttdeci">unsigned computeInstrLatency(const MachineInstr *MI, bool UseDefaultDefLatency=true) const </div><div class="ttdoc">Compute the instruction latency based on the available machine model. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00229">TargetSchedule.cpp:229</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00426">raw_ostream.h:426</a></div></div>
<div class="ttc" id="structllvm_1_1MCWriteLatencyEntry_html_af0c1076bd04f01c7e09f41f87267eee1"><div class="ttname"><a href="structllvm_1_1MCWriteLatencyEntry.html#af0c1076bd04f01c7e09f41f87267eee1">llvm::MCWriteLatencyEntry::WriteResourceID</a></div><div class="ttdeci">unsigned WriteResourceID</div><div class="ttdef"><b>Definition:</b> <a href="MCSchedule_8h_source.html#l00066">MCSchedule.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_aa4766bd7c8b854a0c28d85283ab303ad"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#aa4766bd7c8b854a0c28d85283ab303ad">llvm::MCInstrDesc::OpInfo</a></div><div class="ttdeci">const MCOperandInfo * OpInfo</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a2a69dd402cbc7f6282c93c32161395bc"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a2a69dd402cbc7f6282c93c32161395bc">llvm::TargetInstrInfo::isPredicated</a></div><div class="ttdeci">virtual bool isPredicated(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00672">TargetInstrInfo.h:672</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0e4e5eef3cc7c47acbb753b9d3872348"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00326">MachineOperand.h:326</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a7ee47bba7fdfe2b4de0b767f6d493c26"><div class="ttname"><a href="TargetSchedule_8cpp.html#a7ee47bba7fdfe2b4de0b767f6d493c26">findDefIdx</a></div><div class="ttdeci">static unsigned findDefIdx(const MachineInstr *MI, unsigned DefOperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00128">TargetSchedule.cpp:128</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a714827e35583b7e5e55f8bcce441c2cb"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">llvm::InstrItineraryData::isEmpty</a></div><div class="ttdeci">bool isEmpty() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00132">MCInstrItineraries.h:132</a></div></div>
<div class="ttc" id="TargetSchedule_8cpp_html_a53077df79c9287854b0082944955b854"><div class="ttname"><a href="TargetSchedule_8cpp.html#a53077df79c9287854b0082944955b854">capLatency</a></div><div class="ttdeci">static unsigned capLatency(int Cycles)</div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00096">TargetSchedule.cpp:96</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:02:52 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
