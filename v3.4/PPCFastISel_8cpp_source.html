<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: PPCFastISel.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PPCFastISel_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PPCFastISel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPCFastISel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- PPCFastISel.cpp - PowerPC FastISel implementation -----------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file defines the PowerPC-specific support for the FastISel class. Some</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// of the target-specific code is generated by tablegen in the file</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// PPCGenFastISel.inc, which is #included here.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="PPCFastISel_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   16</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;ppcfastisel&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPC_8h.html">PPC.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCISelLowering_8h.html">PPCISelLowering.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCSubtarget_8h.html">PPCSubtarget.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCPredicates_8h.html">MCTargetDesc/PPCPredicates.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Optional_8h.html">llvm/ADT/Optional.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConvLower_8h.html">llvm/CodeGen/CallingConvLower.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FastISel_8h.html">llvm/CodeGen/FastISel.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionLoweringInfo_8h.html">llvm/CodeGen/FunctionLoweringInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineConstantPool_8h.html">llvm/CodeGen/MachineConstantPool.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLowering_8h.html">llvm/Target/TargetLowering.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// TBD:</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//   FastLowerArguments: Handle simple cases.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//   PPCMaterializeGV: Handle TLS.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//   SelectCall: Handle function pointers.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//   SelectCall: Handle multi-register return values.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//   SelectCall: Optimize away nops for local calls.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//   processCallArgs: Handle bit-converted arguments.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//   finishCall: Handle multi-register return values.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//   PPCComputeAddress: Handle parameter references as FrameIndex&#39;s.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//   PPCEmitCmp: Handle immediate as operand 1.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//   SelectCall: Handle small byval arguments.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//   SelectIntrinsicCall: Implement.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//   SelectSelect: Implement.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//   Consider factoring isTypeLegal into the base class.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//   Implement switches and jump tables.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>Address {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    RegBase,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    FrameIndexBase</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  } BaseType;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keyword">union </span>{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">int</span> FI;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  } Base;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordtype">long</span> Offset;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Innocuous defaults for our address.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Address()</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   : BaseType(RegBase), Offset(0) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;     Base.Reg = 0;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;} Address;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">class </span>PPCFastISel : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FastISel.html">FastISel</a> {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TLI;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;PPCSubTarget;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *Context;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">explicit</span> PPCFastISel(<a class="code" href="classllvm_1_1FunctionLoweringInfo.html">FunctionLoweringInfo</a> &amp;FuncInfo,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *LibInfo)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    : <a class="code" href="classllvm_1_1FastISel.html">FastISel</a>(FuncInfo, LibInfo),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>(FuncInfo.<a class="code" href="classllvm_1_1FunctionLoweringInfo.html#ac9287d39f216ac61b351d95a4f7e3df3">MF</a>-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>()),</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(*TM.<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>()),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      TLI(*TM.<a class="code" href="classllvm_1_1TargetMachine.html#ac962b1af600c2e418625a5fecc5e0f95">getTargetLowering</a>()),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      PPCSubTarget(</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;       *((static_cast&lt;const PPCTargetMachine *&gt;(&amp;TM))-&gt;getSubtargetImpl())</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      ),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      Context(&amp;FuncInfo.<a class="code" href="classllvm_1_1FunctionLoweringInfo.html#aa6af88ef964b6f03824a35fa0081efa9">Fn</a>-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>()) { }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Backend specific FastISel code.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TargetSelectInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> TargetMaterializeConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> TargetMaterializeAlloca(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> tryToFoldLoadIntoMI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> FastLowerArguments();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> FastEmit_i(<a class="code" href="classllvm_1_1MVT.html">MVT</a> Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> RetTy, <span class="keywordtype">unsigned</span> Opc, uint64_t Imm);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> FastEmitInst_ri(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                     <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                     uint64_t Imm);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> FastEmitInst_r(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                    <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> FastEmitInst_rr(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                     <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                     <span class="keywordtype">unsigned</span> Op1, <span class="keywordtype">bool</span> Op1IsKill);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// Instruction selection routines.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">bool</span> SelectLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">bool</span> SelectStore(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">bool</span> SelectBranch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">bool</span> SelectIndirectBr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">bool</span> SelectCmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">bool</span> SelectFPExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">bool</span> SelectFPTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">bool</span> SelectIToFP(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">bool</span> IsSigned);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">bool</span> SelectFPToI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">bool</span> IsSigned);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">bool</span> SelectBinaryIntOp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">unsigned</span> ISDOpcode);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">bool</span> SelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">bool</span> SelectRet(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">bool</span> SelectTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">bool</span> SelectIntExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Utility routines.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">bool</span> isTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">bool</span> isLoadTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">bool</span> PPCEmitCmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Src1Value, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Src2Value,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordtype">bool</span> isZExt, <span class="keywordtype">unsigned</span> DestReg);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">bool</span> PPCEmitLoad(<a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> &amp;ResultReg, Address &amp;Addr,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC, <span class="keywordtype">bool</span> IsZExt = <span class="keyword">true</span>,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                     <span class="keywordtype">unsigned</span> FP64LoadOpc = PPC::LFD);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">bool</span> PPCEmitStore(<a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> SrcReg, Address &amp;Addr);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">bool</span> PPCComputeAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Obj, Address &amp;Addr);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">void</span> PPCSimplifyAddress(Address &amp;Addr, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">bool</span> &amp;UseOffset,</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                            <span class="keywordtype">unsigned</span> &amp;IndexReg);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">bool</span> PPCEmitIntExt(<a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT, <span class="keywordtype">unsigned</span> SrcReg, <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                           <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">bool</span> IsZExt);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">unsigned</span> PPCMaterializeFP(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">unsigned</span> PPCMaterializeGV(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">unsigned</span> PPCMaterializeInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">unsigned</span> PPCMaterialize32BitInt(int64_t Imm,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">unsigned</span> PPCMaterialize64BitInt(int64_t Imm,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">unsigned</span> PPCMoveToIntReg(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                             <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> IsSigned);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">unsigned</span> PPCMoveToFPReg(<a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> IsSigned);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Call handling routines.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">bool</span> processCallArgs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value*&gt;</a> &amp;Args,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;ArgRegs,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MVT&gt;</a> &amp;ArgVTs,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::ArgFlagsTy&gt;</a> &amp;ArgFlags,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;RegArgs,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                         <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                         <span class="keywordtype">unsigned</span> &amp;NumBytes,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                         <span class="keywordtype">bool</span> IsVarArg);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">void</span> finishCall(<a class="code" href="classllvm_1_1MVT.html">MVT</a> RetVT, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;UsedRegs,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> CC,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordtype">unsigned</span> &amp;NumBytes, <span class="keywordtype">bool</span> IsVarArg);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="namespacellvm.html#aa555cd3eb8141809d16bcfc45ccc3715">CCAssignFn</a> *usePPC32CCs(<span class="keywordtype">unsigned</span> Flag);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">  #include &quot;PPCGenFastISel.inc&quot;</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;};</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;} <span class="comment">// end anonymous namespace</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#include &quot;PPCGenCallingConv.inc&quot;</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// Function whose sole purpose is to kill compiler warnings </span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">// stemming from unused functions included from PPCGenCallingConv.inc.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<a class="code" href="namespacellvm.html#aa555cd3eb8141809d16bcfc45ccc3715">CCAssignFn</a> *PPCFastISel::usePPC32CCs(<span class="keywordtype">unsigned</span> Flag) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">if</span> (Flag == 1)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> CC_PPC32_SVR4;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Flag == 2)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> CC_PPC32_SVR4_ByVal;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Flag == 3)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> CC_PPC32_SVR4_VarArg;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span> RetCC_PPC;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="PPCFastISel_8cpp.html#a48bc0e84db509869188ba8853bd863cf">  204</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Optional.html">Optional&lt;PPC::Predicate&gt;</a> <a class="code" href="PPCFastISel_8cpp.html#a48bc0e84db509869188ba8853bd863cf">getComparePred</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// These are not representable with any single compare.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d">CmpInst::FCMP_FALSE</a>:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f">CmpInst::FCMP_UEQ</a>:</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c">CmpInst::FCMP_UGT</a>:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">CmpInst::FCMP_UGE</a>:</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474">CmpInst::FCMP_ULT</a>:</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">CmpInst::FCMP_ULE</a>:</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">CmpInst::FCMP_UNE</a>:</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5">CmpInst::FCMP_TRUE</a>:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Optional.html">Optional&lt;PPC::Predicate&gt;</a>();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca">CmpInst::FCMP_OEQ</a>:</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">PPC::PRED_EQ</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">CmpInst::FCMP_OGT</a>:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">PPC::PRED_GT</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b">CmpInst::FCMP_OGE</a>:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">PPC::PRED_GE</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">CmpInst::FCMP_OLT</a>:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">PPC::PRED_LT</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a">CmpInst::FCMP_OLE</a>:</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">PPC::PRED_LE</a>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464">CmpInst::FCMP_ONE</a>:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">PPC::PRED_NE</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e">CmpInst::FCMP_ORD</a>:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9">PPC::PRED_NU</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed">CmpInst::FCMP_UNO</a>:</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6">PPC::PRED_UN</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">// Determine whether the type Ty is simple enough to be handled by</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">// fast-isel, and return its equivalent machine type in VT.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">// FIXME: Copied directly from ARM -- factor into base class?</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::isTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> Evt = TLI.getValueType(Ty, <span class="keyword">true</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// Only handle simple types.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (Evt == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">MVT::Other</a> || !Evt.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  VT = Evt.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// Handle all legal types, i.e. a register that will directly hold this</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// value.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">return</span> TLI.isTypeLegal(VT);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// Determine whether the type Ty is simple enough to be handled by</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// fast-isel as a load target, and return its equivalent machine type in VT.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::isLoadTypeLegal(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> &amp;VT) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (isTypeLegal(Ty, VT)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// If this is a type than can be sign or zero-extended to a basic operation</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// go ahead and accept it now.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> || VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">// Given a value Obj, create an Address object Addr that represents its</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">// address.  Return false if we can&#39;t handle it.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::PPCComputeAddress(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Obj, Address &amp;Addr) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1User.html">User</a> *U = NULL;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Instruction::UserOp1;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(Obj)) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// Don&#39;t walk into other basic blocks unless the object is an alloca from</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// another block, otherwise it may not have a virtual register assigned.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (FuncInfo.StaticAllocaMap.count(static_cast&lt;const AllocaInst *&gt;(Obj)) ||</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        FuncInfo.MBBMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()] == FuncInfo.MBB) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      Opcode = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode();</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      U = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantExpr&gt;(Obj)) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    Opcode = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getOpcode();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    U = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">case</span> Instruction::BitCast:</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// Look through bitcasts.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">return</span> PPCComputeAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">case</span> Instruction::IntToPtr:</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="comment">// Look past no-op inttoptrs.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> PPCComputeAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">case</span> Instruction::PtrToInt:</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// Look past no-op ptrtoints.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">if</span> (TLI.getValueType(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) == TLI.getPointerTy())</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span> PPCComputeAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">case</span> Instruction::GetElementPtr: {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      Address SavedAddr = Addr;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordtype">long</span> TmpOffset = Addr.Offset;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// Iterate through the GEP folding the constants into offsets where</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// we can.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(U);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">User::const_op_iterator</a> II = U-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>() + 1, <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;           II != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++II, ++GTI) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Op = *II;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI)) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1StructLayout.html">StructLayout</a> *SL = TD.getStructLayout(STy);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;          <span class="keywordtype">unsigned</span> Idx = cast&lt;ConstantInt&gt;(Op)-&gt;getZExtValue();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          TmpOffset += SL-&gt;<a class="code" href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">getElementOffset</a>(Idx);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          uint64_t <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = TD.getTypeAllocSize(GTI.<a class="code" href="classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">getIndexedType</a>());</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(Op)) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;              <span class="comment">// Constant-offset addressing.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;              TmpOffset += CI-&gt;getSExtValue() * <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span> (canFoldAddIntoGEP(U, Op)) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;              <span class="comment">// A compatible add with a constant operand. Fold the constant.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI =</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;              cast&lt;ConstantInt&gt;(cast&lt;AddOperator&gt;(Op)-&gt;getOperand(1));</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;              TmpOffset += CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>() * <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;              <span class="comment">// Iterate on the other operand.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;              Op = cast&lt;AddOperator&gt;(Op)-&gt;getOperand(0);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="comment">// Unsupported</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">goto</span> unsupported_gep;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// Try to grab the base operand now.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      Addr.Offset = TmpOffset;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span> (PPCComputeAddress(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="comment">// We failed, restore everything and try the other options.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      Addr = SavedAddr;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      unsupported_gep:</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">case</span> Instruction::Alloca: {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = cast&lt;AllocaInst&gt;(Obj);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const AllocaInst*, int&gt;::iterator</a> SI =</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        FuncInfo.StaticAllocaMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(AI);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">if</span> (SI != FuncInfo.StaticAllocaMap.end()) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        Addr.BaseType = Address::FrameIndexBase;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        Addr.Base.FI = SI-&gt;second;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// FIXME: References to parameters fall through to the behavior</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// below.  They should be able to reference a frame index since</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// they are stored to the stack, so we can get &quot;ld rx, offset(r1)&quot;</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// instead of &quot;addi ry, r1, offset / ld rx, 0(ry)&quot;.  Obj will</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// just contain the parameter.  Try to handle this with a FI.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Try to get this in a register if nothing else has worked.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">if</span> (Addr.Base.Reg == 0)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    Addr.Base.Reg = getRegForValue(Obj);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Prevent assignment of base register to X0, which is inappropriate</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// for loads and stores alike.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span> (Addr.Base.Reg != 0)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(Addr.Base.Reg, &amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">return</span> Addr.Base.Reg != 0;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">// Fix up some addresses that can&#39;t be used directly.  For example, if</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">// an offset won&#39;t fit in an instruction field, we may need to move it</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">// into an index register.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="keywordtype">void</span> PPCFastISel::PPCSimplifyAddress(Address &amp;Addr, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">bool</span> &amp;UseOffset,</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                     <span class="keywordtype">unsigned</span> &amp;IndexReg) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Check whether the offset fits in the instruction field.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Addr.Offset))</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    UseOffset = <span class="keyword">false</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// If this is a stack pointer and the offset needs to be simplified then</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// put the alloca address into a register, set the base type back to</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// register and continue. This should almost never happen.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (!UseOffset &amp;&amp; Addr.BaseType == Address::FrameIndexBase) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ADDI8),</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            ResultReg).addFrameIndex(Addr.Base.FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    Addr.Base.Reg = ResultReg;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    Addr.BaseType = Address::RegBase;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">if</span> (!UseOffset) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *OffsetTy = ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) ? <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(*Context)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                             : <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(*Context));</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Offset =</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(OffsetTy, (int64_t)(Addr.Offset));</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    IndexReg = PPCMaterializeInt(Offset, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    assert(IndexReg &amp;&amp; <span class="stringliteral">&quot;Unexpected error in PPCMaterializeInt!&quot;</span>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">// Emit a load instruction if possible, returning true if we succeeded,</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">// otherwise false.  See commentary below for how the register class of</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">// the load is determined. </span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::PPCEmitLoad(<a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> &amp;ResultReg, Address &amp;Addr,</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                              <span class="keywordtype">bool</span> IsZExt, <span class="keywordtype">unsigned</span> FP64LoadOpc) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordtype">bool</span> UseOffset = <span class="keyword">true</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// If ResultReg is given, it determines the register class of the load.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// Otherwise, RC is the register class to use.  If the result of the</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// load isn&#39;t anticipated in this block, both may be zero, in which</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// case we must make a conservative guess.  In particular, don&#39;t assign</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// R0 or X0 to the result register, as the result may be used in a load,</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// store, add-immediate, or isel that won&#39;t permit this.  (Though</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// perhaps the spill and reload of live-exit values would handle this?)</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *UseRC =</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    (ResultReg ? <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(ResultReg) :</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;     (RC ? RC :</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> ? &amp;PPC::F8RCRegClass :</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;       (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> ? &amp;PPC::F4RCRegClass :</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? &amp;PPC::G8RC_and_G8RC_NOX0RegClass :</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;         &amp;PPC::GPRC_and_GPRC_NOR0RegClass)))));</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">bool</span> Is32BitInt = UseRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">hasSuperClassEq</a>(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">default</span>: <span class="comment">// e.g., vector types not handled</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      Opc = Is32BitInt ? PPC::LBZ : PPC::LBZ8;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      Opc = (IsZExt ?</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;             (Is32BitInt ? PPC::LHZ : PPC::LHZ8) : </div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;             (Is32BitInt ? PPC::LHA : PPC::LHA8));</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      Opc = (IsZExt ? </div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;             (Is32BitInt ? PPC::LWZ : PPC::LWZ8) :</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;             (Is32BitInt ? PPC::LWA_32 : PPC::LWA));</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> ((Opc == PPC::LWA || Opc == PPC::LWA_32) &amp;&amp; ((Addr.Offset &amp; 3) != 0))</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        UseOffset = <span class="keyword">false</span>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      Opc = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      assert(UseRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">hasSuperClassEq</a>(&amp;PPC::G8RCRegClass) &amp;&amp; </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;             <span class="stringliteral">&quot;64-bit load with 32-bit target??&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      UseOffset = ((Addr.Offset &amp; 3) == 0);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      Opc = PPC::LFS;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      Opc = FP64LoadOpc;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// If necessary, materialize the offset into a register and use</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// the indexed form.  Also handle stack pointers with special needs.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">unsigned</span> IndexReg = 0;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  PPCSimplifyAddress(Addr, VT, UseOffset, IndexReg);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> (ResultReg == 0)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    ResultReg = createResultReg(UseRC);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// Note: If we still have a frame index here, we know the offset is</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// in range, as otherwise PPCSimplifyAddress would have converted it</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// into a RegBase.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (Addr.BaseType == Address::FrameIndexBase) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      FuncInfo.MF-&gt;getMachineMemOperand(</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(Addr.Base.FI, Addr.Offset),</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>, MFI.getObjectSize(Addr.Base.FI),</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        MFI.getObjectAlignment(Addr.Base.FI));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      .addImm(Addr.Offset).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(Addr.Base.FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// Base reg with offset in range.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UseOffset) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      .addImm(Addr.Offset).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Addr.Base.Reg);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// Indexed form.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// Get the RR opcode corresponding to the RI one.  FIXME: It would be</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// preferable to use the ImmToIdxMap from PPCRegisterInfo.cpp, but it</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// is hard to get at.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">default</span>:        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode!&quot;</span>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">case</span> PPC::LBZ:    Opc = PPC::LBZX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">case</span> PPC::LBZ8:   Opc = PPC::LBZX8;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">case</span> PPC::LHZ:    Opc = PPC::LHZX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">case</span> PPC::LHZ8:   Opc = PPC::LHZX8;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">case</span> PPC::LHA:    Opc = PPC::LHAX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">case</span> PPC::LHA8:   Opc = PPC::LHAX8;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">case</span> PPC::LWZ:    Opc = PPC::LWZX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">case</span> PPC::LWZ8:   Opc = PPC::LWZX8;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">case</span> PPC::LWA:    Opc = PPC::LWAX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">case</span> PPC::LWA_32: Opc = PPC::LWAX_32; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>:     Opc = PPC::LDX;     <span class="keywordflow">break</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">case</span> PPC::LFS:    Opc = PPC::LFSX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">case</span> PPC::LFD:    Opc = PPC::LFDX;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      .addReg(Addr.Base.Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(IndexReg);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">// Attempt to fast-select a load instruction.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// FIXME: No atomic loads are supported.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> (cast&lt;LoadInst&gt;(I)-&gt;<a class="code" href="ThreadSanitizer_8cpp.html#accbf04314e7caef9ac81d62928dda8b8">isAtomic</a>())</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Verify we have a legal type before going any further.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (!isLoadTypeLegal(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// See if we can handle this address.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  Address Addr;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (!PPCComputeAddress(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr))</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// Look at the currently assigned register for this instruction</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// to determine the required register class.  This is necessary</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// to constrain RA from using R0/X0 when this is not legal.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">unsigned</span> AssignedReg = FuncInfo.ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    AssignedReg ? <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(AssignedReg) : 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitLoad(VT, ResultReg, Addr, RC))</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// Emit a store instruction to store SrcReg at Addr.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::PPCEmitStore(<a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> SrcReg, Address &amp;Addr) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  assert(SrcReg &amp;&amp; <span class="stringliteral">&quot;Nothing to store!&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordtype">bool</span> UseOffset = <span class="keyword">true</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(SrcReg);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordtype">bool</span> Is32BitInt = RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">hasSuperClassEq</a>(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">default</span>: <span class="comment">// e.g., vector types not handled</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      Opc = Is32BitInt ? PPC::STB : PPC::STB8;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      Opc = Is32BitInt ? PPC::STH : PPC::STH8;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      assert(Is32BitInt &amp;&amp; <span class="stringliteral">&quot;Not GPRC for i32??&quot;</span>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      Opc = PPC::STW;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      Opc = PPC::STD;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      UseOffset = ((Addr.Offset &amp; 3) == 0);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      Opc = PPC::STFS;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      Opc = PPC::STFD;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// If necessary, materialize the offset into a register and use</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// the indexed form.  Also handle stack pointers with special needs.</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordtype">unsigned</span> IndexReg = 0;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  PPCSimplifyAddress(Addr, VT, UseOffset, IndexReg);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Note: If we still have a frame index here, we know the offset is</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// in range, as otherwise PPCSimplifyAddress would have converted it</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// into a RegBase.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (Addr.BaseType == Address::FrameIndexBase) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      FuncInfo.MF-&gt;getMachineMemOperand(</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(Addr.Base.FI, Addr.Offset),</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>, MFI.getObjectSize(Addr.Base.FI),</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        MFI.getObjectAlignment(Addr.Base.FI));</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc)).addReg(SrcReg)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Addr.Offset).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(Addr.Base.FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Base reg with offset in range.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UseOffset)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc))</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      .addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Addr.Offset).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Addr.Base.Reg);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// Indexed form.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// Get the RR opcode corresponding to the RI one.  FIXME: It would be</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// preferable to use the ImmToIdxMap from PPCRegisterInfo.cpp, but it</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">// is hard to get at.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">default</span>:        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected opcode!&quot;</span>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">case</span> PPC::STB:  Opc = PPC::STBX;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordflow">case</span> PPC::STH : Opc = PPC::STHX;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">case</span> PPC::STW : Opc = PPC::STWX;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">case</span> PPC::STB8: Opc = PPC::STBX8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">case</span> PPC::STH8: Opc = PPC::STHX8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">case</span> PPC::STW8: Opc = PPC::STWX8; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">case</span> PPC::STD:  Opc = PPC::STDX;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">case</span> PPC::STFS: Opc = PPC::STFSX; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">case</span> PPC::STFD: Opc = PPC::STFDX; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc))</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      .addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Addr.Base.Reg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(IndexReg);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">// Attempt to fast-select a store instruction.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectStore(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0 = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = 0;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// FIXME: No atomics loads are supported.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (cast&lt;StoreInst&gt;(I)-&gt;<a class="code" href="ThreadSanitizer_8cpp.html#accbf04314e7caef9ac81d62928dda8b8">isAtomic</a>())</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// Verify we have a legal type before going any further.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> (!isLoadTypeLegal(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// Get the value to be stored into a register.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  SrcReg = getRegForValue(Op0);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">if</span> (SrcReg == 0)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="comment">// See if we can handle this address.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  Address Addr;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">if</span> (!PPCComputeAddress(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), Addr))</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitStore(VT, SrcReg, Addr))</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">// Attempt to fast-select a branch instruction.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectBranch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BrBB = FuncInfo.MBB;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TBB = FuncInfo.MBBMap[BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0)];</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB = FuncInfo.MBBMap[BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(1)];</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// For now, just try the simplest case where it&#39;s fed by a compare.</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>())) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classllvm_1_1Optional.html">Optional&lt;PPC::Predicate&gt;</a> OptPPCPred = <a class="code" href="PPCFastISel_8cpp.html#a48bc0e84db509869188ba8853bd863cf">getComparePred</a>(CI-&gt;getPredicate());</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (!OptPPCPred)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">PPC::Predicate</a> PPCPred = OptPPCPred.<a class="code" href="classllvm_1_1Optional.html#ac2715cb9db335f2afd360e6b5c11e480">getValue</a>();</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// Take advantage of fall-through opportunities.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (FuncInfo.MBB-&gt;isLayoutSuccessor(TBB)) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(TBB, FBB);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      PPCPred = <a class="code" href="namespacellvm_1_1PPC.html#a975319b2f772b89387ffea1b1ba1f049">PPC::InvertPredicate</a>(PPCPred);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">unsigned</span> CondReg = createResultReg(&amp;PPC::CRRCRegClass);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (!PPCEmitCmp(CI-&gt;getOperand(0), CI-&gt;getOperand(1), CI-&gt;isUnsigned(),</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    CondReg))</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*BrBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::BCC))</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      .addImm(PPCPred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(CondReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    FastEmitBranch(FBB, DL);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    FuncInfo.MBB-&gt;addSuccessor(TBB);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI =</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;             dyn_cast&lt;ConstantInt&gt;(BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>())) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    uint64_t Imm = CI-&gt;getZExtValue();</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="classllvm_1_1Target.html">Target</a> = (Imm == 0) ? FBB : TBB;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    FastEmitBranch(Target, DL);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// FIXME: ARM looks for a case where the block containing the compare</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// has been split from the block containing the branch.  If this happens,</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// there is a vreg available containing the result of the compare.  I&#39;m</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// not sure we can do much, as we&#39;ve lost the predicate information with</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// the compare instruction -- we have a 4-bit CR but don&#39;t know which bit</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// to test here.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">// Attempt to emit a compare of the two source values.  Signed and unsigned</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">// comparisons are supported.  Return false if we can&#39;t handle it.</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::PPCEmitCmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcValue1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcValue2,</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                             <span class="keywordtype">bool</span> IsZExt, <span class="keywordtype">unsigned</span> DestReg) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = SrcValue1-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcEVT = TLI.getValueType(Ty, <span class="keyword">true</span>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">if</span> (!SrcEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT = SrcEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// See if operand 2 is an immediate encodeable in the compare.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// FIXME: Operands are not in canonical order at -O0, so an immediate</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// operand in position 1 is a lost opportunity for now.  We are</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// similar to ARM in this regard.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">long</span> Imm = 0;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordtype">bool</span> UseImm = <span class="keyword">false</span>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="comment">// Only 16-bit integer constants can be represented in compares for </span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// PowerPC.  Others will be materialized into a register.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ConstInt = dyn_cast&lt;ConstantInt&gt;(SrcValue2)) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> || SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> || SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> ||</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;CIVal = ConstInt-&gt;getValue();</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      Imm = (IsZExt) ? (<span class="keywordtype">long</span>)CIVal.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>() : (long)CIVal.<a class="code" href="classllvm_1_1APInt.html#a7189a37206963029447c31d57771b997">getSExtValue</a>();</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">if</span> ((IsZExt &amp;&amp; <a class="code" href="namespacellvm.html#ad9b2b34494b2799c36a06ba60133bc11">isUInt&lt;16&gt;</a>(Imm)) || (!IsZExt &amp;&amp; <a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Imm)))</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        UseImm = <span class="keyword">true</span>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordtype">unsigned</span> CmpOpc;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordtype">bool</span> NeedsExt = <span class="keyword">false</span>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">switch</span> (SrcVT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>:</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      CmpOpc = PPC::FCMPUS;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      CmpOpc = PPC::FCMPUD;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>:</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      NeedsExt = <span class="keyword">true</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="comment">// Intentional fall-through.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>:</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">if</span> (!UseImm)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        CmpOpc = IsZExt ? PPC::CMPLW : PPC::CMPW;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        CmpOpc = IsZExt ? PPC::CMPLWI : PPC::CMPWI;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>:</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">if</span> (!UseImm)</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        CmpOpc = IsZExt ? PPC::CMPLD : PPC::CMPD;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        CmpOpc = IsZExt ? PPC::CMPLDI : PPC::CMPDI;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg1 = getRegForValue(SrcValue1);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">if</span> (SrcReg1 == 0)</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg2 = 0;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordflow">if</span> (!UseImm) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    SrcReg2 = getRegForValue(SrcValue2);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (SrcReg2 == 0)</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="keywordflow">if</span> (NeedsExt) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordtype">unsigned</span> ExtReg = createResultReg(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (!PPCEmitIntExt(SrcVT, SrcReg1, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, ExtReg, IsZExt))</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    SrcReg1 = ExtReg;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (!UseImm) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordtype">unsigned</span> ExtReg = createResultReg(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="keywordflow">if</span> (!PPCEmitIntExt(SrcVT, SrcReg2, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, ExtReg, IsZExt))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      SrcReg2 = ExtReg;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (!UseImm)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CmpOpc), DestReg)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      .addReg(SrcReg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg2);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(CmpOpc), DestReg)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      .addReg(SrcReg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Imm);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">// Attempt to fast-select a floating-point extend instruction.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectFPExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src  = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT  = TLI.getValueType(Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> || DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">if</span> (!SrcReg)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// No code is generated for a FP extend.</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  UpdateValueMap(I, SrcReg);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">// Attempt to fast-select a floating-point truncate instruction.</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectFPTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src  = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT  = TLI.getValueType(Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a> || DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">if</span> (!SrcReg)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// Round the result to single precision.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = createResultReg(&amp;PPC::F4RCRegClass);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::FRSP), DestReg)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    .addReg(SrcReg);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  UpdateValueMap(I, DestReg);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">// Move an i32 or i64 value in a GPR to an f64 value in an FPR.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// FIXME: When direct register moves are implemented (see PowerISA 2.08),</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">// those should be used instead of moving via a stack slot when the</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">// subtarget permits.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">// FIXME: The code here is sloppy for the 4-byte case.  Can use a 4-byte</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">// stack slot and 4-byte store/load sequence.  Or just sext the 4-byte</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">// case to 8 bytes which produces tighter code but wastes stack space.</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMoveToFPReg(<a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                     <span class="keywordtype">bool</span> IsSigned) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">// If necessary, extend 32-bit int to 64-bit.</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordtype">unsigned</span> TmpReg = createResultReg(&amp;PPC::G8RCRegClass);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (!PPCEmitIntExt(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>, SrcReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, TmpReg, !IsSigned))</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    SrcReg = TmpReg;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// Get a stack slot 8 bytes wide, aligned on an 8-byte boundary.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  Address Addr;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  Addr.BaseType = Address::FrameIndexBase;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  Addr.Base.FI = MFI.CreateStackObject(8, 8, <span class="keyword">false</span>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// Store the value from the GPR.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitStore(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, SrcReg, Addr))</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// Load the integer value into an FPR.  The kind of load used depends</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// on a number of conditions.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordtype">unsigned</span> LoadOpc = PPC::LFD;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    Addr.Offset = 4;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (!IsSigned)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      LoadOpc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9">PPC::LFIWZX</a>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PPCSubTarget.hasLFIWAX())</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      LoadOpc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8">PPC::LFIWAX</a>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = &amp;PPC::F8RCRegClass;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitLoad(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, ResultReg, Addr, RC, !IsSigned, LoadOpc))</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;}</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">// Attempt to fast-select an integer-to-floating-point conversion.</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectIToFP(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">bool</span> IsSigned) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> DstVT;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy = I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(DstTy, DstVT))</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">if</span> (DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcEVT = TLI.getValueType(Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (!SrcEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT = SrcEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>  &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">if</span> (SrcReg == 0)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="comment">// We can only lower an unsigned convert if we have the newer</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// floating-point conversion operations.</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordflow">if</span> (!IsSigned &amp;&amp; !PPCSubTarget.hasFPCVT())</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// FIXME: For now we require the newer floating-point conversion operations</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// (which are present only on P7 and A2 server models) when converting</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="comment">// to single-precision float.  Otherwise we have to generate a lot of</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// fiddly code to avoid double rounding.  If necessary, the fiddly code</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// can be found in PPCTargetLowering::LowerINT_TO_FP().</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">if</span> (DstVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; !PPCSubTarget.hasFPCVT())</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// Extend the input if necessary.</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordtype">unsigned</span> TmpReg = createResultReg(&amp;PPC::G8RCRegClass);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (!PPCEmitIntExt(SrcVT, SrcReg, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>, TmpReg, !IsSigned))</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    SrcVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    SrcReg = TmpReg;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// Move the integer value to an FPR.</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordtype">unsigned</span> FPReg = PPCMoveToFPReg(SrcVT, SrcReg, IsSigned);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (FPReg == 0)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// Determine the opcode for the conversion.</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = &amp;PPC::F8RCRegClass;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = createResultReg(RC);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">if</span> (DstVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    Opc = IsSigned ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962">PPC::FCFIDS</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090">PPC::FCFIDUS</a>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    Opc = IsSigned ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">PPC::FCFID</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d">PPC::FCFIDU</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// Generate the convert.</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    .addReg(FPReg);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  UpdateValueMap(I, DestReg);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">// Move the floating-point value in SrcReg into an integer destination</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">// register, and return the register (or zero if we can&#39;t handle it).</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">// FIXME: When direct register moves are implemented (see PowerISA 2.08),</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">// those should be used instead of moving via a stack slot when the</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">// subtarget permits.</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMoveToIntReg(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                      <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> IsSigned) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// Get a stack slot 8 bytes wide, aligned on an 8-byte boundary.</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">// Note that if have STFIWX available, we could use a 4-byte stack</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">// slot for i32, but this being fast-isel we&#39;ll just go with the</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// easiest code gen possible.</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  Address Addr;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  Addr.BaseType = Address::FrameIndexBase;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  Addr.Base.FI = MFI.CreateStackObject(8, 8, <span class="keyword">false</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// Store the value from the FPR.</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitStore(<a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>, SrcReg, Addr))</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// Reload it into a GPR.  If we want an i32, modify the address</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// to have a 4-byte offset so we load from the right place.</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    Addr.Offset = 4;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">// Look at the currently assigned register for this instruction</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// to determine the required register class.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordtype">unsigned</span> AssignedReg = FuncInfo.ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    AssignedReg ? <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(AssignedReg) : 0;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitLoad(VT, ResultReg, Addr, RC, !IsSigned))</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">// Attempt to fast-select a floating-point-to-integer conversion.</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectFPToI(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">bool</span> IsSigned) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> DstVT, SrcVT;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy = I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(DstTy, DstVT))</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">if</span> (DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; DstVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (!isTypeLegal(SrcTy, SrcVT))</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">if</span> (SrcReg == 0)</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// Convert f32 to f64 if necessary.  This is just a meaningless copy</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// to get the register class right.  COPY_TO_REGCLASS is needed since</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// a COPY from F4RC to F8RC is converted to a F4RC-F4RC copy downstream.</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *InRC = <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(SrcReg);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">if</span> (InRC == &amp;PPC::F4RCRegClass) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordtype">unsigned</span> TmpReg = createResultReg(&amp;PPC::F8RCRegClass);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad32233180a0499e8a9d72b83c5098d0a">TargetOpcode::COPY_TO_REGCLASS</a>), TmpReg)</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      .addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(PPC::F8RCRegClassID);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    SrcReg = TmpReg;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">// Determine the opcode for the conversion, which takes place</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="comment">// entirely within FPRs.</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = createResultReg(&amp;PPC::F8RCRegClass);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (DstVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (IsSigned)</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      Opc = <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">PPC::FCTIWZ</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      Opc = PPCSubTarget.hasFPCVT() ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9">PPC::FCTIWUZ</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPC::FCTIDZ</a>;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    Opc = IsSigned ? <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">PPC::FCTIDZ</a> : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331">PPC::FCTIDUZ</a>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="comment">// Generate the convert.</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    .addReg(SrcReg);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">// Now move the integer value from a float register to an integer register.</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordtype">unsigned</span> IntReg = PPCMoveToIntReg(I, DstVT, DestReg, IsSigned);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">if</span> (IntReg == 0)</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  UpdateValueMap(I, IntReg);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">// Attempt to fast-select a binary integer operation that isn&#39;t already</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">// handled automatically.</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectBinaryIntOp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <span class="keywordtype">unsigned</span> ISDOpcode) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT  = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">// We can get here in the case when we have a binary operation on a non-legal</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// type and the target independent selector doesn&#39;t know how to handle it.</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// Look at the currently assigned register for this instruction</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// to determine the required register class.  If there is no register,</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// make a conservative choice (don&#39;t assign R0).</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordtype">unsigned</span> AssignedReg = FuncInfo.ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    (AssignedReg ? <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(AssignedReg) :</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;     &amp;PPC::GPRC_and_GPRC_NOR0RegClass);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordtype">bool</span> IsGPRC = RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">hasSuperClassEq</a>(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">switch</span> (ISDOpcode) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>:</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      Opc = IsGPRC ? PPC::ADD4 : PPC::ADD8;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>:</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      Opc = IsGPRC ? <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a> : PPC::OR8;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>:</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      Opc = IsGPRC ? PPC::SUBF : PPC::SUBF8;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC ? RC : &amp;PPC::G8RCRegClass);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg1 = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (SrcReg1 == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// Handle case of small immediate operand.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ConstInt = dyn_cast&lt;ConstantInt&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;CIVal = ConstInt-&gt;getValue();</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">int</span> Imm = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)CIVal.<a class="code" href="classllvm_1_1APInt.html#a7189a37206963029447c31d57771b997">getSExtValue</a>();</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordtype">bool</span> UseImm = <span class="keyword">true</span>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Imm)) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;          <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Missing case!&quot;</span>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">case</span> PPC::ADD4:</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          Opc = PPC::ADDI;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(SrcReg1, &amp;PPC::GPRC_and_GPRC_NOR0RegClass);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">case</span> PPC::ADD8:</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;          Opc = PPC::ADDI8;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;          <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(SrcReg1, &amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">PPC::OR</a>:</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;          Opc = PPC::ORI;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">case</span> PPC::OR8:</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;          Opc = PPC::ORI8;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">case</span> PPC::SUBF:</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          <span class="keywordflow">if</span> (Imm == -32768)</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            UseImm = <span class="keyword">false</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            Opc = PPC::ADDI;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(SrcReg1, &amp;PPC::GPRC_and_GPRC_NOR0RegClass);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            Imm = -Imm;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;          }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">case</span> PPC::SUBF8:</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;          <span class="keywordflow">if</span> (Imm == -32768)</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            UseImm = <span class="keyword">false</span>;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            Opc = PPC::ADDI8;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(SrcReg1, &amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            Imm = -Imm;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;          }</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">if</span> (UseImm) {</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;          .addReg(SrcReg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Imm);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// Reg-reg case.</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg2 = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordflow">if</span> (SrcReg2 == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// Reverse operands for subtract-from.</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (ISDOpcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>)</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(SrcReg1, SrcReg2);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ResultReg)</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    .addReg(SrcReg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg2);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">// Handle arguments to a call that we&#39;re attempting to fast-select.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">// Return false if the arguments are too complex for us at the moment.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::processCallArgs(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value*&gt;</a> &amp;Args,</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;ArgRegs,</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MVT&gt;</a> &amp;ArgVTs,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ISD::ArgFlagsTy&gt;</a> &amp;ArgFlags,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;RegArgs,</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                                  <span class="keywordtype">unsigned</span> &amp;NumBytes,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                  <span class="keywordtype">bool</span> IsVarArg) {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ArgLocs;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>, IsVarArg, *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, ArgLocs, *Context);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  CCInfo.<a class="code" href="classllvm_1_1CCState.html#a919797ac95a1d84d08e4f43eedededa4">AnalyzeCallOperands</a>(ArgVTs, ArgFlags, CC_PPC64_ELF_FIS);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// Bail out if we can&#39;t handle any of the arguments.</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = ArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ArgLocs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT = ArgVTs[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// Skip vector arguments for now, as well as long double and</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// uint128_t, and anything that isn&#39;t passed in a register.</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (ArgVT.<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>() || ArgVT.<a class="code" href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">getSizeInBits</a>() &gt; 64 ||</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        !VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>() || VA.<a class="code" href="classllvm_1_1CCValAssign.html#a427a4a8ed515ac694e98e26cac32b9f8">needsCustom</a>())</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Skip bit-converted arguments for now.</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">if</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>() == <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc">CCValAssign::BCvt</a>)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// Get a count of how many bytes are to be pushed onto the stack.</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  NumBytes = CCInfo.<a class="code" href="classllvm_1_1CCState.html#a8661f92aca492f74a6045081c073a0c9">getNextStackOffset</a>();</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// Issue CALLSEQ_START.</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;          <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameSetupOpcode()))</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(NumBytes);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="comment">// Prepare to assign register arguments.  Every argument uses up a</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment">// GPR protocol register even if it&#39;s passed in a floating-point</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// register.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordtype">unsigned</span> NextGPR = PPC::X3;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordtype">unsigned</span> NextFPR = PPC::F1;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// Process arguments.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, E = ArgLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ArgLocs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordtype">unsigned</span> Arg = ArgRegs[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT = ArgVTs[VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>()];</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// Handle argument promotion and bitcasts.</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">switch</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>()) {</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown loc info!&quot;</span>);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>:</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">CCValAssign::SExt</a>: {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;          (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass : &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordtype">unsigned</span> TmpReg = createResultReg(RC);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">if</span> (!PPCEmitIntExt(ArgVT, Arg, DestVT, TmpReg, <span class="comment">/*IsZExt*/</span><span class="keyword">false</span>))</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;          <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Failed to emit a sext!&quot;</span>);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        ArgVT = DestVT;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        Arg = TmpReg;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">CCValAssign::AExt</a>:</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">CCValAssign::ZExt</a>: {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass : &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordtype">unsigned</span> TmpReg = createResultReg(RC);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">if</span> (!PPCEmitIntExt(ArgVT, Arg, DestVT, TmpReg, <span class="comment">/*IsZExt*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Failed to emit a zext!&quot;</span>);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        ArgVT = DestVT;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        Arg = TmpReg;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc">CCValAssign::BCvt</a>: {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="comment">// FIXME: Not yet handled.</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Should have bailed before getting here!&quot;</span>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">// Copy this argument to the appropriate register.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">unsigned</span> ArgReg;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span> (ArgVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> || ArgVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      ArgReg = NextFPR++;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      ++NextGPR;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      ArgReg = NextGPR++;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      </div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            ArgReg).addReg(Arg);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    RegArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgReg);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">// For a call that we&#39;ve determined we can fast-select, finish the</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">// call sequence and generate a copy to obtain the return value (if any).</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="keywordtype">void</span> PPCFastISel::finishCall(<a class="code" href="classllvm_1_1MVT.html">MVT</a> RetVT, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;unsigned&gt;</a> &amp;UsedRegs,</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I, <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>,</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                             <span class="keywordtype">unsigned</span> &amp;NumBytes, <span class="keywordtype">bool</span> IsVarArg) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">// Issue CallSEQ_END.</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;          <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.getCallFrameDestroyOpcode()))</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(NumBytes).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0);</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// Next, generate a copy to obtain the return value.</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="comment">// FIXME: No multi-register return values yet, though I don&#39;t foresee</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// any real difficulties there.</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">if</span> (RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca1d771d459e76b34e6839ac241b4be616">MVT::isVoid</a>) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>, IsVarArg, *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, RVLocs, *Context);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    CCInfo.<a class="code" href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">AnalyzeCallResult</a>(RetVT, RetCC_PPC64_ELF_FIS);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = RVLocs[0];</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    assert(RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1 &amp;&amp; <span class="stringliteral">&quot;No support for multi-reg return values!&quot;</span>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>() &amp;&amp; <span class="stringliteral">&quot;Can only return in registers!&quot;</span>);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">getValVT</a>();</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> CopyVT = DestVT;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// Ints smaller than a register still arrive in a full 64-bit</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="comment">// register, so make sure we recognize this.</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> || RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      CopyVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordtype">unsigned</span> SourcePhysReg = VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>();</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = 0;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> (RetVT == CopyVT) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *CpyRC = TLI.getRegClassFor(CopyVT);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      ResultReg = createResultReg(CpyRC);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>), ResultReg)</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        .addReg(SourcePhysReg);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">// If necessary, round the floating result to single precision.</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CopyVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      ResultReg = createResultReg(TLI.getRegClassFor(RetVT));</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::FRSP),</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;              ResultReg).addReg(SourcePhysReg);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// If only the low half of a general register is needed, generate</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="comment">// a GPRC copy instead of a G8RC copy.  (EXTRACT_SUBREG can&#39;t be</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="comment">// used along the fast-isel path (not lowered), and downstream logic</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="comment">// also doesn&#39;t like a direct subreg copy on a physical reg.)</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> || RetVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      ResultReg = createResultReg(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="comment">// Convert physical register from G8RC to GPRC.</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      SourcePhysReg -= PPC::X0 - PPC::R0;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;              <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>), ResultReg)</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        .addReg(SourcePhysReg);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    assert(ResultReg &amp;&amp; <span class="stringliteral">&quot;ResultReg unset!&quot;</span>);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    UsedRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SourcePhysReg);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;}</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">// Attempt to fast-select a call instruction.</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *Callee = CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>();</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="comment">// Can&#39;t handle inline asm.</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (isa&lt;InlineAsm&gt;(Callee))</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// Allow SelectionDAG isel to handle tail calls.</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">if</span> (CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a5e07dea70b41ad610edbfc21bd54154a">isTailCall</a>())</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// Obtain calling convention.</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS(CI);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>();</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PT = cast&lt;PointerType&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = cast&lt;FunctionType&gt;(PT-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordtype">bool</span> IsVarArg = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>();</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">// Not ready for varargs yet.</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordflow">if</span> (IsVarArg)</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">// Handle simple calls for now, with legal return types and</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="comment">// those that can be extended.</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy = I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> RetVT;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordflow">if</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    RetVT = <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca1d771d459e76b34e6839ac241b4be616">MVT::isVoid</a>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isTypeLegal(RetTy, RetVT) &amp;&amp; RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;           RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="comment">// FIXME: No multi-register return values yet.</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">if</span> (RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca1d771d459e76b34e6839ac241b4be616">MVT::isVoid</a> &amp;&amp; RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      RetVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> RVLocs;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CC, IsVarArg, *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, RVLocs, *Context);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    CCInfo.<a class="code" href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">AnalyzeCallResult</a>(RetVT, RetCC_PPC64_ELF_FIS);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (RVLocs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 1)</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// Bail early if more than 8 arguments, as we only currently</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// handle arguments passed in registers.</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordtype">unsigned</span> NumArgs = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>();</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">if</span> (NumArgs &gt; 8)</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">// Set up the argument vectors.</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value*, 8&gt;</a> Args;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> ArgRegs;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MVT, 8&gt;</a> ArgVTs;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::ArgFlagsTy, 8&gt;</a> ArgFlags;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  Args.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(NumArgs);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  ArgRegs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(NumArgs);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  ArgVTs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(NumArgs);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  ArgFlags.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(NumArgs);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">ImmutableCallSite::arg_iterator</a> II = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>();</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;       II != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++II) {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">// FIXME: ARM does something for intrinsic calls here, check into that.</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordtype">unsigned</span> AttrIdx = II - CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>() + 1;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    </div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// Only handle easy calls for now.  It would be reasonably easy</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// to handle &lt;= 8-byte structures passed ByVal in registers, but we</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// have to ensure they are right-justified in the register.</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">Attribute::InReg</a>) ||</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a">Attribute::StructRet</a>) ||</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437">Attribute::Nest</a>) ||</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9">Attribute::ByVal</a>))</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html">ISD::ArgFlagsTy</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f">Attribute::SExt</a>))</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a1134ea0aa4c8b2d3e344d48dca3c4d44">setSExt</a>();</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">paramHasAttr</a>(AttrIdx, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>))</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a9d5e89b5f086590d776028ee2f095453">setZExt</a>();</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTy = (*II)-&gt;getType();</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> ArgVT;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">if</span> (!isTypeLegal(ArgTy, ArgVT) &amp;&amp; ArgVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; ArgVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">if</span> (ArgVT.<a class="code" href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">isVector</a>())</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordtype">unsigned</span> Arg = getRegForValue(*II);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">if</span> (Arg == 0)</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordtype">unsigned</span> OriginalAlignment = TD.getABITypeAlignment(ArgTy);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    Flags.<a class="code" href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ab578211fc94e49ec6628ec6023f4be09">setOrigAlign</a>(OriginalAlignment);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    Args.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*II);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    ArgRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Arg);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    ArgVTs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ArgVT);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    ArgFlags.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Flags);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  }</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="comment">// Process the arguments.</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> RegArgs;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordtype">unsigned</span> NumBytes;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (!processCallArgs(Args, ArgRegs, ArgVTs, ArgFlags,</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                       RegArgs, CC, NumBytes, IsVarArg))</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// FIXME: No handling for function pointers yet.  This requires</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="comment">// implementing the function descriptor (OPD) setup.</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a>&gt;(Callee);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="keywordflow">if</span> (!GV)</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// Build direct call with NOP for TOC restore.</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">// FIXME: We can and should optimize away the NOP for local calls.</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                    <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::BL8_NOP));</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// Add callee.</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">addGlobalAddress</a>(GV);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// Add implicit physical register uses to the call.</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> II = 0, <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = RegArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); II != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++II)</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(RegArgs[II], <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="comment">// Add a register mask with the call-preserved registers.  Proper</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="comment">// defs for return values will be added by setPhysRegsDeadExcept().</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">addRegMask</a>(TRI.getCallPreservedMask(CC));</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// Finish off the call including any return values.</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> UsedRegs;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  finishCall(RetVT, UsedRegs, I, CC, NumBytes, IsVarArg);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// Set all unused physregs defs as dead.</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<span class="keyword">&gt;</span>(MIB)-&gt;setPhysRegsDeadExcept(UsedRegs, TRI);</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">// Attempt to fast-select a return instruction.</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectRet(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">if</span> (!FuncInfo.CanLowerReturn)</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *<a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a> = cast&lt;ReturnInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = *I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">// Build a list of return value registers.</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 4&gt;</a> RetRegs;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = F.getCallingConv();</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">if</span> (Ret-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>() &gt; 0) {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ISD::OutputArg, 4&gt;</a> Outs;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <a class="code" href="namespacellvm.html#ae9a577ed38a1ba3a31fa03fb25d369ad">GetReturnInfo</a>(F.getReturnType(), F.getAttributes(), Outs, TLI);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">// Analyze operands of the call, assigning locations to each operand.</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;CCValAssign, 16&gt;</a> ValLocs;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="classllvm_1_1CCState.html">CCState</a> CCInfo(CC, F.isVarArg(), *FuncInfo.MF, <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>, ValLocs, *Context);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    CCInfo.<a class="code" href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">AnalyzeReturn</a>(Outs, RetCC_PPC64_ELF_FIS);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *RV = Ret-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    </div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="comment">// FIXME: Only one output register for now.</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">if</span> (ValLocs.size() &gt; 1)</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="comment">// Special case for returning a constant integer of any size.</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="comment">// Materialize the constant as an i64 and copy it to the return</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// register.  This avoids an unnecessary extend or truncate.</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(*RV)) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = cast&lt;Constant&gt;(RV);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordtype">unsigned</span> SrcReg = PPCMaterializeInt(C, <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordtype">unsigned</span> RetReg = ValLocs[0].getLocReg();</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;              RetReg).addReg(SrcReg);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(RetReg);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = getRegForValue(RV);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">if</span> (Reg == 0)</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="comment">// Copy the result values into the output registers.</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ValLocs.size(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <a class="code" href="classllvm_1_1CCValAssign.html">CCValAssign</a> &amp;VA = ValLocs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        assert(VA.<a class="code" href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">isRegLoc</a>() &amp;&amp; <span class="stringliteral">&quot;Can only return in registers!&quot;</span>);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(VA.<a class="code" href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">getLocReg</a>());</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordtype">unsigned</span> SrcReg = Reg + VA.<a class="code" href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">getValNo</a>();</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="structllvm_1_1EVT.html">EVT</a> RVEVT = TLI.getValueType(RV-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span> (!RVEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <a class="code" href="classllvm_1_1MVT.html">MVT</a> RVVT = RVEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT = VA.<a class="code" href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">getLocVT</a>();</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">if</span> (RVVT != DestVT &amp;&amp; RVVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            RVVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; RVVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      </div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordflow">if</span> (RVVT != DestVT) {</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;          <span class="keywordflow">switch</span> (VA.<a class="code" href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">getLocInfo</a>()) {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;              <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown loc info!&quot;</span>);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">CCValAssign::Full</a>:</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;              <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Full value assign but types don&#39;t match?&quot;</span>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">CCValAssign::AExt</a>:</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">CCValAssign::ZExt</a>: {</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass : &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;              <span class="keywordtype">unsigned</span> TmpReg = createResultReg(RC);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;              <span class="keywordflow">if</span> (!PPCEmitIntExt(RVVT, SrcReg, DestVT, TmpReg, <span class="keyword">true</span>))</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;              SrcReg = TmpReg;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">CCValAssign::SExt</a>: {</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass : &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;              <span class="keywordtype">unsigned</span> TmpReg = createResultReg(RC);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;              <span class="keywordflow">if</span> (!PPCEmitIntExt(RVVT, SrcReg, DestVT, TmpReg, <span class="keyword">false</span>))</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;              SrcReg = TmpReg;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            }</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;          }</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        }</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>), RetRegs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;          .addReg(SrcReg);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      }</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                                    <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::BLR));</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = RetRegs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(RetRegs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">// Attempt to emit an integer extend of SrcReg into DestReg.  Both</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment">// signed and zero extensions are supported.  Return false if we</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">// can&#39;t handle it.</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::PPCEmitIntExt(<a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT, <span class="keywordtype">unsigned</span> SrcReg, <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT,</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">bool</span> IsZExt) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// Signed extensions use EXTSB, EXTSH, EXTSW.</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">if</span> (!IsZExt) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordtype">unsigned</span> Opc;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      Opc = (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) ? PPC::EXTSB : PPC::EXTSB8_32_64;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      Opc = (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) ? PPC::EXTSH : PPC::EXTSH8_32_64;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      assert(DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; <span class="stringliteral">&quot;Signed extend from i32 to i32??&quot;</span>);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      Opc = PPC::EXTSW_32_64;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      .addReg(SrcReg);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// Unsigned 32-bit extensions use RLWINM.</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordtype">unsigned</span> MB;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      MB = 24;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      assert(SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; <span class="stringliteral">&quot;Unsigned extend from i32 to i32??&quot;</span>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      MB = 16;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::RLWINM),</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            DestReg)</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      .addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<span class="comment">/*SH=*/</span>0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(MB).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<span class="comment">/*ME=*/</span>31);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="comment">// Unsigned 64-bit extensions use RLDICL (with a 32-bit source).</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordtype">unsigned</span> MB;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      MB = 56;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      MB = 48;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      MB = 32;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::RLDICL_32_64), DestReg)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      .addReg(SrcReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<span class="comment">/*SH=*/</span>0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(MB);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">// Attempt to fast-select an indirect branch instruction.</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectIndirectBr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordtype">unsigned</span> AddrReg = getRegForValue(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (AddrReg == 0)</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::MTCTR8))</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    .addReg(AddrReg);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::BCTR8));</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1IndirectBrInst.html">IndirectBrInst</a> *IB = cast&lt;IndirectBrInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = IB-&gt;getNumSuccessors(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    FuncInfo.MBB-&gt;addSuccessor(FuncInfo.MBBMap[IB-&gt;getSuccessor(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)]);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">// Attempt to fast-select an integer truncate instruction.</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectTrunc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src  = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcVT  = TLI.getValueType(Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> DestVT = TLI.getValueType(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordflow">if</span> (SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; SrcVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; DestVT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="keywordflow">if</span> (!SrcReg)</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="comment">// The only interesting case is when we need to switch register classes.</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">if</span> (SrcVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) {</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">TargetOpcode::COPY</a>),</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            ResultReg).addReg(SrcReg, 0, PPC::sub_32);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    SrcReg = ResultReg;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  }</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  UpdateValueMap(I, SrcReg);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment">// Attempt to fast-select an integer extend instruction.</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::SelectIntExt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DestTy = I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Src = I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = Src-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keywordtype">bool</span> IsZExt = isa&lt;ZExtInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = getRegForValue(Src);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="keywordflow">if</span> (!SrcReg) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> SrcEVT, DestEVT;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  SrcEVT = TLI.getValueType(SrcTy, <span class="keyword">true</span>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  DestEVT = TLI.getValueType(DestTy, <span class="keyword">true</span>);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">if</span> (!SrcEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">if</span> (!DestEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>())</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> SrcVT = SrcEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> DestVT = DestEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="comment">// If we know the register class needed for the result of this</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// instruction, use it.  Otherwise pick the register class of the</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// correct size that does not contain X0/R0, since we don&#39;t know</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// whether downstream uses permit that assignment.</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordtype">unsigned</span> AssignedReg = FuncInfo.ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC =</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    (AssignedReg ? <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.<a class="code" href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">getRegClass</a>(AssignedReg) :</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;     (DestVT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> ? &amp;PPC::G8RC_and_G8RC_NOX0RegClass :</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      &amp;PPC::GPRC_and_GPRC_NOR0RegClass));</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitIntExt(SrcVT, SrcReg, DestVT, ResultReg, IsZExt))</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  UpdateValueMap(I, ResultReg);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;}</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">// Attempt to fast-select an instruction that wasn&#39;t handled by</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">// the table-generated machinery.</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::TargetSelectInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *I) {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <span class="keywordflow">return</span> SelectLoad(I);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>:</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      <span class="keywordflow">return</span> SelectStore(I);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">case</span> Instruction::Br:</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <span class="keywordflow">return</span> SelectBranch(I);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">case</span> Instruction::IndirectBr:</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keywordflow">return</span> SelectIndirectBr(I);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">case</span> Instruction::FPExt:</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">return</span> SelectFPExt(I);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">case</span> Instruction::FPTrunc:</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="keywordflow">return</span> SelectFPTrunc(I);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">case</span> Instruction::SIToFP:</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keywordflow">return</span> SelectIToFP(I, <span class="comment">/*IsSigned*/</span> <span class="keyword">true</span>);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">case</span> Instruction::UIToFP:</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">return</span> SelectIToFP(I, <span class="comment">/*IsSigned*/</span> <span class="keyword">false</span>);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">case</span> Instruction::FPToSI:</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="keywordflow">return</span> SelectFPToI(I, <span class="comment">/*IsSigned*/</span> <span class="keyword">true</span>);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">case</span> Instruction::FPToUI:</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <span class="keywordflow">return</span> SelectFPToI(I, <span class="comment">/*IsSigned*/</span> <span class="keyword">false</span>);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">case</span> Instruction::Add:</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="keywordflow">return</span> SelectBinaryIntOp(I, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a>);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">return</span> SelectBinaryIntOp(I, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">ISD::OR</a>);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">return</span> SelectBinaryIntOp(I, <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Instruction::Call</a>:</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="keywordflow">if</span> (dyn_cast&lt;IntrinsicInst&gt;(I))</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;      <span class="keywordflow">return</span> SelectCall(I);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Instruction::Ret</a>:</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">return</span> SelectRet(I);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="keywordflow">return</span> SelectTrunc(I);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">case</span> Instruction::SExt:</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="keywordflow">return</span> SelectIntExt(I);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="comment">// Here add other flavors of Instruction::XXX that automated</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="comment">// cases don&#39;t catch.  For example, switches are terminators</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// that aren&#39;t yet handled.</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;}</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment">// Materialize a floating-point constant into a register, and return</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">// the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMaterializeFP(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT) {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="comment">// No plans to handle long double here.</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">MVT::f64</a>)</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="comment">// All FP constants are loaded from the constant pool.</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = TD.getPrefTypeAlignment(CFP-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  assert(Align &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Unexpectedly missing alignment information!&quot;</span>);</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="keywordtype">unsigned</span> Idx = MCP.getConstantPoolIndex(cast&lt;Constant&gt;(CFP), Align);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = createResultReg(TLI.getRegClassFor(VT));</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8df">CodeModel::Model</a> CModel = <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel();</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    FuncInfo.MF-&gt;getMachineMemOperand(</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      <a class="code" href="structllvm_1_1MachinePointerInfo.html#aa08f2339c536714c3cef4e56cb0f33b2">MachinePointerInfo::getConstantPool</a>(), <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? 4 : 8, Align);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="keywordtype">unsigned</span> Opc = (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">MVT::f32</a>) ? PPC::LFS : PPC::LFD;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg = createResultReg(&amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">// For small code model, generate a LF[SD](0, LDtocCPT(Idx, X2)).</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keywordflow">if</span> (CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a> || CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa0d000f41ac8c16668780c25c3982f92e">CodeModel::JITDefault</a>) {</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::LDtocCPT),</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            TmpReg)</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;      .addConstantPoolIndex(Idx).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::X2);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;      .addImm(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TmpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">// Otherwise we generate LF[SD](Idx[lo], ADDIStocHA(X2, Idx)).</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ADDIStocHA),</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            TmpReg).addReg(PPC::X2).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad59a931df03c79a2ea17009ee2a2f96b">addConstantPoolIndex</a>(Idx);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="comment">// But for large code model, we must generate a LDtocL followed</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="comment">// by the LF[SD].</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="keywordflow">if</span> (CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">CodeModel::Large</a>) {</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordtype">unsigned</span> TmpReg2 = createResultReg(&amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::LDtocL),</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;              TmpReg2).addConstantPoolIndex(Idx).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TmpReg);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        .addImm(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TmpReg2);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    } <span class="keywordflow">else</span> </div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), DestReg)</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        .addConstantPoolIndex(Idx, 0, <a class="code" href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">PPCII::MO_TOC_LO</a>)</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TmpReg)</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  }</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">return</span> DestReg;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">// Materialize the address of a global value into a register, and return</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">// the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMaterializeGV(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  assert(VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; <span class="stringliteral">&quot;Non-address!&quot;</span>);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = &amp;PPC::G8RC_and_G8RC_NOX0RegClass;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = createResultReg(RC);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// Global values may be plain old object addresses, TLS object</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// addresses, constant pool entries, or jump tables.  How we generate</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// code for these may depend on small, medium, or large code model.</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8df">CodeModel::Model</a> CModel = <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getCodeModel();</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// FIXME: Jump tables are not yet required because fast-isel doesn&#39;t</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">// handle switches; if that changes, we need them as well.  For now,</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// what follows assumes everything&#39;s a generic (or TLS) global address.</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GVar = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>&gt;(GV);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">if</span> (!GVar) {</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="comment">// If GV is an alias, use the aliasee for determining thread-locality.</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(GV))</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      GVar = dyn_cast_or_null&lt;GlobalVariable&gt;(GA-&gt;resolveAliasedGlobal(<span class="keyword">false</span>));</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="comment">// FIXME: We don&#39;t yet handle the complexity of TLS.</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordtype">bool</span> IsTLS = GVar &amp;&amp; GVar-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ab475a5d7e2ef20e13658adefb8c1be13">isThreadLocal</a>();</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keywordflow">if</span> (IsTLS)</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// For small code model, generate a simple TOC load.</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">CodeModel::Small</a> || CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa0d000f41ac8c16668780c25c3982f92e">CodeModel::JITDefault</a>)</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::LDtoc), DestReg)</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;      .addGlobalAddress(GV).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::X2);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">// If the address is an externally defined symbol, a symbol with</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// common or externally available linkage, a function address, or a</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// jump table address (not yet needed), or if we are generating code</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="comment">// for large code model, we generate:</span></div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="comment">//       LDtocL(GV, ADDIStocHA(%X2, GV))</span></div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">// Otherwise we generate:</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="comment">//       ADDItocL(ADDIStocHA(%X2, GV), GV)</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="comment">// Either way, start with the ADDIStocHA:</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordtype">unsigned</span> HighPartReg = createResultReg(RC);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ADDIStocHA),</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            HighPartReg).addReg(PPC::X2).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">addGlobalAddress</a>(GV);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="comment">// !GVar implies a function address.  An external variable is one</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">// without an initializer.</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="comment">// If/when switches are implemented, jump tables should be handled</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="comment">// on the &quot;if&quot; path here.</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (CModel == <a class="code" href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">CodeModel::Large</a> || !GVar || !GVar-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a0d94a4e78681b58ae3b2dbbd0627a847">hasInitializer</a>() ||</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        GVar-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a2506accca38107a6d25064c7c5c058fd">hasCommonLinkage</a>() || GVar-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>())</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::LDtocL),</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;              DestReg).addGlobalAddress(GV).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(HighPartReg);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="comment">// Otherwise generate the ADDItocL.</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ADDItocL),</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;              DestReg).addReg(HighPartReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">addGlobalAddress</a>(GV);</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordflow">return</span> DestReg;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment">// Materialize a 32-bit integer constant into a register, and return</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="comment">// the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMaterialize32BitInt(int64_t Imm,</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a> = Imm &amp; 0xFFFF;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a> = (Imm &gt;&gt; 16) &amp; 0xFFFF;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="keywordtype">bool</span> IsGPRC = RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">hasSuperClassEq</a>(&amp;PPC::GPRCRegClass);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Imm))</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(IsGPRC ? PPC::LI : PPC::LI8), ResultReg)</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      .addImm(Imm);</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Lo) {</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="comment">// Both Lo and Hi have nonzero bits.</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keywordtype">unsigned</span> TmpReg = createResultReg(RC);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(IsGPRC ? PPC::LIS : PPC::LIS8), TmpReg)</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      .addImm(Hi);</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(IsGPRC ? PPC::ORI : PPC::ORI8), ResultReg)</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      .addReg(TmpReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Lo);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="comment">// Just Hi bits.</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(IsGPRC ? PPC::LIS : PPC::LIS8), ResultReg)</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      .addImm(Hi);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  </div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">// Materialize a 64-bit integer constant into a register, and return</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">// the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMaterialize64BitInt(int64_t Imm,</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC) {</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordtype">unsigned</span> Remainder = 0;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = 0;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="comment">// If the value doesn&#39;t fit in 32 bits, see if we can shift it</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="comment">// so that it fits in 32 bits.</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">isInt&lt;32&gt;</a>(Imm)) {</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    Shift = countTrailingZeros&lt;uint64_t&gt;(Imm);</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    int64_t ImmSh = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(Imm) &gt;&gt; Shift;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">isInt&lt;32&gt;</a>(ImmSh))</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      Imm = ImmSh;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      Remainder = Imm;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      Shift = 32;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      Imm &gt;&gt;= 32;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    }</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  }</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// Handle the high-order 32 bits (if shifted) or the whole 32 bits</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="comment">// (if not shifted).</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg1 = PPCMaterialize32BitInt(Imm, RC);</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="keywordflow">if</span> (!Shift)</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">return</span> TmpReg1;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="comment">// If upper 32 bits were not zero, we&#39;ve built them and need to shift</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="comment">// them into place.</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg2;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="keywordflow">if</span> (Imm) {</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    TmpReg2 = createResultReg(RC);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::RLDICR),</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            TmpReg2).addReg(TmpReg1).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Shift).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(63 - Shift);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    TmpReg2 = TmpReg1;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordtype">unsigned</span> TmpReg3, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">Hi</a>, <a class="code" href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">Lo</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">if</span> ((Hi = (Remainder &gt;&gt; 16) &amp; 0xFFFF)) {</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    TmpReg3 = createResultReg(RC);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ORIS8),</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            TmpReg3).addReg(TmpReg2).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Hi);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    TmpReg3 = TmpReg2;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordflow">if</span> ((Lo = Remainder &amp; 0xFFFF)) {</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = createResultReg(RC);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ORI8),</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            ResultReg).addReg(TmpReg3).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Lo);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  }</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">return</span> TmpReg3;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;}</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">// Materialize an integer constant into a register, and return</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">// the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::PPCMaterializeInt(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT) {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) </div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass :</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                                   &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="comment">// If the constant is in range, use a load-immediate.</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = cast&lt;ConstantInt&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>())) {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordtype">unsigned</span> Opc = (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? PPC::LI8 : PPC::LI;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordtype">unsigned</span> ImmReg = createResultReg(RC);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(Opc), ImmReg)</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      .addImm(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">getSExtValue</a>());</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">return</span> ImmReg;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="comment">// Construct the constant piecewise.</span></div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  int64_t Imm = CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="keywordflow">return</span> PPCMaterialize64BitInt(Imm, RC);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a>)</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> PPCMaterialize32BitInt(Imm, RC);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">// Materialize a constant into a register, and return the register</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment">// number (or zero if we failed to handle it).</span></div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::TargetMaterializeConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C) {</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> CEVT = TLI.getValueType(C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="comment">// Only handle simple types.</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="keywordflow">if</span> (!CEVT.<a class="code" href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">isSimple</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = CEVT.<a class="code" href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">getSimpleVT</a>();</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(C))</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">return</span> PPCMaterializeFP(CFP, VT);</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(C))</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">return</span> PPCMaterializeGV(GV, VT);</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ConstantInt&gt;(C))</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">return</span> PPCMaterializeInt(C, VT);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">// Materialize the address created by an alloca into a register, and</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">// return the register number (or zero if we failed to handle it).</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::TargetMaterializeAlloca(<span class="keyword">const</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI) {</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="comment">// Don&#39;t handle dynamic allocas.</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">if</span> (!FuncInfo.StaticAllocaMap.count(AI)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> (!isLoadTypeLegal(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">getType</a>(), VT)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const AllocaInst*, int&gt;::iterator</a> SI =</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    FuncInfo.StaticAllocaMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(AI);</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <span class="keywordflow">if</span> (SI != FuncInfo.StaticAllocaMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>()) {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordtype">unsigned</span> ResultReg = createResultReg(&amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*FuncInfo.MBB, FuncInfo.InsertPt, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>.get(PPC::ADDI8),</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            ResultReg).addFrameIndex(SI-&gt;second).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0);</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordflow">return</span> ResultReg;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  }</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">// Fold loads into extends when possible.</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">// FIXME: We can have multiple redundant extend/trunc instructions</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">// following a load.  The folding only picks up one.  Extend this</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment">// to check subsequent instructions for the same pattern and remove</span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment">// them.  Thus ResultReg should be the def reg for the last redundant</span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment">// instruction in a chain, and all intervening instructions can be</span></div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">// removed from parent.  Change test/CodeGen/PowerPC/fast-isel-fold.ll</span></div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment">// to add ELF64-NOT: rldicl to the appropriate tests when this works.</span></div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::tryToFoldLoadIntoMI(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI) {</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="comment">// Verify we have a legal type before going any further.</span></div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">if</span> (!isLoadTypeLegal(LI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), VT))</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="comment">// Combine load followed by zero- or sign-extend.</span></div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordtype">bool</span> IsZExt = <span class="keyword">false</span>;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">switch</span>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordflow">case</span> PPC::RLDICL:</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordflow">case</span> PPC::RLDICL_32_64: {</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      IsZExt = <span class="keyword">true</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <span class="keywordtype">unsigned</span> MB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <span class="keywordflow">if</span> ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; MB &lt;= 56) ||</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; MB &lt;= 48) ||</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; MB &lt;= 32))</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">case</span> PPC::RLWINM:</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">case</span> PPC::RLWINM8: {</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      IsZExt = <span class="keyword">true</span>;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <span class="keywordtype">unsigned</span> MB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">if</span> ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; MB &lt;= 24) ||</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;          (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; MB &lt;= 16))</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    }</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSB:</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSB8:</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSB8_32_64:</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="comment">/* There is no sign-extending load-byte instruction. */</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSH:</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSH8:</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSH8_32_64: {</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    }</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSW:</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">case</span> PPC::EXTSW_32_64: {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a>)</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  }</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="comment">// See if we can handle this address.</span></div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  Address Addr;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">if</span> (!PPCComputeAddress(LI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Addr))</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordtype">unsigned</span> ResultReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">if</span> (!PPCEmitLoad(VT, ResultReg, Addr, 0, IsZExt))</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;}</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="comment">// Attempt to lower call arguments in a faster way than done by</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="comment">// the selection DAG code.</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="keywordtype">bool</span> PPCFastISel::FastLowerArguments() {</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="comment">// Defer to normal argument lowering for now.  It&#39;s reasonably</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="comment">// efficient.  Consider doing something like ARM to handle the</span></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="comment">// case where all args fit in registers, no varargs, no float</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="comment">// or vector args.</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;}</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">// Handle materializing integer constants into a register.  This is not</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment">// automatically generated for PowerPC, so must be explicitly created here.</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::FastEmit_i(<a class="code" href="classllvm_1_1MVT.html">MVT</a> Ty, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">unsigned</span> Opc, uint64_t Imm) {</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  </div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">if</span> (Opc != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">ISD::Constant</a>)</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">if</span> (VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">MVT::i32</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">MVT::i16</a> &amp;&amp;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; VT != <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">MVT::i1</a>) </div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = ((VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>) ? &amp;PPC::G8RCRegClass :</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                                   &amp;PPC::GPRCRegClass);</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <span class="keywordflow">if</span> (VT == <a class="code" href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">MVT::i64</a>)</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordflow">return</span> PPCMaterialize64BitInt(Imm, RC);</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span> PPCMaterialize32BitInt(Imm, RC);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;}</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="comment">// Override for ADDI and ADDI8 to set the correct register class</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="comment">// on RHS operand 0.  The automatic infrastructure naively assumes</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="comment">// GPRC for i32 and G8RC for i64; the concept of &quot;no R0&quot; is lost</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<span class="comment">// for these cases.  At the moment, none of the other automatically</span></div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="comment">// generated RI instructions require special treatment.  However, once</span></div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="comment">// SelectSelect is implemented, &quot;isel&quot; requires similar handling.</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment">// Also be conservative about the output register class.  Avoid</span></div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">// assigning R0 or X0 to the output register for GPRC and G8RC</span></div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">// register classes, as any such result could be used in ADDI, etc.,</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="comment">// where those regs have another meaning.</span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::FastEmitInst_ri(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                                      <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill,</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                                      uint64_t Imm) {</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">if</span> (MachineInstOpcode == PPC::ADDI)</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(Op0, &amp;PPC::GPRC_and_GPRC_NOR0RegClass);</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MachineInstOpcode == PPC::ADDI8)</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>.setRegClass(Op0, &amp;PPC::G8RC_and_G8RC_NOX0RegClass);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *UseRC =</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    (RC == &amp;PPC::GPRCRegClass ? &amp;PPC::GPRC_and_GPRC_NOR0RegClass :</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;     (RC == &amp;PPC::G8RCRegClass ? &amp;PPC::G8RC_and_G8RC_NOX0RegClass : RC));</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FastISel.html#a624fea735460da076eaf8416a5f0db44">FastISel::FastEmitInst_ri</a>(MachineInstOpcode, UseRC,</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                                   Op0, Op0IsKill, Imm);</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="comment">// Override for instructions with one register operand to avoid use of</span></div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="comment">// R0/X0.  The automatic infrastructure isn&#39;t aware of the context so</span></div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="comment">// we must be conservative.</span></div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::FastEmitInst_r(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>* RC,</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                                     <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill) {</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *UseRC =</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    (RC == &amp;PPC::GPRCRegClass ? &amp;PPC::GPRC_and_GPRC_NOR0RegClass :</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;     (RC == &amp;PPC::G8RCRegClass ? &amp;PPC::G8RC_and_G8RC_NOX0RegClass : RC));</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FastISel.html#a4d090922717668225883362709a74a28">FastISel::FastEmitInst_r</a>(MachineInstOpcode, UseRC, Op0, Op0IsKill);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;}</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">// Override for instructions with two register operands to avoid use</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">// of R0/X0.  The automatic infrastructure isn&#39;t aware of the context</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment">// so we must be conservative.</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="keywordtype">unsigned</span> PPCFastISel::FastEmitInst_rr(<span class="keywordtype">unsigned</span> MachineInstOpcode,</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a>* RC,</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                                      <span class="keywordtype">unsigned</span> Op0, <span class="keywordtype">bool</span> Op0IsKill,</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                                      <span class="keywordtype">unsigned</span> Op1, <span class="keywordtype">bool</span> Op1IsKill) {</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *UseRC =</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    (RC == &amp;PPC::GPRCRegClass ? &amp;PPC::GPRC_and_GPRC_NOR0RegClass :</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;     (RC == &amp;PPC::G8RCRegClass ? &amp;PPC::G8RC_and_G8RC_NOX0RegClass : RC));</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FastISel.html#afd12ac9b81152cb78551d6fa79fc426f">FastISel::FastEmitInst_rr</a>(MachineInstOpcode, UseRC, Op0, Op0IsKill,</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                                   Op1, Op1IsKill);</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="comment">// Create the fast instruction selector for PowerPC64 ELF.</span></div><div class="line"><a name="l02225"></a><span class="lineno"><a class="line" href="namespacellvm_1_1PPC.html#a2cd7fb94f62f409bc4faf2a20e0904eb"> 2225</a></span>&#160;  <a class="code" href="classllvm_1_1FastISel.html">FastISel</a> *<a class="code" href="namespacellvm_1_1PPC.html#a2cd7fb94f62f409bc4faf2a20e0904eb">PPC::createFastISel</a>(<a class="code" href="classllvm_1_1FunctionLoweringInfo.html">FunctionLoweringInfo</a> &amp;FuncInfo,</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *LibInfo) {</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a> = FuncInfo.<a class="code" href="classllvm_1_1FunctionLoweringInfo.html#ac9287d39f216ac61b351d95a4f7e3df3">MF</a>-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>();</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="comment">// Only available on 64-bit ELF for now.</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> *Subtarget = &amp;TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a>&gt;();</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() &amp;&amp; Subtarget-&gt;<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>())</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">new</span> PPCFastISel(FuncInfo, LibInfo);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  }</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;}</div><div class="ttc" id="namespacellvm_html_a9bf6430c1a0cf078ee3f9f520fa407f0"><div class="ttname"><a href="namespacellvm.html#a9bf6430c1a0cf078ee3f9f520fa407f0">llvm::isInt&lt; 32 &gt;</a></div><div class="ttdeci">bool isInt&lt; 32 &gt;(int64_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00276">MathExtras.h:276</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02279">Instructions.h:2279</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a6917dcd78ac6655e9640ac3a96175e39"><div class="ttname"><a href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">llvm::CallInst::getCalledValue</a></div><div class="ttdeci">const Value * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01363">Instructions.h:1363</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a34218a663a02de9dc2d26a5639f58ebe"><div class="ttname"><a href="classllvm_1_1CCState.html#a34218a663a02de9dc2d26a5639f58ebe">llvm::CCState::AnalyzeCallResult</a></div><div class="ttdeci">void AnalyzeCallResult(const SmallVectorImpl&lt; ISD::InputArg &gt; &amp;Ins, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00155">CallingConvLower.cpp:155</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8df"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8df">llvm::CodeModel::Model</a></div><div class="ttdeci">Model</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdoc">The memory access reads data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00093">MachineMemOperand.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html_aa9576aea404b156a949122affc839777"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html#aa9576aea404b156a949122affc839777">llvm::generic_gep_type_iterator::getIndexedType</a></div><div class="ttdeci">Type * getIndexedType() const </div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00057">GetElementPtrTypeIterator.h:57</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a8cd4d49277068c1eab8d4d7c4835b817">llvm::PPC::PRED_GT</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00032">PPCPredicates.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac962b1af600c2e418625a5fecc5e0f95"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac962b1af600c2e418625a5fecc5e0f95">llvm::TargetMachine::getTargetLowering</a></div><div class="ttdeci">virtual const TargetLowering * getTargetLowering() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00121">Target/TargetMachine.h:121</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a2cd7fb94f62f409bc4faf2a20e0904eb"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a2cd7fb94f62f409bc4faf2a20e0904eb">llvm::PPC::createFastISel</a></div><div class="ttdeci">FastISel * createFastISel(FunctionLoweringInfo &amp;FuncInfo, const TargetLibraryInfo *LibInfo)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFastISel_8cpp_source.html#l02225">PPCFastISel.cpp:2225</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdoc">The memory access writes data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00095">MachineMemOperand.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae603fba6e8709cb50d43f38c4305e46b"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae603fba6e8709cb50d43f38c4305e46b">llvm::CCValAssign::getValVT</a></div><div class="ttdeci">MVT getValVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00115">CallingConvLower.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00031">SparcInstrInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca97f56253625b3fe7b371ce76722de4b8">llvm::MVT::i64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00047">ValueTypes.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7dc983ebf0eb2d255fa90a67063c72e2"><div class="ttname"><a href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Get zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01306">APInt.h:1306</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a88c7793fdfe5003a35e5cac9a3527eb9">llvm::PPCISD::FCTIWUZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00052">PPCISelLowering.h:52</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ac89b6a30c033abb18a7e81f48b0e3593">llvm::PPC::PRED_LE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00029">PPCPredicates.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea133970930e56cfea2076c22632b4ba0f">llvm::Attribute::SExt</a></div><div class="ttdoc">Sign extended before/after call. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00097">Attributes.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a8c820cdb37337e8b0bd55e0fcd39dd18"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a8c820cdb37337e8b0bd55e0fcd39dd18">llvm::CCValAssign::getLocInfo</a></div><div class="ttdeci">LocInfo getLocInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00126">CallingConvLower.h:126</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfaa2554ef60dc191c6005ba9eecbc9aea0">llvm::CodeModel::Small</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea18a67e2dc57e09f1afe6308b5bf9d4b2">llvm::Attribute::InReg</a></div><div class="ttdoc">Force argument to be passed in register. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00076">Attributes.h:76</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a13ce8cb4c50c5b3505915467e14ad95a"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">llvm::CallSiteBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00145">CallSite.h:145</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00108">User.h:108</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea26003dadfa771bce07fe0d9b38c51437">llvm::Attribute::Nest</a></div><div class="ttdoc">Nested function static chain. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00079">Attributes.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="namespacellvm_html_aa555cd3eb8141809d16bcfc45ccc3715"><div class="ttname"><a href="namespacellvm.html#aa555cd3eb8141809d16bcfc45ccc3715">llvm::CCAssignFn</a></div><div class="ttdeci">bool CCAssignFn(unsigned ValNo, MVT ValVT, MVT LocVT, CCValAssign::LocInfo LocInfo, ISD::ArgFlagsTy ArgFlags, CCState &amp;State)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00135">CallingConvLower.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdoc">unsigned less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00677">InstrTypes.h:677</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdoc">unsigned less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00676">InstrTypes.h:676</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00032">MachineInstrBuilder.h:32</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">llvm::CmpInst::FCMP_OLT</a></div><div class="ttdoc">0 1 0 0 True if ordered and less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00657">InstrTypes.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a423166b2b5d1010162dde0003e5ad09c"><div class="ttname"><a href="classllvm_1_1MVT.html#a423166b2b5d1010162dde0003e5ad09c">llvm::MVT::getSizeInBits</a></div><div class="ttdeci">unsigned getSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00359">ValueTypes.h:359</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_af4399141c23e944cc1f75390c3cbd959"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">llvm::GlobalValue::hasAvailableExternallyLinkage</a></div><div class="ttdeci">bool hasAvailableExternallyLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="FunctionLoweringInfo_8h_html"><div class="ttname"><a href="FunctionLoweringInfo_8h.html">FunctionLoweringInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad601460c9371d0f0ada5ae006bdba2bd">llvm::CmpInst::FCMP_UNE</a></div><div class="ttdoc">1 1 1 0 True if unordered or not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00667">InstrTypes.h:667</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_ad1571b146a4aa1122e800fccd6a180cd"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#ad1571b146a4aa1122e800fccd6a180cd">llvm::TargetRegisterClass::hasSuperClassEq</a></div><div class="ttdeci">bool hasSuperClassEq(const TargetRegisterClass *RC) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00144">TargetRegisterInfo.h:144</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a0f94adbbe71c94edaa533a25973bbffc">llvm::CCValAssign::BCvt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00038">CallingConvLower.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html_a624fea735460da076eaf8416a5f0db44"><div class="ttname"><a href="classllvm_1_1FastISel.html#a624fea735460da076eaf8416a5f0db44">llvm::FastISel::FastEmitInst_ri</a></div><div class="ttdeci">unsigned FastEmitInst_ri(unsigned MachineInstOpcode, const TargetRegisterClass *RC, unsigned Op0, bool Op0IsKill, uint64_t Imm)</div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8cpp_source.html#l01280">FastISel.cpp:1280</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_aa08f2339c536714c3cef4e56cb0f33b2"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#aa08f2339c536714c3cef4e56cb0f33b2">llvm::MachinePointerInfo::getConstantPool</a></div><div class="ttdeci">static MachinePointerInfo getConstantPool()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00398">MachineInstr.cpp:398</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">llvm::TargetOpcode::COPY</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00086">TargetOpcodes.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a96511fb80d3f05f6f95530002bd4b6a8"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a96511fb80d3f05f6f95530002bd4b6a8">llvm::CCValAssign::getValNo</a></div><div class="ttdeci">unsigned getValNo() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00114">CallingConvLower.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca1d771d459e76b34e6839ac241b4be616"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca1d771d459e76b34e6839ac241b4be616">llvm::MVT::isVoid</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00120">ValueTypes.h:120</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_afcfd7d2322b397d0d55a4595dea52e3c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#afcfd7d2322b397d0d55a4595dea52e3c">llvm::CCValAssign::isRegLoc</a></div><div class="ttdeci">bool isRegLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00117">CallingConvLower.h:117</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_acb492206d94d8f8179f797d4c7966ba9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(int FI, int64_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00404">MachineInstr.cpp:404</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00031">Optional.h:31</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a919643b83ce3c9af2e4296ed5e413a1f">llvm::CmpInst::FCMP_UEQ</a></div><div class="ttdoc">1 0 0 1 True if unordered or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00662">InstrTypes.h:662</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html"><div class="ttname"><a href="classllvm_1_1StructLayout.html">llvm::StructLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00418">DataLayout.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05af0159e4005258dc54f20b6fc227d19ed">llvm::CmpInst::FCMP_UNO</a></div><div class="ttdoc">1 0 0 0 True if unordered: isnan(X) | isnan(Y) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00661">InstrTypes.h:661</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a44abec85091b571da2189ac4bd139095">llvm::PPC::PRED_GE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00031">PPCPredicates.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a2506accca38107a6d25064c7c5c058fd"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a2506accca38107a6d25064c7c5c058fd">llvm::GlobalValue::hasCommonLinkage</a></div><div class="ttdeci">bool hasCommonLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00215">GlobalValue.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca85440bbdbba12de574c02e515444d3f4">llvm::MVT::i1</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00043">ValueTypes.h:43</a></div></div>
<div class="ttc" id="MachineConstantPool_8h_html"><div class="ttname"><a href="MachineConstantPool_8h.html">MachineConstantPool.h</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a8b73d77b9e54663c2e80a48d0917dce1">llvm::CCValAssign::Full</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00034">CallingConvLower.h:34</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_ab475a5d7e2ef20e13658adefb8c1be13"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ab475a5d7e2ef20e13658adefb8c1be13">llvm::GlobalVariable::isThreadLocal</a></div><div class="ttdeci">bool isThreadLocal() const </div><div class="ttdoc">If the value is &quot;Thread Local&quot;, its value isn&amp;#39;t shared by the threads. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00159">GlobalVariable.h:159</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a9835cfe02fb5027680bd7203b024f77a">llvm::CmpInst::FCMP_OLE</a></div><div class="ttdoc">0 1 0 1 True if ordered and less than or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00658">InstrTypes.h:658</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00161">ValueTypes.h:161</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l01695">TargetLowering.h:1695</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ead3b3c621bae2f478e73839979b52536a">llvm::Attribute::StructRet</a></div><div class="ttdoc">Hidden pointer to structure to return. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00105">Attributes.h:105</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ad32233180a0499e8a9d72b83c5098d0a"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad32233180a0499e8a9d72b83c5098d0a">llvm::TargetOpcode::COPY_TO_REGCLASS</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00066">TargetOpcodes.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45acc07b91f72979f3e9b12c2e0c355db46">llvm::CCValAssign::AExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00037">CallingConvLower.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a5cb182c203efa2f1fc4797fb76b15daf"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a5cb182c203efa2f1fc4797fb76b15daf">llvm::CCValAssign::getLocReg</a></div><div class="ttdeci">unsigned getLocReg() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00122">CallingConvLower.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html"><div class="ttname"><a href="classllvm_1_1FastISel.html">llvm::FastISel</a></div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8h_source.html#l00047">FastISel.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00790">Constants.h:790</a></div></div>
<div class="ttc" id="PPC_8h_html"><div class="ttname"><a href="PPC_8h.html">PPC.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a043df81d8fc961c94e42fc8fa2c71331">llvm::PPCISD::FCTIDUZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00052">PPCISelLowering.h:52</a></div></div>
<div class="ttc" id="CallingConvLower_8h_html"><div class="ttname"><a href="CallingConvLower_8h.html">CallingConvLower.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00506">Target/README.txt:506</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7d46bc38a9f3de58adde307de9c5e892">llvm::PPCISD::FCFID</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00039">PPCISelLowering.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCII_html_ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4"><div class="ttname"><a href="namespacellvm_1_1PPCII.html#ae73836094d8b0399ba10a6e540a363ffad512bc138c5c6766b7ee4f66e43d47b4">llvm::PPCII::MO_TOC_LO</a></div><div class="ttdef"><b>Definition:</b> <a href="PPC_8h_source.html#l00088">PPC.h:88</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a9d5e89b5f086590d776028ee2f095453"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a9d5e89b5f086590d776028ee2f095453">llvm::ISD::ArgFlagsTy::setZExt</a></div><div class="ttdeci">void setZExt()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00057">TargetCallingConv.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1Optional_html_ac2715cb9db335f2afd360e6b5c11e480"><div class="ttname"><a href="classllvm_1_1Optional.html#ac2715cb9db335f2afd360e6b5c11e480">llvm::Optional::getValue</a></div><div class="ttdeci">const T &amp; getValue() const LLVM_LVALUE_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00115">Optional.h:115</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdoc">Simple integer binary arithmetic operators. </div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00176">ISDOpcodes.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ac651192f7bb4de8e675b000f406d6489"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">llvm::CallSiteBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00170">CallSite.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a74e70ecbb79defbbfa6f6c87f76155bf"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02406">Instructions.h:2406</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca04cca8bc12888d0a7238f55a6c550ad0">llvm::MVT::i32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00046">ValueTypes.h:46</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355ad9add708b3d9680d64242cf06f448462">llvm::PPC::PRED_NE</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00033">PPCPredicates.h:33</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a34be5288a1bb24e5120358395f7f0dc3">llvm::PPC::PRED_EQ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00030">PPCPredicates.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eab3c7dc42b72fed5fbed71591604203a9">llvm::Attribute::ByVal</a></div><div class="ttdoc">Pass structure by value. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00073">Attributes.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a1abce20a9eff3d23ce05331962b1997c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">llvm::CallSiteBase::getCalledValue</a></div><div class="ttdeci">ValTy * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00085">CallSite.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_ab578211fc94e49ec6628ec6023f4be09"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#ab578211fc94e49ec6628ec6023f4be09">llvm::ISD::ArgFlagsTy::setOrigAlign</a></div><div class="ttdeci">void setOrigAlign(unsigned A)</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00093">TargetCallingConv.h:93</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a480a6977d64df14b9af6821de3f520b9">llvm::PPCISD::LFIWZX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00273">PPCISelLowering.h:273</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionLoweringInfo_html_aa6af88ef964b6f03824a35fa0081efa9"><div class="ttname"><a href="classllvm_1_1FunctionLoweringInfo.html#aa6af88ef964b6f03824a35fa0081efa9">llvm::FunctionLoweringInfo::Fn</a></div><div class="ttdeci">const Function * Fn</div><div class="ttdef"><b>Definition:</b> <a href="FunctionLoweringInfo_8h_source.html#l00054">FunctionLoweringInfo.h:54</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aa52f8d0b1001830d27a193285d4a7090">llvm::PPCISD::FCFIDUS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1StructLayout_html_ae10c4483372a357a0d3411b3d64be10c"><div class="ttname"><a href="classllvm_1_1StructLayout.html#ae10c4483372a357a0d3411b3d64be10c">llvm::StructLayout::getElementOffset</a></div><div class="ttdeci">uint64_t getElementOffset(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00442">DataLayout.h:442</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a9c293af587813d72fdc976697dd07f23"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">llvm::CallSiteBase&lt;&gt;::arg_iterator</a></div><div class="ttdeci">User::const_op_iterator arg_iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00133">CallSite.h:133</a></div></div>
<div class="ttc" id="namespacellvm_html_ae9a577ed38a1ba3a31fa03fb25d369ad"><div class="ttname"><a href="namespacellvm.html#ae9a577ed38a1ba3a31fa03fb25d369ad">llvm::GetReturnInfo</a></div><div class="ttdeci">void GetReturnInfo(Type *ReturnType, AttributeSet attr, SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, const TargetLowering &amp;TLI)</div><div class="ttdef"><b>Definition:</b> <a href="TargetLoweringBase_8cpp_source.html#l01183">TargetLoweringBase.cpp:1183</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html_a4d090922717668225883362709a74a28"><div class="ttname"><a href="classllvm_1_1FastISel.html#a4d090922717668225883362709a74a28">llvm::FastISel::FastEmitInst_r</a></div><div class="ttdeci">unsigned FastEmitInst_r(unsigned MachineInstOpcode, const TargetRegisterClass *RC, unsigned Op0, bool Op0IsKill)</div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8cpp_source.html#l01216">FastISel.cpp:1216</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00042">ValueTypes.h:42</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1a144f7e8227378979bf13646688174ed9">llvm::HexagonISD::Lo</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfa0d000f41ac8c16668780c25c3982f92e"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa0d000f41ac8c16668780c25c3982f92e">llvm::CodeModel::JITDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00033">ValueTypes.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a7fd25972cdb14499949c7726499e0cb6">llvm::CCValAssign::SExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00035">CallingConvLower.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_ae59804b87136d0ddf452a25b025b768c"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#ae59804b87136d0ddf452a25b025b768c">llvm::CCValAssign::getLocVT</a></div><div class="ttdeci">MVT getLocVT() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00124">CallingConvLower.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_ac07ebfa86b4d5bf5386e1ac07d62b2bd"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ac07ebfa86b4d5bf5386e1ac07d62b2bd">llvm::MCRegisterInfo::getRegClass</a></div><div class="ttdeci">const MCRegisterClass &amp; getRegClass(unsigned i) const </div><div class="ttdoc">Returns the register class associated with the enumeration value. See class MCOperandInfo. </div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00399">MCRegisterInfo.h:399</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a597c918a615f26a0cea7adb84f06fc3f"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">llvm::AllocaInst::getType</a></div><div class="ttdeci">PointerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00091">Instructions.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afa328609e9c6183e2bc34afe59b84d1d"><div class="ttname"><a href="classllvm_1_1MVT.html#afa328609e9c6183e2bc34afe59b84d1d">llvm::MVT::isVector</a></div><div class="ttdeci">bool isVector() const </div><div class="ttdoc">isVector - Return true if this is a vector value type. </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00190">ValueTypes.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7189a37206963029447c31d57771b997"><div class="ttname"><a href="classllvm_1_1APInt.html#a7189a37206963029447c31d57771b997">llvm::APInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Get sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01318">APInt.h:1318</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1IndirectBrInst_html"><div class="ttname"><a href="classllvm_1_1IndirectBrInst.html">llvm::IndirectBrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02743">Instructions.h:2743</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01845">APInt.h:1845</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexagonISD_html_aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303"><div class="ttname"><a href="namespacellvm_1_1HexagonISD.html#aa640667f875feccdb3cc643baff441f1ab53c716337bbeea9ba39b5fa32d60303">llvm::HexagonISD::Hi</a></div><div class="ttdef"><b>Definition:</b> <a href="HexagonISelLowering_8h_source.html#l00043">HexagonISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html">llvm::ISD::ArgFlagsTy</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00024">TargetCallingConv.h:24</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00651">InstrTypes.h:651</a></div></div>
<div class="ttc" id="PPCTargetMachine_8h_html"><div class="ttname"><a href="PPCTargetMachine_8h.html">PPCTargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1FastISel_html_afd12ac9b81152cb78551d6fa79fc426f"><div class="ttname"><a href="classllvm_1_1FastISel.html#afd12ac9b81152cb78551d6fa79fc426f">llvm::FastISel::FastEmitInst_rr</a></div><div class="ttdeci">unsigned FastEmitInst_rr(unsigned MachineInstOpcode, const TargetRegisterClass *RC, unsigned Op0, bool Op0IsKill, unsigned Op1, bool Op1IsKill)</div><div class="ttdef"><b>Definition:</b> <a href="FastISel_8cpp_source.html#l01235">FastISel.cpp:1235</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">llvm::Attribute::ZExt</a></div><div class="ttdoc">Zero extended before/after call. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00110">Attributes.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa3213b645e029aba8bb1b85213607d5e">llvm::CmpInst::FCMP_ORD</a></div><div class="ttdoc">0 1 1 1 True if ordered (no nans) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00660">InstrTypes.h:660</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Integer representation type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00037">DerivedTypes.h:37</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a89f893823745c8d91bb4d7d83e247cb6">llvm::PPC::PRED_UN</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00034">PPCPredicates.h:34</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5">llvm::CmpInst::FCMP_TRUE</a></div><div class="ttdoc">1 1 1 1 Always true (always folded) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00668">InstrTypes.h:668</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00576">ValueTypes.h:576</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a8661f92aca492f74a6045081c073a0c9"><div class="ttname"><a href="classllvm_1_1CCState.html#a8661f92aca492f74a6045081c073a0c9">llvm::CCState::getNextStackOffset</a></div><div class="ttdeci">unsigned getNextStackOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00235">CallingConvLower.h:235</a></div></div>
<div class="ttc" id="ThreadSanitizer_8cpp_html_accbf04314e7caef9ac81d62928dda8b8"><div class="ttname"><a href="ThreadSanitizer_8cpp.html#accbf04314e7caef9ac81d62928dda8b8">isAtomic</a></div><div class="ttdeci">static bool isAtomic(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadSanitizer_8cpp_source.html#l00308">ThreadSanitizer.cpp:308</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a46cd6e935d7b9cc679d9cb0cf025ae91">llvm::PPC::PRED_LT</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00028">PPCPredicates.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ad3563d2997bf4ab88c11c3ba13dc4a3e"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">llvm::PPCSubtarget::isSVR4ABI</a></div><div class="ttdeci">bool isSVR4ABI() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00209">PPCSubtarget.h:209</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">llvm::CmpInst::FCMP_ULE</a></div><div class="ttdoc">1 1 0 1 True if unordered, less than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00666">InstrTypes.h:666</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdoc">signed greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00678">InstrTypes.h:678</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a427a4a8ed515ac694e98e26cac32b9f8"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a427a4a8ed515ac694e98e26cac32b9f8">llvm::CCValAssign::needsCustom</a></div><div class="ttdeci">bool needsCustom() const </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00120">CallingConvLower.h:120</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66af19177e57893484cb79f34527b5cd7f8">llvm::PPCISD::LFIWAX</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00268">PPCISelLowering.h:268</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdoc">0 0 1 0 True if ordered and greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00655">InstrTypes.h:655</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac13d0f6f2c915757013b101ef6e8afbc"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">llvm::TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">Target/TargetMachine.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html"><div class="ttname"><a href="classllvm_1_1CCState.html">llvm::CCState</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00154">CallingConvLower.h:154</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a5af2fed99951774b6a14d30ec6e73792"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">llvm::TargetMachine::getSubtarget</a></div><div class="ttdeci">const STC &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00132">Target/TargetMachine.h:132</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a7415ab9f2172c59a2ee7c7a02afa56a4">llvm::ISD::OR</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00295">ISDOpcodes.h:295</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a75016d5872d90adf89cc1cbf5763f474">llvm::CmpInst::FCMP_ULT</a></div><div class="ttdoc">1 1 0 0 True if unordered or less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00665">InstrTypes.h:665</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html">llvm::PPCSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00060">PPCSubtarget.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50ca586bae91020e6d8cccfe0995f527606f">llvm::MVT::f32</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00054">ValueTypes.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html"><div class="ttname"><a href="classllvm_1_1CCValAssign.html">llvm::CCValAssign</a></div><div class="ttdoc">CCValAssign - Represent assignment of one arg/retval to a location. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00031">CallingConvLower.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355">llvm::PPC::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdoc">Predicate - These are &quot;(BI &lt;&lt; 5) | BO&quot; for various predicates. </div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00027">PPCPredicates.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdoc">signed less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00680">InstrTypes.h:680</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionLoweringInfo_html_ac9287d39f216ac61b351d95a4f7e3df3"><div class="ttname"><a href="classllvm_1_1FunctionLoweringInfo.html#ac9287d39f216ac61b351d95a4f7e3df3">llvm::FunctionLoweringInfo::MF</a></div><div class="ttdeci">MachineFunction * MF</div><div class="ttdef"><b>Definition:</b> <a href="FunctionLoweringInfo_8h_source.html#l00055">FunctionLoweringInfo.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad736fb9b585509388546c12617def38f"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">llvm::ConstantInt::getSigned</a></div><div class="ttdeci">static ConstantInt * getSigned(IntegerType *Ty, int64_t V)</div><div class="ttdoc">Get a ConstantInt for a specific signed value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00507">Constants.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50caf777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00044">ValueTypes.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a626648c4c0b3a79d0128473f3b72b88d"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00104">MachineInstrBuilder.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1CCValAssign_html_a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2"><div class="ttname"><a href="classllvm_1_1CCValAssign.html#a2b78fd53da0b5df7bc4eacf7df556a45a807a4e133d7f743724d809a3f3875aa2">llvm::CCValAssign::ZExt</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00036">CallingConvLower.h:36</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">llvm::A64DB::LD</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00177">AArch64BaseInfo.h:177</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdoc">signed less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00681">InstrTypes.h:681</a></div></div>
<div class="ttc" id="GlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_abe67953ec410f1bbfe499c7a50b2dc8b"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">llvm::PPCSubtarget::isPPC64</a></div><div class="ttdeci">bool isPPC64() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00154">PPCSubtarget.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a0d94a4e78681b58ae3b2dbbd0627a847"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a0d94a4e78681b58ae3b2dbbd0627a847">llvm::GlobalVariable::hasInitializer</a></div><div class="ttdeci">bool hasInitializer() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00089">GlobalVariable.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="FastISel_8h_html"><div class="ttname"><a href="FastISel_8h.html">FastISel.h</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a919797ac95a1d84d08e4f43eedededa4"><div class="ttname"><a href="classllvm_1_1CCState.html#a919797ac95a1d84d08e4f43eedededa4">llvm::CCState::AnalyzeCallOperands</a></div><div class="ttdeci">void AnalyzeCallOperands(const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00118">CallingConvLower.cpp:118</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a14028f7fe73a11dabc6583510cc0a355a94061699653bc6df4c3809c7a4d44ac9">llvm::PPC::PRED_NU</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCPredicates_8h_source.html#l00035">PPCPredicates.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aec72fc7a6cc79a1ef53e5d5dbccb846c"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aec72fc7a6cc79a1ef53e5d5dbccb846c">llvm::MachineInstrBuilder::addGlobalAddress</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addGlobalAddress(const GlobalValue *GV, int64_t Offset=0, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00129">MachineInstrBuilder.h:129</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cac661c912350e3095c85ba75b8dbc17b1">llvm::MVT::f64</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00055">ValueTypes.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_a975319b2f772b89387ffea1b1ba1f049"><div class="ttname"><a href="namespacellvm_1_1PPC.html#a975319b2f772b89387ffea1b1ba1f049">llvm::PPC::InvertPredicate</a></div><div class="ttdeci">Predicate InvertPredicate(Predicate Opcode)</div><div class="ttdoc">Invert the specified predicate. != -&gt; ==, &lt; -&gt; &gt;=. </div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02394">Instructions.h:2394</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdoc">unsigned greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00675">InstrTypes.h:675</a></div></div>
<div class="ttc" id="classllvm_1_1ImmutableCallSite_html"><div class="ttname"><a href="classllvm_1_1ImmutableCallSite.html">llvm::ImmutableCallSite</a></div><div class="ttdoc">ImmutableCallSite - establish a view to a call site for examination. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00318">CallSite.h:318</a></div></div>
<div class="ttc" id="PPCSubtarget_8h_html"><div class="ttname"><a href="PPCSubtarget_8h.html">PPCSubtarget.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ad59a931df03c79a2ea17009ee2a2f96b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad59a931df03c79a2ea17009ee2a2f96b">llvm::MachineInstrBuilder::addConstantPoolIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addConstantPoolIndex(unsigned Idx, int Offset=0, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00109">MachineInstrBuilder.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a384beeba0ba566bd452979f538197559"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00154">MachineInstrBuilder.h:154</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1CCState_html_a73b07a938dd8182363ba52719d38bf53"><div class="ttname"><a href="classllvm_1_1CCState.html#a73b07a938dd8182363ba52719d38bf53">llvm::CCState::AnalyzeReturn</a></div><div class="ttdeci">void AnalyzeReturn(const SmallVectorImpl&lt; ISD::OutputArg &gt; &amp;Outs, CCAssignFn Fn)</div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8cpp_source.html#l00100">CallingConvLower.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionLoweringInfo_html"><div class="ttname"><a href="classllvm_1_1FunctionLoweringInfo.html">llvm::FunctionLoweringInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="FunctionLoweringInfo_8h_source.html#l00051">FunctionLoweringInfo.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a5e07dea70b41ad610edbfc21bd54154a"><div class="ttname"><a href="classllvm_1_1CallInst.html#a5e07dea70b41ad610edbfc21bd54154a">llvm::CallInst::isTailCall</a></div><div class="ttdeci">bool isTailCall() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01230">Instructions.h:1230</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a8a80b27ca29fe2076b9bbdee02c65464">llvm::CmpInst::FCMP_ONE</a></div><div class="ttdoc">0 1 1 0 True if ordered and operands are unequal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00659">InstrTypes.h:659</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a3a207eed0331b875c6a9b6dbaf5c4af3"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a3a207eed0331b875c6a9b6dbaf5c4af3">llvm::CallSiteBase::paramHasAttr</a></div><div class="ttdeci">bool paramHasAttr(unsigned i, Attribute::AttrKind A) const </div><div class="ttdoc">Return true if the call or the callee has the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00192">CallSite.h:192</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a79156c141fbb0faadd358c767b906b">llvm::PPCISD::FCTIDZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00048">PPCISelLowering.h:48</a></div></div>
<div class="ttc" id="PPCPredicates_8h_html"><div class="ttname"><a href="PPCPredicates_8h.html">PPCPredicates.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3b9662928ee4d58fef185abfe20e8184"><div class="ttname"><a href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">llvm::isInt&lt; 16 &gt;</a></div><div class="ttdeci">bool isInt&lt; 16 &gt;(int64_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00272">MathExtras.h:272</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a959268ceeae23abe5c9ad9e895669d0c">llvm::CmpInst::FCMP_UGT</a></div><div class="ttdoc">1 0 1 0 True if unordered or greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00663">InstrTypes.h:663</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2a6e33357fd46c15294432ab65adecec">llvm::PPCISD::FCTIWZ</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00048">PPCISelLowering.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdoc">equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="structllvm_1_1EVT_html_ac6f053514ba29bdf3b7f051f643dabe5"><div class="ttname"><a href="structllvm_1_1EVT.html#ac6f053514ba29bdf3b7f051f643dabe5">llvm::EVT::isSimple</a></div><div class="ttdeci">bool isSimple() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00640">ValueTypes.h:640</a></div></div>
<div class="ttc" id="classllvm_1_1MVT_html_afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#afd69b4f2dff97a2d7c0192cc769ef50cab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00045">ValueTypes.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a024db78a5ed74f64666f3ca4955e6eca">llvm::CmpInst::FCMP_OEQ</a></div><div class="ttdoc">0 0 0 1 True if ordered and equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00654">InstrTypes.h:654</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">llvm::CmpInst::FCMP_UGE</a></div><div class="ttdoc">1 0 1 1 True if unordered, greater than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00664">InstrTypes.h:664</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aa1ec82398ade62414be35d8431c0a33b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00098">MachineInstrBuilder.h:98</a></div></div>
<div class="ttc" id="namespacellvm_html_ad9b2b34494b2799c36a06ba60133bc11"><div class="ttname"><a href="namespacellvm.html#ad9b2b34494b2799c36a06ba60133bc11">llvm::isUInt&lt; 16 &gt;</a></div><div class="ttdeci">bool isUInt&lt; 16 &gt;(uint64_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00298">MathExtras.h:298</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a7e06dc9bf94c1b690b4379bec9d64962">llvm::PPCISD::FCFIDS</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdoc">unsigned greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00674">InstrTypes.h:674</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66aea46f7cc94ac666cf413d686484ce45d">llvm::PPCISD::FCFIDU</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00043">PPCISelLowering.h:43</a></div></div>
<div class="ttc" id="PPCISelLowering_8h_html"><div class="ttname"><a href="PPCISelLowering_8h.html">PPCISelLowering.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1SPII_html_a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a11e9b8fca4a074643a6a21f444e51406a36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="PPCFastISel_8cpp_html_a48bc0e84db509869188ba8853bd863cf"><div class="ttname"><a href="PPCFastISel_8cpp.html#a48bc0e84db509869188ba8853bd863cf">getComparePred</a></div><div class="ttdeci">static Optional&lt; PPC::Predicate &gt; getComparePred(CmpInst::Predicate Pred)</div><div class="ttdef"><b>Definition:</b> <a href="PPCFastISel_8cpp_source.html#l00204">PPCFastISel.cpp:204</a></div></div>
<div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a96727447c0ad447987df1c6415aef074">OR</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01587">X86ISelDAGToDAG.cpp:1587</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9b6c252221bd964b77e852b3c7ea31e2"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9b6c252221bd964b77e852b3c7ea31e2">llvm::MachineInstrBuilder::addRegMask</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addRegMask(const uint32_t *Mask) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00149">MachineInstrBuilder.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a097c2d42e4deffabe6d54b007ad83367"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a097c2d42e4deffabe6d54b007ad83367">llvm::ConstantInt::getSExtValue</a></div><div class="ttdeci">int64_t getSExtValue() const </div><div class="ttdoc">Return the sign extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00124">Constants.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a541533f34077bbbcfb703a90f6d2da9b">llvm::CmpInst::FCMP_OGE</a></div><div class="ttdoc">0 0 1 1 True if ordered and greater than or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00656">InstrTypes.h:656</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="Optional_8h_html"><div class="ttname"><a href="Optional_8h.html">Optional.h</a></div></div>
<div class="ttc" id="structllvm_1_1EVT_html_a5b45953b758fdfe88452530f7d8371bc"><div class="ttname"><a href="structllvm_1_1EVT.html#a5b45953b758fdfe88452530f7d8371bc">llvm::EVT::getSimpleVT</a></div><div class="ttdeci">MVT getSimpleVT() const </div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00749">ValueTypes.h:749</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d">llvm::CmpInst::FCMP_FALSE</a></div><div class="ttdoc">0 0 0 0 Always false (always folded) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00653">InstrTypes.h:653</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdoc">signed greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00679">InstrTypes.h:679</a></div></div>
<div class="ttc" id="structllvm_1_1ISD_1_1ArgFlagsTy_html_a1134ea0aa4c8b2d3e344d48dca3c4d44"><div class="ttname"><a href="structllvm_1_1ISD_1_1ArgFlagsTy.html#a1134ea0aa4c8b2d3e344d48dca3c4d44">llvm::ISD::ArgFlagsTy::setSExt</a></div><div class="ttdeci">void setSExt()</div><div class="ttdef"><b>Definition:</b> <a href="TargetCallingConv_8h_source.html#l00060">TargetCallingConv.h:60</a></div></div>
<div class="ttc" id="TargetLowering_8h_html"><div class="ttname"><a href="TargetLowering_8h.html">TargetLowering.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af5c7041df3ad5edffe5da17b5264c1fc"><div class="ttname"><a href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const </div><div class="ttdoc">isVoidTy - Return true if this is &amp;#39;void&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00061">ISDOpcodes.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeModel_html_afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c"><div class="ttname"><a href="namespacellvm_1_1CodeModel.html#afc59396a9e5809fc92938e203d91a8dfa5208f558fccf9f63423fb5385bb3e75c">llvm::CodeModel::Large</a></div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00030">CodeGen.h:30</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:45 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
