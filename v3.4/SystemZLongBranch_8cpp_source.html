<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: SystemZLongBranch.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('SystemZLongBranch_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SystemZLongBranch.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SystemZLongBranch_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- SystemZLongBranch.cpp - Branch lengthening for SystemZ ------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This pass makes sure that all branches are in range.  There are several ways</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// in which this could be done.  One aggressive approach is to assume that all</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// branches are in range and successively replace those that turn out not</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// to be in range with a longer form (branch relaxation).  A simple</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// implementation is to continually walk through the function relaxing</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// branches until no more changes are needed and a fixed point is reached.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// However, in the pathological worst case, this implementation is</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// quadratic in the number of blocks; relaxing branch N can make branch N-1</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// go out of range, which in turn can make branch N-2 go out of range,</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// and so on.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// An alternative approach is to assume that all branches must be</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// converted to their long forms, then reinstate the short forms of</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// branches that, even under this pessimistic assumption, turn out to be</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// in range (branch shortening).  This too can be implemented as a function</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// walk that is repeated until a fixed point is reached.  In general,</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// the result of shortening is not as good as that of relaxation, and</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// shortening is also quadratic in the worst case; shortening branch N</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// can bring branch N-1 in range of the short form, which in turn can do</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// the same for branch N-2, and so on.  The main advantage of shortening</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// is that each walk through the function produces valid code, so it is</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// possible to stop at any point after the first walk.  The quadraticness</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// could therefore be handled with a maximum pass count, although the</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// question then becomes: what maximum count should be used?</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// On SystemZ, long branches are only needed for functions bigger than 64k,</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// which are relatively rare to begin with, and the long branch sequences</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// are actually relatively cheap.  It therefore doesn&#39;t seem worth spending</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// much compilation time on the problem.  Instead, the approach we take is:</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// (1) Work out the address that each block would have if no branches</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//     need relaxing.  Exit the pass early if all branches are in range</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//     according to this assumption.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// (2) Work out the address that each block would have if all branches</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//     need relaxing.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// (3) Walk through the block calculating the final address of each instruction</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//     and relaxing those that need to be relaxed.  For backward branches,</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//     this check uses the final address of the target block, as calculated</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//     earlier in the walk.  For forward branches, this check uses the</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//     address of the target block that was calculated in (2).  Both checks</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//     give a conservatively-correct range.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="SystemZLongBranch_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   56</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;systemz-long-branch&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SystemZTargetMachine_8h.html">SystemZTargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/Target/TargetRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="SystemZLongBranch_8cpp.html#ac88d5fe377a5f4e0c2ed968d71e24c62">STATISTIC</a>(LongBranches, <span class="stringliteral">&quot;Number of long branches.&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// Represents positional information about a basic block.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keyword">struct </span>MBBInfo {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// The address that we currently assume the block has.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    uint64_t Address;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// The size of the block in bytes, excluding terminators.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// This value never changes.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    uint64_t Size;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// The minimum alignment of the block, as a log2 value.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// This value never changes.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">unsigned</span> Alignment;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// The number of terminators in this block.  This value never changes.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">unsigned</span> NumTerminators;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    MBBInfo()</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      : Address(0), Size(0), Alignment(0), NumTerminators(0) {} </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  };</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// Represents the state of a block terminator.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keyword">struct </span>TerminatorInfo {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// If this terminator is a relaxable branch, this points to the branch</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// instruction, otherwise it is null.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c">Branch</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// The address that we currently assume the terminator has.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    uint64_t Address;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// The current size of the terminator in bytes.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    uint64_t Size;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// If Branch is nonnull, this is the number of the target block,</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// otherwise it is unused.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">unsigned</span> TargetBlock;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// If Branch is nonnull, this is the length of the longest relaxed form,</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// otherwise it is zero.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">unsigned</span> ExtraRelaxSize;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    TerminatorInfo() : Branch(0), Size(0), TargetBlock(0), ExtraRelaxSize(0) {}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  };</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Used to keep track of the current position while iterating over the blocks.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">struct </span>BlockPosition {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// The address that we assume this position has.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    uint64_t Address;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// The number of low bits in Address that are known to be the same</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// as the runtime address.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">unsigned</span> KnownBits;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    BlockPosition(<span class="keywordtype">unsigned</span> InitialAlignment)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      : Address(0), KnownBits(InitialAlignment) {}</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  };</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">class </span>SystemZLongBranch : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    SystemZLongBranch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SystemZTargetMachine.html">SystemZTargetMachine</a> &amp;tm)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(ID), <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(0) {}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *getPassName()<span class="keyword"> const </span>{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SystemZ Long Branch&quot;</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">void</span> skipNonTerminators(BlockPosition &amp;Position, MBBInfo &amp;Block);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">void</span> skipTerminator(BlockPosition &amp;Position, TerminatorInfo &amp;<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                        <span class="keywordtype">bool</span> AssumeRelaxed);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    TerminatorInfo describeTerminator(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    uint64_t initMBBInfo();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">bool</span> mustRelaxBranch(<span class="keyword">const</span> TerminatorInfo &amp;<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>, uint64_t Address);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">bool</span> mustRelaxABranch();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">void</span> setWorstCaseAddresses();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">void</span> splitBranchOnCount(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> AddOpcode);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">void</span> splitCompareBranch(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> CompareOpcode);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">void</span> relaxBranch(TerminatorInfo &amp;<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">void</span> relaxBranches();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SystemZInstrInfo.html">SystemZInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MBBInfo, 16&gt;</a> MBBs;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;TerminatorInfo, 16&gt;</a> Terminators;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  };</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">SystemZLongBranch::ID</a> = 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keyword">const</span> uint64_t MaxBackwardRange = 0x10000;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">const</span> uint64_t MaxForwardRange = 0xfffe;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;} <span class="comment">// end of anonymous namespace</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1386c7aa34a87794c0ef236de2102991">  168</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html#a1386c7aa34a87794c0ef236de2102991">llvm::createSystemZLongBranchPass</a>(<a class="code" href="classllvm_1_1SystemZTargetMachine.html">SystemZTargetMachine</a> &amp;<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> SystemZLongBranch(TM);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">// Position describes the state immediately before Block.  Update Block</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// accordingly and move Position to the end of the block&#39;s non-terminator</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">// instructions.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::skipNonTerminators(BlockPosition &amp;Position,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                           MBBInfo &amp;Block) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (Block.Alignment &gt; Position.KnownBits) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// When calculating the address of Block, we need to conservatively</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// assume that Block had the worst possible misalignment.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    Position.Address += ((uint64_t(1) &lt;&lt; Block.Alignment) -</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                         (uint64_t(1) &lt;&lt; Position.KnownBits));</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    Position.KnownBits = Block.Alignment;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// Align the addresses.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  uint64_t AlignMask = (uint64_t(1) &lt;&lt; Block.Alignment) - 1;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  Position.Address = (Position.Address + AlignMask) &amp; ~AlignMask;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// Record the block&#39;s position.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  Block.Address = Position.Address;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// Move past the non-terminators in the block.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  Position.Address += Block.Size;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">// Position describes the state immediately before Terminator.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// Update Terminator accordingly and move Position past it.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">// Assume that Terminator will be relaxed if AssumeRelaxed.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::skipTerminator(BlockPosition &amp;Position,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                       TerminatorInfo &amp;<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                       <span class="keywordtype">bool</span> AssumeRelaxed) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  Terminator.Address = Position.Address;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  Position.Address += Terminator.Size;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (AssumeRelaxed)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    Position.Address += Terminator.ExtraRelaxSize;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// Return a description of terminator instruction MI.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;TerminatorInfo SystemZLongBranch::describeTerminator(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  TerminatorInfo <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  Terminator.Size = <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getInstSizeInBytes(MI);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac10061a745efce9c8562c4b27d320a53">isConditionalBranch</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a989b68242f110705db425f33da9463a0">isUnconditionalBranch</a>()) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">case</span> SystemZ::J:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="comment">// Relaxes to JG, which is 2 bytes longer.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      Terminator.ExtraRelaxSize = 2;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">case</span> SystemZ::BRC:</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// Relaxes to BRCL, which is 2 bytes longer.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      Terminator.ExtraRelaxSize = 2;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">case</span> SystemZ::BRCT:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">case</span> SystemZ::BRCTG:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="comment">// Relaxes to A(G)HI and BRCL, which is 6 bytes longer.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      Terminator.ExtraRelaxSize = 6;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">case</span> SystemZ::CRJ:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">case</span> SystemZ::CLRJ:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// Relaxes to a C(L)R/BRCL sequence, which is 2 bytes longer.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      Terminator.ExtraRelaxSize = 2;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">case</span> SystemZ::CGRJ:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">case</span> SystemZ::CLGRJ:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// Relaxes to a C(L)GR/BRCL sequence, which is 4 bytes longer.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      Terminator.ExtraRelaxSize = 4;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">case</span> SystemZ::CIJ:</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">case</span> SystemZ::CGIJ:</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">// Relaxes to a C(G)HI/BRCL sequence, which is 4 bytes longer.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      Terminator.ExtraRelaxSize = 4;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">case</span> SystemZ::CLIJ:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">case</span> SystemZ::CLGIJ:</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="comment">// Relaxes to a CL(G)FI/BRCL sequence, which is 6 bytes longer.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      Terminator.ExtraRelaxSize = 6;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unrecognized branch instruction&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    Terminator.Branch = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    Terminator.TargetBlock =</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getBranchInfo(MI).Target-&gt;getMBB()-&gt;getNumber();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">Terminator</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// Fill MBBs and Terminators, setting the addresses on the assumption</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// that no branches need relaxation.  Return the size of the function under</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// this assumption.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;uint64_t SystemZLongBranch::initMBBInfo() {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  MF-&gt;RenumberBlocks();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">unsigned</span> NumBlocks = MF-&gt;size();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  MBBs.clear();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  MBBs.resize(NumBlocks);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  Terminators.clear();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  Terminators.reserve(NumBlocks);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  BlockPosition Position(MF-&gt;getAlignment());</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumBlocks; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = MF-&gt;getBlockNumbered(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    MBBInfo &amp;Block = MBBs[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// Record the alignment, for quick access.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    Block.Alignment = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a87a4c8e9738e103f9ada8379941b6825">getAlignment</a>();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// Calculate the size of the fixed part of the block.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> End = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">while</span> (MI != End &amp;&amp; !MI-&gt;isTerminator()) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      Block.Size += <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;getInstSizeInBytes(MI);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    skipNonTerminators(Position, Block);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// Add the terminators.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">while</span> (MI != End) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span> (!MI-&gt;isDebugValue()) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        assert(MI-&gt;isTerminator() &amp;&amp; <span class="stringliteral">&quot;Terminator followed by non-terminator&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        Terminators.push_back(describeTerminator(MI));</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        skipTerminator(Position, Terminators.back(), <span class="keyword">false</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        ++Block.NumTerminators;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      ++<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> Position.Address;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// Return true if, under current assumptions, Terminator would need to be</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// relaxed if it were placed at address Address.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keywordtype">bool</span> SystemZLongBranch::mustRelaxBranch(<span class="keyword">const</span> TerminatorInfo &amp;Terminator,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                        uint64_t Address) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (!Terminator.Branch)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keyword">const</span> MBBInfo &amp;<a class="code" href="classllvm_1_1Target.html">Target</a> = MBBs[Terminator.TargetBlock];</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (Address &gt;= Target.Address) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (Address - Target.Address &lt;= MaxBackwardRange)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (Target.Address - Address &lt;= MaxForwardRange)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// Return true if, under current assumptions, any terminator needs</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// to be relaxed.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keywordtype">bool</span> SystemZLongBranch::mustRelaxABranch() {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;TerminatorInfo&gt;::iterator</a> TI = Terminators.begin(),</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         TE = Terminators.end(); TI != TE; ++TI)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (mustRelaxBranch(*TI, TI-&gt;Address))</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">// Set the address of each block on the assumption that all branches</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// must be long.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::setWorstCaseAddresses() {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="classT.html">SmallVector&lt;TerminatorInfo, 16&gt;::iterator</a> TI = Terminators.begin();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  BlockPosition Position(MF-&gt;getAlignment());</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;MBBInfo&gt;::iterator</a> BI = MBBs.begin(), BE = MBBs.end();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;       BI != BE; ++BI) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    skipNonTerminators(Position, *BI);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BTI = 0, BTE = BI-&gt;NumTerminators; BTI != BTE; ++BTI) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      skipTerminator(Position, *TI, <span class="keyword">true</span>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      ++TI;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">// Split BRANCH ON COUNT MI into the addition given by AddOpcode followed</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">// by a BRCL on the result.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::splitBranchOnCount(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                           <span class="keywordtype">unsigned</span> AddOpcode) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(AddOpcode))</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    .addOperand(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0))</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    .addOperand(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1))</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    .addImm(-1);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *BRCL = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(SystemZ::BRCL))</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    .addImm(<a class="code" href="namespacellvm_1_1SystemZ.html#a85e05170e3e584f721ea86c6b04edaba">SystemZ::CCMASK_ICMP</a>)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1SystemZ.html#ac3393456d140e6fdf882fb8020470559">SystemZ::CCMASK_CMP_NE</a>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2));</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// The implicit use of CC is a killing use.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  BRCL-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">addRegisterKilled</a>(<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">SystemZ::CC</a>, &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;<a class="code" href="classllvm_1_1HexagonInstrInfo.html#a768d8c24067887bc878ddedbf5ab701a">getRegisterInfo</a>());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// Split MI into the comparison given by CompareOpcode followed</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// a BRCL on the result.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::splitCompareBranch(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                           <span class="keywordtype">unsigned</span> CompareOpcode) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(CompareOpcode))</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    .addOperand(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0))</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    .addOperand(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *BRCL = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, MI, DL, <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(SystemZ::BRCL))</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    .addImm(<a class="code" href="namespacellvm_1_1SystemZ.html#a85e05170e3e584f721ea86c6b04edaba">SystemZ::CCMASK_ICMP</a>)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2))</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    .addOperand(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3));</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// The implicit use of CC is a killing use.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  BRCL-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">addRegisterKilled</a>(<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">SystemZ::CC</a>, &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;<a class="code" href="classllvm_1_1HexagonInstrInfo.html#a768d8c24067887bc878ddedbf5ab701a">getRegisterInfo</a>());</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">// Relax the branch described by Terminator.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::relaxBranch(TerminatorInfo &amp;Terminator) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c">Branch</a> = Terminator.Branch;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">switch</span> (Branch-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">case</span> SystemZ::J:</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    Branch-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(SystemZ::JG));</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">case</span> SystemZ::BRC:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    Branch-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>-&gt;get(SystemZ::BRCL));</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">case</span> SystemZ::BRCT:</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    splitBranchOnCount(Branch, SystemZ::AHI);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">case</span> SystemZ::BRCTG:</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    splitBranchOnCount(Branch, SystemZ::AGHI);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">case</span> SystemZ::CRJ:</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    splitCompareBranch(Branch, SystemZ::CR);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">case</span> SystemZ::CGRJ:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    splitCompareBranch(Branch, SystemZ::CGR);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">case</span> SystemZ::CIJ:</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    splitCompareBranch(Branch, SystemZ::CHI);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">case</span> SystemZ::CGIJ:</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    splitCompareBranch(Branch, SystemZ::CGHI);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">case</span> SystemZ::CLRJ:</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    splitCompareBranch(Branch, SystemZ::CLR);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">case</span> SystemZ::CLGRJ:</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    splitCompareBranch(Branch, SystemZ::CLGR);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">case</span> SystemZ::CLIJ:</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    splitCompareBranch(Branch, SystemZ::CLFI);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">case</span> SystemZ::CLGIJ:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    splitCompareBranch(Branch, SystemZ::CLGFI);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unrecognized branch&quot;</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  Terminator.Size += Terminator.ExtraRelaxSize;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  Terminator.ExtraRelaxSize = 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  Terminator.Branch = 0;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  ++LongBranches;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">// Run a shortening pass and relax any branches that need to be relaxed.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="keywordtype">void</span> SystemZLongBranch::relaxBranches() {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="classT.html">SmallVector&lt;TerminatorInfo, 16&gt;::iterator</a> TI = Terminators.begin();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  BlockPosition Position(MF-&gt;getAlignment());</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;MBBInfo&gt;::iterator</a> BI = MBBs.begin(), BE = MBBs.end();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;       BI != BE; ++BI) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    skipNonTerminators(Position, *BI);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BTI = 0, BTE = BI-&gt;NumTerminators; BTI != BTE; ++BTI) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      assert(Position.Address &lt;= TI-&gt;Address &amp;&amp;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;             <span class="stringliteral">&quot;Addresses shouldn&#39;t go forwards&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">if</span> (mustRelaxBranch(*TI, Position.Address))</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        relaxBranch(*TI);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      skipTerminator(Position, *TI, <span class="keyword">false</span>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      ++TI;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="keywordtype">bool</span> SystemZLongBranch::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1SystemZInstrInfo.html">SystemZInstrInfo</a> *<span class="keyword">&gt;</span>(F.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>());</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  MF = &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  uint64_t Size = initMBBInfo();</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (Size &lt;= MaxForwardRange || !mustRelaxABranch())</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  setWorstCaseAddresses();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  relaxBranches();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac10061a745efce9c8562c4b27d320a53"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac10061a745efce9c8562c4b27d320a53">llvm::MachineInstr::isConditionalBranch</a></div><div class="ttdeci">bool isConditionalBranch(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00388">MachineInstr.h:388</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZ_html_a85e05170e3e584f721ea86c6b04edaba"><div class="ttname"><a href="namespacellvm_1_1SystemZ.html#a85e05170e3e584f721ea86c6b04edaba">llvm::SystemZ::CCMASK_ICMP</a></div><div class="ttdeci">const unsigned CCMASK_ICMP</div><div class="ttdef"><b>Definition:</b> <a href="SystemZ_8h_source.html#l00047">SystemZ.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00032">MachineFunctionPass.h:32</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90baf121d798d2c14b32e81d537a1f0cff8d">llvm::MCID::Terminator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00107">MCInstrDesc.h:107</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c">llvm::MCID::Branch</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00108">MCInstrDesc.h:108</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1SystemZTargetMachine_html"><div class="ttname"><a href="classllvm_1_1SystemZTargetMachine.html">llvm::SystemZTargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZTargetMachine_8h_source.html#l00030">SystemZTargetMachine.h:30</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac13d0f6f2c915757013b101ef6e8afbc"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">llvm::TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">Target/TargetMachine.h:119</a></div></div>
<div class="ttc" id="SystemZLongBranch_8cpp_html_ac88d5fe377a5f4e0c2ed968d71e24c62"><div class="ttname"><a href="SystemZLongBranch_8cpp.html#ac88d5fe377a5f4e0c2ed968d71e24c62">STATISTIC</a></div><div class="ttdeci">STATISTIC(LongBranches,&quot;Number of long branches.&quot;)</div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1ecb35298bc4d1fe03997959e1210c87"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00984">MachineInstr.h:984</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZ_html_ac3393456d140e6fdf882fb8020470559"><div class="ttname"><a href="namespacellvm_1_1SystemZ.html#ac3393456d140e6fdf882fb8020470559">llvm::SystemZ::CCMASK_CMP_NE</a></div><div class="ttdeci">const unsigned CCMASK_CMP_NE</div><div class="ttdef"><b>Definition:</b> <a href="SystemZ_8h_source.html#l00038">SystemZ.h:38</a></div></div>
<div class="ttc" id="namespacellvm_html_a1386c7aa34a87794c0ef236de2102991"><div class="ttname"><a href="namespacellvm.html#a1386c7aa34a87794c0ef236de2102991">llvm::createSystemZLongBranchPass</a></div><div class="ttdeci">FunctionPass * createSystemZLongBranchPass(SystemZTargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="SystemZLongBranch_8cpp_source.html#l00168">SystemZLongBranch.cpp:168</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SystemZInstrInfo_html"><div class="ttname"><a href="classllvm_1_1SystemZInstrInfo.html">llvm::SystemZInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZInstrInfo_8h_source.html#l00113">SystemZInstrInfo.h:113</a></div></div>
<div class="ttc" id="TargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1HexagonInstrInfo_html_a768d8c24067887bc878ddedbf5ab701a"><div class="ttname"><a href="classllvm_1_1HexagonInstrInfo.html#a768d8c24067887bc878ddedbf5ab701a">llvm::HexagonInstrInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const HexagonRegisterInfo &amp; getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="HexagonInstrInfo_8h_source.html#l00041">HexagonInstrInfo.h:41</a></div></div>
<div class="ttc" id="MachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a34ab07c56acf0fe7f68a6da0d514bec7"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">llvm::MachineInstrBuilder::addOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addOperand(const MachineOperand &amp;MO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00166">MachineInstrBuilder.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab8fd10f439804d8d7872bc1389653fce"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">llvm::MachineInstr::addRegisterKilled</a></div><div class="ttdeci">bool addRegisterKilled(unsigned IncomingReg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01635">MachineInstr.cpp:1635</a></div></div>
<div class="ttc" id="SystemZTargetMachine_8h_html"><div class="ttname"><a href="SystemZTargetMachine_8h.html">SystemZTargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a989b68242f110705db425f33da9463a0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a989b68242f110705db425f33da9463a0">llvm::MachineInstr::isUnconditionalBranch</a></div><div class="ttdeci">bool isUnconditionalBranch(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00396">MachineInstr.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a87a4c8e9738e103f9ada8379941b6825"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a87a4c8e9738e103f9ada8379941b6825">llvm::MachineBasicBlock::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00322">MachineBasicBlock.h:322</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:02:46 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
