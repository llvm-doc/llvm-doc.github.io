<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: MCJIT.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MCJIT_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MCJIT.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MCJIT_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- MCJIT.cpp - MC-based Just-in-Time Compiler ------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2llvm_2ExecutionEngine_2MCJIT_8h.html">MCJIT.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GenericValue_8h.html">llvm/ExecutionEngine/GenericValue.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JITEventListener_8h.html">llvm/ExecutionEngine/JITEventListener.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="JITMemoryManager_8h.html">llvm/ExecutionEngine/JITMemoryManager.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2llvm_2ExecutionEngine_2MCJIT_8h.html">llvm/ExecutionEngine/MCJIT.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectBuffer_8h.html">llvm/ExecutionEngine/ObjectBuffer.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectImage_8h.html">llvm/ExecutionEngine/ObjectImage.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/PassManager.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SectionMemoryManager_8h.html">llvm/ExecutionEngine/SectionMemoryManager.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DynamicLibrary_8h.html">llvm/Support/DynamicLibrary.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MutexGuard_8h.html">llvm/Support/MutexGuard.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>RegisterJIT {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  RegisterJIT() { <a class="code" href="classllvm_1_1MCJIT.html#a97c441ad61800b9fe204a455ae36298d">MCJIT::Register</a>(); }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;} JITRegistrator;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group__LLVMCExecutionEngine.html#gaf1eab65125720bae634fafd85a8ec3cc">   39</a></span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> <a class="code" href="group__LLVMCExecutionEngine.html#gaf1eab65125720bae634fafd85a8ec3cc">LLVMLinkInMCJIT</a>() {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a20c7aa4e09f7357758f63b39c33bf026">   42</a></span>&#160;<a class="code" href="classllvm_1_1ExecutionEngine.html">ExecutionEngine</a> *<a class="code" href="classllvm_1_1MCJIT.html#a20c7aa4e09f7357758f63b39c33bf026">MCJIT::createJIT</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                  std::string *ErrorStr,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                  <a class="code" href="classllvm_1_1RTDyldMemoryManager.html">RTDyldMemoryManager</a> *MemMgr,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                  <span class="keywordtype">bool</span> GVsWithCode,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                  <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// Try to register the program as a source of symbols to resolve against.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// FIXME: Don&#39;t do this here.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classllvm_1_1sys_1_1DynamicLibrary.html#a18575725b7c13545198708dac576048b">sys::DynamicLibrary::LoadLibraryPermanently</a>(0, NULL);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1MCJIT.html">MCJIT</a>(M, TM, MemMgr ? MemMgr : <span class="keyword">new</span> <a class="code" href="classllvm_1_1SectionMemoryManager.html">SectionMemoryManager</a>(),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                   GVsWithCode);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;MCJIT::MCJIT(<a class="code" href="classllvm_1_1Module.html">Module</a> *m, <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *tm, <a class="code" href="classllvm_1_1RTDyldMemoryManager.html">RTDyldMemoryManager</a> *MM,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;             <span class="keywordtype">bool</span> AllocateGVsWithCode)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  : <a class="code" href="classllvm_1_1ExecutionEngine.html">ExecutionEngine</a>(m), <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>(tm), Ctx(0), MemMgr(<span class="keyword">this</span>, MM), Dyld(&amp;MemMgr),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    ObjCache(0) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  OwnedModules.addModule(m);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  setDataLayout(<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>-&gt;getDataLayout());</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a4d46de51fbeca23df8e13f0551fcb749">   65</a></span>&#160;<a class="code" href="classllvm_1_1MCJIT.html#a4d46de51fbeca23df8e13f0551fcb749">MCJIT::~MCJIT</a>() {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// FIXME: We are managing our modules, so we do not want the base class</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// ExecutionEngine to manage them as well. To avoid double destruction</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// of the first (and only) module added in ExecutionEngine constructor</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// we remove it from EE and will destruct it ourselves.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// It may make sense to move our module manager (based on SmallStPtr) back</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// into EE if the JIT and Interpreter can live with it.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// If so, additional functions: addModule, removeModule, FindFunctionNamed,</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// runStaticConstructorsDestructors could be moved back to EE as well.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Modules.clear();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  Dyld.deregisterEHFrames();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">LoadedObjectMap::iterator</a> <a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>, <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> = LoadedObjects.<a class="code" href="classllvm_1_1sys_1_1path_1_1const__iterator.html#a8a503d1cbee10d1b8c8f5ac2a03b90df">end</a>();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">for</span> (it = LoadedObjects.begin(); it != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++<a class="code" href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a>) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classllvm_1_1ObjectImage.html">ObjectImage</a> *Obj = it-&gt;second;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (Obj) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      NotifyFreeingObject(*Obj);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keyword">delete</span> Obj;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  LoadedObjects.clear();</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">delete</span> <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a18cfa30e57196d834a34ae4adce43b74">   92</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a18cfa30e57196d834a34ae4adce43b74">MCJIT::addModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  OwnedModules.addModule(M);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#add3a329dce887eb1b6ca1bd7fa255619">   97</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1MCJIT.html#add3a329dce887eb1b6ca1bd7fa255619">MCJIT::removeModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> OwnedModules.removeModule(M);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a2f7aa84a5c88598a49e70c028e5d4704">  104</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a2f7aa84a5c88598a49e70c028e5d4704">MCJIT::setObjectCache</a>(<a class="code" href="classllvm_1_1ObjectCache.html">ObjectCache</a>* NewCache) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  ObjCache = NewCache;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a9ca1eea936ec578077b13bcdd2dcf853">  109</a></span>&#160;<a class="code" href="classllvm_1_1ObjectBufferStream.html">ObjectBufferStream</a>* <a class="code" href="classllvm_1_1MCJIT.html#a9ca1eea936ec578077b13bcdd2dcf853">MCJIT::emitObject</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// This must be a module which has already been added but not loaded to this</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// MCJIT instance, since these conditions are tested by our caller,</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// generateCodeForModule.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  PassManager PM;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  PM.add(<span class="keyword">new</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a>(*<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>-&gt;getDataLayout()));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// The RuntimeDyld will take ownership of this shortly</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;ObjectBufferStream&gt;</a> CompiledObject(<span class="keyword">new</span> <a class="code" href="classllvm_1_1ObjectBufferStream.html">ObjectBufferStream</a>());</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// Turn the machine code intermediate representation into bytes in memory</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// that may be executed.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>-&gt;addPassesToEmitMC(PM, Ctx, CompiledObject-&gt;<a class="code" href="classllvm_1_1ObjectBufferStream.html#ab5fa9f780f3c07dc4126512a77100386">getOStream</a>(), <span class="keyword">false</span>)) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Target does not support MC emission!&quot;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// Initialize passes.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  PM.run(*M);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Flush the output buffer to get the generated code into memory</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  CompiledObject-&gt;<a class="code" href="classllvm_1_1ObjectBufferStream.html#ae6ff029c6a42034960f0943ab21a74af">flush</a>();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// If we have an object cache, tell it about the new object.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Note that we&#39;re using the compiled image, not the loaded image (as below).</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (ObjCache) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// MemoryBuffer is a thin wrapper around the actual memory, so it&#39;s OK</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// to create a temporary object here and delete it after the call.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;MemoryBuffer&gt;</a> MB(CompiledObject-&gt;<a class="code" href="classllvm_1_1ObjectBuffer.html#a34dce90289e7eb0151db380cc906ad9a">getMemBuffer</a>());</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    ObjCache-&gt;notifyObjectCompiled(M, MB.get());</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">return</span> CompiledObject.<a class="code" href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">take</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a16d134d812907e5ea1b215b31032111f">  146</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a16d134d812907e5ea1b215b31032111f">MCJIT::generateCodeForModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Get a thread lock to make sure we aren&#39;t trying to load multiple times</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// This must be a module which has already been added to this MCJIT instance.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  assert(OwnedModules.ownsModule(M) &amp;&amp;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         <span class="stringliteral">&quot;MCJIT::generateCodeForModule: Unknown module.&quot;</span>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Re-compilation is not supported</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (OwnedModules.hasModuleBeenLoaded(M))</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;ObjectBuffer&gt;</a> ObjectToLoad;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Try to load the pre-compiled object from cache if possible</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (0 != ObjCache) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;MemoryBuffer&gt;</a> PreCompiledObject(ObjCache-&gt;getObject(M));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (0 != PreCompiledObject.get())</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      ObjectToLoad.<a class="code" href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">reset</a>(<span class="keyword">new</span> <a class="code" href="classllvm_1_1ObjectBuffer.html">ObjectBuffer</a>(PreCompiledObject.take()));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// If the cache did not contain a suitable object, compile the object</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (!ObjectToLoad) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    ObjectToLoad.<a class="code" href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">reset</a>(emitObject(M));</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    assert(ObjectToLoad.<a class="code" href="classllvm_1_1OwningPtr.html#a89ff786da2c3247bab265b9c8fc861b2">get</a>() &amp;&amp; <span class="stringliteral">&quot;Compilation did not produce an object.&quot;</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// Load the object into the dynamic linker.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// MCJIT now owns the ObjectImage pointer (via its LoadedObjects map).</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classllvm_1_1ObjectImage.html">ObjectImage</a> *LoadedObject = Dyld.loadObject(ObjectToLoad.<a class="code" href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">take</a>());</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  LoadedObjects[<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>] = LoadedObject;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (!LoadedObject)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(Dyld.getErrorString());</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// FIXME: Make this optional, maybe even move it to a JIT event listener</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  LoadedObject-&gt;registerWithDebugger();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  NotifyObjectEmitted(*LoadedObject);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  OwnedModules.markModuleAsLoaded(M);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a4c711730384b07b067887e93931004a8">  187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a4c711730384b07b067887e93931004a8">MCJIT::finalizeLoadedModules</a>() {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// Resolve any outstanding relocations.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  Dyld.resolveRelocations();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  OwnedModules.markAllLoadedModulesAsFinalized();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// Register EH frame data for any module we own which has been loaded</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  Dyld.registerEHFrames();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// Set page permissions.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  MemMgr.finalizeMemory();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">// FIXME: Rename this.</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a9267e019ae798265ab3db7204cb9a1ca">  203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a9267e019ae798265ab3db7204cb9a1ca">MCJIT::finalizeObject</a>() {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = OwnedModules.begin_added(),</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                              E = OwnedModules.end_added();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    generateCodeForModule(M);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  finalizeLoadedModules();</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#adcc54665978b90bea2376f8cf50f48cc">  216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#adcc54665978b90bea2376f8cf50f48cc">MCJIT::finalizeModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// This must be a module which has already been added to this MCJIT instance.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  assert(OwnedModules.ownsModule(M) &amp;&amp; <span class="stringliteral">&quot;MCJIT::finalizeModule: Unknown module.&quot;</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// If the module hasn&#39;t been compiled, just do that.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (!OwnedModules.hasModuleBeenLoaded(M))</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    generateCodeForModule(M);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  finalizeLoadedModules();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a95fa44527d8f2a9af9fa22099d78c116">  229</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1MCJIT.html#a95fa44527d8f2a9af9fa22099d78c116">MCJIT::getPointerToBasicBlock</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;not yet implemented&quot;</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a942fc50c7c9ce041dbecb97fd34faab8">  233</a></span>&#160;uint64_t <a class="code" href="classllvm_1_1MCJIT.html#a942fc50c7c9ce041dbecb97fd34faab8">MCJIT::getExistingSymbolAddress</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Check with the RuntimeDyld to see if we already have this symbol.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (Name[0] == <span class="charliteral">&#39;\1&#39;</span>)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> Dyld.getSymbolLoadAddress(Name.substr(1));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> Dyld.getSymbolLoadAddress((<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>-&gt;getMCAsmInfo()-&gt;getGlobalPrefix()</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                       + <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>));</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a28cc3d07256589bd54f2d22eb12bafad">  241</a></span>&#160;<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="classllvm_1_1MCJIT.html#a28cc3d07256589bd54f2d22eb12bafad">MCJIT::findModuleForSymbol</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                   <span class="keywordtype">bool</span> CheckFunctionsOnly) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// If it hasn&#39;t already been generated, see if it&#39;s in one of our modules.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = OwnedModules.begin_added(),</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                              E = OwnedModules.end_added();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = M-&gt;<a class="code" href="classllvm_1_1Module.html#a3f156c68d0efa530f05698ca15d66593">getFunction</a>(Name);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (F &amp;&amp; !F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">return</span> M;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (!CheckFunctionsOnly) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = M-&gt;<a class="code" href="classllvm_1_1Module.html#a17ebd56685ee19e7761ae577cd511e25">getGlobalVariable</a>(Name);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">if</span> (G &amp;&amp; !G-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>())</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">return</span> M;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">// FIXME: Do we need to worry about global aliases?</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// We didn&#39;t find the symbol in any of our modules.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#ab9a66732fec3f835f54f4bb8f5388389">  264</a></span>&#160;uint64_t <a class="code" href="classllvm_1_1MCJIT.html#ab9a66732fec3f835f54f4bb8f5388389">MCJIT::getSymbolAddress</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                 <span class="keywordtype">bool</span> CheckFunctionsOnly)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// First, check to see if we already have this symbol.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  uint64_t Addr = getExistingSymbolAddress(Name);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (Addr)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// If it hasn&#39;t already been generated, see if it&#39;s in one of our modules.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = findModuleForSymbol(Name, CheckFunctionsOnly);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (!M)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  generateCodeForModule(M);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Check the RuntimeDyld table again, it should be there now.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">return</span> getExistingSymbolAddress(Name);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a89f6f2509f301c7927c5bbdaa207fe9f">  285</a></span>&#160;uint64_t <a class="code" href="classllvm_1_1MCJIT.html#a89f6f2509f301c7927c5bbdaa207fe9f">MCJIT::getGlobalValueAddress</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  uint64_t Result = getSymbolAddress(Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (Result != 0)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    finalizeLoadedModules();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a723e2356341b30df70de96acbe0acbc6">  293</a></span>&#160;uint64_t <a class="code" href="classllvm_1_1MCJIT.html#a723e2356341b30df70de96acbe0acbc6">MCJIT::getFunctionAddress</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  uint64_t Result = getSymbolAddress(Name, <span class="keyword">true</span>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (Result != 0)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    finalizeLoadedModules();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">// Deprecated.  Use getFunctionAddress instead.</span></div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a999e1c67949a3d0f69931ee9164e8cc9">  302</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1MCJIT.html#a999e1c67949a3d0f69931ee9164e8cc9">MCJIT::getPointerToFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() || F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>()) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">bool</span> AbortOnFailure = !F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">void</span> *Addr = <a class="code" href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a>(F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), AbortOnFailure);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    addGlobalMapping(F, Addr);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">return</span> Addr;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordtype">bool</span> HasBeenAddedButNotLoaded = OwnedModules.hasModuleBeenAddedButNotLoaded(M);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// Make sure the relevant module has been compiled and loaded.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (HasBeenAddedButNotLoaded)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    generateCodeForModule(M);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!OwnedModules.hasModuleBeenLoaded(M))</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// If this function doesn&#39;t belong to one of our modules, we&#39;re done.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// FIXME: Should the Dyld be retaining module information? Probably not.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// FIXME: Should we be using the mangler for this? Probably.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// This is the accessor for the target address, so make sure to check the</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// load address of the symbol, not the local address.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BaseName = F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (BaseName[0] == <span class="charliteral">&#39;\1&#39;</span>)</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)Dyld.getSymbolLoadAddress(BaseName.<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(1));</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)Dyld.getSymbolLoadAddress((<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>-&gt;getMCAsmInfo()-&gt;getGlobalPrefix()</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                       + BaseName).str());</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a937be5854d31811b07849557abc79593">  334</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1MCJIT.html#a937be5854d31811b07849557abc79593">MCJIT::recompileAndRelinkFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;not yet implemented&quot;</span>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a32838fdaead4ba966615c8ea0e63c730">  338</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a32838fdaead4ba966615c8ea0e63c730">MCJIT::freeMachineCodeForFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;not yet implemented&quot;</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keywordtype">void</span> MCJIT::runStaticConstructorsDestructorsInModulePtrSet(</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">bool</span> isDtors, <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> E) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">for</span> (; I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="classllvm_1_1ExecutionEngine.html#a6a34c6c082dc999d12f1f191b4108513">ExecutionEngine::runStaticConstructorsDestructors</a>(*I, isDtors);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a1e946c523260802640d54d1ab29ab7ce">  349</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a1e946c523260802640d54d1ab29ab7ce">MCJIT::runStaticConstructorsDestructors</a>(<span class="keywordtype">bool</span> isDtors) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Execute global ctors/dtors for each module in the program.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  runStaticConstructorsDestructorsInModulePtrSet(</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      isDtors, OwnedModules.begin_added(), OwnedModules.end_added());</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  runStaticConstructorsDestructorsInModulePtrSet(</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      isDtors, OwnedModules.begin_loaded(), OwnedModules.end_loaded());</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  runStaticConstructorsDestructorsInModulePtrSet(</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      isDtors, OwnedModules.begin_finalized(), OwnedModules.end_finalized());</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<a class="code" href="classllvm_1_1Function.html">Function</a> *MCJIT::FindFunctionNamedInModulePtrSet(<span class="keyword">const</span> <span class="keywordtype">char</span> *FnName,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                                 <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> I,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                 <a class="code" href="classllvm_1_1SmallPtrSetIterator.html">ModulePtrSet::iterator</a> E) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">for</span> (; I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = (*I)-&gt;getFunction(FnName))</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#ae4c6e847c7fc4f0a7f7c052ef6424cf3">  369</a></span>&#160;<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="classllvm_1_1MCJIT.html#ae4c6e847c7fc4f0a7f7c052ef6424cf3">MCJIT::FindFunctionNamed</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *FnName) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = FindFunctionNamedInModulePtrSet(</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      FnName, OwnedModules.begin_added(), OwnedModules.end_added());</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (!F)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    F = FindFunctionNamedInModulePtrSet(FnName, OwnedModules.begin_loaded(),</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                        OwnedModules.end_loaded());</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (!F)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    F = FindFunctionNamedInModulePtrSet(FnName, OwnedModules.begin_finalized(),</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                        OwnedModules.end_finalized());</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#afca4e5fbd60d699f3d71c0121ca5d61d">  381</a></span>&#160;<a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> <a class="code" href="classllvm_1_1MCJIT.html#afca4e5fbd60d699f3d71c0121ca5d61d">MCJIT::runFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                <span class="keyword">const</span> std::vector&lt;GenericValue&gt; &amp;ArgValues) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  assert(F &amp;&amp; <span class="stringliteral">&quot;Function *F was null at entry to run()&quot;</span>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordtype">void</span> *FPtr = getPointerToFunction(F);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  assert(FPtr &amp;&amp; <span class="stringliteral">&quot;Pointer to fn&#39;s code was null after getPointerToFunction&quot;</span>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = F-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetTy = FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  assert((FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == ArgValues.size() ||</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>() &amp;&amp; FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() &lt;= ArgValues.size())) &amp;&amp;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;         <span class="stringliteral">&quot;Wrong number of arguments passed into function!&quot;</span>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  assert(FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == ArgValues.size() &amp;&amp;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;         <span class="stringliteral">&quot;This doesn&#39;t support passing arguments through varargs (yet)!&quot;</span>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// Handle some common cases first.  These cases correspond to common `main&#39;</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// prototypes.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) || RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">switch</span> (ArgValues.size()) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) &amp;&amp;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(2)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **, <span class="keyword">const</span> <span class="keywordtype">char</span> **) =</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **, <span class="keyword">const</span> <span class="keywordtype">char</span> **))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="comment">// Call the function.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue(),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                 (<span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[1]),</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                 (<span class="keyword">const</span> <span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[2])));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32) &amp;&amp;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(1)-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **) = (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>, <span class="keywordtype">char</span> **))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">// Call the function.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue(),</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                 (<span class="keywordtype">char</span> **)<a class="code" href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">GVTOP</a>(ArgValues[1])));</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">if</span> (FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == 1 &amp;&amp;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">getParamType</a>(0)-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(32)) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a> (*PF)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>) = (<span class="keywordtype">int</span>(*)(<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>))(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, PF(ArgValues[0].<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">IntVal</a>.getZExtValue()));</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// Handle cases where no arguments are passed first.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (ArgValues.empty()) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="structllvm_1_1GenericValue.html">GenericValue</a> rv;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">switch</span> (RetTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown return type for function call!&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">Type::IntegerTyID</a>: {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = cast&lt;IntegerType&gt;(RetTy)-&gt;<a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> (BitWidth == 1)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">bool</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 8)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">char</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 16)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">short</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 32)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((<span class="keywordtype">int</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BitWidth &lt;= 64)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, ((int64_t(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Integer types &gt; 64 bits not supported&quot;</span>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520">Type::VoidTyID</a>:</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">IntVal</a> = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(32, ((<span class="keywordtype">int</span>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">Type::FloatTyID</a>:</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#a5160197592bd1fc5c8cc81cd803e0629">FloatVal</a> = ((float(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">Type::DoubleTyID</a>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      rv.<a class="code" href="structllvm_1_1GenericValue.html#a9810b36b4c4c17901d491f5aac030623">DoubleVal</a> = ((<a class="code" href="README-SSE_8txt.html#a698e4bd87a8adc0c042ae6b6e10ee6e1">double</a>(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7">Type::X86_FP80TyID</a>:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc">Type::FP128TyID</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48">Type::PPC_FP128TyID</a>:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;long double not supported yet&quot;</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">Type::PointerTyID</a>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a77905b5e34e8754df1ed4051e0ad9d1a">PTOGV</a>(((<span class="keywordtype">void</span>*(*)())(<a class="code" href="classintptr__t.html">intptr_t</a>)FPtr)());</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Full-featured argument passing not supported yet!&quot;</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#abc5a187b7bd88320fff3d8fac5a505ea">  481</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="classllvm_1_1MCJIT.html#abc5a187b7bd88320fff3d8fac5a505ea">MCJIT::getPointerToNamedFunction</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                       <span class="keywordtype">bool</span> AbortOnFailure) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span> (!isSymbolSearchingDisabled()) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">void</span> *ptr = MemMgr.getPointerToNamedFunction(Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (ptr)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> ptr;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">  /// If a LazyFunctionCreator is installed, use it to get/create the function.</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span> (LazyFunctionCreator)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">void</span> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">RP</a> = LazyFunctionCreator(Name))</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">RP</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (AbortOnFailure) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Program used external function &#39;&quot;</span>+Name+</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                       <span class="stringliteral">&quot;&#39; which could not be resolved!&quot;</span>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a59505b33a421279a3682de48e1421189">  501</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a59505b33a421279a3682de48e1421189">MCJIT::RegisterJITEventListener</a>(<a class="code" href="classllvm_1_1JITEventListener.html">JITEventListener</a> *L) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (L == NULL)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  EventListeners.push_back(L);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a143220b4cae321d60ab1f7b3b6233ea9">  507</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a143220b4cae321d60ab1f7b3b6233ea9">MCJIT::UnregisterJITEventListener</a>(<a class="code" href="classllvm_1_1JITEventListener.html">JITEventListener</a> *L) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (L == NULL)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#abb743e3278f1d451eb396849040adf48">SmallVector&lt;JITEventListener*, 2&gt;::reverse_iterator</a> I=</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      std::find(EventListeners.rbegin(), EventListeners.rend(), L);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span> (I != EventListeners.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#ad696953257cf1c4e5bd12d02146e7287">rend</a>()) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(*I, EventListeners.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>());</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    EventListeners.pop_back();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a5eb872f982c7435be81626e4e738457b">  518</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a5eb872f982c7435be81626e4e738457b">MCJIT::NotifyObjectEmitted</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ObjectImage.html">ObjectImage</a>&amp; Obj) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  MemMgr.notifyObjectLoaded(<span class="keyword">this</span>, &amp;Obj);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = EventListeners.size(); I &lt; <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    EventListeners[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;NotifyObjectEmitted(Obj);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classllvm_1_1MCJIT.html#a63221f8f16856a01a958a25eb74d26c9">  525</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1MCJIT.html#a63221f8f16856a01a958a25eb74d26c9">MCJIT::NotifyFreeingObject</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ObjectImage.html">ObjectImage</a>&amp; Obj) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> locked(lock);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> I = 0, <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = EventListeners.size(); I &lt; <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    EventListeners[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]-&gt;NotifyFreeingObject(Obj);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classllvm_1_1LinkingMemoryManager.html#a942591b6142c129f5f3d938c6d62dec9">  532</a></span>&#160;uint64_t <a class="code" href="classllvm_1_1LinkingMemoryManager.html#a942591b6142c129f5f3d938c6d62dec9">LinkingMemoryManager::getSymbolAddress</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  uint64_t Result = ParentEngine-&gt;getSymbolAddress(Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// If the symbols wasn&#39;t found and it begins with an underscore, try again</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// without the underscore.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">if</span> (!Result &amp;&amp; Name[0] == <span class="charliteral">&#39;_&#39;</span>)</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    Result = ParentEngine-&gt;getSymbolAddress(Name.substr(1), <span class="keyword">false</span>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> (Result)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">return</span> ClientMM-&gt;getSymbolAddress(Name);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_abb743e3278f1d451eb396849040adf48"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#abb743e3278f1d451eb396849040adf48">llvm::SmallVectorTemplateCommon&lt; T &gt;::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; iterator &gt; reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00104">SmallVector.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a95fa44527d8f2a9af9fa22099d78c116"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a95fa44527d8f2a9af9fa22099d78c116">llvm::MCJIT::getPointerToBasicBlock</a></div><div class="ttdeci">virtual void * getPointerToBasicBlock(BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00229">MCJIT.cpp:229</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a97cf043af111c14bb4d03a99cf42af03"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00133">DerivedTypes.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa6a5dd38c5c337ac6ce6d5847b1ca7f15">llvm::Type::FloatTyID</a></div><div class="ttdoc">2: 32-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00057">Type.h:57</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classintptr__t_html"><div class="ttname"><a href="classintptr__t.html">intptr_t</a></div></div>
<div class="ttc" id="classllvm_1_1JITEventListener_html"><div class="ttname"><a href="classllvm_1_1JITEventListener.html">llvm::JITEventListener</a></div><div class="ttdef"><b>Definition:</b> <a href="JITEventListener_8h_source.html#l00054">JITEventListener.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_ae4c6e847c7fc4f0a7f7c052ef6424cf3"><div class="ttname"><a href="classllvm_1_1MCJIT.html#ae4c6e847c7fc4f0a7f7c052ef6424cf3">llvm::MCJIT::FindFunctionNamed</a></div><div class="ttdeci">virtual Function * FindFunctionNamed(const char *FnName)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00369">MCJIT.cpp:369</a></div></div>
<div class="ttc" id="ObjectImage_8h_html"><div class="ttname"><a href="ObjectImage_8h.html">ObjectImage.h</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html_ae426d4bb8423d239ab8647d23b7ab150"><div class="ttname"><a href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">llvm::OwningPtr::take</a></div><div class="ttdeci">T * take()</div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00060">OwningPtr.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a4d46de51fbeca23df8e13f0551fcb749"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a4d46de51fbeca23df8e13f0551fcb749">llvm::MCJIT::~MCJIT</a></div><div class="ttdeci">~MCJIT()</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00065">MCJIT.cpp:65</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a3d0712956e53687d1894ba17b84aeffa"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">llvm::StringRef::substr</a></div><div class="ttdeci">StringRef substr(size_t Start, size_t N=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00392">StringRef.h:392</a></div></div>
<div class="ttc" id="JITEventListener_8h_html"><div class="ttname"><a href="JITEventListener_8h.html">JITEventListener.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_af4399141c23e944cc1f75390c3cbd959"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">llvm::GlobalValue::hasAvailableExternallyLinkage</a></div><div class="ttdeci">bool hasAvailableExternallyLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="GenericValue_8h_html"><div class="ttname"><a href="GenericValue_8h.html">GenericValue.h</a></div></div>
<div class="ttc" id="MCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabd37be4e521c37c8b5c07edbab59b8d7">llvm::Type::X86_FP80TyID</a></div><div class="ttdoc">4: 80-bit floating point type (X87) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00059">Type.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a2f7aa84a5c88598a49e70c028e5d4704"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a2f7aa84a5c88598a49e70c028e5d4704">llvm::MCJIT::setObjectCache</a></div><div class="ttdeci">virtual void setObjectCache(ObjectCache *manager)</div><div class="ttdoc">Sets the object manager that MCJIT should use to avoid compilation. </div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00104">MCJIT.cpp:104</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a937be5854d31811b07849557abc79593"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a937be5854d31811b07849557abc79593">llvm::MCJIT::recompileAndRelinkFunction</a></div><div class="ttdeci">virtual void * recompileAndRelinkFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00334">MCJIT.cpp:334</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">llvm::Type::PointerTyID</a></div><div class="ttdoc">14: Pointers </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00072">Type.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a17ebd56685ee19e7761ae577cd511e25"><div class="ttname"><a href="classllvm_1_1Module.html#a17ebd56685ee19e7761ae577cd511e25">llvm::Module::getGlobalVariable</a></div><div class="ttdeci">const GlobalVariable * getGlobalVariable(StringRef Name, bool AllowInternal=false) const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00355">Module.h:355</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a97c441ad61800b9fe204a455ae36298d"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a97c441ad61800b9fe204a455ae36298d">llvm::MCJIT::Register</a></div><div class="ttdeci">static void Register()</div><div class="ttdef"><b>Definition:</b> <a href="lib_2ExecutionEngine_2MCJIT_2MCJIT_8h_source.html#l00304">lib/ExecutionEngine/MCJIT/MCJIT.h:304</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="JITMemoryManager_8h_html"><div class="ttname"><a href="JITMemoryManager_8h.html">JITMemoryManager.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a1e946c523260802640d54d1ab29ab7ce"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a1e946c523260802640d54d1ab29ab7ce">llvm::MCJIT::runStaticConstructorsDestructors</a></div><div class="ttdeci">void runStaticConstructorsDestructors(bool isDtors)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00349">MCJIT.cpp:349</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a06c14477546c3a0eb4c79ff007ea2375"><div class="ttname"><a href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a></div><div class="ttdeci">static unsigned getBitWidth(Type *Ty, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00040">ValueTracking.cpp:40</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a20c7aa4e09f7357758f63b39c33bf026"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a20c7aa4e09f7357758f63b39c33bf026">llvm::MCJIT::createJIT</a></div><div class="ttdeci">static ExecutionEngine * createJIT(Module *M, std::string *ErrorStr, RTDyldMemoryManager *MemMgr, bool GVsWithCode, TargetMachine *TM)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00042">MCJIT.cpp:42</a></div></div>
<div class="ttc" id="classllvm_1_1ExecutionEngine_html_a6a34c6c082dc999d12f1f191b4108513"><div class="ttname"><a href="classllvm_1_1ExecutionEngine.html#a6a34c6c082dc999d12f1f191b4108513">llvm::ExecutionEngine::runStaticConstructorsDestructors</a></div><div class="ttdeci">virtual void runStaticConstructorsDestructors(bool isDtors)</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_8cpp_source.html#l00331">ExecutionEngine.cpp:331</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_add3a329dce887eb1b6ca1bd7fa255619"><div class="ttname"><a href="classllvm_1_1MCJIT.html#add3a329dce887eb1b6ca1bd7fa255619">llvm::MCJIT::removeModule</a></div><div class="ttdeci">virtual bool removeModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00097">MCJIT.cpp:97</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="MutexGuard_8h_html"><div class="ttname"><a href="MutexGuard_8h.html">MutexGuard.h</a></div></div>
<div class="ttc" id="DynamicLibrary_8h_html"><div class="ttname"><a href="DynamicLibrary_8h.html">DynamicLibrary.h</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html"><div class="ttname"><a href="structllvm_1_1GenericValue.html">llvm::GenericValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00026">GenericValue.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_adcc54665978b90bea2376f8cf50f48cc"><div class="ttname"><a href="classllvm_1_1MCJIT.html#adcc54665978b90bea2376f8cf50f48cc">llvm::MCJIT::finalizeModule</a></div><div class="ttdeci">virtual void finalizeModule(Module *)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00216">MCJIT.cpp:216</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a89f6f2509f301c7927c5bbdaa207fe9f"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a89f6f2509f301c7927c5bbdaa207fe9f">llvm::MCJIT::getGlobalValueAddress</a></div><div class="ttdeci">virtual uint64_t getGlobalValueAddress(const std::string &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00285">MCJIT.cpp:285</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a698e4bd87a8adc0c042ae6b6e10ee6e1"><div class="ttname"><a href="README-SSE_8txt.html#a698e4bd87a8adc0c042ae6b6e10ee6e1">double</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in and only one load from a constant double</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00053">README-SSE.txt:53</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectImage_html"><div class="ttname"><a href="classllvm_1_1ObjectImage.html">llvm::ObjectImage</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectImage_8h_source.html#l00025">ObjectImage.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e08dfcb75ff1b4b38c352bc0d9db223"><div class="ttname"><a href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">llvm::Type::getTypeID</a></div><div class="ttdeci">TypeID getTypeID() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00137">Type.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectBuffer_html_a34dce90289e7eb0151db380cc906ad9a"><div class="ttname"><a href="classllvm_1_1ObjectBuffer.html#a34dce90289e7eb0151db380cc906ad9a">llvm::ObjectBuffer::getMemBuffer</a></div><div class="ttdeci">MemoryBuffer * getMemBuffer() const </div><div class="ttdef"><b>Definition:</b> <a href="ObjectBuffer_8h_source.html#l00042">ObjectBuffer.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a942fc50c7c9ce041dbecb97fd34faab8"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a942fc50c7c9ce041dbecb97fd34faab8">llvm::MCJIT::getExistingSymbolAddress</a></div><div class="ttdeci">uint64_t getExistingSymbolAddress(const std::string &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00233">MCJIT.cpp:233</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html"><div class="ttname"><a href="classllvm_1_1MCJIT.html">llvm::MCJIT</a></div><div class="ttdef"><b>Definition:</b> <a href="lib_2ExecutionEngine_2MCJIT_2MCJIT_8h_source.html#l00093">lib/ExecutionEngine/MCJIT/MCJIT.h:93</a></div></div>
<div class="ttc" id="include_2llvm_2ExecutionEngine_2MCJIT_8h_html"><div class="ttname"><a href="include_2llvm_2ExecutionEngine_2MCJIT_8h.html">MCJIT.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a143220b4cae321d60ab1f7b3b6233ea9"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a143220b4cae321d60ab1f7b3b6233ea9">llvm::MCJIT::UnregisterJITEventListener</a></div><div class="ttdeci">virtual void UnregisterJITEventListener(JITEventListener *L)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00507">MCJIT.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a3f156c68d0efa530f05698ca15d66593"><div class="ttname"><a href="classllvm_1_1Module.html#a3f156c68d0efa530f05698ca15d66593">llvm::Module::getFunction</a></div><div class="ttdeci">Function * getFunction(StringRef Name) const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00221">Module.cpp:221</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_a9810b36b4c4c17901d491f5aac030623"><div class="ttname"><a href="structllvm_1_1GenericValue.html#a9810b36b4c4c17901d491f5aac030623">llvm::GenericValue::DoubleVal</a></div><div class="ttdeci">double DoubleVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00032">GenericValue.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa8e724092b0496fe3d16e29863b46c249">llvm::Type::IntegerTyID</a></div><div class="ttdoc">10: Arbitrary bit width integers </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00068">Type.h:68</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_abc5a187b7bd88320fff3d8fac5a505ea"><div class="ttname"><a href="classllvm_1_1MCJIT.html#abc5a187b7bd88320fff3d8fac5a505ea">llvm::MCJIT::getPointerToNamedFunction</a></div><div class="ttdeci">virtual void * getPointerToNamedFunction(const std::string &amp;Name, bool AbortOnFailure=true)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00481">MCJIT.cpp:481</a></div></div>
<div class="ttc" id="classllvm_1_1MutexGuard_html"><div class="ttname"><a href="classllvm_1_1MutexGuard.html">llvm::MutexGuard</a></div><div class="ttdoc">Guard a section of code with a Mutex. </div><div class="ttdef"><b>Definition:</b> <a href="MutexGuard_8h_source.html#l00027">MutexGuard.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa567ac2c7944f770cfb2c2cffc94b3520">llvm::Type::VoidTyID</a></div><div class="ttdoc">0: type with no size </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00055">Type.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a9ca1eea936ec578077b13bcdd2dcf853"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a9ca1eea936ec578077b13bcdd2dcf853">llvm::MCJIT::emitObject</a></div><div class="ttdeci">ObjectBufferStream * emitObject(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00109">MCJIT.cpp:109</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a176b84b12bc19326444728c6404dd068"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a176b84b12bc19326444728c6404dd068">llvm::FunctionType::getParamType</a></div><div class="ttdeci">Type * getParamType(unsigned i) const </div><div class="ttdoc">Parameter type accessors. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00128">DerivedTypes.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1path_1_1const__iterator_html_a8a503d1cbee10d1b8c8f5ac2a03b90df"><div class="ttname"><a href="classllvm_1_1sys_1_1path_1_1const__iterator.html#a8a503d1cbee10d1b8c8f5ac2a03b90df">llvm::sys::path::const_iterator::end</a></div><div class="ttdeci">friend const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="SectionMemoryManager_8h_html"><div class="ttname"><a href="SectionMemoryManager_8h.html">SectionMemoryManager.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html_ad45fe2513c9468cbd4fa891a3685f380"><div class="ttname"><a href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">llvm::OwningPtr::reset</a></div><div class="ttdeci">void reset(T *P=0)</div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00051">OwningPtr.h:51</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_a5160197592bd1fc5c8cc81cd803e0629"><div class="ttname"><a href="structllvm_1_1GenericValue.html#a5160197592bd1fc5c8cc81cd803e0629">llvm::GenericValue::FloatVal</a></div><div class="ttdeci">float FloatVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00033">GenericValue.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3a7597ca475c0fcf10856ef36351d1ac">llvm::tgtok::IntVal</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00054">TGLexer.h:54</a></div></div>
<div class="ttc" id="group__LLVMCExecutionEngine_html_gaf1eab65125720bae634fafd85a8ec3cc"><div class="ttname"><a href="group__LLVMCExecutionEngine.html#gaf1eab65125720bae634fafd85a8ec3cc">LLVMLinkInMCJIT</a></div><div class="ttdeci">void LLVMLinkInMCJIT()</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00039">MCJIT.cpp:39</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1DynamicLibrary_html_a18575725b7c13545198708dac576048b"><div class="ttname"><a href="classllvm_1_1sys_1_1DynamicLibrary.html#a18575725b7c13545198708dac576048b">llvm::sys::DynamicLibrary::LoadLibraryPermanently</a></div><div class="ttdeci">static bool LoadLibraryPermanently(const char *Filename, std::string *ErrMsg=0)</div><div class="ttdef"><b>Definition:</b> <a href="DynamicLibrary_8h_source.html#l00075">DynamicLibrary.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectBufferStream_html_ab5fa9f780f3c07dc4126512a77100386"><div class="ttname"><a href="classllvm_1_1ObjectBufferStream.html#ab5fa9f780f3c07dc4126512a77100386">llvm::ObjectBufferStream::getOStream</a></div><div class="ttdeci">raw_ostream &amp; getOStream()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectBuffer_8h_source.html#l00065">ObjectBuffer.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html"><div class="ttname"><a href="classllvm_1_1OwningPtr.html">llvm::OwningPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00028">OwningPtr.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaac1fd0acf788a4de492dc0e3f51088f48">llvm::Type::PPC_FP128TyID</a></div><div class="ttdoc">6: 128-bit floating point type (two 64-bits, PowerPC) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00061">Type.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_ad696953257cf1c4e5bd12d02146e7287"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#ad696953257cf1c4e5bd12d02146e7287">llvm::SmallVectorTemplateCommon&lt; T &gt;::rend</a></div><div class="ttdeci">reverse_iterator rend()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00124">SmallVector.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a5eb872f982c7435be81626e4e738457b"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a5eb872f982c7435be81626e4e738457b">llvm::MCJIT::NotifyObjectEmitted</a></div><div class="ttdeci">void NotifyObjectEmitted(const ObjectImage &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00518">MCJIT.cpp:518</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html_a89ff786da2c3247bab265b9c8fc861b2"><div class="ttname"><a href="classllvm_1_1OwningPtr.html#a89ff786da2c3247bab265b9c8fc861b2">llvm::OwningPtr::get</a></div><div class="ttdeci">T * get() const </div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00072">OwningPtr.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectBuffer_html"><div class="ttname"><a href="classllvm_1_1ObjectBuffer.html">llvm::ObjectBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectBuffer_8h_source.html#l00032">ObjectBuffer.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1ExecutionEngine_html"><div class="ttname"><a href="classllvm_1_1ExecutionEngine.html">llvm::ExecutionEngine</a></div><div class="ttdoc">Abstract interface for implementation execution of LLVM modules, designed to support both interpreter...</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00100">ExecutionEngine/ExecutionEngine.h:100</a></div></div>
<div class="ttc" id="namespacellvm_html_a7f09b8c588531603bac440b5fecc85bc"><div class="ttname"><a href="namespacellvm.html#a7f09b8c588531603bac440b5fecc85bc">llvm::GVTOP</a></div><div class="ttdeci">void * GVTOP(const GenericValue &amp;GV)</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00050">GenericValue.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00174">SmallPtrSet.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a543b0415de2670670f8346a7251391af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">llvm::GlobalValue::hasExternalWeakLinkage</a></div><div class="ttdeci">bool hasExternalWeakLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00214">GlobalValue.h:214</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_ab9a66732fec3f835f54f4bb8f5388389"><div class="ttname"><a href="classllvm_1_1MCJIT.html#ab9a66732fec3f835f54f4bb8f5388389">llvm::MCJIT::getSymbolAddress</a></div><div class="ttdeci">uint64_t getSymbolAddress(const std::string &amp;Name, bool CheckFunctionsOnly)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00264">MCJIT.cpp:264</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a999e1c67949a3d0f69931ee9164e8cc9"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a999e1c67949a3d0f69931ee9164e8cc9">llvm::MCJIT::getPointerToFunction</a></div><div class="ttdeci">virtual void * getPointerToFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00302">MCJIT.cpp:302</a></div></div>
<div class="ttc" id="namespacellvm_html_a77905b5e34e8754df1ed4051e0ad9d1a"><div class="ttname"><a href="namespacellvm.html#a77905b5e34e8754df1ed4051e0ad9d1a">llvm::PTOGV</a></div><div class="ttdeci">GenericValue PTOGV(void *P)</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00049">GenericValue.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a28cc3d07256589bd54f2d22eb12bafad"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a28cc3d07256589bd54f2d22eb12bafad">llvm::MCJIT::findModuleForSymbol</a></div><div class="ttdeci">Module * findModuleForSymbol(const std::string &amp;Name, bool CheckFunctionsOnly)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00241">MCJIT.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectBufferStream_html_ae6ff029c6a42034960f0943ab21a74af"><div class="ttname"><a href="classllvm_1_1ObjectBufferStream.html#ae6ff029c6a42034960f0943ab21a74af">llvm::ObjectBufferStream::flush</a></div><div class="ttdeci">void flush()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectBuffer_8h_source.html#l00066">ObjectBuffer.h:66</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="classllvm_1_1LinkingMemoryManager_html_a942591b6142c129f5f3d938c6d62dec9"><div class="ttname"><a href="classllvm_1_1LinkingMemoryManager.html#a942591b6142c129f5f3d938c6d62dec9">llvm::LinkingMemoryManager::getSymbolAddress</a></div><div class="ttdeci">virtual uint64_t getSymbolAddress(const std::string &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00532">MCJIT.cpp:532</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a63221f8f16856a01a958a25eb74d26c9"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a63221f8f16856a01a958a25eb74d26c9">llvm::MCJIT::NotifyFreeingObject</a></div><div class="ttdeci">void NotifyFreeingObject(const ObjectImage &amp;Obj)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00525">MCJIT.cpp:525</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXCvtMode_html_ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fa8b204d090788e956d6011920f4916191">llvm::NVPTX::PTXCvtMode::RP</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00143">NVPTX.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a32838fdaead4ba966615c8ea0e63c730"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a32838fdaead4ba966615c8ea0e63c730">llvm::MCJIT::freeMachineCodeForFunction</a></div><div class="ttdeci">virtual void freeMachineCodeForFunction(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00338">MCJIT.cpp:338</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectCache_html"><div class="ttname"><a href="classllvm_1_1ObjectCache.html">llvm::ObjectCache</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectCache_8h_source.html#l00022">ObjectCache.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1RTDyldMemoryManager_html"><div class="ttname"><a href="classllvm_1_1RTDyldMemoryManager.html">llvm::RTDyldMemoryManager</a></div><div class="ttdef"><b>Definition:</b> <a href="RTDyldMemoryManager_8h_source.html#l00033">RTDyldMemoryManager.h:33</a></div></div>
<div class="ttc" id="structllvm_1_1GenericValue_html_adc1cecb2e860959165c8ad83d0d26023"><div class="ttname"><a href="structllvm_1_1GenericValue.html#adc1cecb2e860959165c8ad83d0d26023">llvm::GenericValue::IntVal</a></div><div class="ttdeci">APInt IntVal</div><div class="ttdef"><b>Definition:</b> <a href="GenericValue_8h_source.html#l00038">GenericValue.h:38</a></div></div>
<div class="ttc" id="MemoryBuffer_8h_html"><div class="ttname"><a href="MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaabc549945f13bb5d5f5b80c550d2b92f5">llvm::Type::DoubleTyID</a></div><div class="ttdoc">3: 64-bit floating point type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00058">Type.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a9eda832d6e80bc19b98f22f4ec714e3f"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00121">DerivedTypes.h:121</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1SectionMemoryManager_html"><div class="ttname"><a href="classllvm_1_1SectionMemoryManager.html">llvm::SectionMemoryManager</a></div><div class="ttdef"><b>Definition:</b> <a href="SectionMemoryManager_8h_source.html#l00038">SectionMemoryManager.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1ObjectBufferStream_html"><div class="ttname"><a href="classllvm_1_1ObjectBufferStream.html">llvm::ObjectBufferStream</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectBuffer_8h_source.html#l00059">ObjectBuffer.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a18cfa30e57196d834a34ae4adce43b74"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a18cfa30e57196d834a34ae4adce43b74">llvm::MCJIT::addModule</a></div><div class="ttdeci">virtual void addModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00092">MCJIT.cpp:92</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a59505b33a421279a3682de48e1421189"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a59505b33a421279a3682de48e1421189">llvm::MCJIT::RegisterJITEventListener</a></div><div class="ttdeci">virtual void RegisterJITEventListener(JITEventListener *L)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00501">MCJIT.cpp:501</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="PassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_afca4e5fbd60d699f3d71c0121ca5d61d"><div class="ttname"><a href="classllvm_1_1MCJIT.html#afca4e5fbd60d699f3d71c0121ca5d61d">llvm::MCJIT::runFunction</a></div><div class="ttdeci">virtual GenericValue runFunction(Function *F, const std::vector&lt; GenericValue &gt; &amp;ArgValues)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00381">MCJIT.cpp:381</a></div></div>
<div class="ttc" id="JIT_8cpp_html_a3972a06550c629a9a489fd3e3f91bcb6"><div class="ttname"><a href="JIT_8cpp.html#a3972a06550c629a9a489fd3e3f91bcb6">getPointerToNamedFunction</a></div><div class="ttdeci">void * getPointerToNamedFunction(const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="JIT_8cpp_source.html#l00131">JIT.cpp:131</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a4c711730384b07b067887e93931004a8"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a4c711730384b07b067887e93931004a8">llvm::MCJIT::finalizeLoadedModules</a></div><div class="ttdeci">void finalizeLoadedModules()</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00187">MCJIT.cpp:187</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_abb4ce3bc3096a12d4b93460bf78bcf95"><div class="ttname"><a href="README-SSE_8txt.html#abb4ce3bc3096a12d4b93460bf78bcf95">it</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in it</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00053">README-SSE.txt:53</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a723e2356341b30df70de96acbe0acbc6"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a723e2356341b30df70de96acbe0acbc6">llvm::MCJIT::getFunctionAddress</a></div><div class="ttdeci">virtual uint64_t getFunctionAddress(const std::string &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00293">MCJIT.cpp:293</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a16d134d812907e5ea1b215b31032111f"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a16d134d812907e5ea1b215b31032111f">llvm::MCJIT::generateCodeForModule</a></div><div class="ttdeci">virtual void generateCodeForModule(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00146">MCJIT.cpp:146</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af5c7041df3ad5edffe5da17b5264c1fc"><div class="ttname"><a href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const </div><div class="ttdoc">isVoidTy - Return true if this is &amp;#39;void&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaaf645dbe1647a41fce26595aa8cd8bdfc">llvm::Type::FP128TyID</a></div><div class="ttdoc">5: 128-bit floating point type (112-bit mantissa) </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00060">Type.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MCJIT_html_a9267e019ae798265ab3db7204cb9a1ca"><div class="ttname"><a href="classllvm_1_1MCJIT.html#a9267e019ae798265ab3db7204cb9a1ca">llvm::MCJIT::finalizeObject</a></div><div class="ttdeci">virtual void finalizeObject()</div><div class="ttdef"><b>Definition:</b> <a href="MCJIT_8cpp_source.html#l00203">MCJIT.cpp:203</a></div></div>
<div class="ttc" id="ObjectBuffer_8h_html"><div class="ttname"><a href="ObjectBuffer_8h.html">ObjectBuffer.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:01 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
