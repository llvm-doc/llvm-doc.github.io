<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ScalarEvolution.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ScalarEvolution_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ScalarEvolution.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ScalarEvolution_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- ScalarEvolution.cpp - Scalar Evolution Analysis ----------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the implementation of the scalar evolution analysis</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// engine, which is used primarily to analyze expressions involving induction</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// variables in loops.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// There are several aspects to this library.  First is the representation of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// scalar expressions, which are represented as subclasses of the SCEV class.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// These classes are used to represent certain types of subexpressions that we</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// can handle. We only create one SCEV of a particular shape, so</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// pointer-comparisons for equality are legal.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// One important aspect of the SCEV objects is that they are never cyclic, even</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// if there is a cycle in the dataflow for an expression (ie, a PHI node).  If</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// the PHI node is one of the idioms that we can represent (e.g., a polynomial</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// recurrence) then we represent it directly as a recurrence node, otherwise we</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// represent it as a SCEVUnknown node.</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// In addition to being able to represent expressions of various types, we also</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// have folders that are used to build the *canonical* representation for a</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// particular expression.  These folders are capable of using a variety of</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// rewrite rules to simplify the expressions.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// Once the folders are defined, we can implement the more interesting</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// higher-level code, such as the code that recognizes PHI nodes of various</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// types, computes the execution count of a loop, etc.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// TODO: We should use these routines and value representations to implement</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// dependence analysis!</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// There are several good references for the techniques used in this analysis.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//  Chains of recurrences -- a method to expedite the evaluation</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//  of closed-form functions</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//  Olaf Bachmann, Paul S. Wang, Eugene V. Zima</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//  On computational properties of chains of recurrences</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//  Eugene V. Zima</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//  Symbolic Evaluation of Chains of Recurrences for Loop Optimization</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//  Robert A. van Engelen</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//  Efficient Symbolic Analysis for Optimizing Compilers</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//  Robert A. van Engelen</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//  Using the chains of recurrences algebra for data dependence testing and</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//  induction variable substitution</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//  MS Thesis, Johnie Birch</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   61</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;scalar-evolution&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolution_8h.html">llvm/Analysis/ScalarEvolution.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/Analysis/Dominators.h</a>&quot;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LoopInfo_8h.html">llvm/Analysis/LoopInfo.h</a>&quot;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScalarEvolutionExpressions_8h.html">llvm/Analysis/ScalarEvolutionExpressions.h</a>&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Writer_8h.html">llvm/Assembly/Writer.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/Support/ConstantRange.h</a>&quot;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/Support/InstIterator.h</a>&quot;</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a2e762a8d9c438420a709c5c23f7b0b0c">STATISTIC</a>(NumArrayLenItCounts,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;          <span class="stringliteral">&quot;Number of trip counts computed with array length&quot;</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a2e762a8d9c438420a709c5c23f7b0b0c">STATISTIC</a>(NumTripCountsComputed,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          <span class="stringliteral">&quot;Number of loops with predictable loop counts&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a2e762a8d9c438420a709c5c23f7b0b0c">STATISTIC</a>(NumTripCountsNotComputed,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          <span class="stringliteral">&quot;Number of loops without predictable loop counts&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a2e762a8d9c438420a709c5c23f7b0b0c">STATISTIC</a>(NumBruteForceTripCountsComputed,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;          <span class="stringliteral">&quot;Number of loops with trip counts computed by force&quot;</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a1c75b3f59d1f60387c0e3dd3aaf1ba9a">MaxBruteForceIterations</a>(<span class="stringliteral">&quot;scalar-evolution-max-iterations&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">cl::ReallyHidden</a>,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum number of iterations SCEV will &quot;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                 <span class="stringliteral">&quot;symbolically execute a constant &quot;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                 <span class="stringliteral">&quot;derived loop&quot;</span>),</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                        <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(100));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">// FIXME: Enable this with XDEBUG when the test suite is clean.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a07df02be5b2e877418f82b80a81d8800">VerifySCEV</a>(<span class="stringliteral">&quot;verify-scev&quot;</span>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;           <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Verify ScalarEvolution&#39;s backedge taken counts (slow)&quot;</span>));</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a9ce57443956e69ceb421686abf513aa8">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>, <span class="stringliteral">&quot;scalar-evolution&quot;</span>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="stringliteral">&quot;Scalar Evolution Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a>)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a>)</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab98634f319efc49e653ccb25caaf4090">  119</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1ScalarEvolution.html">ScalarEvolution</a>, &quot;scalar-<a class="code" href="ScalarEvolution_8cpp.html#afa04c31b8a224e9f4e66ba448f05e9d0">evolution</a>&quot;,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                &quot;<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca09c68d67f7dbfa6cc77eaf73aa535217">Scalar</a> Evolution <a class="code" href="ScalarEvolution_8cpp.html#a503499d4ac1af5de3ac8a7e4805e14aa">Analysis</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacetrue.html">true</a>)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keywordtype">char</span> ScalarEvolution::<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a> = 0;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//                           SCEV class definitions</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// Implementation of the SCEV class.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#ad4872b01704ccd3244144bfdb4fe48b6">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEV.html#ad4872b01704ccd3244144bfdb4fe48b6">SCEV::dump</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">SCEV::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>)-&gt;getValue(), <span class="keyword">false</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = cast&lt;SCEVTruncateExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Op = Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;(trunc &quot;</span> &lt;&lt; *Op-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *Op &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;       &lt;&lt; *Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = cast&lt;SCEVZeroExtendExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Op = ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;(zext &quot;</span> &lt;&lt; *Op-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *Op &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;       &lt;&lt; *ZExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = cast&lt;SCEVSignExtendExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Op = SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;(sext &quot;</span> &lt;&lt; *Op-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; *Op &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;       &lt;&lt; *SExt-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; *AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;,+,&quot;</span> &lt;&lt; *AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;}&lt;&quot;</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">FlagNUW</a>))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;nuw&gt;&lt;&quot;</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">FlagNSW</a>))</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;nsw&gt;&lt;&quot;</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">FlagNW</a>) &amp;&amp;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        !AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>((<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">NoWrapFlags</a>)(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">FlagNSW</a>)))</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;nw&gt;&lt;&quot;</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>: {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *NAry = cast&lt;SCEVNAryExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *OpStr = 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">switch</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>: OpStr = <span class="stringliteral">&quot; + &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: OpStr = <span class="stringliteral">&quot; * &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>: OpStr = <span class="stringliteral">&quot; umax &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>: OpStr = <span class="stringliteral">&quot; smax &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;(&quot;</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVNAryExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), E = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      OS &lt;&lt; **<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(I) != E)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        OS &lt;&lt; OpStr;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">switch</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">if</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">FlagNUW</a>))</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        OS &lt;&lt; <span class="stringliteral">&quot;&lt;nuw&gt;&quot;</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">FlagNSW</a>))</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        OS &lt;&lt; <span class="stringliteral">&quot;&lt;nsw&gt;&quot;</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = cast&lt;SCEVUDivExpr&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; *UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">getLHS</a>() &lt;&lt; <span class="stringliteral">&quot; /u &quot;</span> &lt;&lt; *UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">getRHS</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = cast&lt;SCEVUnknown&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *AllocTy;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a10135f38cb846d672b4530837e34593b">isSizeOf</a>(AllocTy)) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;sizeof(&quot;</span> &lt;&lt; *AllocTy &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a91b3f0898d048525f2815f4b60de2e74">isAlignOf</a>(AllocTy)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;alignof(&quot;</span> &lt;&lt; *AllocTy &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *CTy;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *FieldNo;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a0022ecc149d38b97ea65bbc904e90293">isOffsetOf</a>(CTy, FieldNo)) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;offsetof(&quot;</span> &lt;&lt; *CTy &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, FieldNo, <span class="keyword">false</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Otherwise just print it normally.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, U-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a3bc4a9a74af480995b4a5aa21470c577">getValue</a>(), <span class="keyword">false</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;***COULDNOTCOMPUTE***&quot;</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">  249</a></span>&#160;<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">SCEV::getType</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVCastExpr&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVNAryExpr&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVAddExpr&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>:</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVUDivExpr&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> cast&lt;SCEVUnknown&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">  275</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">SCEV::isZero</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isZero();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">  281</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">SCEV::isOne</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isOne();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a6e915d0a915541a818ab88b1fac7cbd1">  287</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a6e915d0a915541a818ab88b1fac7cbd1">SCEV::isAllOnesValue</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(<span class="keyword">this</span>))</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isAllOnesValue();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">/// isNonConstantNegative - Return true if the specified scev is negated, but</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/// not a constant.</span></div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEV.html#a004121efb296aedb4f06091d92b89442">  295</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEV.html#a004121efb296aedb4f06091d92b89442">SCEV::isNonConstantNegative</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a>&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (!Mul) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// If there is a constant factor, it will be first.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (!SC) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// Return true if the value is negative, this matches things like (-42 * V).</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">return</span> SC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">  307</a></span>&#160;<a class="code" href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">SCEVCouldNotCompute::SCEVCouldNotCompute</a>() :</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a>(<a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a>(), <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>) {}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">  310</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">SCEVCouldNotCompute::classof</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">return</span> S-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>() == <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">  314</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *V) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(V);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator), V);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa5096723795092a9d871e520e78998c0">  325</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>&amp; Val) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">return</span> getConstant(<a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(), Val));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a4171c1656e5184034c3b4a5a85e2c4f7">  330</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">ScalarEvolution::getConstant</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, uint64_t V, <span class="keywordtype">bool</span> isSigned) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ITy = cast&lt;IntegerType&gt;(getEffectiveSCEVType(Ty));</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> getConstant(<a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(ITy, V, isSigned));</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">  335</a></span>&#160;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">SCEVCastExpr::SCEVCastExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> ID,</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                           <span class="keywordtype">unsigned</span> SCEVTy, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *op, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  : <a class="code" href="classllvm_1_1SCEV.html">SCEV</a>(ID, SCEVTy), Op(op), Ty(ty) {}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;SCEVTruncateExpr::SCEVTruncateExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> ID,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *op, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  : <a class="code" href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">SCEVCastExpr</a>(ID, <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>, op, ty) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  assert((<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         (<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <span class="stringliteral">&quot;Cannot truncate non-integer value!&quot;</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;SCEVZeroExtendExpr::SCEVZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> ID,</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *op, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  : <a class="code" href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">SCEVCastExpr</a>(ID, <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>, op, ty) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  assert((<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         (<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         <span class="stringliteral">&quot;Cannot zero extend non-integer value!&quot;</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;SCEVSignExtendExpr::SCEVSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1FoldingSetNodeIDRef.html">FoldingSetNodeIDRef</a> ID,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *op, <a class="code" href="classllvm_1_1Type.html">Type</a> *ty)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  : <a class="code" href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">SCEVCastExpr</a>(ID, <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>, op, ty) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  assert((<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;         (<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;         <span class="stringliteral">&quot;Cannot sign extend non-integer value!&quot;</span>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="keywordtype">void</span> SCEVUnknown::deleted() {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// Clear this SCEVUnknown from various maps.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  SE-&gt;forgetMemoizedResults(<span class="keyword">this</span>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Remove this SCEVUnknown from the uniquing map.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  SE-&gt;UniqueSCEVs.RemoveNode(<span class="keyword">this</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// Release the value.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  setValPtr(0);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keywordtype">void</span> SCEVUnknown::allUsesReplacedWith(<a class="code" href="classllvm_1_1Value.html">Value</a> *New) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// Clear this SCEVUnknown from various maps.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  SE-&gt;forgetMemoizedResults(<span class="keyword">this</span>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// Remove this SCEVUnknown from the uniquing map.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  SE-&gt;UniqueSCEVs.RemoveNode(<span class="keyword">this</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// Update this SCEVUnknown to point to the new value. This is needed</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// because there may still be outstanding SCEVs which still point to</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// this SCEVUnknown.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  setValPtr(New);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#a10135f38cb846d672b4530837e34593b">  387</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#a10135f38cb846d672b4530837e34593b">SCEVUnknown::isSizeOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;AllocTy)<span class="keyword"> const </span>{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(getValue()))</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue() &amp;&amp;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            CE-&gt;getNumOperands() == 2)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(CE-&gt;getOperand(1)))</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (CI-&gt;isOne()) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              AllocTy = cast&lt;PointerType&gt;(CE-&gt;getOperand(0)-&gt;getType())</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                 -&gt;getElementType();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#a91b3f0898d048525f2815f4b60de2e74">  404</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#a91b3f0898d048525f2815f4b60de2e74">SCEVUnknown::isAlignOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;AllocTy)<span class="keyword"> const </span>{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(getValue()))</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue()) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> =</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            cast&lt;PointerType&gt;(CE-&gt;getOperand(0)-&gt;getType())-&gt;getElementType();</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(Ty))</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span> (!STy-&gt;isPacked() &amp;&amp;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                CE-&gt;getNumOperands() == 3 &amp;&amp;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                CE-&gt;getOperand(1)-&gt;isNullValue()) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(CE-&gt;getOperand(2)))</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordflow">if</span> (CI-&gt;isOne() &amp;&amp;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    STy-&gt;getNumElements() == 2 &amp;&amp;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    STy-&gt;getElementType(0)-&gt;isIntegerTy(1)) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                  AllocTy = STy-&gt;getElementType(1);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVUnknown.html#a0022ecc149d38b97ea65bbc904e90293">  429</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SCEVUnknown.html#a0022ecc149d38b97ea65bbc904e90293">SCEVUnknown::isOffsetOf</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;CTy, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;FieldNo)<span class="keyword"> const </span>{</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *VCE = dyn_cast&lt;ConstantExpr&gt;(getValue()))</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (VCE-&gt;getOpcode() == Instruction::PtrToInt)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(VCE-&gt;getOperand(0)))</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr &amp;&amp;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            CE-&gt;getNumOperands() == 3 &amp;&amp;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            CE-&gt;getOperand(0)-&gt;isNullValue() &amp;&amp;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            CE-&gt;getOperand(1)-&gt;isNullValue()) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> =</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            cast&lt;PointerType&gt;(CE-&gt;getOperand(0)-&gt;getType())-&gt;getElementType();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="comment">// Ignore vector types here so that ScalarEvolutionExpander doesn&#39;t</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          <span class="comment">// emit getelementptrs that index into vectors.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;          <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">isStructTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">isArrayTy</a>()) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            CTy = <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            FieldNo = CE-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//                               SCEV Utilities</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">  /// SCEVComplexityCompare - Return true if the complexity of the LHS is less</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">  /// than the complexity of the RHS.  This comparator is used to canonicalize</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">  /// expressions.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>SCEVComplexityCompare {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *<span class="keyword">const</span> LI;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keyword">explicit</span> SCEVComplexityCompare(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *li) : LI(li) {}</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// Return true or false if LHS is less than, or at least RHS, respectively.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> compare(LHS, RHS) &lt; 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// Return negative, zero, or positive, if LHS is less than, equal to, or</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// greater than RHS, respectively. A three-way result allows recursive</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// comparisons to be more efficient.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">int</span> compare(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="comment">// Fast-path: SCEVs are uniqued so we can do a quick equality check.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">if</span> (LHS == RHS)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="comment">// Primarily, sort the SCEVs by their getSCEVType().</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordtype">unsigned</span> LType = LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>(), RType = RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>();</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (LType != RType)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LType - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RType;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">// Aside from the getSCEVType() ordering, the particular ordering</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// isn&#39;t very important except that it&#39;s beneficial to be consistent,</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// so that (a + b) and (b + a) don&#39;t end up as different expressions.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">switch</span> (LType) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>: {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *LU = cast&lt;SCEVUnknown&gt;(LHS);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *RU = cast&lt;SCEVUnknown&gt;(RHS);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="comment">// Sort SCEVUnknown values with some loose heuristics. TODO: This is</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// not as complete as it could be.</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *LV = LU-&gt;<a class="code" href="classllvm_1_1SCEVUnknown.html#a3bc4a9a74af480995b4a5aa21470c577">getValue</a>(), *RV = RU-&gt;getValue();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// Order pointer values after integer values. This helps SCEVExpander</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="comment">// form GEPs.</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordtype">bool</span> LIsPointer = LV-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>(),</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;             RIsPointer = RV-&gt;getType()-&gt;isPointerTy();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">if</span> (LIsPointer != RIsPointer)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LIsPointer - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RIsPointer;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// Compare getValueID values.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordtype">unsigned</span> LID = LV-&gt;getValueID(),</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                 RID = RV-&gt;getValueID();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (LID != RID)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LID - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RID;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="comment">// Sort arguments by their position.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> *LA = dyn_cast&lt;Argument&gt;(LV)) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> *RA = cast&lt;Argument&gt;(RV);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;          <span class="keywordtype">unsigned</span> LArgNo = LA-&gt;<a class="code" href="classllvm_1_1Argument.html#ac70153649461940646eeb8b9ce50e416">getArgNo</a>(), RArgNo = RA-&gt;<a class="code" href="classllvm_1_1Argument.html#ac70153649461940646eeb8b9ce50e416">getArgNo</a>();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LArgNo - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RArgNo;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// For instructions, compare their loop depth, and their operand</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">// count.  This is pretty loose.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LInst = dyn_cast&lt;Instruction&gt;(LV)) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *RInst = cast&lt;Instruction&gt;(RV);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;          <span class="comment">// Compare loop depths.</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *LParent = LInst-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>(),</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                           *RParent = RInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;          <span class="keywordflow">if</span> (LParent != RParent) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordtype">unsigned</span> LDepth = LI-&gt;<a class="code" href="classllvm_1_1LoopInfo.html#a69576a5861b1eea7ca059aef7c962548">getLoopDepth</a>(LParent),</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                     RDepth = LI-&gt;<a class="code" href="classllvm_1_1LoopInfo.html#a69576a5861b1eea7ca059aef7c962548">getLoopDepth</a>(RParent);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> (LDepth != RDepth)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;              <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LDepth - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RDepth;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <span class="comment">// Compare the number of operands.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          <span class="keywordtype">unsigned</span> LNumOps = LInst-&gt;getNumOperands(),</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                   RNumOps = RInst-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>();</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>: {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LC = cast&lt;SCEVConstant&gt;(LHS);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RC = cast&lt;SCEVConstant&gt;(RHS);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">// Compare constant values.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;LA = LC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;RA = RC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordtype">unsigned</span> LBitWidth = LA.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>(), RBitWidth = RA.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> (LBitWidth != RBitWidth)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LBitWidth - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RBitWidth;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">return</span> LA.ult(RA) ? -1 : 1;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *LA = cast&lt;SCEVAddRecExpr&gt;(LHS);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *RA = cast&lt;SCEVAddRecExpr&gt;(RHS);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// Compare addrec loop depths.</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *LLoop = LA-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>(), *RLoop = RA-&gt;getLoop();</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (LLoop != RLoop) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordtype">unsigned</span> LDepth = LLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a433660a96d8e96997856d16c5930b096">getLoopDepth</a>(),</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                   RDepth = RLoop-&gt;getLoopDepth();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <span class="keywordflow">if</span> (LDepth != RDepth)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LDepth - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RDepth;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// Addrec complexity grows with operand count.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordtype">unsigned</span> LNumOps = LA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(), RNumOps = RA-&gt;getNumOperands();</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">if</span> (LNumOps != RNumOps)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// Lexicographically compare.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != LNumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;          <span class="keywordtype">long</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = compare(LA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), RA-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          <span class="keywordflow">if</span> (X != 0)</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>: {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *LC = cast&lt;SCEVNAryExpr&gt;(LHS);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *RC = cast&lt;SCEVNAryExpr&gt;(RHS);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// Lexicographically compare n-ary expressions.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordtype">unsigned</span> LNumOps = LC-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(), RNumOps = RC-&gt;getNumOperands();</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">if</span> (LNumOps != RNumOps)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;          <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != LNumOps; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= RNumOps)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <span class="keywordtype">long</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = compare(LC-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), RC-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          <span class="keywordflow">if</span> (X != 0)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)LNumOps - (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)RNumOps;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *LC = cast&lt;SCEVUDivExpr&gt;(LHS);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *RC = cast&lt;SCEVUDivExpr&gt;(RHS);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="comment">// Lexicographically compare udiv expressions.</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordtype">long</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = compare(LC-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">getLHS</a>(), RC-&gt;getLHS());</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span> (X != 0)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">return</span> compare(LC-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">getRHS</a>(), RC-&gt;getRHS());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVCastExpr.html">SCEVCastExpr</a> *LC = cast&lt;SCEVCastExpr&gt;(LHS);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVCastExpr.html">SCEVCastExpr</a> *RC = cast&lt;SCEVCastExpr&gt;(RHS);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="comment">// Compare cast expressions by operand.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">return</span> compare(LC-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>(), RC-&gt;getOperand());</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  };</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/// GroupByComplexity - Given a list of SCEV objects, order them by their</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">/// complexity, and group objects of the same complexity together by value.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">/// When this routine is finished, we know that any duplicates in the vector are</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">/// consecutive and that complexity is monotonically increasing.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/// Note that we go take special precautions to ensure that we get deterministic</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">/// results from this routine.  In other words, we don&#39;t want the results of</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">/// this to depend on where the addresses of various SCEV objects happened to</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">/// land in memory.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">  639</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                              <a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a> *LI) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &lt; 2) <span class="keywordflow">return</span>;  <span class="comment">// Noop</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// This is the common case, which also happens to be trivially simple.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// Special case it.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;LHS = Ops[0], *&amp;RHS = Ops[1];</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (SCEVComplexityCompare(LI)(RHS, LHS))</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// Do the rough sort by complexity.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  std::stable_sort(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), SCEVComplexityCompare(LI));</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// Now that we are sorted by complexity, group elements of the same</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// complexity.  Note that this is, at worst, N^2, but the vector is likely to</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// be extremely short in practice.  Note that we take this approach because we</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// do not want to depend on the addresses of the objects we are grouping.</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e-2; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">unsigned</span> Complexity = S-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>();</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// If there are any objects of the same complexity and same value as this</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// one, group them.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != e &amp;&amp; Ops[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>]-&gt;getSCEVType() == Complexity; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (Ops[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>] == S) { <span class="comment">// Found a duplicate.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">// Move it to immediately after i&#39;th element.</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1], Ops[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>]);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;   <span class="comment">// no need to rescan it.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> == e-2) <span class="keywordflow">return</span>;  <span class="comment">// Done!</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">//                      Simple SCEV method implementations</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">/// BinomialCoefficient - Compute BC(It, K).  The result has width W.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/// Assume, K &gt; 0.</span></div><div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">  683</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *It, <span class="keywordtype">unsigned</span> K,</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                       ScalarEvolution &amp;SE,</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                                       <a class="code" href="classllvm_1_1Type.html">Type</a> *ResultTy) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Handle the simplest case efficiently.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">if</span> (K == 1)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">getTruncateOrZeroExtend</a>(It, ResultTy);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// We are using the following formula for BC(It, K):</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">//   BC(It, K) = (It * (It - 1) * ... * (It - K + 1)) / K!</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="comment">// Suppose, W is the bitwidth of the return value.  We must be prepared for</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// overflow.  Hence, we must assure that the result of our computation is</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// equal to the accurate one modulo 2^W.  Unfortunately, division isn&#39;t</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// safe in modular arithmetic.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// However, this code doesn&#39;t use exactly that formula; the formula it uses</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// is something like the following, where T is the number of factors of 2 in</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// K! (i.e. trailing zeros in the binary representation of K!), and ^ is</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// exponentiation:</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="comment">//   BC(It, K) = (It * (It - 1) * ... * (It - K + 1)) / 2^T / (K! / 2^T)</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// This formula is trivially equivalent to the previous formula.  However,</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// this formula can be implemented much more efficiently.  The trick is that</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// K! / 2^T is odd, and exact division by an odd number *is* safe in modular</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// arithmetic.  To do exact division in modular arithmetic, all we have</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// to do is multiply by the inverse.  Therefore, this step can be done at</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// width W.</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// The next issue is how to safely do the division by 2^T.  The way this</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// is done is by doing the multiplication step at a width of at least W + T</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="comment">// bits.  This way, the bottom W+T bits of the product are accurate. Then,</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// when we perform the division by 2^T (which is equivalent to a right shift</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// by T), the bottom W bits are accurate.  Extra bits are okay; they&#39;ll get</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// truncated out after the division by 2^T.</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// In comparison to just directly using the first formula, this technique</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// is much more efficient; using the first formula requires W * K bits,</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// but this formula less than W + K bits. Also, the first formula requires</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// a division step, whereas this formula only requires multiplies and shifts.</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// It doesn&#39;t matter whether the subtraction step is done in the calculation</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// width or the input iteration count&#39;s width; if the subtraction overflows,</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// the result must be zero anyway.  We prefer here to do it in the width of</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">// the induction variable because it helps a lot for certain cases; CodeGen</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// isn&#39;t smart enough to ignore the overflow, which leads to much less</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// efficient code if the width of the subtraction is wider than the native</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// register width.</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="comment">// (It&#39;s possible to not widen at all by pulling out factors of 2 before</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">// the multiplication; for example, K=2 can be calculated as</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="comment">// It/2*(It+(It*INT_MIN/INT_MIN)+-1). However, it requires</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// extra arithmetic, so it&#39;s not an obvious win, and it gets</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// much more complicated for K &gt; 3.)</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// Protection from insane SCEVs; this bound is conservative,</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// but it probably doesn&#39;t matter.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> (K &gt; 1000)</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">unsigned</span> W = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(ResultTy);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Calculate K! / 2^T and T; we divide out the factors of two before</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="comment">// multiplying for calculating K! / 2^T to avoid overflow.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// Other overflow doesn&#39;t matter because we only care about the bottom</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// W bits of the result.</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> OddFactorial(W, 1);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classT.html">T</a> = 1;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= K; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122a489c5c03b43333daa30af69d887fc1f2">Mult</a>(W, <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordtype">unsigned</span> TwoFactors = Mult.<a class="code" href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    T += TwoFactors;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    Mult = Mult.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(TwoFactors);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    OddFactorial *= <a class="code" href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122a489c5c03b43333daa30af69d887fc1f2">Mult</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// We need at least W + T bits for the multiplication step</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordtype">unsigned</span> CalculationBits = W + <a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// Calculate 2^T, at width T+W.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> DivFactor = <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(CalculationBits, T);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">// Calculate the multiplicative inverse of K! / 2^T;</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// this multiplication factor will perform the exact division by</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// K! / 2^T.</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mod = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(W+1);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MultiplyFactor = OddFactorial.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(W+1);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  MultiplyFactor = MultiplyFactor.<a class="code" href="classllvm_1_1APInt.html#a2d6a134752bc31f9034f28936e36f77a">multiplicativeInverse</a>(Mod);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  MultiplyFactor = MultiplyFactor.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(W);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// Calculate the product, at width T+W</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *CalculationTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(),</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                                      CalculationBits);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Dividend = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">getTruncateOrZeroExtend</a>(It, CalculationTy);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != K; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">getMinusSCEV</a>(It, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(It-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    Dividend = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(Dividend,</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                             SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">getTruncateOrZeroExtend</a>(S, CalculationTy));</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// Divide by 2^T</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *DivResult = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">getUDivExpr</a>(Dividend, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(DivFactor));</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// Truncate the result, and divide by K! / 2^T.</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(MultiplyFactor),</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                       SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">getTruncateOrZeroExtend</a>(DivResult, ResultTy));</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">/// evaluateAtIteration - Return the value of this chain of recurrences at</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">/// the specified iteration number.  We can evaluate this recurrence by</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">/// multiplying each element in the chain by the binomial coefficient</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">/// corresponding to it.  In other words, we can evaluate {A,+,B,+,C,+,D} as:</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">///   A*BC(It, 0) + B*BC(It, 1) + C*BC(It, 2) + D*BC(It, 3)</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">/// where BC(It, k) stands for binomial coefficient.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a11bb31f99854303d2a934765469c5c2c">  802</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a11bb31f99854303d2a934765469c5c2c">SCEVAddRecExpr::evaluateAtIteration</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *It,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                                ScalarEvolution &amp;SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Result = getStart();</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// The computation is correct in the face of overflow provided that the</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// multiplication is performed _after_ the evaluation of the binomial</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// coefficient.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Coeff = <a class="code" href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a>(It, <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, SE, <a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(Coeff))</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">return</span> Coeff;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    Result = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(Result, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), Coeff));</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;}</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">//                    SCEV Expression folder implementations</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a8344b86f018c5c78a986fb97e1eaf20b">  822</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a8344b86f018c5c78a986fb97e1eaf20b">ScalarEvolution::getTruncateExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>,</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                                             <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  assert(getTypeSizeInBits(Op-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &gt; getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;         <span class="stringliteral">&quot;This is not a truncating conversion!&quot;</span>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  assert(isSCEVable(Ty) &amp;&amp;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Op);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Ty);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Op))</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> getConstant(</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">ConstantExpr::getTrunc</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)));</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// trunc(trunc(x)) --&gt; trunc(x)</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Op))</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span> getTruncateExpr(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// trunc(sext(x)) --&gt; sext(x) if widening or trunc(x) if narrowing</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SS = dyn_cast&lt;SCEVSignExtendExpr&gt;(Op))</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> getTruncateOrSignExtend(SS-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// trunc(zext(x)) --&gt; zext(x) if widening or trunc(x) if narrowing</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(Op))</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span> getTruncateOrZeroExtend(SZ-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// trunc(x1+x2+...+xN) --&gt; trunc(x1)+trunc(x2)+...+trunc(xN) if we can</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">// eliminate all the truncates.</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *SA = dyn_cast&lt;SCEVAddExpr&gt;(Op)) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordtype">bool</span> hasTrunc = <span class="keyword">false</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SA-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e &amp;&amp; !hasTrunc; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = getTruncateExpr(SA-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      hasTrunc = isa&lt;SCEVTruncateExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(S);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (!hasTrunc)</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordflow">return</span> getAddExpr(Operands);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    UniqueSCEVs.FindNodeOrInsertPos(ID, IP);  <span class="comment">// Mutates IP, returns NULL.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// trunc(x1*x2*...*xN) --&gt; trunc(x1)*trunc(x2)*...*trunc(xN) if we can</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// eliminate all the truncates.</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *SM = dyn_cast&lt;SCEVMulExpr&gt;(Op)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordtype">bool</span> hasTrunc = <span class="keyword">false</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SM-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e &amp;&amp; !hasTrunc; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = getTruncateExpr(SM-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      hasTrunc = isa&lt;SCEVTruncateExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(S);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> (!hasTrunc)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">return</span> getMulExpr(Operands);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    UniqueSCEVs.FindNodeOrInsertPos(ID, IP);  <span class="comment">// Mutates IP, returns NULL.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// If the input value is a chrec scev, truncate the chrec&#39;s operands.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(Op)) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AddRec-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getTruncateExpr(AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>));</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">return</span> getAddRecExpr(Operands, AddRec-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node. We can reuse</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// the existing insert position since if we get here, we won&#39;t have</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="comment">// made any changes which would invalidate it.</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                                 <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>, <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;}</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abfa1a24cb47fd5fedbc7109b905741a3">  901</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#abfa1a24cb47fd5fedbc7109b905741a3">ScalarEvolution::getZeroExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                               <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  assert(getTypeSizeInBits(Op-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt; getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  assert(isSCEVable(Ty) &amp;&amp;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Op))</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span> getConstant(</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)));</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// zext(zext(x)) --&gt; zext(x)</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(Op))</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">return</span> getZeroExtendExpr(SZ-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Before doing any expensive analysis, check to see if we&#39;ve already</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// computed a SCEV for this Op and Ty.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Op);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Ty);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// zext(trunc(x)) --&gt; zext(x) or x or trunc(x)</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Op)) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// It&#39;s possible the bits taken off by the truncate were all zero bits. If</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// so, we should be able to simplify this further.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getOperand();</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = getUnsignedRange(X);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">unsigned</span> TruncBits = getTypeSizeInBits(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getType());</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordtype">unsigned</span> NewBits = getTypeSizeInBits(Ty);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">truncate</a>(TruncBits).<a class="code" href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">zeroExtend</a>(NewBits).<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            CR.<a class="code" href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">zextOrTrunc</a>(NewBits)))</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">return</span> getTruncateOrZeroExtend(X, Ty);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// If the input value is a chrec scev, and we can prove that the value</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// did not overflow the old, smaller, value, we can zero extend all of the</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="comment">// operands (often constants).  This allows analysis of something like</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// this:  for (unsigned char X = 0; X &lt; 100; ++X) { int Y = X; }</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Op))</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;isAffine()) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;getStart();</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(AR-&gt;getType());</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;getLoop();</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// If we have special knowledge that this addrec won&#39;t overflow,</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="comment">// we don&#39;t need to do any further analysis.</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">if</span> (AR-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>))</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">return</span> getAddRecExpr(getZeroExtendExpr(Start, Ty),</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                             getZeroExtendExpr(Step, Ty),</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                             L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="comment">// being called from within backedge-taken count analysis, such that</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="comment">// cope with a conservative value, and it will take care to purge</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="comment">// that value once it has finished.</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getMaxBackedgeTakenCount(L);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount)) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">// Manually compute the final value for AR, checking for</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="comment">// overflow.</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="comment">// Check whether the backedge-taken count can be losslessly casted to</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="comment">// the addrec&#39;s type. The count is always unsigned.</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CastedMaxBECount =</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          getTruncateOrZeroExtend(MaxBECount, Start-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RecastedMaxBECount =</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          getTruncateOrZeroExtend(CastedMaxBECount, MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (MaxBECount == RecastedMaxBECount) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(getContext(), BitWidth * 2);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <span class="comment">// Check whether Start+Step*MaxBECount has no unsigned overflow.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZMul = getMulExpr(CastedMaxBECount, Step);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZAdd = getZeroExtendExpr(getAddExpr(Start, ZMul), WideTy);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideStart = getZeroExtendExpr(Start, WideTy);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideMaxBECount =</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            getZeroExtendExpr(CastedMaxBECount, WideTy);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedAdd =</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            getAddExpr(WideStart,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                       getMulExpr(WideMaxBECount,</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                  getZeroExtendExpr(Step, WideTy)));</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <span class="keywordflow">if</span> (ZAdd == OperandExtendedAdd) {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="comment">// Cache knowledge of AR NUW, which is propagated to this AddRec.</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(getZeroExtendExpr(Start, Ty),</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                 getZeroExtendExpr(Step, Ty),</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          <span class="comment">// Similar to above, only this time treat the step value as signed.</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          <span class="comment">// This covers loops that count down.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          OperandExtendedAdd =</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            getAddExpr(WideStart,</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                       getMulExpr(WideMaxBECount,</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                  getSignExtendExpr(Step, WideTy)));</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <span class="keywordflow">if</span> (ZAdd == OperandExtendedAdd) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="comment">// Cache knowledge of AR NW, which is propagated to this AddRec.</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="comment">// Negative step causes unsigned wrap, but it still can&#39;t self-wrap.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(getZeroExtendExpr(Start, Ty),</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                 getSignExtendExpr(Step, Ty),</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;          }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="comment">// If the backedge is guarded by a comparison with the pre-inc value</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="comment">// the addrec is safe. Also, if the entry is guarded by a comparison</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="comment">// with the start value and the backedge is guarded by a comparison</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="comment">// with the post-inc value, the addrec is safe.</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span> (isKnownPositive(Step)) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = getConstant(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(BitWidth) -</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                      getUnsignedRange(Step).getUnsignedMax());</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          <span class="keywordflow">if</span> (isLoopBackedgeGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, AR, N) ||</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;              (isLoopEntryGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>, Start, N) &amp;&amp;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;               isLoopBackedgeGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>,</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                           AR-&gt;getPostIncExpr(*<span class="keyword">this</span>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="comment">// Cache knowledge of AR NUW, which is propagated to this AddRec.</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(getZeroExtendExpr(Start, Ty),</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                                 getZeroExtendExpr(Step, Ty),</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;          }</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isKnownNegative(Step)) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = getConstant(<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(BitWidth) -</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                      getSignedRange(Step).getSignedMin());</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          <span class="keywordflow">if</span> (isLoopBackedgeGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>, AR, N) ||</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;              (isLoopEntryGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>, Start, N) &amp;&amp;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;               isLoopBackedgeGuardedByCond(L, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                           AR-&gt;getPostIncExpr(*<span class="keyword">this</span>), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))) {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="comment">// Cache knowledge of AR NW, which is propagated to this AddRec.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="comment">// Negative step causes unsigned wrap, but it still can&#39;t self-wrap.</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(getZeroExtendExpr(Start, Ty),</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                 getSignExtendExpr(Step, Ty),</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;          }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node.</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="comment">// Recompute the insert position, as it may have been invalidated.</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                                   <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>, <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">// Get the limit of a recurrence such that incrementing by Step cannot cause</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">// signed overflow as long as the value of the recurrence within the loop does</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">// not exceed this limit before incrementing.</span></div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a26b60b007df3a21de84404f81a992496"> 1063</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a26b60b007df3a21de84404f81a992496">getOverflowLimitForStep</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                           <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> *Pred,</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                           ScalarEvolution *SE) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">isKnownPositive</a>(Step)) {</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    *Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth) -</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                           SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#adab4916baed5afefadd4d8e4692d6080">getSignedRange</a>(Step).<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>());</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">isKnownNegative</a>(Step)) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    *Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth) -</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                       SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#adab4916baed5afefadd4d8e4692d6080">getSignedRange</a>(Step).<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>());</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">// The recurrence AR has been shown to have no signed wrap. Typically, if we can</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">// prove NSW for AR, then we can just as easily prove NSW for its preincrement</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">// or postincrement sibling. This allows normalizing a sign extended AddRec as</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">// such: {sext(Step + Start),+,Step} =&gt; {(Step + sext(Start),+,Step} As a</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">// result, the expression &quot;Step + sext(PreIncAR)&quot; is congruent with</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">// &quot;sext(PostIncAR)&quot;</span></div><div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a80378bffde4634fdd6aff28a7d5047a2"> 1086</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a80378bffde4634fdd6aff28a7d5047a2">getPreStartForSignExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                            <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>,</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                            ScalarEvolution *SE) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>();</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*SE);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="comment">// Check for a simple looking step prior to loop entry.</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *SA = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a>&gt;(Start);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">if</span> (!SA)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// Create an AddExpr for &quot;PreStart&quot; after subtracting Step. Full SCEV</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// subtraction is expensive. For this purpose, perform a quick and dirty</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// difference, by checking for Step in the operand list.</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> DiffOps;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), E = SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>();</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Step)</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      DiffOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keywordflow">if</span> (DiffOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>())</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// This is a postinc AR. Check for overflow on the preinc recurrence using the</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// same three conditions that getSignExtendedExpr checks.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">// 1. NSW flags on the step increment.</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PreStart = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(DiffOps, SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>());</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *PreAR = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(PreStart, Step, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>));</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">if</span> (PreAR &amp;&amp; PreAR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>))</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span> PreStart;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// 2. Direct overflow check on the step operation&#39;s expression.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">getType</a>());</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(), BitWidth * 2);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedStart =</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(PreStart, WideTy),</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                   SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(Step, WideTy));</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(Start, WideTy) == OperandExtendedStart) {</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Cache knowledge of PreAR NSW.</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (PreAR)</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(PreAR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// FIXME: this optimization needs a unit test</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SCEV: untested prestart overflow check\n&quot;</span>);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> PreStart;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// 3. Loop precondition.</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OverflowLimit = <a class="code" href="ScalarEvolution_8cpp.html#a26b60b007df3a21de84404f81a992496">getOverflowLimitForStep</a>(Step, &amp;Pred, SE);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">if</span> (OverflowLimit &amp;&amp;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">isLoopEntryGuardedByCond</a>(L, Pred, PreStart, OverflowLimit)) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">return</span> PreStart;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">// Get the normalized sign-extended expression for this AddRec&#39;s Start.</span></div><div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c"> 1148</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR,</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                                            <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                                            ScalarEvolution *SE) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PreStart = <a class="code" href="ScalarEvolution_8cpp.html#a80378bffde4634fdd6aff28a7d5047a2">getPreStartForSignExtend</a>(AR, Ty, SE);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (!PreStart)</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*SE), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>),</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                        SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">getSignExtendExpr</a>(PreStart, Ty));</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div><div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c"> 1159</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">ScalarEvolution::getSignExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                               <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  assert(getTypeSizeInBits(Op-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt; getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  assert(isSCEVable(Ty) &amp;&amp;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// Fold if the operand is constant.</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Op))</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> getConstant(</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a365628d9f62e7a281d493d15bdb13b27">ConstantExpr::getSExt</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)));</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// sext(sext(x)) --&gt; sext(x)</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SS = dyn_cast&lt;SCEVSignExtendExpr&gt;(Op))</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">return</span> getSignExtendExpr(SS-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// sext(zext(x)) --&gt; zext(x)</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = dyn_cast&lt;SCEVZeroExtendExpr&gt;(Op))</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> getZeroExtendExpr(SZ-&gt;getOperand(), <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">// Before doing any expensive analysis, check to see if we&#39;ve already</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="comment">// computed a SCEV for this Op and Ty.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Op);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Ty);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// If the input value is provably positive, build a zext instead.</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">if</span> (isKnownNonNegative(Op))</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">return</span> getZeroExtendExpr(Op, Ty);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="comment">// sext(trunc(x)) --&gt; sext(x) or x or trunc(x)</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Op)) {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="comment">// It&#39;s possible the bits taken off by the truncate were all sign bits. If</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="comment">// so, we should be able to simplify this further.</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getOperand();</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = getSignedRange(X);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordtype">unsigned</span> TruncBits = getTypeSizeInBits(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>-&gt;getType());</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordtype">unsigned</span> NewBits = getTypeSizeInBits(Ty);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">truncate</a>(TruncBits).<a class="code" href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">signExtend</a>(NewBits).<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            CR.<a class="code" href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">sextOrTrunc</a>(NewBits)))</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">return</span> getTruncateOrSignExtend(X, Ty);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// If the input value is a chrec scev, and we can prove that the value</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// did not overflow the old, smaller, value, we can sign extend all of the</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// operands (often constants).  This allows analysis of something like</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// this:  for (signed char X = 0; X &lt; 100; ++X) { int Y = X; }</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Op))</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;isAffine()) {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AR-&gt;getStart();</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AR-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(AR-&gt;getType());</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;getLoop();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="comment">// If we have special knowledge that this addrec won&#39;t overflow,</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="comment">// we don&#39;t need to do any further analysis.</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">if</span> (AR-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>))</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">return</span> getAddRecExpr(<a class="code" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a>(AR, Ty, <span class="keyword">this</span>),</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                             getSignExtendExpr(Step, Ty),</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                             L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="comment">// Check whether the backedge-taken count is SCEVCouldNotCompute.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="comment">// Note that this serves two purposes: It filters out loops that are</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="comment">// simply not analyzable, and it covers the case where this code is</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="comment">// being called from within backedge-taken count analysis, such that</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="comment">// attempting to ask for the backedge-taken count would likely result</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="comment">// in infinite recursion. In the later case, the analysis code will</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="comment">// cope with a conservative value, and it will take care to purge</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="comment">// that value once it has finished.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getMaxBackedgeTakenCount(L);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount)) {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="comment">// Manually compute the final value for AR, checking for</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="comment">// overflow.</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="comment">// Check whether the backedge-taken count can be losslessly casted to</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">// the addrec&#39;s type. The count is always unsigned.</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CastedMaxBECount =</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;          getTruncateOrZeroExtend(MaxBECount, Start-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RecastedMaxBECount =</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;          getTruncateOrZeroExtend(CastedMaxBECount, MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span> (MaxBECount == RecastedMaxBECount) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *WideTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(getContext(), BitWidth * 2);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;          <span class="comment">// Check whether Start+Step*MaxBECount has no signed overflow.</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SMul = getMulExpr(CastedMaxBECount, Step);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SAdd = getSignExtendExpr(getAddExpr(Start, SMul), WideTy);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideStart = getSignExtendExpr(Start, WideTy);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *WideMaxBECount =</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            getZeroExtendExpr(CastedMaxBECount, WideTy);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OperandExtendedAdd =</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            getAddExpr(WideStart,</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                       getMulExpr(WideMaxBECount,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                                  getSignExtendExpr(Step, WideTy)));</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          <span class="keywordflow">if</span> (SAdd == OperandExtendedAdd) {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="comment">// Cache knowledge of AR NSW, which is propagated to this AddRec.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(<a class="code" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a>(AR, Ty, <span class="keyword">this</span>),</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                                 getSignExtendExpr(Step, Ty),</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;          <span class="comment">// Similar to above, only this time treat the step value as unsigned.</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;          <span class="comment">// This covers loops that count up with an unsigned step.</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;          OperandExtendedAdd =</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            getAddExpr(WideStart,</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                       getMulExpr(WideMaxBECount,</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                  getZeroExtendExpr(Step, WideTy)));</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          <span class="keywordflow">if</span> (SAdd == OperandExtendedAdd) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="comment">// Cache knowledge of AR NSW, which is propagated to this AddRec.</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="comment">// Return the expression with the addrec on the outside.</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(<a class="code" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a>(AR, Ty, <span class="keyword">this</span>),</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                                 getZeroExtendExpr(Step, Ty),</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                                 L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;          }</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="comment">// If the backedge is guarded by a comparison with the pre-inc value</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="comment">// the addrec is safe. Also, if the entry is guarded by a comparison</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="comment">// with the start value and the backedge is guarded by a comparison</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="comment">// with the post-inc value, the addrec is safe.</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OverflowLimit = <a class="code" href="ScalarEvolution_8cpp.html#a26b60b007df3a21de84404f81a992496">getOverflowLimitForStep</a>(Step, &amp;Pred, <span class="keyword">this</span>);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordflow">if</span> (OverflowLimit &amp;&amp;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            (isLoopBackedgeGuardedByCond(L, Pred, AR, OverflowLimit) ||</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;             (isLoopEntryGuardedByCond(L, Pred, Start, OverflowLimit) &amp;&amp;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;              isLoopBackedgeGuardedByCond(L, Pred, AR-&gt;getPostIncExpr(*<span class="keyword">this</span>),</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                                          OverflowLimit)))) {</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          <span class="comment">// Cache knowledge of AR NSW, then propagate NSW to the wide AddRec.</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;          <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(AR)-&gt;setNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;          <span class="keywordflow">return</span> getAddRecExpr(<a class="code" href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a>(AR, Ty, <span class="keyword">this</span>),</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                               getSignExtendExpr(Step, Ty),</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                               L, AR-&gt;getNoWrapFlags());</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="comment">// The cast wasn&#39;t folded; create an explicit cast node.</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// Recompute the insert position, as it may have been invalidated.</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                                   <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>, <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">/// getAnyExtendExpr - Return a SCEV for the given operand extended with</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">/// unspecified bits out to the given type.</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01311"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156"> 1311</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">ScalarEvolution::getAnyExtendExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>,</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                              <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  assert(getTypeSizeInBits(Op-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt; getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;         <span class="stringliteral">&quot;This is not an extending conversion!&quot;</span>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  assert(isSCEVable(Ty) &amp;&amp;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;         <span class="stringliteral">&quot;This is not a conversion to a SCEVable type!&quot;</span>);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// Sign-extend negative constants.</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(Op))</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;getValue().isNegative())</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">return</span> getSignExtendExpr(Op, Ty);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="comment">// Peel off a truncate cast.</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Op)) {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewOp = <a class="code" href="classT.html">T</a>-&gt;getOperand();</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">if</span> (getTypeSizeInBits(NewOp-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt; getTypeSizeInBits(Ty))</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">return</span> getAnyExtendExpr(NewOp, Ty);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">return</span> getTruncateOrNoop(NewOp, Ty);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  }</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="comment">// Next try a zext cast. If the cast is folded, use it.</span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ZExt = getZeroExtendExpr(Op, Ty);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVZeroExtendExpr&gt;(ZExt))</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span> ZExt;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Next try a sext cast. If the cast is folded, use it.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SExt = getSignExtendExpr(Op, Ty);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVSignExtendExpr&gt;(SExt))</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> SExt;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// Force the cast to be folded into the operands of an addrec.</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Op)) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Ops;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddRecExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AR-&gt;op_begin(), E = AR-&gt;op_end();</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getAnyExtendExpr(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Ty));</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> getAddRecExpr(Ops, AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">// If the expression is obviously signed, use the sext cast value.</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVSMaxExpr&gt;(Op))</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">return</span> SExt;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// Absent any other information, use the zext cast value.</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">return</span> ZExt;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">/// CollectAddOperandsWithScales - Process the given Ops list, which is</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">/// a list of operands to be added under the given scale, update the given</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">/// map. This is a helper function for getAddRecExpr. As an example of</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">/// what it does, given a sequence of operands that would form an add</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">/// expression like this:</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">///    m + n + 13 + (A * (o + p + (B * q + m + 29))) + r + (-1 * r)</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">/// where A and B are constants, update the map with these values:</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment">///    (m, 1+A*B), (n, 1), (o, A), (p, A), (q, A*B), (r, 0)</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">/// and add 13 + A*B*29 to AccumulatedConstant.</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">/// This will allow getAddRecExpr to produce this:</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment">///    13+A*B*29 + n + (m * (1+A*B)) + ((o + p) * A) + (q * A*B)</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">/// This form often exposes folding opportunities that are hidden in</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">/// the original operand list.</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">/// Return true iff it appears that any interesting folding opportunities</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">/// may be exposed. This helps getAddRecExpr short-circuit extra work in</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">/// the common case where no interesting opportunities are present, and</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment">/// is also used as a check to avoid infinite recursion.</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#afd878be03640c9f0c9cc90aa77b05225"> 1385</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#afd878be03640c9f0c9cc90aa77b05225">CollectAddOperandsWithScales</a>(<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, APInt&gt;</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>,</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;NewOps,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                             <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;AccumulatedConstant,</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<span class="keyword">const</span> *Ops, <span class="keywordtype">size_t</span> NumOperands,</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;Scale,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                             ScalarEvolution &amp;SE) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordtype">bool</span> Interesting = <span class="keyword">false</span>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// Iterate over the add operands. They are sorted, with constants first.</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(Ops[i])) {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">// Pull a buried constant out to the outside.</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (Scale != 1 || AccumulatedConstant != 0 || <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isZero())</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      Interesting = <span class="keyword">true</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    AccumulatedConstant += Scale * <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="comment">// Next comes everything else. We&#39;re especially interested in multiplies</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">// here, but they&#39;re in the middle, so just visit the rest with one loop.</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">for</span> (; i != NumOperands; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a>&gt;(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (Mul &amp;&amp; isa&lt;SCEVConstant&gt;(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0))) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NewScale =</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        Scale * cast&lt;SCEVConstant&gt;(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0))-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="keywordflow">if</span> (Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() == 2 &amp;&amp; isa&lt;SCEVAddExpr&gt;(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1))) {</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="comment">// A multiplication of a constant with another add; recurse.</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = cast&lt;SCEVAddExpr&gt;(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1));</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        Interesting |=</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;          <a class="code" href="ScalarEvolution_8cpp.html#afd878be03640c9f0c9cc90aa77b05225">CollectAddOperandsWithScales</a>(M, NewOps, AccumulatedConstant,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                       Add-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), Add-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(),</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                       NewScale, SE);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="comment">// A multiplication of a constant with some other value. Update</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="comment">// the map.</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+1, Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Key = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(MulOps);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        std::pair&lt;DenseMap&lt;const SCEV *, APInt&gt;::iterator, <span class="keywordtype">bool</span>&gt; Pair =</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;          M.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(Key, NewScale));</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">if</span> (Pair.second) {</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Pair.first-&gt;first);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;          Pair.first-&gt;second += NewScale;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;          <span class="comment">// The map already had an entry for this value, which may indicate</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;          <span class="comment">// a folding opportunity.</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;          Interesting = <span class="keyword">true</span>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        }</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="comment">// An ordinary operand. Update the map.</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      std::pair&lt;DenseMap&lt;const SCEV *, APInt&gt;::iterator, <span class="keywordtype">bool</span>&gt; Pair =</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        M.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(Ops[i], Scale));</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">if</span> (Pair.second) {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Pair.first-&gt;first);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        Pair.first-&gt;second += Scale;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="comment">// The map already had an entry for this value, which may indicate</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <span class="comment">// a folding opportunity.</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        Interesting = <span class="keyword">true</span>;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  }</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">return</span> Interesting;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keyword">struct </span>APIntCompare {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">return</span> LHS.<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(RHS);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  };</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;}</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">/// getAddExpr - Get a canonical add expression, or something simpler if</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">/// possible.</span></div><div class="line"><a name="l01461"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12"> 1461</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">ScalarEvolution::getAddExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  assert(!(Flags &amp; ~(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>)) &amp;&amp;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;         <span class="stringliteral">&quot;only nuw or nsw allowed&quot;</span>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty add!&quot;</span>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = getEffectiveSCEVType(Ops[0]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    assert(getEffectiveSCEVType(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>()) == ETy &amp;&amp;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;           <span class="stringliteral">&quot;SCEVAddExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// If FlagNSW is true and all the operands are non-negative, infer FlagNUW.</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// And vice-versa.</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordtype">int</span> SignOrUnsignMask = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> SignOrUnsignWrap = maskFlags(Flags, SignOrUnsignMask);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">if</span> (SignOrUnsignWrap &amp;&amp; (SignOrUnsignWrap != SignOrUnsignMask)) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordtype">bool</span> All = <span class="keyword">true</span>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;const SCEV *&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;         E = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordflow">if</span> (!isKnownNonNegative(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        All = <span class="keyword">false</span>;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">if</span> (All) Flags = setFlags(Flags, (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)SignOrUnsignMask);</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a>(Ops, LI);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    ++Idx;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    assert(Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      Ops[0] = getConstant(LHSC-&gt;getValue()-&gt;getValue() +</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                           RHSC-&gt;getValue()-&gt;getValue());</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+1);  <span class="comment">// Erase the folded element</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">// If we are left with a constant zero being added, strip it off.</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> (LHSC-&gt;getValue()-&gt;isZero()) {</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>());</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      --Idx;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  }</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// Okay, check to see if the same value occurs in the operand list more than</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// once.  If so, merge them together into an multiply expression.  Since we</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// sorted the list, these values are required to be adjacent.</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = Ops[0]-&gt;getType();</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordtype">bool</span> FoundMatch = <span class="keyword">false</span>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e-1; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">if</span> (Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1]) {      <span class="comment">//  X + Y + Y  --&gt;  X + Y*2</span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="comment">// Scan ahead to count how many equal operands there are.</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordtype">unsigned</span> Count = 2;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+Count != e &amp;&amp; Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+Count] == Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        ++Count;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="comment">// Merge the values into a multiply.</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Scale = getConstant(Ty, Count);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Mul = getMulExpr(Scale, Ops[i]);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == Count)</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keywordflow">return</span> Mul;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Mul;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+1, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+Count);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; e -= Count - 1;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      FoundMatch = <span class="keyword">true</span>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keywordflow">if</span> (FoundMatch)</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">return</span> getAddExpr(Ops, Flags);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// Check for truncates. If all the operands are truncated from the same</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// type, see if factoring out the truncate would permit the result to be</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// folded. eg., trunc(x) + m*trunc(n) --&gt; trunc(x + trunc(m)*n)</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// if the contents of the resulting outer trunc fold to something simple.</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVTruncateExpr&gt;(Ops[Idx]); ++Idx) {</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = cast&lt;SCEVTruncateExpr&gt;(Ops[Idx]);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *DstType = Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>();</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcType = Trunc-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>()-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LargeOps;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordtype">bool</span> Ok = <span class="keyword">true</span>;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// Check all the operands to see if they can be represented in the</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// source type of the truncate.</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType() != SrcType) {</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;          Ok = <span class="keyword">false</span>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        LargeOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classT.html">T</a>-&gt;getOperand());</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(Ops[i])) {</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        LargeOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getAnyExtendExpr(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SrcType));</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVMulExpr&gt;(Ops[i])) {</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LargeMulOps;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, <a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a> = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a> &amp;&amp; Ok; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> =</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                dyn_cast&lt;SCEVTruncateExpr&gt;(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>))) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>-&gt;getOperand()-&gt;getType() != SrcType) {</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;              Ok = <span class="keyword">false</span>;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            LargeMulOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classT.html">T</a>-&gt;getOperand());</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> =</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                       dyn_cast&lt;SCEVConstant&gt;(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>))) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            LargeMulOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getAnyExtendExpr(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, SrcType));</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            Ok = <span class="keyword">false</span>;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;          }</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        }</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">if</span> (Ok)</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;          LargeOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getMulExpr(LargeMulOps));</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        Ok = <span class="keyword">false</span>;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      }</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    }</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">if</span> (Ok) {</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="comment">// Evaluate the expression in the larger type.</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Fold = getAddExpr(LargeOps, Flags);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <span class="comment">// If it folds to something simple, use it. Otherwise, don&#39;t.</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(Fold) || isa&lt;SCEVUnknown&gt;(Fold))</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">return</span> getTruncateExpr(Fold, DstType);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// Skip past any other cast SCEVs.</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>)</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    ++Idx;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// If there are add operands they would be next.</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordtype">bool</span> DeletedAdd = <span class="keyword">false</span>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[Idx])) {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      <span class="comment">// If we have an add, expand the add operands onto the end of the operands</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      <span class="comment">// list.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(Add-&gt;op_begin(), Add-&gt;op_end());</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      DeletedAdd = <span class="keyword">true</span>;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    }</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="comment">// If we deleted at least one add, we added operands to the end of the list,</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// and they are not necessarily sorted.  Recurse to resort and resimplify</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">// any operands we just acquired.</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (DeletedAdd)</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  }</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="comment">// Skip over the add expression until we get to a multiply.</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>)</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    ++Idx;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="comment">// Check to see if there are any folding opportunities present with</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// operands multiplied by constant values.</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[Idx])) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    uint64_t BitWidth = getTypeSizeInBits(Ty);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const SCEV *, APInt&gt;</a> <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> AccumulatedConstant(BitWidth, 0);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#afd878be03640c9f0c9cc90aa77b05225">CollectAddOperandsWithScales</a>(M, NewOps, AccumulatedConstant,</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                                     Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">data</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(),</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                                     <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 1), *<span class="keyword">this</span>)) {</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="comment">// Some interesting folding opportunity is present, so its worthwhile to</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="comment">// re-generate the operands list. Group the operands by constant scale,</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <span class="comment">// to avoid multiplying by the same constant scale multiple times.</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      std::map&lt;APInt, SmallVector&lt;const SCEV *, 4&gt;, APIntCompare&gt; MulOpLists;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;const SCEV *&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;           E = NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        MulOpLists[M.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(*I)-&gt;second].push_back(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="comment">// Re-generate the operands list.</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="keywordflow">if</span> (AccumulatedConstant != 0)</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getConstant(AccumulatedConstant));</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordflow">for</span> (std::map&lt;<a class="code" href="classllvm_1_1APInt.html">APInt</a>, <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a>, APIntCompare&gt;::iterator</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MulOpLists.begin(), E = MulOpLists.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first != 0)</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;          Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getMulExpr(getConstant(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first),</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                                   getAddExpr(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second)));</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="keywordflow">return</span> getConstant(Ty, 0);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1)</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  }</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="comment">// If we are adding something to a multiply expression, make sure the</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="comment">// something is not already an operand of the multiply.  If so, merge it into</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="comment">// the multiply.</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[Idx]); ++Idx) {</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = cast&lt;SCEVMulExpr&gt;(Ops[Idx]);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> MulOp = 0, e = Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); MulOp != e; ++MulOp) {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MulOpSCEV = Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(MulOp);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(MulOpSCEV))</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> AddOp = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); AddOp != e; ++AddOp)</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">if</span> (MulOpSCEV == Ops[AddOp]) {</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;          <span class="comment">// Fold W + X + (X * Y * Z)  --&gt;  W + (X * ((Y*Z)+1))</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul = Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(MulOp == 0);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;          <span class="keywordflow">if</span> (Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() != 2) {</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <span class="comment">// If the multiply has more than two operands, we must get the</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <span class="comment">// Y*Z term.</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(),</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                                                Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+MulOp);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            MulOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+MulOp+1, Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            InnerMul = getMulExpr(MulOps);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          }</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(Ty, 1);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="InstCombineAddSub_8cpp.html#af7717df543a545f000bf7e2367e17925">AddOne</a> = getAddExpr(One, InnerMul);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OuterMul = getMulExpr(AddOne, MulOpSCEV);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;          <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) <span class="keywordflow">return</span> OuterMul;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;          <span class="keywordflow">if</span> (AddOp &lt; Idx) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+AddOp);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx-1);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+AddOp-1);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;          Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(OuterMul);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;          <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        }</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <span class="comment">// Check this multiply against other multiplies being added together.</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherMulIdx = Idx+1;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;           OtherMulIdx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVMulExpr&gt;(Ops[OtherMulIdx]);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;           ++OtherMulIdx) {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *OtherMul = cast&lt;SCEVMulExpr&gt;(Ops[OtherMulIdx]);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="comment">// If MulOp occurs in OtherMul, we can fold the two multiplies</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="comment">// together.</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OMulOp = 0, e = OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>();</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;             OMulOp != e; ++OMulOp)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;          <span class="keywordflow">if</span> (OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(OMulOp) == MulOpSCEV) {</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <span class="comment">// Fold X + (A*B*C) + (A*D*E) --&gt; X + (A*(B*C+D*E))</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul1 = Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(MulOp == 0);</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <span class="keywordflow">if</span> (Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() != 2) {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(),</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                                                  Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+MulOp);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;              MulOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+MulOp+1, Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;              InnerMul1 = getMulExpr(MulOps);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            }</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMul2 = OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(OMulOp == 0);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">if</span> (OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() != 2) {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;              <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps(OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(),</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                                                  OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+OMulOp);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;              MulOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>()+OMulOp+1, OtherMul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;              InnerMul2 = getMulExpr(MulOps);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            }</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InnerMulSum = getAddExpr(InnerMul1,InnerMul2);</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OuterMul = getMulExpr(MulOpSCEV, InnerMulSum);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) <span class="keywordflow">return</span> OuterMul;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+OtherMulIdx-1);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(OuterMul);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  }</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="comment">// If there are any add recurrences in the operands list, see if any other</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="comment">// added values are loop invariant.  If so, we can fold them into the</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// recurrence.</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>)</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    ++Idx;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="comment">// Scan over all recurrences, trying to fold loop invariants into them.</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[Idx]); ++Idx) {</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="comment">// Scan all of the other operands to this add and add them to the vector if</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="comment">// they are loop invariant w.r.t. the recurrence.</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LIOps;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(Ops[Idx]);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *AddRecLoop = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>();</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], AddRecLoop)) {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        LIOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Ops[i]);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      }</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="comment">// If we found some loop invariants, fold them into the recurrence.</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">if</span> (!LIOps.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="comment">//  NLI + LI + {Start,+,Step}  --&gt;  NLI + {LI+Start,+,Step}</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      LIOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>());</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddRecOps(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(),</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                                             AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      AddRecOps[0] = getAddExpr(LIOps);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="comment">// Build the new addrec. Propagate the NUW and NSW flags if both the</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="comment">// outer add and the inner addrec are guaranteed to have no overflow.</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="comment">// Always propagate NW.</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      Flags = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewRec = getAddRecExpr(AddRecOps, AddRecLoop, Flags);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="comment">// If all of the other operands were loop invariant, we are done.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> NewRec;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="comment">// Otherwise, add the folded AddRec by the non-invariant parts.</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0;; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span> (Ops[i] == AddRec) {</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = NewRec;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    }</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">// Okay, if there weren&#39;t any loop invariants to be folded, check to see if</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="comment">// there are multiple AddRec&#39;s with the same loop induction variable being</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">// added together.  If so, we can fold them.</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherIdx = Idx+1;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;         OtherIdx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;         ++OtherIdx)</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      <span class="keywordflow">if</span> (AddRecLoop == cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx])-&gt;getLoop()) {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="comment">// Other + {A,+,B}&lt;L&gt; + {C,+,D}&lt;L&gt;  --&gt;  Other + {A+C,+,B+D}&lt;L&gt;</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddRecOps(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(),</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                               AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>());</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">for</span> (; OtherIdx != Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;             ++OtherIdx)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *OtherAddRec =</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                dyn_cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]))</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordflow">if</span> (OtherAddRec-&gt;getLoop() == AddRecLoop) {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = OtherAddRec-&gt;getNumOperands();</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                   i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                <span class="keywordflow">if</span> (i &gt;= AddRecOps.size()) {</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                  AddRecOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(OtherAddRec-&gt;op_begin()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                   OtherAddRec-&gt;op_end());</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                AddRecOps[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = getAddExpr(AddRecOps[i],</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                                          OtherAddRec-&gt;getOperand(i));</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;              }</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;              Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>() + OtherIdx); --OtherIdx;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            }</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="comment">// Step size has changed, so we cannot guarantee no self-wraparound.</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        Ops[Idx] = getAddRecExpr(AddRecOps, AddRecLoop, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <span class="keywordflow">return</span> getAddExpr(Ops);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">// Otherwise couldn&#39;t fold anything into this recurrence.  Move onto the</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">// next one.</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  }</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an add expr.  Check to see if we</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(ID, IP));</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="keywordflow">if</span> (!S) {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **O = SCEVAllocator.Allocate&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    std::uninitialized_copy(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), O);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    S = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                                        O, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  S-&gt;<a class="code" href="classllvm_1_1SCEVCommutativeExpr.html#a46be9fc927263a605e288de91f7c367b">setNoWrapFlags</a>(Flags);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0"> 1830</a></span>&#160;<span class="keyword">static</span> uint64_t <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(uint64_t <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, uint64_t <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">bool</span> &amp;Overflow) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  uint64_t k = i*<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="keywordflow">if</span> (j &gt; 1 &amp;&amp; k / j != i) Overflow = <span class="keyword">true</span>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordflow">return</span> k;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;}</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">/// Compute the result of &quot;n choose k&quot;, the binomial coefficient.  If an</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">/// intermediate computation overflows, Overflow will be set and the return will</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">/// be garbage. Overflow is not cleared on absence of overflow.</span></div><div class="line"><a name="l01839"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc"> 1839</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> uint64_t <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(uint64_t <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>, uint64_t k, <span class="keywordtype">bool</span> &amp;Overflow) {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// We use the multiplicative formula:</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="comment">//     n(n-1)(n-2)...(n-(k-1)) / k(k-1)(k-2)...1 .</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="comment">// At each iteration, we take the n-th term of the numeral and divide by the</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">// (k-n)th term of the denominator.  This division will always produce an</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// integral result, and helps reduce the chance of overflow in the</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// intermediate computations. However, we can still overflow even when the</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// final result would fit.</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (n == 0 || n == k) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">if</span> (k &gt; n) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">if</span> (k &gt; n/2)</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    k = n-k;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  uint64_t r = 1;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">for</span> (uint64_t <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= k; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    r = <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(r, n-(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1), Overflow);</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    r /= <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  }</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">return</span> r;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">/// getMulExpr - Get a canonical multiply expression, or something simpler if</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">/// possible.</span></div><div class="line"><a name="l01864"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1"> 1864</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">ScalarEvolution::getMulExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  assert(Flags == maskFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>) &amp;&amp;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;         <span class="stringliteral">&quot;only nuw or nsw allowed&quot;</span>);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty mul!&quot;</span>);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = getEffectiveSCEVType(Ops[0]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    assert(getEffectiveSCEVType(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>()) == ETy &amp;&amp;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;           <span class="stringliteral">&quot;SCEVMulExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="comment">// If FlagNSW is true and all the operands are non-negative, infer FlagNUW.</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// And vice-versa.</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordtype">int</span> SignOrUnsignMask = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> SignOrUnsignWrap = maskFlags(Flags, SignOrUnsignMask);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">if</span> (SignOrUnsignWrap &amp;&amp; (SignOrUnsignWrap != SignOrUnsignMask)) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordtype">bool</span> All = <span class="keyword">true</span>;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;const SCEV *&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;         E = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <span class="keywordflow">if</span> (!isKnownNonNegative(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        All = <span class="keyword">false</span>;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      }</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">if</span> (All) Flags = setFlags(Flags, (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)SignOrUnsignMask);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  }</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a>(Ops, LI);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// C1*(C2+V) -&gt; C1*C2 + C1*V</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2)</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[1]))</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordflow">if</span> (Add-&gt;getNumOperands() == 2 &amp;&amp;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            isa&lt;SCEVConstant&gt;(Add-&gt;getOperand(0)))</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;          <span class="keywordflow">return</span> getAddExpr(getMulExpr(LHSC, Add-&gt;getOperand(0)),</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                            getMulExpr(LHSC, Add-&gt;getOperand(1)));</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    ++Idx;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Fold = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(),</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                                           LHSC-&gt;getValue()-&gt;getValue() *</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                                           RHSC-&gt;getValue()-&gt;getValue());</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      Ops[0] = getConstant(Fold);</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      Ops.erase(Ops.begin()+1);  <span class="comment">// Erase the folded element</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      <span class="keywordflow">if</span> (Ops.size() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="comment">// If we are left with a constant one being multiplied, strip it off.</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;equalsInt(1)) {</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>());</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      --Idx;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;isZero()) {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="comment">// If we have a multiply of zero, it will always be zero.</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Ops[0]-&gt;<a class="code" href="classllvm_1_1SCEV.html#a6e915d0a915541a818ab88b1fac7cbd1">isAllOnesValue</a>()) {</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="comment">// If we have a mul by -1 of an add, try distributing the -1 among the</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="comment">// add operands.</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) {</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(Ops[1])) {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          <span class="keywordtype">bool</span> AnyFolded = <span class="keyword">false</span>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddRecExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Add-&gt;op_begin(),</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                 E = Add-&gt;op_end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Mul = getMulExpr(Ops[0], *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">if</span> (!isa&lt;SCEVMulExpr&gt;(Mul)) AnyFolded = <span class="keyword">true</span>;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Mul);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;          }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;          <span class="keywordflow">if</span> (AnyFolded)</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="keywordflow">return</span> getAddExpr(NewOps);</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        }</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                 AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(Ops[1])) {</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;          <span class="comment">// Negation preserves a recurrence&#39;s no self-wrap property.</span></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;          <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddRecExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AddRec-&gt;op_begin(),</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                 E = AddRec-&gt;op_end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getMulExpr(Ops[0], *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;          }</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;          <span class="keywordflow">return</span> getAddRecExpr(Operands, AddRec-&gt;getLoop(),</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                               AddRec-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        }</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      }</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    }</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1)</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  }</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="comment">// Skip over the add expression until we get to a multiply.</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>)</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    ++Idx;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="comment">// If there are mul operands inline them all into this expression.</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordtype">bool</span> DeletedMul = <span class="keyword">false</span>;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = dyn_cast&lt;SCEVMulExpr&gt;(Ops[Idx])) {</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="comment">// If we have an mul, expand the mul operands onto the end of the operands</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="comment">// list.</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(Mul-&gt;op_begin(), Mul-&gt;op_end());</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      DeletedMul = <span class="keyword">true</span>;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="comment">// If we deleted at least one mul, we added operands to the end of the list,</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="comment">// and they are not necessarily sorted.  Recurse to resort and resimplify</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="comment">// any operands we just acquired.</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">if</span> (DeletedMul)</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      <span class="keywordflow">return</span> getMulExpr(Ops);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  }</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="comment">// If there are any add recurrences in the operands list, see if any other</span></div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="comment">// added values are loop invariant.  If so, we can fold them into the</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="comment">// recurrence.</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>)</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    ++Idx;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="comment">// Scan over all recurrences, trying to fold loop invariants into them.</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="keywordflow">for</span> (; Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[Idx]); ++Idx) {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="comment">// Scan all of the other operands to this mul and add them to the vector if</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="comment">// they are loop invariant w.r.t. the recurrence.</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> LIOps;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = cast&lt;SCEVAddRecExpr&gt;(Ops[Idx]);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *AddRecLoop = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>();</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], AddRecLoop)) {</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        LIOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Ops[i]);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      }</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="comment">// If we found some loop invariants, fold them into the recurrence.</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">if</span> (!LIOps.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <span class="comment">//  NLI * LI * {Start,+,Step}  --&gt;  NLI * {LI*Start,+,LI*Step}</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      NewOps.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>());</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Scale = getMulExpr(LIOps);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getMulExpr(Scale, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(i)));</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <span class="comment">// Build the new addrec. Propagate the NUW and NSW flags if both the</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      <span class="comment">// outer mul and the inner addrec are guaranteed to have no overflow.</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="comment">// No self-wrap cannot be guaranteed after changing the step size, but</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="comment">// will be inferred if either NUW or NSW is true.</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      Flags = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(clearFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewRec = getAddRecExpr(NewOps, AddRecLoop, Flags);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <span class="comment">// If all of the other operands were loop invariant, we are done.</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> NewRec;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <span class="comment">// Otherwise, multiply the folded AddRec by the non-invariant parts.</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0;; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="keywordflow">if</span> (Ops[i] == AddRec) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;          Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = NewRec;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        }</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="keywordflow">return</span> getMulExpr(Ops);</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    }</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="comment">// Okay, if there weren&#39;t any loop invariants to be folded, check to see if</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="comment">// there are multiple AddRec&#39;s with the same loop induction variable being</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">// multiplied together.  If so, we can fold them.</span></div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OtherIdx = Idx+1;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;         OtherIdx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;         ++OtherIdx) {</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <span class="keywordflow">if</span> (AddRecLoop != cast&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx])-&gt;getLoop())</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="comment">// {A1,+,A2,+,...,+,An}&lt;L&gt; * {B1,+,B2,+,...,+,Bn}&lt;L&gt;</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="comment">// = {x=1 in [ sum y=x..2x [ sum z=max(y-x, y-n)..min(x,n) [</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <span class="comment">//       choose(x, 2x)*choose(2x-y, x-z)*A_{y-z}*B_z</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="comment">//   ]]],+,...up to x=2n}.</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      <span class="comment">// Note that the arguments to choose() are always integers with values</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="comment">// known at compile time, never SCEV objects.</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="comment">// The implementation avoids pointless extra computations when the two</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="comment">// addrec&#39;s are of different length (mathematically, it&#39;s equivalent to</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      <span class="comment">// an infinite stream of zeros on the right).</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordtype">bool</span> OpsModified = <span class="keyword">false</span>;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keywordflow">for</span> (; OtherIdx != Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; isa&lt;SCEVAddRecExpr&gt;(Ops[OtherIdx]);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;           ++OtherIdx) {</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *OtherAddRec =</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;          <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(Ops[OtherIdx]);</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordflow">if</span> (!OtherAddRec || OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() != AddRecLoop)</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <span class="keywordtype">bool</span> Overflow = <span class="keyword">false</span>;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">getType</a>();</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="keywordtype">bool</span> LargerThan64Bits = getTypeSizeInBits(Ty) &gt; 64;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV*, 7&gt;</a> AddRecOps;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> = 0, xe = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() +</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;               OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() - 1; <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> != xe &amp;&amp; !Overflow; ++<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>) {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Term = getConstant(Ty, 0);</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a> = <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, ye = 2*<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>+1; <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a> != ye &amp;&amp; !Overflow; ++<a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>) {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            uint64_t Coeff1 = <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, 2*<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> - <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>, Overflow);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = std::max(<a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>-<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>-(<span class="keywordtype">int</span>)AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>()+1),</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                   ze = std::min(<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>+1, (<span class="keywordtype">int</span>)OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>());</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                 z &lt; ze &amp;&amp; !Overflow; ++z) {</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;              uint64_t Coeff2 = <a class="code" href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a>(2*<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> - <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>, <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>-z, Overflow);</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;              uint64_t Coeff;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;              <span class="keywordflow">if</span> (LargerThan64Bits)</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                Coeff = <a class="code" href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a>(Coeff1, Coeff2, Overflow);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                Coeff = Coeff1*Coeff2;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CoeffTerm = getConstant(Ty, Coeff);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Term1 = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>-z);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Term2 = OtherAddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(z);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;              Term = getAddExpr(Term, getMulExpr(CoeffTerm, Term1,Term2));</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            }</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;          }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;          AddRecOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Term);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        }</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="keywordflow">if</span> (!Overflow) {</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewAddRec = getAddRecExpr(AddRecOps, AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>(),</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                                                <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2) <span class="keywordflow">return</span> NewAddRec;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;          Ops[Idx] = NewAddRec;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;          Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>() + OtherIdx); --OtherIdx;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;          OpsModified = <span class="keyword">true</span>;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;          AddRec = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(NewAddRec);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;          <span class="keywordflow">if</span> (!AddRec)</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        }</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      }</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <span class="keywordflow">if</span> (OpsModified)</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="keywordflow">return</span> getMulExpr(Ops);</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <span class="comment">// Otherwise couldn&#39;t fold anything into this recurrence.  Move onto the</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="comment">// next one.</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  }</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an mul expr.  Check to see if we</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>);</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(ID, IP));</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keywordflow">if</span> (!S) {</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **O = SCEVAllocator.Allocate&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    std::uninitialized_copy(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), O);</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    S = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                                        O, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  }</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  S-&gt;<a class="code" href="classllvm_1_1SCEVCommutativeExpr.html#a46be9fc927263a605e288de91f7c367b">setNoWrapFlags</a>(Flags);</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;}</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="comment">/// getUDivExpr - Get a canonical unsigned division expression, or something</span></div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="comment">/// simpler if possible.</span></div><div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0"> 2126</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">ScalarEvolution::getUDivExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  assert(getEffectiveSCEVType(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) ==</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;         getEffectiveSCEVType(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &amp;&amp;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;         <span class="stringliteral">&quot;SCEVUDivExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(RHS)) {</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">if</span> (RHSC-&gt;getValue()-&gt;equalsInt(1))</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <span class="keywordflow">return</span> LHS;                               <span class="comment">// X udiv 1 --&gt; x</span></div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="comment">// If the denominator is zero, the result of the udiv is undefined. Don&#39;t</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="comment">// try to analyze it, because the resolution chosen here may differ from</span></div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <span class="comment">// the resolution chosen in other parts of the compiler.</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">if</span> (!RHSC-&gt;getValue()-&gt;isZero()) {</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="comment">// Determine if the division can be folded into the operands of</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="comment">// its operands.</span></div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="comment">// TODO: Generalize this to non-constants by using known-bits information.</span></div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      <span class="keywordtype">unsigned</span> LZ = RHSC-&gt;getValue()-&gt;getValue().countLeadingZeros();</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keywordtype">unsigned</span> MaxShiftAmt = getTypeSizeInBits(Ty) - LZ - 1;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="comment">// For non-power-of-two values, effectively round the value up to the</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="comment">// nearest power of two.</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keywordflow">if</span> (!RHSC-&gt;getValue()-&gt;getValue().isPowerOf2())</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        ++MaxShiftAmt;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ExtTy =</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(getContext(), getTypeSizeInBits(Ty) + MaxShiftAmt);</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(LHS))</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *Step =</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            dyn_cast&lt;SCEVConstant&gt;(AR-&gt;getStepRecurrence(*<span class="keyword">this</span>))) {</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;          <span class="comment">// {X,+,N}/C --&gt; {X/C,+,N/C} if safe and N/C can be folded.</span></div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StepInt = Step-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;DivInt = RHSC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;          <span class="keywordflow">if</span> (!StepInt.<a class="code" href="classllvm_1_1APInt.html#afec37bfc94981c28982a8ea881f54570">urem</a>(DivInt) &amp;&amp;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;              getZeroExtendExpr(AR, ExtTy) ==</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;              getAddRecExpr(getZeroExtendExpr(AR-&gt;getStart(), ExtTy),</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                            getZeroExtendExpr(Step, ExtTy),</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                            AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>)) {</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AR-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;              Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getUDivExpr(AR-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), RHS));</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <span class="keywordflow">return</span> getAddRecExpr(Operands, AR-&gt;getLoop(),</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                                 <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;          }<span class="comment"></span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="comment">          /// Get a canonical UDivExpr for a recurrence.</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="comment">          /// {X,+,N}/C =&gt; {Y,+,N}/C where Y=X-(X%N). Safe when C%N=0.</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<span class="comment"></span>          <span class="comment">// We can currently only fold X%N if X is constant.</span></div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StartC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(AR-&gt;getStart());</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          <span class="keywordflow">if</span> (StartC &amp;&amp; !DivInt.<a class="code" href="classllvm_1_1APInt.html#afec37bfc94981c28982a8ea881f54570">urem</a>(StepInt) &amp;&amp;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;              getZeroExtendExpr(AR, ExtTy) ==</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;              getAddRecExpr(getZeroExtendExpr(AR-&gt;getStart(), ExtTy),</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                            getZeroExtendExpr(Step, ExtTy),</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                            AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>)) {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StartInt = StartC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;StartRem = StartInt.<a class="code" href="classllvm_1_1APInt.html#afec37bfc94981c28982a8ea881f54570">urem</a>(StepInt);</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            <span class="keywordflow">if</span> (StartRem != 0)</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;              LHS = getAddRecExpr(getConstant(StartInt - StartRem), Step,</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                                  AR-&gt;getLoop(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;          }</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        }</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <span class="comment">// (A*B)/C --&gt; A*(B/C) if safe and B/C can be folded.</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVMulExpr&gt;(LHS)) {</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getZeroExtendExpr(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), ExtTy));</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <span class="keywordflow">if</span> (getZeroExtendExpr(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, ExtTy) == getMulExpr(Operands))</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;          <span class="comment">// Find an operand that&#39;s safely divisible.</span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Div = getUDivExpr(Op, RHSC);</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <span class="keywordflow">if</span> (!isa&lt;SCEVUDivExpr&gt;(Div) &amp;&amp; getMulExpr(Div, RHSC) == Op) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;              Operands = <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a>(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;op_begin(),</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                                      <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;op_end());</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;              Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Div;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;              <span class="keywordflow">return</span> getMulExpr(Operands);</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            }</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;          }</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      }</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <span class="comment">// (A+B)/C --&gt; (A/C + B/C) if safe and A/C and B/C can be folded.</span></div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;SCEVAddExpr&gt;(LHS)) {</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getZeroExtendExpr(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), ExtTy));</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        <span class="keywordflow">if</span> (getZeroExtendExpr(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, ExtTy) == getAddExpr(Operands)) {</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = getUDivExpr(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), RHS);</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <span class="keywordflow">if</span> (isa&lt;SCEVUDivExpr&gt;(Op) ||</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                getMulExpr(Op, RHS) != <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;            Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op);</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;          }</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;          <span class="keywordflow">if</span> (Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getNumOperands())</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            <span class="keywordflow">return</span> getAddExpr(Operands);</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        }</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      }</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <span class="comment">// Fold if both operands are constant.</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(LHS)) {</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LHSCV = LHSC-&gt;getValue();</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSCV = RHSC-&gt;getValue();</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">return</span> getConstant(cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#ab2767c28bc3ded2d683a93f0ce1ed502">ConstantExpr::getUDiv</a>(LHSCV,</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                                                                   RHSCV)));</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      }</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    }</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  }</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(LHS);</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(RHS);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                                             LHS, RHS);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;}</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">/// getAddRecExpr - Get an add recurrence expression for the specified loop.</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment">/// Simplify the expression as much as possible.</span></div><div class="line"><a name="l02246"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154"> 2246</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">ScalarEvolution::getAddRecExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step,</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                                           <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Start);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *StepChrec = dyn_cast&lt;SCEVAddRecExpr&gt;(Step))</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">if</span> (StepChrec-&gt;getLoop() == L) {</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      Operands.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(StepChrec-&gt;op_begin(), StepChrec-&gt;op_end());</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;      <span class="keywordflow">return</span> getAddRecExpr(Operands, L, maskFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    }</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Step);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">return</span> getAddRecExpr(Operands, L, Flags);</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;}</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="comment">/// getAddRecExpr - Get an add recurrence expression for the specified loop.</span></div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="comment">/// Simplify the expression as much as possible.</span></div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02264"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a69f32678ea46cdda0318c0be9bdb1c7e"> 2264</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">ScalarEvolution::getAddRecExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Operands,</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">if</span> (Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Operands[0];</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = getEffectiveSCEVType(Operands[0]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    assert(getEffectiveSCEVType(Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>()) == ETy &amp;&amp;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;           <span class="stringliteral">&quot;SCEVAddRecExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    assert(<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], L) &amp;&amp;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;           <span class="stringliteral">&quot;SCEVAddRecExpr operand is not loop-invariant!&quot;</span>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">if</span> (Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>()-&gt;<a class="code" href="classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>()) {</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">return</span> getAddRecExpr(Operands, L, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>); <span class="comment">// {X,+,0}  --&gt;  X</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  }</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="comment">// It&#39;s tempting to want to call getMaxBackedgeTakenCount count here and</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="comment">// use that information to infer NUW and NSW flags. However, computing a</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="comment">// BE count requires calling getAddRecExpr, so we may not yet have a</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="comment">// meaningful BE count at this point (and if we don&#39;t, we&#39;d be stuck</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="comment">// with a SCEVCouldNotCompute as the cached BE count).</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="comment">// If FlagNSW is true and all the operands are non-negative, infer FlagNUW.</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="comment">// And vice-versa.</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keywordtype">int</span> SignOrUnsignMask = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a> | <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> SignOrUnsignWrap = maskFlags(Flags, SignOrUnsignMask);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (SignOrUnsignWrap &amp;&amp; (SignOrUnsignWrap != SignOrUnsignMask)) {</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordtype">bool</span> All = <span class="keyword">true</span>;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;const SCEV *&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;         E = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <span class="keywordflow">if</span> (!isKnownNonNegative(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        All = <span class="keyword">false</span>;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      }</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="keywordflow">if</span> (All) Flags = setFlags(Flags, (<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a>)SignOrUnsignMask);</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  }</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// Canonicalize nested AddRecs in by nesting them in order of loop depth.</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *NestedAR = dyn_cast&lt;SCEVAddRecExpr&gt;(Operands[0])) {</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *NestedLoop = NestedAR-&gt;getLoop();</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(NestedLoop) ?</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a433660a96d8e96997856d16c5930b096">getLoopDepth</a>() &lt; NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a433660a96d8e96997856d16c5930b096">getLoopDepth</a>()) :</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        (!NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(L) &amp;&amp;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;         DT-&gt;dominates(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), NestedLoop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()))) {</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NestedOperands(NestedAR-&gt;op_begin(),</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                                                  NestedAR-&gt;op_end());</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      Operands[0] = NestedAR-&gt;getStart();</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <span class="comment">// AddRecs require their operands be loop-invariant with respect to their</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <span class="comment">// loops. Don&#39;t perform this transformation if it would break this</span></div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <span class="comment">// requirement.</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <span class="keywordtype">bool</span> AllInvariant = <span class="keyword">true</span>;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Operands[i], L)) {</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;          AllInvariant = <span class="keyword">false</span>;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        }</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <span class="keywordflow">if</span> (AllInvariant) {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="comment">// Create a recurrence for the outer loop with the same step size.</span></div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="comment">// The outer recurrence keeps its NW flag but only keeps NUW/NSW if the</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        <span class="comment">// inner recurrence has the same property.</span></div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> OuterFlags =</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;          maskFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a> | NestedAR-&gt;getNoWrapFlags());</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        NestedOperands[0] = getAddRecExpr(Operands, L, OuterFlags);</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        AllInvariant = <span class="keyword">true</span>;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = NestedOperands.size(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(NestedOperands[i], NestedLoop)) {</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            AllInvariant = <span class="keyword">false</span>;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;          }</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <span class="keywordflow">if</span> (AllInvariant) {</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;          <span class="comment">// Ok, both add recurrences are valid after the transformation.</span></div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;          <span class="comment">//</span></div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;          <span class="comment">// The inner recurrence keeps its NW flag but only keeps NUW/NSW if</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;          <span class="comment">// the outer recurrence has the same property.</span></div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> InnerFlags =</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            maskFlags(NestedAR-&gt;getNoWrapFlags(), <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a> | <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>);</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;          <span class="keywordflow">return</span> getAddRecExpr(NestedOperands, NestedLoop, InnerFlags);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        }</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      }</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      <span class="comment">// Reset Operands to its original state.</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      Operands[0] = NestedAR;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    }</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  }</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an addrec expr.  Check to see if we</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(Operands[i]);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(L);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> =</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(UniqueSCEVs.FindNodeOrInsertPos(ID, IP));</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">if</span> (!S) {</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **O = SCEVAllocator.Allocate&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    std::uninitialized_copy(Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), O);</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    S = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator),</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                                           O, Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(), L);</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  }</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  S-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a5316a2763777f3670c1606452f4e99d7">setNoWrapFlags</a>(Flags);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;}</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;</div><div class="line"><a name="l02373"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12"> 2373</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">ScalarEvolution::getSMaxExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LHS);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(RHS);</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordflow">return</span> getSMaxExpr(Ops);</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;}</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02382"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae4ee621c2217d36c9e9f0bd823fb3e57"> 2382</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">ScalarEvolution::getSMaxExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty smax!&quot;</span>);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = getEffectiveSCEVType(Ops[0]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    assert(getEffectiveSCEVType(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>()) == ETy &amp;&amp;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;           <span class="stringliteral">&quot;SCEVSMaxExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a>(Ops, LI);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    ++Idx;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    assert(Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Fold = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(),</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                              <a class="code" href="namespacellvm_1_1APIntOps.html#a032d677bf90ffeb8afcb93e40dbcf6a7">APIntOps::smax</a>(LHSC-&gt;getValue()-&gt;getValue(),</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                                             RHSC-&gt;getValue()-&gt;getValue()));</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      Ops[0] = getConstant(Fold);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+1);  <span class="comment">// Erase the folded element</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    }</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="comment">// If we are left with a constant minimum-int, strip it off.</span></div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;isMinValue(<span class="keyword">true</span>)) {</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>());</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      --Idx;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;isMaxValue(<span class="keyword">true</span>)) {</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      <span class="comment">// If we have an smax with a constant maximum-int, it will always be</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      <span class="comment">// maximum-int.</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    }</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  }</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="comment">// Find the first SMax</span></div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>)</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    ++Idx;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="comment">// Check to see if one of the operands is an SMax. If so, expand its operands</span></div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// onto our operand list, and recurse to simplify.</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) {</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="keywordtype">bool</span> DeletedSMax = <span class="keyword">false</span>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *SMax = dyn_cast&lt;SCEVSMaxExpr&gt;(Ops[Idx])) {</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(SMax-&gt;op_begin(), SMax-&gt;op_end());</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      DeletedSMax = <span class="keyword">true</span>;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    }</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">if</span> (DeletedSMax)</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <span class="keywordflow">return</span> getSMaxExpr(Ops);</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  }</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="comment">// Okay, check to see if the same value occurs in the operand list twice.  If</span></div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="comment">// so, delete one.  Since we sorted the list, these values are required to</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <span class="comment">// be adjacent.</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()-1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="comment">//  X smax Y smax Y  --&gt;  X smax Y</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="comment">//  X smax Y         --&gt;  X, if X is always greater than Y</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">if</span> (Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] ||</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        isKnownPredicate(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Ops[i+1])) {</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+1, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+2);</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isKnownPredicate(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, Ops[i], Ops[i+1])) {</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+1);</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Reduced smax down to nothing!&quot;</span>);</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="comment">// Okay, it looks like we really DO need an smax expr.  Check to see if we</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  ID.AddInteger(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    ID.AddPointer(Ops[i]);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **O = SCEVAllocator.Allocate&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  std::uninitialized_copy(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), O);</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a>(ID.Intern(SCEVAllocator),</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                                             O, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div><div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b"> 2477</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">ScalarEvolution::getUMaxExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Ops;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(LHS);</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(RHS);</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="keywordflow">return</span> getUMaxExpr(Ops);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;}</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02486"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a213bb9cc661533b20602b1e035d63791"> 2486</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">ScalarEvolution::getUMaxExpr</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Ops) {</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Cannot get empty umax!&quot;</span>);</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ETy = getEffectiveSCEVType(Ops[0]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    assert(getEffectiveSCEVType(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>()) == ETy &amp;&amp;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;           <span class="stringliteral">&quot;SCEVUMaxExpr operand types don&#39;t match!&quot;</span>);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="comment">// Sort by complexity, this groups all similar expression types together.</span></div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a>(Ops, LI);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="comment">// If there are any constants, fold them together.</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordtype">unsigned</span> Idx = 0;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[0])) {</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    ++Idx;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    assert(Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(Ops[Idx])) {</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      <span class="comment">// We found two constants, fold them together!</span></div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Fold = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(),</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                              <a class="code" href="namespacellvm_1_1APIntOps.html#af1049fb1fd8d46e317bc27285e036493">APIntOps::umax</a>(LHSC-&gt;getValue()-&gt;getValue(),</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                                             RHSC-&gt;getValue()-&gt;getValue()));</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      Ops[0] = getConstant(Fold);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+1);  <span class="comment">// Erase the folded element</span></div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      LHSC = cast&lt;SCEVConstant&gt;(Ops[0]);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    }</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="comment">// If we are left with a constant minimum-int, strip it off.</span></div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;isMinValue(<span class="keyword">false</span>)) {</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>());</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      --Idx;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cast&lt;SCEVConstant&gt;(Ops[0])-&gt;getValue()-&gt;isMaxValue(<span class="keyword">false</span>)) {</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="comment">// If we have an umax with a constant maximum-int, it will always be</span></div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      <span class="comment">// maximum-int.</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    }</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  }</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="comment">// Find the first UMax</span></div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">while</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; Ops[Idx]-&gt;getSCEVType() &lt; <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>)</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    ++Idx;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">// Check to see if one of the operands is a UMax. If so, expand its operands</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">// onto our operand list, and recurse to simplify.</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keywordflow">if</span> (Idx &lt; Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) {</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordtype">bool</span> DeletedUMax = <span class="keyword">false</span>;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *UMax = dyn_cast&lt;SCEVUMaxExpr&gt;(Ops[Idx])) {</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+Idx);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(UMax-&gt;op_begin(), UMax-&gt;op_end());</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      DeletedUMax = <span class="keyword">true</span>;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    }</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">if</span> (DeletedUMax)</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="keywordflow">return</span> getUMaxExpr(Ops);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  }</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="comment">// Okay, check to see if the same value occurs in the operand list twice.  If</span></div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="comment">// so, delete one.  Since we sorted the list, these values are required to</span></div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="comment">// be adjacent.</span></div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()-1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="comment">//  X umax Y umax Y  --&gt;  X umax Y</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="comment">//  X umax Y         --&gt;  X, if X is always greater than Y</span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">if</span> (Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] == Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] ||</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        isKnownPredicate(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], Ops[i+1])) {</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+1, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+2);</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isKnownPredicate(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, Ops[i], Ops[i+1])) {</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      Ops.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">erase</a>(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>()+i+1);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --e;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    }</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1) <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  assert(!Ops.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Reduced umax down to nothing!&quot;</span>);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="comment">// Okay, it looks like we really DO need a umax expr.  Check to see if we</span></div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="comment">// already have one, otherwise create a new one.</span></div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  ID.AddInteger(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>);</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, e = Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    ID.AddPointer(Ops[i]);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **O = SCEVAllocator.Allocate&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&gt;(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  std::uninitialized_copy(Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), O);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a>(ID.Intern(SCEVAllocator),</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                                             O, Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>());</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;}</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;</div><div class="line"><a name="l02581"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e"> 2581</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">ScalarEvolution::getSMinExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="comment">// ~smax(~x, ~y) == smin(x, y).</span></div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="keywordflow">return</span> getNotSCEV(getSMaxExpr(getNotSCEV(LHS), getNotSCEV(RHS)));</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;}</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div><div class="line"><a name="l02587"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac4acab35ff407510f8b4cf9a17c8c022"> 2587</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ac4acab35ff407510f8b4cf9a17c8c022">ScalarEvolution::getUMinExpr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="comment">// ~umax(~x, ~y) == umin(x, y)</span></div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">return</span> getNotSCEV(getUMaxExpr(getNotSCEV(LHS), getNotSCEV(RHS)));</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;}</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div><div class="line"><a name="l02593"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570"> 2593</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">ScalarEvolution::getSizeOfExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *AllocTy) {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="comment">// If we have DataLayout, we can bypass creating a target-independent</span></div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="comment">// constant expression and then folding it back into a ConstantInt.</span></div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="comment">// This is just a compile-time optimization.</span></div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="keywordflow">if</span> (TD)</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">return</span> getConstant(IntTy, TD-&gt;getTypeAllocSize(AllocTy));</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a778163e6ec80716a12ab3282cb97f0d9">ConstantExpr::getSizeOf</a>(AllocTy);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(C))</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Folded = <a class="code" href="namespacellvm.html#a8891be7c27326c20a6dba7d98e9030b5">ConstantFoldConstantExpression</a>(CE, TD, TLI))</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      C = Folded;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = getEffectiveSCEVType(<a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(AllocTy));</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  assert(Ty == IntTy &amp;&amp; <span class="stringliteral">&quot;Effective SCEV type doesn&#39;t match&quot;</span>);</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">return</span> getTruncateOrZeroExtend(getSCEV(C), Ty);</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;}</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div><div class="line"><a name="l02609"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568"> 2609</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568">ScalarEvolution::getOffsetOfExpr</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *IntTy,</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                                             <a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy,</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                                             <span class="keywordtype">unsigned</span> FieldNo) {</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="comment">// If we have DataLayout, we can bypass creating a target-independent</span></div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="comment">// constant expression and then folding it back into a ConstantInt.</span></div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="comment">// This is just a compile-time optimization.</span></div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keywordflow">if</span> (TD) {</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">return</span> getConstant(IntTy,</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;                       TD-&gt;getStructLayout(STy)-&gt;getElementOffset(FieldNo));</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  }</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a7f8f540a09fa306e1623fbc2f41c32fa">ConstantExpr::getOffsetOf</a>(STy, FieldNo);</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(C))</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Folded = <a class="code" href="namespacellvm.html#a8891be7c27326c20a6dba7d98e9030b5">ConstantFoldConstantExpression</a>(CE, TD, TLI))</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;      C = Folded;</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = getEffectiveSCEVType(<a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(STy));</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="keywordflow">return</span> getTruncateOrZeroExtend(getSCEV(C), Ty);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;}</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div><div class="line"><a name="l02629"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338"> 2629</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">ScalarEvolution::getUnknown</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="comment">// Don&#39;t attempt to do anything other than create a SCEVUnknown object</span></div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <span class="comment">// here.  createSCEV only calls getUnknown after checking for all other</span></div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="comment">// interesting possibilities, and any other code that calls getUnknown</span></div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="comment">// is doing so in order to hide a value from SCEV canonicalization.</span></div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <a class="code" href="classllvm_1_1FoldingSetNodeID.html">FoldingSetNodeID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">AddInteger</a>(<a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>);</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">AddPointer</a>(V);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordtype">void</span> *IP = 0;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = UniqueSCEVs.FindNodeOrInsertPos(ID, IP)) {</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    assert(cast&lt;SCEVUnknown&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)-&gt;getValue() == V &amp;&amp;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;           <span class="stringliteral">&quot;Stale SCEVUnknown in uniquing map!&quot;</span>);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  }</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = <span class="keyword">new</span> (SCEVAllocator) <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a>(ID.<a class="code" href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">Intern</a>(SCEVAllocator), V, <span class="keyword">this</span>,</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;                                            FirstUnknown);</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  FirstUnknown = cast&lt;SCEVUnknown&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  UniqueSCEVs.InsertNode(S, IP);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;}</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="comment">//            Basic SCEV Analysis and PHI Idiom Recognition Code</span></div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="comment">/// isSCEVable - Test if values of the given type are analyzable within</span></div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;<span class="comment">/// the SCEV framework. This primarily includes integer types, and it</span></div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="comment">/// can optionally include pointer types if the ScalarEvolution class</span></div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="comment">/// has access to target-specific information.</span></div><div class="line"><a name="l02659"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd"> 2659</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">ScalarEvolution::isSCEVable</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="comment">// Integers and pointers are always SCEVable.</span></div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>();</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;}</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="comment">/// getTypeSizeInBits - Return the size in bits of the specified type,</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="comment">/// for which isSCEVable must return true.</span></div><div class="line"><a name="l02666"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb"> 2666</a></span>&#160;<span class="comment"></span>uint64_t <a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">ScalarEvolution::getTypeSizeInBits</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  assert(isSCEVable(Ty) &amp;&amp; <span class="stringliteral">&quot;Type is not SCEVable!&quot;</span>);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="comment">// If we have a DataLayout, use it!</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="keywordflow">if</span> (TD)</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="keywordflow">return</span> TD-&gt;getTypeSizeInBits(Ty);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="comment">// Integer types have fixed sizes.</span></div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>())</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="keywordflow">return</span> Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">getPrimitiveSizeInBits</a>();</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="comment">// The only other support type is pointer. Without DataLayout, conservatively</span></div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="comment">// assume pointers are 64-bit.</span></div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  assert(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;isSCEVable permitted a non-SCEVable type!&quot;</span>);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keywordflow">return</span> 64;</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;}</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="comment">/// getEffectiveSCEVType - Return a type with the same bitwidth as</span></div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;<span class="comment">/// the given type and which represents how SCEV will treat the given</span></div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="comment">/// type, for which isSCEVable must return true. For pointer types,</span></div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="comment">/// this is the pointer-sized integer type.</span></div><div class="line"><a name="l02687"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27"> 2687</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">ScalarEvolution::getEffectiveSCEVType</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  assert(isSCEVable(Ty) &amp;&amp; <span class="stringliteral">&quot;Type is not SCEVable!&quot;</span>);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  }</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="comment">// The only other support type is pointer.</span></div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  assert(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected non-pointer non-integer type!&quot;</span>);</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordflow">if</span> (TD)</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <span class="keywordflow">return</span> TD-&gt;getIntPtrType(Ty);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="comment">// Without DataLayout, conservatively assume pointers are 64-bit.</span></div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(getContext());</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;}</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5"> 2704</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">ScalarEvolution::getCouldNotCompute</a>() {</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  <span class="keywordflow">return</span> &amp;CouldNotCompute;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;}</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="comment">// Helper class working with SCEVTraversal to figure out if a SCEV contains</span></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="comment">// a SCEVUnknown with null value-pointer. FindInvalidSCEVUnknown::FindOne</span></div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="comment">// is set iff if find such SCEVUnknown.</span></div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="keyword">struct </span>FindInvalidSCEVUnknown {</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordtype">bool</span> FindOne;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    FindInvalidSCEVUnknown() { FindOne = <span class="keyword">false</span>; }</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>) {</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <span class="keywordflow">switch</span> (S-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;        <span class="keywordflow">if</span> (!cast&lt;SCEVUnknown&gt;(S)-&gt;getValue())</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;          FindOne = <span class="keyword">true</span>;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      }</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    }</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> FindOne; }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  };</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;}</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::checkValidity(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  FindInvalidSCEVUnknown <a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <a class="code" href="classllvm_1_1SCEVTraversal.html">SCEVTraversal&lt;FindInvalidSCEVUnknown&gt;</a> <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>(F);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  ST.<a class="code" href="classllvm_1_1SCEVTraversal.html#aa3e492f428e815c1c89e3a5625e2c233">visitAll</a>(S);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  <span class="keywordflow">return</span> !F.FindOne;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;}</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="comment">/// getSCEV - Return an existing SCEV if it exists, otherwise analyze the</span></div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="comment">/// expression and create a new one.</span></div><div class="line"><a name="l02742"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49"> 2742</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">ScalarEvolution::getSCEV</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  assert(isSCEVable(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) &amp;&amp; <span class="stringliteral">&quot;Value is not SCEVable!&quot;</span>);</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">ValueExprMapType::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ValueExprMap.find_as(V);</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  <span class="keywordflow">if</span> (I != ValueExprMap.end()) {</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S = I-&gt;second;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">if</span> (checkValidity(S))</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;      <span class="keywordflow">return</span> S;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      ValueExprMap.erase(I);</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  }</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S = createSCEV(V);</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="comment">// The process of creating a SCEV for V may have caused other SCEVs</span></div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="comment">// to have been created, so it&#39;s necessary to insert the new entry</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <span class="comment">// from scratch, rather than trying to remember the insert position</span></div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="comment">// above.</span></div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  ValueExprMap.insert(std::make_pair(SCEVCallbackVH(V, <span class="keyword">this</span>), S));</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;}</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="comment">/// getNegativeSCEV - Return a SCEV corresponding to -V = -1*V</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02765"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#afb58ec6af347a7917618ff9c01d729bf"> 2765</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#afb58ec6af347a7917618ff9c01d729bf">ScalarEvolution::getNegativeSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a> = dyn_cast&lt;SCEVConstant&gt;(V))</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">return</span> getConstant(</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;               cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">ConstantExpr::getNeg</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a>-&gt;getValue())));</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keywordflow">return</span> getMulExpr(V,</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                  getConstant(cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Ty))));</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;}</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">/// getNotSCEV - Return a SCEV corresponding to ~V = -1-V</span></div><div class="line"><a name="l02777"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832"> 2777</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">ScalarEvolution::getNotSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a> = dyn_cast&lt;SCEVConstant&gt;(V))</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> getConstant(</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;                cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">ConstantExpr::getNot</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a>-&gt;getValue())));</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  Ty = getEffectiveSCEVType(Ty);</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AllOnes =</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                   getConstant(cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Ty)));</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="keywordflow">return</span> getMinusSCEV(AllOnes, V);</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;}</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="comment">/// getMinusSCEV - Return LHS-RHS.  Minus is represented in SCEV as A+B*-1.</span></div><div class="line"><a name="l02790"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846"> 2790</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">ScalarEvolution::getMinusSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                                          <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>) {</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  assert(!maskFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>) &amp;&amp; <span class="stringliteral">&quot;subtraction does not have NUW&quot;</span>);</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <span class="comment">// Fast path: X - X --&gt; 0.</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">if</span> (LHS == RHS)</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="keywordflow">return</span> getConstant(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 0);</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="comment">// X - Y --&gt; X + -Y</span></div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="keywordflow">return</span> getAddExpr(LHS, getNegativeSCEV(RHS), Flags);</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;}</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="comment">/// getTruncateOrZeroExtend - Return a SCEV corresponding to a conversion of the</span></div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="comment">/// input value to the specified type.  If the type must be extended, it is zero</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="comment">/// extended.</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02806"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8"> 2806</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">ScalarEvolution::getTruncateOrZeroExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or zero extend with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) &gt; getTypeSizeInBits(Ty))</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="keywordflow">return</span> getTruncateExpr(V, Ty);</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  <span class="keywordflow">return</span> getZeroExtendExpr(V, Ty);</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;}</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">/// getTruncateOrSignExtend - Return a SCEV corresponding to a conversion of the</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">/// input value to the specified type.  If the type must be extended, it is sign</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="comment">/// extended.</span></div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02822"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#afe9fd281935116119b86368ff182ea4c"> 2822</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#afe9fd281935116119b86368ff182ea4c">ScalarEvolution::getTruncateOrSignExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V,</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                                         <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or zero extend with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) &gt; getTypeSizeInBits(Ty))</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <span class="keywordflow">return</span> getTruncateExpr(V, Ty);</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <span class="keywordflow">return</span> getSignExtendExpr(V, Ty);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;}</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="comment">/// getNoopOrZeroExtend - Return a SCEV corresponding to a conversion of the</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">/// input value to the specified type.  If the type must be extended, it is zero</span></div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="comment">/// extended.  The conversion must not be narrowing.</span></div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02839"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b"> 2839</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">ScalarEvolution::getNoopOrZeroExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;         <span class="stringliteral">&quot;Cannot noop or zero extend with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  assert(getTypeSizeInBits(SrcTy) &lt;= getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;         <span class="stringliteral">&quot;getNoopOrZeroExtend cannot truncate!&quot;</span>);</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">return</span> getZeroExtendExpr(V, Ty);</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="comment">/// getNoopOrSignExtend - Return a SCEV corresponding to a conversion of the</span></div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment">/// input value to the specified type.  If the type must be extended, it is sign</span></div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment">/// extended.  The conversion must not be narrowing.</span></div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02855"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6"> 2855</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">ScalarEvolution::getNoopOrSignExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;         <span class="stringliteral">&quot;Cannot noop or sign extend with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  assert(getTypeSizeInBits(SrcTy) &lt;= getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;         <span class="stringliteral">&quot;getNoopOrSignExtend cannot truncate!&quot;</span>);</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="keywordflow">return</span> getSignExtendExpr(V, Ty);</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;}</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="comment">/// getNoopOrAnyExtend - Return a SCEV corresponding to a conversion of</span></div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;<span class="comment">/// the input value to the specified type. If the type must be extended,</span></div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="comment">/// it is extended with unspecified bits. The conversion must not be</span></div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="comment">/// narrowing.</span></div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02872"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a"> 2872</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a">ScalarEvolution::getNoopOrAnyExtend</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;         <span class="stringliteral">&quot;Cannot noop or any extend with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  assert(getTypeSizeInBits(SrcTy) &lt;= getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;         <span class="stringliteral">&quot;getNoopOrAnyExtend cannot truncate!&quot;</span>);</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">return</span> getAnyExtendExpr(V, Ty);</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;}</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="comment">/// getTruncateOrNoop - Return a SCEV corresponding to a conversion of the</span></div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="comment">/// input value to the specified type.  The conversion must not be widening.</span></div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l02887"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4"> 2887</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4">ScalarEvolution::getTruncateOrNoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a>) {</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  assert((SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;         (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() || Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) &amp;&amp;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;         <span class="stringliteral">&quot;Cannot truncate or noop with non-integer arguments!&quot;</span>);</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  assert(getTypeSizeInBits(SrcTy) &gt;= getTypeSizeInBits(Ty) &amp;&amp;</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;         <span class="stringliteral">&quot;getTruncateOrNoop cannot extend!&quot;</span>);</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(SrcTy) == getTypeSizeInBits(Ty))</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <span class="keywordflow">return</span> V;  <span class="comment">// No conversion</span></div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordflow">return</span> getTruncateExpr(V, Ty);</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;}</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="comment">/// getUMaxFromMismatchedTypes - Promote the operands to the wider of</span></div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="comment">/// the types using zero-extension, and then perform a umax operation</span></div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment">/// with them.</span></div><div class="line"><a name="l02902"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c"> 2902</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c">ScalarEvolution::getUMaxFromMismatchedTypes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedLHS = LHS;</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedRHS = RHS;</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &gt; getTypeSizeInBits(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()))</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    PromotedRHS = getZeroExtendExpr(RHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    PromotedLHS = getNoopOrZeroExtend(LHS, RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">return</span> getUMaxExpr(PromotedLHS, PromotedRHS);</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;}</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="comment">/// getUMinFromMismatchedTypes - Promote the operands to the wider of</span></div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;<span class="comment">/// the types using zero-extension, and then perform a umin operation</span></div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<span class="comment">/// with them.</span></div><div class="line"><a name="l02918"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a261b3d805f279921bad9a3e6b4d923e4"> 2918</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a261b3d805f279921bad9a3e6b4d923e4">ScalarEvolution::getUMinFromMismatchedTypes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS,</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedLHS = LHS;</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PromotedRHS = RHS;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &gt; getTypeSizeInBits(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()))</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    PromotedRHS = getZeroExtendExpr(RHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    PromotedLHS = getNoopOrZeroExtend(LHS, RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordflow">return</span> getUMinExpr(PromotedLHS, PromotedRHS);</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;}</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;<span class="comment">/// getPointerBase - Transitively follow the chain of pointer-type operands</span></div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;<span class="comment">/// until reaching a SCEV that does not have a single pointer operand. This</span></div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;<span class="comment">/// returns a SCEVUnknown pointer for well-formed pointer-type expressions,</span></div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="comment">/// but corner cases do exist.</span></div><div class="line"><a name="l02935"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e"> 2935</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">ScalarEvolution::getPointerBase</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="comment">// A pointer operand may evaluate to a nonpointer expression, such as null.</span></div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVCastExpr.html">SCEVCastExpr</a> *Cast = dyn_cast&lt;SCEVCastExpr&gt;(V)) {</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keywordflow">return</span> getPointerBase(Cast-&gt;getOperand());</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  }</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *NAry = dyn_cast&lt;SCEVNAryExpr&gt;(V)) {</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PtrOp = 0;</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVNAryExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NAry-&gt;op_begin(), E = NAry-&gt;op_end();</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;      <span class="keywordflow">if</span> ((*I)-&gt;getType()-&gt;isPointerTy()) {</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <span class="comment">// Cannot find the base of an expression with multiple pointer operands.</span></div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <span class="keywordflow">if</span> (PtrOp)</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        PtrOp = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      }</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    }</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="keywordflow">if</span> (!PtrOp)</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">return</span> getPointerBase(PtrOp);</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  }</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;}</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;<span class="comment">/// PushDefUseChildren - Push users of the given Instruction</span></div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="comment">/// onto the given Worklist.</span></div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l02964"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc"> 2964</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                   <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;Worklist) {</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="comment">// Push the def-use children onto the Worklist stack.</span></div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = I-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = I-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;       UI != UE; ++UI)</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(cast&lt;Instruction&gt;(*UI));</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;}</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;<span class="comment">/// ForgetSymbolicValue - This looks up computed SCEV values for all</span></div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="comment">/// instructions that depend on the given instruction and removes them from</span></div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="comment">/// the ValueExprMapType map if they reference SymName. This is used during PHI</span></div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="comment">/// resolution.</span></div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="comment"></span><span class="keywordtype">void</span></div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;ScalarEvolution::ForgetSymbolicName(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *PN, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymName) {</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> Worklist;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(PN, Worklist);</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> Visited;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(PN);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(I)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    ValueExprMapType::iterator It =</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      ValueExprMap.find_as(static_cast&lt;Value *&gt;(I));</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <span class="keywordflow">if</span> (It != ValueExprMap.end()) {</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Old = It-&gt;second;</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;      <span class="comment">// Short-circuit the def-use traversal if the symbolic name</span></div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      <span class="comment">// ceases to appear in expressions.</span></div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      <span class="keywordflow">if</span> (Old != SymName &amp;&amp; !hasOperand(Old, SymName))</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      <span class="comment">// SCEVUnknown for a PHI either means that it has an unrecognized</span></div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="comment">// structure, it&#39;s a PHI that&#39;s in the progress of being computed</span></div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;      <span class="comment">// by createNodeForPHI, or it&#39;s a single-value PHI. In the first case,</span></div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;      <span class="comment">// additional loop trip count information isn&#39;t going to change anything.</span></div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <span class="comment">// In the second case, createNodeForPHI will perform the necessary</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="comment">// updates on its own when it gets to that point. In the third, we do</span></div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;      <span class="comment">// want to forget the SCEVUnknown.</span></div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(I) ||</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;          !isa&lt;SCEVUnknown&gt;(Old) ||</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;          (I != PN &amp;&amp; Old == SymName)) {</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        forgetMemoizedResults(Old);</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        ValueExprMap.erase(It);</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      }</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    }</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(I, Worklist);</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  }</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="comment">/// createNodeForPHI - PHI nodes have two cases.  Either the PHI node exists in</span></div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="comment">/// a loop header, making it a potential recurrence, or it doesn&#39;t.</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForPHI(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN) {</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI-&gt;getLoopFor(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()))</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">if</span> (L-&gt;getHeader() == PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()) {</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <span class="comment">// The loop may have multiple entrances or multiple exits; we can analyze</span></div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      <span class="comment">// this phi as an addrec if it has a unique entry value and a unique</span></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <span class="comment">// backedge value.</span></div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValueV = 0, *StartValueV = 0;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        <span class="keywordflow">if</span> (L-&gt;contains(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">getIncomingBlock</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;          <span class="keywordflow">if</span> (!BEValueV) {</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            BEValueV = V;</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BEValueV != V) {</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            BEValueV = 0;</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;          }</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!StartValueV) {</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;          StartValueV = V;</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (StartValueV != V) {</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;          StartValueV = 0;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        }</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      }</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      <span class="keywordflow">if</span> (BEValueV &amp;&amp; StartValueV) {</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;        <span class="comment">// While we are analyzing this PHI node, handle its value symbolically.</span></div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SymbolicName = getUnknown(PN);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        assert(ValueExprMap.find_as(PN) == ValueExprMap.end() &amp;&amp;</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;               <span class="stringliteral">&quot;PHI node already processed?&quot;</span>);</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        ValueExprMap.insert(std::make_pair(SCEVCallbackVH(PN, <span class="keyword">this</span>), SymbolicName));</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;        <span class="comment">// Using this symbolic name for the PHI, analyze the value coming around</span></div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="comment">// the back-edge.</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BEValue = getSCEV(BEValueV);</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;        <span class="comment">// NOTE: If BEValue is loop invariant, we know that the PHI node just</span></div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;        <span class="comment">// has a special value for the first iteration of the loop.</span></div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        <span class="comment">// If the value coming around the backedge is an add with the symbolic</span></div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;        <span class="comment">// value we just inserted, then we found a simple induction variable!</span></div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(BEValue)) {</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;          <span class="comment">// If there is a single occurrence of the symbolic value, replace it</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;          <span class="comment">// with a recurrence.</span></div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;          <span class="keywordtype">unsigned</span> FoundIndex = Add-&gt;getNumOperands();</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Add-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;            <span class="keywordflow">if</span> (Add-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == SymbolicName)</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;              <span class="keywordflow">if</span> (FoundIndex == e) {</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                FoundIndex = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;              }</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;          <span class="keywordflow">if</span> (FoundIndex != Add-&gt;getNumOperands()) {</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;            <span class="comment">// Create an add with everything but the specified operand.</span></div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> Ops;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Add-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FoundIndex)</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                Ops.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Add-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Accum = getAddExpr(Ops);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            <span class="comment">// This is not a valid addrec if the step amount is varying each</span></div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <span class="comment">// loop iteration, but is not itself an addrec in this loop.</span></div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Accum, L) ||</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                (isa&lt;SCEVAddRecExpr&gt;(Accum) &amp;&amp;</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;                 cast&lt;SCEVAddRecExpr&gt;(Accum)-&gt;getLoop() == L)) {</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;              <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a> = <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;              <span class="comment">// If the increment doesn&#39;t overflow, then neither the addrec nor</span></div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;              <span class="comment">// the post-increment will overflow.</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;              <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1AddOperator.html">AddOperator</a> *OBO = dyn_cast&lt;AddOperator&gt;(BEValueV)) {</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;                <span class="keywordflow">if</span> (OBO-&gt;hasNoUnsignedWrap())</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;                  Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;                <span class="keywordflow">if</span> (OBO-&gt;hasNoSignedWrap())</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;                  Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(BEValueV)) {</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                <span class="comment">// If the increment is an inbounds GEP, then we know the address</span></div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                <span class="comment">// space cannot be wrapped around. We cannot make any guarantee</span></div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                <span class="comment">// about signed or unsigned overflow because pointers are</span></div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                <span class="comment">// unsigned but we may have a negative index from the base</span></div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                <span class="comment">// pointer. We can guarantee that no unsigned wrap occurs if the</span></div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                <span class="comment">// indices form a positive value.</span></div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;                <span class="keywordflow">if</span> (GEP-&gt;isInBounds()) {</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                  Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Ptr = getSCEV(GEP-&gt;getPointerOperand());</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                  <span class="keywordflow">if</span> (isKnownPositive(getMinusSCEV(getSCEV(GEP), Ptr)))</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                    Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                }</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;              } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SubOperator.html">SubOperator</a> *OBO =</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                           dyn_cast&lt;SubOperator&gt;(BEValueV)) {</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                <span class="keywordflow">if</span> (OBO-&gt;hasNoUnsignedWrap())</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;                  Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                <span class="keywordflow">if</span> (OBO-&gt;hasNoSignedWrap())</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;                  Flags = setFlags(Flags, <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;              }</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = getSCEV(StartValueV);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PHISCEV = getAddRecExpr(StartVal, Accum, L, Flags);</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;              <span class="comment">// Since the no-wrap flags are on the increment, they apply to the</span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;              <span class="comment">// post-incremented value as well.</span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Accum, L))</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;                (void)getAddRecExpr(getAddExpr(StartVal, Accum),</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                                    Accum, L, <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>);</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;              <span class="comment">// Okay, for the entire analysis of this edge we assumed the PHI</span></div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;              <span class="comment">// to be symbolic.  We now need to go back and purge all of the</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;              <span class="comment">// entries for the scalars that use the symbolic expression.</span></div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;              ForgetSymbolicName(PN, SymbolicName);</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;              ValueExprMap[SCEVCallbackVH(PN, <span class="keyword">this</span>)] = PHISCEV;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;              <span class="keywordflow">return</span> PHISCEV;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;          }</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec =</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                     dyn_cast&lt;SCEVAddRecExpr&gt;(BEValue)) {</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;          <span class="comment">// Otherwise, this could be a loop like this:</span></div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;          <span class="comment">//     i = 0;  for (j = 1; ..; ++j) { ....  i = j; }</span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;          <span class="comment">// In this case, j = {1,+,1}  and BEValue is j.</span></div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;          <span class="comment">// Because the other in-value of i (0) fits the evolution of BEValue</span></div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;          <span class="comment">// i really is an addrec evolution.</span></div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;          <span class="keywordflow">if</span> (AddRec-&gt;getLoop() == L &amp;&amp; AddRec-&gt;isAffine()) {</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *StartVal = getSCEV(StartValueV);</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="comment">// If StartVal = j.start - j.stride, we can use StartVal as the</span></div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;            <span class="comment">// initial step of the addrec evolution.</span></div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">if</span> (StartVal == getMinusSCEV(AddRec-&gt;getOperand(0),</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                                         AddRec-&gt;getOperand(1))) {</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;              <span class="comment">// FIXME: For constant StartVal, we should be able to infer</span></div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;              <span class="comment">// no-wrap flags.</span></div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PHISCEV =</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                getAddRecExpr(StartVal, AddRec-&gt;getOperand(1), L,</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                              <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;              <span class="comment">// Okay, for the entire analysis of this edge we assumed the PHI</span></div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;              <span class="comment">// to be symbolic.  We now need to go back and purge all of the</span></div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;              <span class="comment">// entries for the scalars that use the symbolic expression.</span></div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;              ForgetSymbolicName(PN, SymbolicName);</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;              ValueExprMap[SCEVCallbackVH(PN, <span class="keyword">this</span>)] = PHISCEV;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;              <span class="keywordflow">return</span> PHISCEV;</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            }</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;          }</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;        }</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;      }</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    }</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="comment">// If the PHI has a single incoming value, follow that value, unless the</span></div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <span class="comment">// PHI&#39;s incoming blocks are in a different loop, in which case doing so</span></div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <span class="comment">// risks breaking LCSSA form. Instcombine would normally zap these, but</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="comment">// it doesn&#39;t have DominatorTree information, so it may miss cases.</span></div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">SimplifyInstruction</a>(PN, TD, TLI, DT))</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <span class="keywordflow">if</span> (LI-&gt;replacementPreservesLCSSAForm(PN, V))</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      <span class="keywordflow">return</span> getSCEV(V);</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="comment">// If it&#39;s not a loop phi, we can&#39;t handle it yet.</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  <span class="keywordflow">return</span> getUnknown(PN);</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;}</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;<span class="comment">/// createNodeForGEP - Expand GEP instructions into add and multiply</span></div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;<span class="comment">/// operations. This allows them to be analyzed by regular SCEV code.</span></div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createNodeForGEP(<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP) {</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrTy = getEffectiveSCEVType(GEP-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Base = GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <span class="comment">// Don&#39;t attempt to analyze GEPs over unsized objects.</span></div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;  <span class="keywordflow">if</span> (!Base-&gt;getType()-&gt;getPointerElementType()-&gt;isSized())</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="keywordflow">return</span> getUnknown(GEP);</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="comment">// Don&#39;t blindly transfer the inbounds flag from the GEP instruction to the</span></div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  <span class="comment">// Add expression, because the Instruction may be guarded by control flow</span></div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  <span class="comment">// and the no-overflow bits may not be valid for the expression in any</span></div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <span class="comment">// context.</span></div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">SCEV::NoWrapFlags</a> Wrap = GEP-&gt;<a class="code" href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">isInBounds</a>() ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">SCEV::FlagAnyWrap</a>;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TotalOffset = getConstant(IntPtrTy, 0);</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  <a class="code" href="classllvm_1_1generic__gep__type__iterator.html">gep_type_iterator</a> GTI = <a class="code" href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">gep_type_begin</a>(GEP);</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html#a40df11649fb4c41a4de49f793c2d231f">GetElementPtrInst::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>()),</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                                      E = GEP-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>();</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Index = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="comment">// Compute the (potentially symbolic) offset in bytes for this index.</span></div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = dyn_cast&lt;StructType&gt;(*GTI++)) {</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      <span class="comment">// For a struct, add the member offset.</span></div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      <span class="keywordtype">unsigned</span> FieldNo = cast&lt;ConstantInt&gt;(Index)-&gt;getZExtValue();</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FieldOffset = getOffsetOfExpr(IntPtrTy, STy, FieldNo);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;      <span class="comment">// Add the field offset to the running total offset.</span></div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      TotalOffset = getAddExpr(TotalOffset, FieldOffset);</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;      <span class="comment">// For an array, add the element offset, explicitly scaled.</span></div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ElementSize = getSizeOfExpr(IntPtrTy, *GTI);</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IndexS = getSCEV(Index);</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <span class="comment">// Getelementptr indices are signed.</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;      IndexS = getTruncateOrSignExtend(IndexS, IntPtrTy);</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;      <span class="comment">// Multiply the index by the element size to compute the element offset.</span></div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LocalOffset = getMulExpr(IndexS, ElementSize, Wrap);</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      <span class="comment">// Add the element offset to the running total offset.</span></div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      TotalOffset = getAddExpr(TotalOffset, LocalOffset);</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    }</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  }</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  <span class="comment">// Get the SCEV for the GEP base.</span></div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BaseS = getSCEV(Base);</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  <span class="comment">// Add the total offset from all the GEP indices to the base.</span></div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;  <span class="keywordflow">return</span> getAddExpr(BaseS, TotalOffset, Wrap);</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;}</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">/// GetMinTrailingZeros - Determine the minimum number of zero bits that S is</span></div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">/// guaranteed to end in (at every loop iteration).  It is, at the same time,</span></div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">/// the minimum number of times S is divisible by 2.  For example, given {4,+,8}</span></div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">/// it returns 2.  If S is guaranteed to be 0, it returns the bitwidth of S.</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment"></span>uint32_t</div><div class="line"><a name="l03231"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a"> 3231</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">ScalarEvolution::GetMinTrailingZeros</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(S))</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;getValue().countTrailingZeros();</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="classT.html">T</a> = dyn_cast&lt;SCEVTruncateExpr&gt;(S))</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">return</span> std::min(GetMinTrailingZeros(<a class="code" href="classT.html">T</a>-&gt;getOperand()),</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                    (uint32_t)getTypeSizeInBits(<a class="code" href="classT.html">T</a>-&gt;getType()));</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *E = dyn_cast&lt;SCEVZeroExtendExpr&gt;(S)) {</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    uint32_t OpRes = GetMinTrailingZeros(E-&gt;getOperand());</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keywordflow">return</span> OpRes == getTypeSizeInBits(E-&gt;getOperand()-&gt;getType()) ?</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;             getTypeSizeInBits(E-&gt;getType()) : OpRes;</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  }</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *E = dyn_cast&lt;SCEVSignExtendExpr&gt;(S)) {</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    uint32_t OpRes = GetMinTrailingZeros(E-&gt;getOperand());</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">return</span> OpRes == getTypeSizeInBits(E-&gt;getOperand()-&gt;getType()) ?</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;             getTypeSizeInBits(E-&gt;getType()) : OpRes;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  }</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="comment">// The result is the min of all operands results.</span></div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    uint32_t MinOpRes = GetMinTrailingZeros(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(0));</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getNumOperands(); MinOpRes &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;      MinOpRes = std::min(MinOpRes, GetMinTrailingZeros(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <span class="keywordflow">return</span> MinOpRes;</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  }</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVMulExpr&gt;(S)) {</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="comment">// The result is the sum of all operands results.</span></div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    uint32_t SumOpRes = GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0));</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    uint32_t BitWidth = getTypeSizeInBits(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getType());</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands();</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;         SumOpRes != BitWidth &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      SumOpRes = std::min(SumOpRes + GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)),</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                          BitWidth);</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="keywordflow">return</span> SumOpRes;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  }</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <span class="comment">// The result is the min of all operands results.</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    uint32_t MinOpRes = GetMinTrailingZeros(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(0));</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getNumOperands(); MinOpRes &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      MinOpRes = std::min(MinOpRes, GetMinTrailingZeros(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordflow">return</span> MinOpRes;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  }</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVSMaxExpr&gt;(S)) {</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="comment">// The result is the min of all operands results.</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    uint32_t MinOpRes = GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0));</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); MinOpRes &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;      MinOpRes = std::min(MinOpRes, GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="keywordflow">return</span> MinOpRes;</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  }</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = dyn_cast&lt;SCEVUMaxExpr&gt;(S)) {</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    <span class="comment">// The result is the min of all operands results.</span></div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    uint32_t MinOpRes = GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(0));</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getNumOperands(); MinOpRes &amp;&amp; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;      MinOpRes = std::min(MinOpRes, GetMinTrailingZeros(<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">return</span> MinOpRes;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  }</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = dyn_cast&lt;SCEVUnknown&gt;(S)) {</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="comment">// For a SCEVUnknown, ask ValueTracking.</span></div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(U-&gt;getType());</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Zeros(BitWidth, 0), Ones(BitWidth, 0);</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(U-&gt;getValue(), Zeros, Ones);</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keywordflow">return</span> Zeros.countTrailingOnes();</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  }</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  <span class="comment">// SCEVUDivExpr</span></div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;}</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;<span class="comment">/// getUnsignedRange - Determine the unsigned range for a particular SCEV.</span></div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a></div><div class="line"><a name="l03309"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#adcb0414b8e72f211b7908c5f13f8a2da"> 3309</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#adcb0414b8e72f211b7908c5f13f8a2da">ScalarEvolution::getUnsignedRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="comment">// See if we&#39;ve computed this range already.</span></div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;const SCEV *, ConstantRange&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = UnsignedRanges.find(S);</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span> (I != UnsignedRanges.end())</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <span class="keywordflow">return</span> I-&gt;second;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  <a class="code" href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(S))</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;getValue()));</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(S-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ConservativeResult(BitWidth, <span class="comment">/*isFullSet=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  <span class="comment">// If the value has known zeros, the maximum unsigned value will have those</span></div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  <span class="comment">// known zeros as well.</span></div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  uint32_t TZ = GetMinTrailingZeros(S);</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  <span class="keywordflow">if</span> (TZ != 0)</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    ConservativeResult =</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(BitWidth),</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                    <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(BitWidth).<a class="code" href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">lshr</a>(TZ).<a class="code" href="namespacellvm_1_1APIntOps.html#a57f47540fddb72feab9e8afd08f21611">shl</a>(TZ) + 1);</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(Add-&gt;getOperand(0));</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Add-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(getUnsignedRange(Add-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(Add, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  }</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = dyn_cast&lt;SCEVMulExpr&gt;(S)) {</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(Mul-&gt;getOperand(0));</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Mul-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(getUnsignedRange(Mul-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(Mul, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  }</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *SMax = dyn_cast&lt;SCEVSMaxExpr&gt;(S)) {</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(SMax-&gt;getOperand(0));</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = SMax-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a4b553cd490bc767847d224b4e27a12d7">smax</a>(getUnsignedRange(SMax-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(SMax, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  }</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *UMax = dyn_cast&lt;SCEVUMaxExpr&gt;(S)) {</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(UMax-&gt;getOperand(0));</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = UMax-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#ab31d67091e24d202638fb32e97f29b02">umax</a>(getUnsignedRange(UMax-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(UMax, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  }</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = dyn_cast&lt;SCEVUDivExpr&gt;(S)) {</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(UDiv-&gt;getLHS());</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = getUnsignedRange(UDiv-&gt;getRHS());</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(UDiv, ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#a433e889f2a65d5979f109e2d01e946c1">udiv</a>(Y)));</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  }</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(S)) {</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(ZExt-&gt;getOperand());</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(ZExt,</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">zeroExtend</a>(BitWidth)));</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  }</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(S)) {</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(SExt-&gt;getOperand());</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(SExt,</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">signExtend</a>(BitWidth)));</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  }</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = dyn_cast&lt;SCEVTruncateExpr&gt;(S)) {</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getUnsignedRange(Trunc-&gt;getOperand());</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(Trunc,</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">truncate</a>(BitWidth)));</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  }</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="comment">// If there&#39;s no unsigned wrap, the value will never be less than its</span></div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <span class="comment">// initial value.</span></div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>))</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(AddRec-&gt;getStart()))</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isZero())</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;          ConservativeResult =</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;            ConservativeResult.intersectWith(</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;              <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;getValue(), <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 0)));</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="comment">// TODO: non-affine addrec</span></div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;isAffine()) {</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = AddRec-&gt;getType();</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getMaxBackedgeTakenCount(AddRec-&gt;getLoop());</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;          getTypeSizeInBits(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt;= BitWidth) {</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        MaxBECount = getNoopOrZeroExtend(MaxBECount, Ty);</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AddRec-&gt;getStart();</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AddRec-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StartRange = getUnsignedRange(Start);</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StepRange = getSignedRange(Step);</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> MaxBECountRange = getUnsignedRange(MaxBECount);</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> EndRange =</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;          StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(MaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(StepRange));</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        <span class="comment">// Check for overflow. This must be done with ConstantRange arithmetic</span></div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        <span class="comment">// because we could be called from within the ScalarEvolution overflow</span></div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;        <span class="comment">// checking code.</span></div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtStartRange = StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">zextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtStepRange = StepRange.<a class="code" href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">sextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtMaxBECountRange =</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;          MaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">zextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtEndRange = EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">zextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        <span class="keywordflow">if</span> (ExtStartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(ExtMaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(ExtStepRange)) !=</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            ExtEndRange)</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;          <span class="keywordflow">return</span> setUnsignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Min = <a class="code" href="namespacellvm_1_1APIntOps.html#a50d881392940ab60561065fd1f74af01">APIntOps::umin</a>(StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>(),</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;                                   EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>());</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Max = <a class="code" href="namespacellvm_1_1APIntOps.html#af1049fb1fd8d46e317bc27285e036493">APIntOps::umax</a>(StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>(),</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                                   EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>());</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="keywordflow">if</span> (Min.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>() &amp;&amp; Max.isMaxValue())</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;          <span class="keywordflow">return</span> setUnsignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        <span class="keywordflow">return</span> setUnsignedRange(AddRec,</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;          ConservativeResult.intersectWith(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(Min, Max+1)));</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      }</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    }</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  }</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = dyn_cast&lt;SCEVUnknown&gt;(S)) {</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="comment">// For a SCEVUnknown, ask ValueTracking.</span></div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Zeros(BitWidth, 0), Ones(BitWidth, 0);</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(U-&gt;getValue(), Zeros, Ones, TD);</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    <span class="keywordflow">if</span> (Ones == ~Zeros + 1)</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <span class="keywordflow">return</span> setUnsignedRange(U, ConservativeResult);</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">return</span> setUnsignedRange(U,</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      ConservativeResult.intersectWith(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(Ones, ~Zeros + 1)));</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  }</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="keywordflow">return</span> setUnsignedRange(S, ConservativeResult);</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;}</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;<span class="comment">/// getSignedRange - Determine the signed range for a particular SCEV.</span></div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a></div><div class="line"><a name="l03450"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#adab4916baed5afefadd4d8e4692d6080"> 3450</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#adab4916baed5afefadd4d8e4692d6080">ScalarEvolution::getSignedRange</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <span class="comment">// See if we&#39;ve computed this range already.</span></div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;const SCEV *, ConstantRange&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SignedRanges.find(S);</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  <span class="keywordflow">if</span> (I != SignedRanges.end())</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">return</span> I-&gt;second;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  <a class="code" href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(S))</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <span class="keywordflow">return</span> setSignedRange(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;getValue()));</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(S-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ConservativeResult(BitWidth, <span class="comment">/*isFullSet=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <span class="comment">// If the value has known zeros, the maximum signed value will have those</span></div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="comment">// known zeros as well.</span></div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  uint32_t TZ = GetMinTrailingZeros(S);</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <span class="keywordflow">if</span> (TZ != 0)</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    ConservativeResult =</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth),</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;                    <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth).<a class="code" href="namespacellvm_1_1APIntOps.html#a53678e1ba939cbda45347935d6324563">ashr</a>(TZ).<a class="code" href="namespacellvm_1_1APIntOps.html#a57f47540fddb72feab9e8afd08f21611">shl</a>(TZ) + 1);</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Add = dyn_cast&lt;SCEVAddExpr&gt;(S)) {</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(Add-&gt;getOperand(0));</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Add-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(getSignedRange(Add-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <span class="keywordflow">return</span> setSignedRange(Add, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  }</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = dyn_cast&lt;SCEVMulExpr&gt;(S)) {</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(Mul-&gt;getOperand(0));</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = Mul-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(getSignedRange(Mul-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <span class="keywordflow">return</span> setSignedRange(Mul, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  }</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *SMax = dyn_cast&lt;SCEVSMaxExpr&gt;(S)) {</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(SMax-&gt;getOperand(0));</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = SMax-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#a4b553cd490bc767847d224b4e27a12d7">smax</a>(getSignedRange(SMax-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">return</span> setSignedRange(SMax, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  }</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *UMax = dyn_cast&lt;SCEVUMaxExpr&gt;(S)) {</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(UMax-&gt;getOperand(0));</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = UMax-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      X = X.<a class="code" href="classllvm_1_1ConstantRange.html#ab31d67091e24d202638fb32e97f29b02">umax</a>(getSignedRange(UMax-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)));</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keywordflow">return</span> setSignedRange(UMax, ConservativeResult.intersectWith(X));</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  }</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = dyn_cast&lt;SCEVUDivExpr&gt;(S)) {</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(UDiv-&gt;getLHS());</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = getSignedRange(UDiv-&gt;getRHS());</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <span class="keywordflow">return</span> setSignedRange(UDiv, ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#a433e889f2a65d5979f109e2d01e946c1">udiv</a>(Y)));</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  }</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *ZExt = dyn_cast&lt;SCEVZeroExtendExpr&gt;(S)) {</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(ZExt-&gt;getOperand());</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    <span class="keywordflow">return</span> setSignedRange(ZExt,</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">zeroExtend</a>(BitWidth)));</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  }</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SExt = dyn_cast&lt;SCEVSignExtendExpr&gt;(S)) {</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(SExt-&gt;getOperand());</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <span class="keywordflow">return</span> setSignedRange(SExt,</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">signExtend</a>(BitWidth)));</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  }</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Trunc = dyn_cast&lt;SCEVTruncateExpr&gt;(S)) {</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = getSignedRange(Trunc-&gt;getOperand());</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <span class="keywordflow">return</span> setSignedRange(Trunc,</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      ConservativeResult.intersectWith(X.<a class="code" href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">truncate</a>(BitWidth)));</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  }</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="comment">// If there&#39;s no signed wrap, and all the operands have the same sign or</span></div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <span class="comment">// zero, the value won&#39;t ever change sign.</span></div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>)) {</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;      <span class="keywordtype">bool</span> AllNonNeg = <span class="keyword">true</span>;</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;      <span class="keywordtype">bool</span> AllNonPos = <span class="keyword">true</span>;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AddRec-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;        <span class="keywordflow">if</span> (!isKnownNonNegative(AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) AllNonNeg = <span class="keyword">false</span>;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;        <span class="keywordflow">if</span> (!isKnownNonPositive(AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) AllNonPos = <span class="keyword">false</span>;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;      }</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <span class="keywordflow">if</span> (AllNonNeg)</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        ConservativeResult = ConservativeResult.intersectWith(</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 0),</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;                        <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth)));</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AllNonPos)</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        ConservativeResult = ConservativeResult.intersectWith(</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth),</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;                        <a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 1)));</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    }</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <span class="comment">// TODO: non-affine addrec</span></div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="keywordflow">if</span> (AddRec-&gt;isAffine()) {</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">Ty</a> = AddRec-&gt;getType();</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getMaxBackedgeTakenCount(AddRec-&gt;getLoop());</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(MaxBECount) &amp;&amp;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;          getTypeSizeInBits(MaxBECount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt;= BitWidth) {</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        MaxBECount = getNoopOrZeroExtend(MaxBECount, Ty);</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = AddRec-&gt;getStart();</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = AddRec-&gt;getStepRecurrence(*<span class="keyword">this</span>);</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StartRange = getSignedRange(Start);</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> StepRange = getSignedRange(Step);</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> MaxBECountRange = getUnsignedRange(MaxBECount);</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> EndRange =</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;          StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(MaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(StepRange));</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        <span class="comment">// Check for overflow. This must be done with ConstantRange arithmetic</span></div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        <span class="comment">// because we could be called from within the ScalarEvolution overflow</span></div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        <span class="comment">// checking code.</span></div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtStartRange = StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">sextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtStepRange = StepRange.<a class="code" href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">sextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtMaxBECountRange =</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;          MaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">zextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> ExtEndRange = EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">sextOrTrunc</a>(BitWidth*2+1);</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        <span class="keywordflow">if</span> (ExtStartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(ExtMaxBECountRange.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(ExtStepRange)) !=</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;            ExtEndRange)</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;          <span class="keywordflow">return</span> setSignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Min = <a class="code" href="namespacellvm_1_1APIntOps.html#a36119f1b51169ab67a14a52e23d1e511">APIntOps::smin</a>(StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>(),</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;                                   EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>());</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        <a class="code" href="classllvm_1_1APInt.html">APInt</a> Max = <a class="code" href="namespacellvm_1_1APIntOps.html#a032d677bf90ffeb8afcb93e40dbcf6a7">APIntOps::smax</a>(StartRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>(),</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                                   EndRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>());</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;        <span class="keywordflow">if</span> (Min.<a class="code" href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">isMinSignedValue</a>() &amp;&amp; Max.isMaxSignedValue())</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;          <span class="keywordflow">return</span> setSignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;        <span class="keywordflow">return</span> setSignedRange(AddRec,</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;          ConservativeResult.intersectWith(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(Min, Max+1)));</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;      }</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    }</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <span class="keywordflow">return</span> setSignedRange(AddRec, ConservativeResult);</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  }</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = dyn_cast&lt;SCEVUnknown&gt;(S)) {</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="comment">// For a SCEVUnknown, ask ValueTracking.</span></div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <span class="keywordflow">if</span> (!U-&gt;getValue()-&gt;getType()-&gt;isIntegerTy() &amp;&amp; !TD)</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;      <span class="keywordflow">return</span> setSignedRange(U, ConservativeResult);</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <span class="keywordtype">unsigned</span> NS = <a class="code" href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">ComputeNumSignBits</a>(U-&gt;getValue(), TD);</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <span class="keywordflow">if</span> (NS &lt;= 1)</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;      <span class="keywordflow">return</span> setSignedRange(U, ConservativeResult);</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <span class="keywordflow">return</span> setSignedRange(U, ConservativeResult.intersectWith(</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(<a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth).<a class="code" href="namespacellvm_1_1APIntOps.html#a53678e1ba939cbda45347935d6324563">ashr</a>(NS - 1),</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;                    <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth).<a class="code" href="namespacellvm_1_1APIntOps.html#a53678e1ba939cbda45347935d6324563">ashr</a>(NS - 1)+1)));</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  }</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;  <span class="keywordflow">return</span> setSignedRange(S, ConservativeResult);</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;}</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="comment">/// createSCEV - We know that there is no SCEV for the specified value.</span></div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<span class="comment">/// Analyze the expression.</span></div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::createSCEV(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;  <span class="keywordflow">if</span> (!isSCEVable(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    <span class="keywordflow">return</span> getUnknown(V);</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Instruction::UserOp1;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(V)) {</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    Opcode = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode();</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="comment">// Don&#39;t attempt to analyze instructions in blocks that aren&#39;t</span></div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    <span class="comment">// reachable. Such instructions don&#39;t matter, and they aren&#39;t required</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    <span class="comment">// to obey basic rules for definitions dominating uses which this</span></div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <span class="comment">// analysis depends on.</span></div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;isReachableFromEntry(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()))</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;      <span class="keywordflow">return</span> getUnknown(V);</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(V))</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    Opcode = CE-&gt;getOpcode();</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="keywordflow">return</span> getConstant(CI);</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(V))</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <span class="keywordflow">return</span> getConstant(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 0);</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V))</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <span class="keywordflow">return</span> GA-&gt;mayBeOverridden() ? getUnknown(V) : getSCEV(GA-&gt;getAliasee());</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;    <span class="keywordflow">return</span> getUnknown(V);</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <a class="code" href="classllvm_1_1Operator.html">Operator</a> *U = cast&lt;Operator&gt;(V);</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">case</span> Instruction::Add: {</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="comment">// The simple thing to do would be to just call getSCEV on both operands</span></div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="comment">// and call getAddExpr with the result. However if we&#39;re looking at a</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <span class="comment">// bunch of things all added together, this can be quite inefficient,</span></div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    <span class="comment">// because it leads to N-1 getAddExpr calls for N ultimate operands.</span></div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    <span class="comment">// Instead, gather up all the operands and make a single getAddExpr call.</span></div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    <span class="comment">// LLVM IR canonical form means we need only traverse the left operands.</span></div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="comment">// Don&#39;t apply this instruction&#39;s NSW or NUW flags to the new</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="comment">// expression. The instruction may be guarded by control flow that the</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="comment">// no-wrap behavior depends on. Non-control-equivalent instructions can be</span></div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="comment">// mapped to the same SCEV expression, and it would be incorrect to transfer</span></div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="comment">// NSW/NUW semantics to those operations.</span></div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> AddOps;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    AddOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0); ; <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)) {</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;      <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;getValueID() - <a class="code" href="classllvm_1_1Value.html#af6d11b38374c4f9e6ba3a6407da2dee0a8221843f7f75185ce7697dca43cb6a02">Value::InstructionVal</a>;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;      <span class="keywordflow">if</span> (Opcode != Instruction::Add &amp;&amp; Opcode != Instruction::Sub)</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;      U = cast&lt;Operator&gt;(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>);</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Op1 = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;      <span class="keywordflow">if</span> (Opcode == Instruction::Sub)</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;        AddOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getNegativeSCEV(Op1));</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;        AddOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Op1);</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    }</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    AddOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)));</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="keywordflow">return</span> getAddExpr(AddOps);</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  }</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul: {</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    <span class="comment">// Don&#39;t transfer NSW/NUW for the same reason as AddExpr.</span></div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> MulOps;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    MulOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;         <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>-&gt;getValueID() == Instruction::Mul + <a class="code" href="classllvm_1_1Value.html#af6d11b38374c4f9e6ba3a6407da2dee0a8221843f7f75185ce7697dca43cb6a02">Value::InstructionVal</a>;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;         <a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)) {</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;      U = cast&lt;Operator&gt;(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a>);</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;      MulOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    }</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    MulOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)));</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="keywordflow">return</span> getMulExpr(MulOps);</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  }</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="keywordflow">return</span> getUDivExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)),</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;                       getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="keywordflow">return</span> getMinusSCEV(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)),</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;                        getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>:</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="comment">// For an expression like x&amp;255 that merely masks off the high bits,</span></div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="comment">// use zext(trunc(x)) as the SCEV expression.</span></div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;isNullValue())</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        <span class="keywordflow">return</span> getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;isAllOnesValue())</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;        <span class="keywordflow">return</span> getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = CI-&gt;getValue();</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;      <span class="comment">// Instcombine&#39;s ShrinkDemandedConstant may strip bits out of</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;      <span class="comment">// constants, obscuring what would otherwise be a low-bits mask.</span></div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;      <span class="comment">// Use ComputeMaskedBits to compute what ShrinkDemandedConstant</span></div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;      <span class="comment">// knew about to reconstruct a low-bits mask value.</span></div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;      <span class="keywordtype">unsigned</span> LZ = A.<a class="code" href="classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">countLeadingZeros</a>();</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;      <span class="keywordtype">unsigned</span> BitWidth = A.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> KnownZero(BitWidth, 0), KnownOne(BitWidth, 0);</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;      <a class="code" href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">ComputeMaskedBits</a>(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), KnownZero, KnownOne, TD);</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> EffectiveMask = <a class="code" href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">APInt::getLowBitsSet</a>(BitWidth, BitWidth - LZ);</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      <span class="keywordflow">if</span> (LZ != 0 &amp;&amp; !((~A &amp; ~KnownZero) &amp; EffectiveMask))</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        <span class="keywordflow">return</span></div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;          getZeroExtendExpr(getTruncateExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)),</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                                <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(getContext(), BitWidth - LZ)),</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;                            U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    }</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="comment">// If the RHS of the Or is a constant, we may have something like:</span></div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="comment">// X*4+1 which got turned into X*4|1.  Handle this as an Add so loop</span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="comment">// optimizations will transparently handle this case.</span></div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="comment">// In order for this transformation to be safe, the LHS must be of the</span></div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="comment">// form X*(2^n) and the Or constant must be less than 2^n.</span></div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;CIVal = CI-&gt;getValue();</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;      <span class="keywordflow">if</span> (GetMinTrailingZeros(LHS) &gt;=</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;          (CIVal.getBitWidth() - CIVal.countLeadingZeros())) {</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        <span class="comment">// Build a plain add SCEV.</span></div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S = getAddExpr(LHS, getSCEV(CI));</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        <span class="comment">// If the LHS of the add was an addrec and it has no-wrap flags,</span></div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        <span class="comment">// transfer the no-wrap flags, since an or won&#39;t introduce a wrap.</span></div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *NewAR = dyn_cast&lt;SCEVAddRecExpr&gt;(S)) {</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *OldAR = cast&lt;SCEVAddRecExpr&gt;(LHS);</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;          <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *<span class="keyword">&gt;</span>(NewAR)-&gt;setNoWrapFlags(</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            OldAR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>());</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;        }</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      }</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    }</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>:</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;      <span class="comment">// If the RHS of the xor is a signbit, then this is just an add.</span></div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;      <span class="comment">// Instcombine turns add of signbit into xor as a strength reduction step.</span></div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;getValue().isSignBit())</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        <span class="keywordflow">return</span> getAddExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)),</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;                          getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;      <span class="comment">// If the RHS of xor is -1, then this is a not operation.</span></div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;      <span class="keywordflow">if</span> (CI-&gt;isAllOnesValue())</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;        <span class="keywordflow">return</span> getNotSCEV(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)));</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;      <span class="comment">// Model xor(and(x, C), C) as and(~x, C), if C is a low-bits mask.</span></div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;      <span class="comment">// This is a variant of the check for xor with -1, and it handles</span></div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      <span class="comment">// the case where instcombine has trimmed non-demanded bits out</span></div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      <span class="comment">// of an xor with -1.</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = dyn_cast&lt;BinaryOperator&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)))</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LCI = dyn_cast&lt;ConstantInt&gt;(BO-&gt;getOperand(1)))</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;          <span class="keywordflow">if</span> (BO-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a> &amp;&amp;</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;              LCI-&gt;getValue() == CI-&gt;getValue())</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Z =</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;                  dyn_cast&lt;SCEVZeroExtendExpr&gt;(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)))) {</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;              <a class="code" href="classllvm_1_1Type.html">Type</a> *UTy = U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Z0 = Z-&gt;getOperand();</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;              <a class="code" href="classllvm_1_1Type.html">Type</a> *Z0Ty = Z0-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>();</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;              <span class="keywordtype">unsigned</span> Z0TySize = getTypeSizeInBits(Z0Ty);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;              <span class="comment">// If C is a low-bits mask, the zero extend is serving to</span></div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;              <span class="comment">// mask off the high bits. Complement the operand and</span></div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;              <span class="comment">// re-apply the zext.</span></div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1APIntOps.html#a3deb6e6ca37ab496c0ee8996cb06825c">APIntOps::isMask</a>(Z0TySize, CI-&gt;getValue()))</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;                <span class="keywordflow">return</span> getZeroExtendExpr(getNotSCEV(Z0), UTy);</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;              <span class="comment">// If C is a single bit, it may be in the sign-bit position</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;              <span class="comment">// before the zero-extend. In this case, represent the xor</span></div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;              <span class="comment">// using an add, which is equivalent, and re-apply the zext.</span></div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;              <a class="code" href="classllvm_1_1APInt.html">APInt</a> Trunc = CI-&gt;getValue().<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(Z0TySize);</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;              <span class="keywordflow">if</span> (Trunc.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(getTypeSizeInBits(UTy)) == CI-&gt;getValue() &amp;&amp;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;                  Trunc.<a class="code" href="classllvm_1_1APInt.html#a9e981fb2ff9cfa5bb54229dbb5dc78b7">isSignBit</a>())</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;                <span class="keywordflow">return</span> getZeroExtendExpr(getAddExpr(Z0, getConstant(Trunc)),</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;                                         UTy);</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;            }</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    }</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="comment">// Turn shift left of a constant amount into a multiply.</span></div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;      uint32_t BitWidth = cast&lt;IntegerType&gt;(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;<a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>();</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;      <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;      <span class="comment">// other parts of the compiler.</span></div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;      <span class="keywordflow">if</span> (SA-&gt;getValue().uge(BitWidth))</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(),</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(BitWidth, SA-&gt;getZExtValue()));</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      <span class="keywordflow">return</span> getMulExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)), getSCEV(X));</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    }</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="comment">// Turn logical shift right of a constant into a unsigned divide.</span></div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SA = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;      uint32_t BitWidth = cast&lt;IntegerType&gt;(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;<a class="code" href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a>();</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;      <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;      <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;      <span class="comment">// other parts of the compiler.</span></div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <span class="keywordflow">if</span> (SA-&gt;getValue().uge(BitWidth))</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(getContext(),</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        <a class="code" href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">APInt::getOneBitSet</a>(BitWidth, SA-&gt;getZExtValue()));</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;      <span class="keywordflow">return</span> getUDivExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)), getSCEV(X));</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    }</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="comment">// For a two-shift sext-inreg, use sext(trunc(x)) as the SCEV expression.</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)))</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html">Operator</a> *L = dyn_cast&lt;Operator&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)))</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <span class="keywordflow">if</span> (L-&gt;getOpcode() == Instruction::Shl &amp;&amp;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;            L-&gt;getOperand(1) == U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)) {</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;          uint64_t BitWidth = getTypeSizeInBits(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;          <span class="comment">// If the shift count is not less than the bitwidth, the result of</span></div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;          <span class="comment">// the shift is undefined. Don&#39;t try to analyze it, because the</span></div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;          <span class="comment">// resolution chosen here may differ from the resolution chosen in</span></div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;          <span class="comment">// other parts of the compiler.</span></div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;          <span class="keywordflow">if</span> (CI-&gt;getValue().uge(BitWidth))</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;          uint64_t Amt = BitWidth - CI-&gt;getZExtValue();</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;          <span class="keywordflow">if</span> (Amt == BitWidth)</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;            <span class="keywordflow">return</span> getSCEV(L-&gt;getOperand(0));       <span class="comment">// shift by zero --&gt; noop</span></div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;          <span class="keywordflow">return</span></div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;            getSignExtendExpr(getTruncateExpr(getSCEV(L-&gt;getOperand(0)),</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                                              <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(getContext(),</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;                                                               Amt)),</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                              U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;        }</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keywordflow">return</span> getTruncateExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <span class="keywordflow">return</span> getZeroExtendExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <span class="keywordflow">return</span> getSignExtendExpr(getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)), U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    <span class="comment">// BitCasts are no-op casts so we just eliminate the cast.</span></div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    <span class="keywordflow">if</span> (isSCEVable(U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) &amp;&amp; isSCEVable(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;      <span class="keywordflow">return</span> getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="comment">// It&#39;s tempting to handle inttoptr and ptrtoint as no-ops, however this can</span></div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="comment">// lead to pointer expressions which cannot safely be expanded to GEPs,</span></div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="comment">// because ScalarEvolution doesn&#39;t respect the GEP aliasing rules when</span></div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  <span class="comment">// simplifying integer expressions.</span></div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr:</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordflow">return</span> createNodeForGEP(cast&lt;GEPOperator&gt;(U));</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">Instruction::PHI</a>:</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">return</span> createNodeForPHI(cast&lt;PHINode&gt;(U));</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">Instruction::Select</a>:</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    <span class="comment">// This could be a smax or umax that was lowered earlier.</span></div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    <span class="comment">// Try to recover it.</span></div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ICI = dyn_cast&lt;ICmpInst&gt;(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0))) {</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS = ICI-&gt;getOperand(0);</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS = ICI-&gt;getOperand(1);</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;      <span class="keywordflow">switch</span> (ICI-&gt;getPredicate()) {</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        <span class="comment">// fall through</span></div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        <span class="comment">// a &gt;s b ? a+x : b+x  -&gt;  smax(a, b)+x</span></div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        <span class="comment">// a &gt;s b ? b+x : a+x  -&gt;  smin(a, b)+x</span></div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) {</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">LS</a> = getSCEV(LHS);</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RS = getSCEV(RHS);</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2));</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LDiff = getMinusSCEV(LA, LS);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RDiff = getMinusSCEV(RA, RS);</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getSMaxExpr(LS, RS), LDiff);</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;          LDiff = getMinusSCEV(LA, RS);</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;          RDiff = getMinusSCEV(RA, LS);</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getSMinExpr(LS, RS), LDiff);</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        }</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <span class="comment">// fall through</span></div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        <span class="comment">// a &gt;u b ? a+x : b+x  -&gt;  umax(a, b)+x</span></div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;        <span class="comment">// a &gt;u b ? b+x : a+x  -&gt;  umin(a, b)+x</span></div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) {</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">LS</a> = getSCEV(LHS);</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RS = getSCEV(RHS);</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2));</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LDiff = getMinusSCEV(LA, LS);</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RDiff = getMinusSCEV(RA, RS);</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getUMaxExpr(LS, RS), LDiff);</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;          LDiff = getMinusSCEV(LA, RS);</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;          RDiff = getMinusSCEV(RA, LS);</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getUMinExpr(LS, RS), LDiff);</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;        }</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;        <span class="comment">// n != 0 ? n+x : 1+x  -&gt;  umax(n, 1)+x</span></div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;        <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() &amp;&amp;</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;            isa&lt;ConstantInt&gt;(RHS) &amp;&amp;</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;            cast&lt;ConstantInt&gt;(RHS)-&gt;isZero()) {</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1);</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">LS</a> = getSCEV(LHS);</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2));</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LDiff = getMinusSCEV(LA, LS);</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RDiff = getMinusSCEV(RA, One);</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getUMaxExpr(One, LS), LDiff);</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;        }</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;        <span class="comment">// n == 0 ? 1+x : n+x  -&gt;  umax(n, 1)+x</span></div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;        <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == U-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() &amp;&amp;</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;            isa&lt;ConstantInt&gt;(RHS) &amp;&amp;</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;            cast&lt;ConstantInt&gt;(RHS)-&gt;isZero()) {</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1);</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">LS</a> = getSCEV(LHS);</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RA = getSCEV(U-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2));</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LDiff = getMinusSCEV(LA, One);</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RDiff = getMinusSCEV(RA, LS);</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;          <span class="keywordflow">if</span> (LDiff == RDiff)</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;            <span class="keywordflow">return</span> getAddExpr(getUMaxExpr(One, LS), LDiff);</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;        }</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;      }</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    }</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  <span class="keywordflow">default</span>: <span class="comment">// We cannot analyze this expression.</span></div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  }</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="keywordflow">return</span> getUnknown(V);</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;}</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;<span class="comment">//                   Iteration Count Computation Code</span></div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;<span class="comment">/// getSmallConstantTripCount - Returns the maximum trip count of this loop as a</span></div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;<span class="comment">/// normal unsigned value. Returns 0 if the trip count is unknown or not</span></div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;<span class="comment">/// constant. Will also return 0 if the maximum trip count is very large (&gt;=</span></div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;<span class="comment">/// 2^32).</span></div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;<span class="comment">/// This &quot;trip count&quot; assumes that control exits via ExitingBlock. More</span></div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;<span class="comment">/// precisely, it is the number of times that control may reach ExitingBlock</span></div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;<span class="comment">/// before taking the branch. For loops with multiple exits, it may not be the</span></div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;<span class="comment">/// number times that the loop header executes because the loop may exit</span></div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;<span class="comment">/// prematurely via another branch.</span></div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;<span class="comment">/// FIXME: We conservatively call getBackedgeTakenCount(L) instead of</span></div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;<span class="comment">/// getExitCount(L, ExitingBlock) to compute a safe trip count considering all</span></div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;<span class="comment">/// loop exits. getExitCount() may return an exact count for this branch</span></div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;<span class="comment">/// assuming no-signed-wrap. The number of well-defined iterations may actually</span></div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;<span class="comment">/// be higher than this trip count if this exit test is skipped and the loop</span></div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;<span class="comment">/// exits via a different branch. Ideally, getExitCount() would know whether it</span></div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;<span class="comment">/// depends on a NSW assumption, and we would only fall back to a conservative</span></div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;<span class="comment">/// trip count in that case.</span></div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5984e47d0885332478dc9232634d82e8">ScalarEvolution::</a></div><div class="line"><a name="l03986"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5984e47d0885332478dc9232634d82e8"> 3986</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a5984e47d0885332478dc9232634d82e8">getSmallConstantTripCount</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * <span class="comment">/*ExitingBlock*/</span>) {</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *ExitCount =</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(getBackedgeTakenCount(L));</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="keywordflow">if</span> (!ExitCount)</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ExitConst = ExitCount-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>();</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="comment">// Guard against huge trip counts.</span></div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  <span class="keywordflow">if</span> (ExitConst-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>() &gt; 32)</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <span class="comment">// In case of integer overflow, this returns 0, which is correct.</span></div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span>)ExitConst-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>()) + 1;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;}</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;<span class="comment">/// getSmallConstantTripMultiple - Returns the largest constant divisor of the</span></div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;<span class="comment">/// trip count of this loop as a normal unsigned value, if possible. This</span></div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;<span class="comment">/// means that the actual trip count is always a multiple of the returned</span></div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;<span class="comment">/// value (don&#39;t forget the trip count could very well be zero as well!).</span></div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;<span class="comment">/// Returns 1 if the trip count is unknown or not guaranteed to be the</span></div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;<span class="comment">/// multiple of a constant (which is also the case if the trip count is simply</span></div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;<span class="comment">/// constant, use getSmallConstantTripCount for that case), Will also return 1</span></div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;<span class="comment">/// if the trip count is very large (&gt;= 2^32).</span></div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;<span class="comment">/// As explained in the comments for getSmallConstantTripCount, this assumes</span></div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;<span class="comment">/// that control exits the loop via ExitingBlock.</span></div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a74ed1171de475e583580fca80c1fe0c8">ScalarEvolution::</a></div><div class="line"><a name="l04015"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a74ed1171de475e583580fca80c1fe0c8"> 4015</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a74ed1171de475e583580fca80c1fe0c8">getSmallConstantTripMultiple</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> * <span class="comment">/*ExitingBlock*/</span>) {</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitCount = getBackedgeTakenCount(L);</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  <span class="keywordflow">if</span> (ExitCount == getCouldNotCompute())</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;  <span class="comment">// Get the trip count from the BE count by adding 1.</span></div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *TCMul = getAddExpr(ExitCount,</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;                                 getConstant(ExitCount-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1));</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <span class="comment">// FIXME: SCEV distributes multiplication as V1*C1 + V2*C1. We could attempt</span></div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  <span class="comment">// to factor simple cases.</span></div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = dyn_cast&lt;SCEVMulExpr&gt;(TCMul))</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    TCMul = Mul-&gt;getOperand(0);</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *MulC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(TCMul);</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="keywordflow">if</span> (!MulC)</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Result = MulC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>();</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;  <span class="comment">// Guard against huge trip counts (this requires checking</span></div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <span class="comment">// for zero to handle the case where the trip count == -1 and the</span></div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <span class="comment">// addition wraps).</span></div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  <span class="keywordflow">if</span> (!Result || Result-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>() &gt; 32 ||</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;      Result-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>() == 0)</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span>)Result-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;}</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;<span class="comment">// getExitCount - Get the expression for the number of loop iterations for which</span></div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;<span class="comment">// this loop is guaranteed not to exit via ExitingBlock. Otherwise return</span></div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;<span class="comment">// SCEVCouldNotCompute.</span></div><div class="line"><a name="l04047"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a55b443b4d4fc5beaf598c43dad83b6a4"> 4047</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a55b443b4d4fc5beaf598c43dad83b6a4">ScalarEvolution::getExitCount</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock) {</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;  <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getExact(ExitingBlock, <span class="keyword">this</span>);</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;}</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;<span class="comment">/// getBackedgeTakenCount - If the specified loop has a predictable</span></div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;<span class="comment">/// backedge-taken count, return it, otherwise return a SCEVCouldNotCompute</span></div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;<span class="comment">/// object. The backedge-taken count is the number of times the loop header</span></div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;<span class="comment">/// will be branched to from within the loop. This is one less than the</span></div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;<span class="comment">/// trip count of the loop, since it doesn&#39;t count the first iteration,</span></div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;<span class="comment">/// when the header is branched to from outside the loop.</span></div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;<span class="comment">/// Note that it is not valid to call this method on a loop without a</span></div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;<span class="comment">/// loop-invariant backedge-taken count (see</span></div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;<span class="comment">/// hasLoopInvariantBackedgeTakenCount).</span></div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04062"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e"> 4062</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">ScalarEvolution::getBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getExact(<span class="keyword">this</span>);</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;}</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;<span class="comment">/// getMaxBackedgeTakenCount - Similar to getBackedgeTakenCount, except</span></div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;<span class="comment">/// return the least SCEV value that is known never to be less than the</span></div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;<span class="comment">/// actual backedge taken count.</span></div><div class="line"><a name="l04069"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a6a9e377be1c43ef79a69f55ac757a4aa"> 4069</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a6a9e377be1c43ef79a69f55ac757a4aa">ScalarEvolution::getMaxBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  <span class="keywordflow">return</span> getBackedgeTakenInfo(L).getMax(<span class="keyword">this</span>);</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;}</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;<span class="comment">/// PushLoopPHIs - Push PHI nodes in the header of the given loop</span></div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;<span class="comment">/// onto the given Worklist.</span></div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l04076"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a649011f27bb212ab1bdd0ec7e041da79"> 4076</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a649011f27bb212ab1bdd0ec7e041da79">PushLoopPHIs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Instruction *&gt;</a> &amp;Worklist) {</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>();</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="comment">// Push all Loop-header PHIs onto the Worklist stack.</span></div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Header-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;       <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PN);</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;}</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="keyword">const</span> ScalarEvolution::BackedgeTakenInfo &amp;</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;ScalarEvolution::getBackedgeTakenInfo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  <span class="comment">// Initially insert an invalid entry for this loop. If the insertion</span></div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;  <span class="comment">// succeeds, proceed to actually compute a backedge-taken count and</span></div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;  <span class="comment">// update the value. The temporary CouldNotCompute value tells SCEV</span></div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;  <span class="comment">// code elsewhere that it shouldn&#39;t attempt to request a new</span></div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="comment">// backedge-taken count, which could result in infinite recursion.</span></div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;  std::pair&lt;DenseMap&lt;const Loop *, BackedgeTakenInfo&gt;::iterator, <span class="keywordtype">bool</span>&gt; Pair =</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    BackedgeTakenCounts.insert(std::make_pair(L, BackedgeTakenInfo()));</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;  <span class="keywordflow">if</span> (!Pair.second)</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <span class="keywordflow">return</span> Pair.first-&gt;second;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="comment">// ComputeBackedgeTakenCount may allocate memory for its result. Inserting it</span></div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="comment">// into the BackedgeTakenCounts map transfers ownership. Otherwise, the result</span></div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;  <span class="comment">// must be cleared in this scope.</span></div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  BackedgeTakenInfo Result = ComputeBackedgeTakenCount(L);</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  <span class="keywordflow">if</span> (Result.getExact(<span class="keyword">this</span>) != getCouldNotCompute()) {</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    assert(<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Result.getExact(<span class="keyword">this</span>), L) &amp;&amp;</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;           <a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(Result.getMax(<span class="keyword">this</span>), L) &amp;&amp;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;           <span class="stringliteral">&quot;Computed backedge-taken count isn&#39;t loop invariant for loop!&quot;</span>);</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    ++NumTripCountsComputed;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;  }</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Result.getMax(<span class="keyword">this</span>) == getCouldNotCompute() &amp;&amp;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;           isa&lt;PHINode&gt;(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>())) {</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    <span class="comment">// Only count loops that have phi nodes as not being computable.</span></div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    ++NumTripCountsNotComputed;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  }</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="comment">// Now that we know more about the trip count for this loop, forget any</span></div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;  <span class="comment">// existing SCEV values for PHI nodes in this loop since they are only</span></div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;  <span class="comment">// conservative estimates made without the benefit of trip count</span></div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;  <span class="comment">// information. This is similar to the code in forgetLoop, except that</span></div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <span class="comment">// it handles SCEVUnknown PHI nodes specially.</span></div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;  <span class="keywordflow">if</span> (Result.hasAnyInfo()) {</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> Worklist;</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a649011f27bb212ab1bdd0ec7e041da79">PushLoopPHIs</a>(L, Worklist);</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> Visited;</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(I)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;      ValueExprMapType::iterator It =</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        ValueExprMap.find_as(static_cast&lt;Value *&gt;(I));</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;      <span class="keywordflow">if</span> (It != ValueExprMap.end()) {</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Old = It-&gt;second;</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        <span class="comment">// SCEVUnknown for a PHI either means that it has an unrecognized</span></div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;        <span class="comment">// structure, or it&#39;s a PHI that&#39;s in the progress of being computed</span></div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        <span class="comment">// by createNodeForPHI.  In the former case, additional loop trip</span></div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;        <span class="comment">// count information isn&#39;t going to change anything. In the later</span></div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        <span class="comment">// case, createNodeForPHI will perform the necessary updates on its</span></div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;        <span class="comment">// own when it gets to that point.</span></div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(I) || !isa&lt;SCEVUnknown&gt;(Old)) {</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;          forgetMemoizedResults(Old);</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;          ValueExprMap.erase(It);</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        }</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(I))</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;          ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;      }</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(I, Worklist);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    }</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  }</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;  <span class="comment">// Re-lookup the insert position, since the call to</span></div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;  <span class="comment">// ComputeBackedgeTakenCount above could result in a</span></div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;  <span class="comment">// recusive call to getBackedgeTakenInfo (on a different</span></div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="comment">// loop), which would invalidate the iterator computed</span></div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;  <span class="comment">// earlier.</span></div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="keywordflow">return</span> BackedgeTakenCounts.find(L)-&gt;second = Result;</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;}</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;<span class="comment">/// forgetLoop - This method should be called by the client when it has</span></div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;<span class="comment">/// changed a loop in a way that may effect ScalarEvolution&#39;s ability to</span></div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;<span class="comment">/// compute a trip count, or if the loop is deleted.</span></div><div class="line"><a name="l04162"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900"> 4162</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">ScalarEvolution::forgetLoop</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  <span class="comment">// Drop any stored trip count value.</span></div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;const Loop*, BackedgeTakenInfo&gt;::iterator</a> BTCPos =</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    BackedgeTakenCounts.find(L);</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span> (BTCPos != BackedgeTakenCounts.end()) {</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    BTCPos-&gt;second.clear();</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    BackedgeTakenCounts.erase(BTCPos);</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  }</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <span class="comment">// Drop information about expressions based on loop-header PHIs.</span></div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> Worklist;</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;  <a class="code" href="ScalarEvolution_8cpp.html#a649011f27bb212ab1bdd0ec7e041da79">PushLoopPHIs</a>(L, Worklist);</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> Visited;</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(I)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">ValueExprMapType::iterator</a> It =</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;      ValueExprMap.find_as(static_cast&lt;Value *&gt;(I));</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="keywordflow">if</span> (It != ValueExprMap.end()) {</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;      forgetMemoizedResults(It-&gt;second);</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;      ValueExprMap.erase(It);</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(I))</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;        ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    }</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(I, Worklist);</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;  }</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  <span class="comment">// Forget all contained loops too, to avoid dangling entries in the</span></div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  <span class="comment">// ValuesAtScopes map.</span></div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopBase.html#a4b2d2c2ddd3ccf5630c18731a162977d">Loop::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a22b3e904c08bd922efd707282aed89d9">begin</a>(), E = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5a3b8a8269ba0c61102f71a2a3bd42cd">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    forgetLoop(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;}</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;<span class="comment">/// forgetValue - This method should be called by the client when it has</span></div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;<span class="comment">/// changed a value in a way that may effect its value, or which may</span></div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;<span class="comment">/// disconnect it from a def-use chain linking it to a loop.</span></div><div class="line"><a name="l04201"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359"> 4201</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">ScalarEvolution::forgetValue</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;  <span class="keywordflow">if</span> (!I) <span class="keywordflow">return</span>;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;  <span class="comment">// Drop information about expressions based on loop-header PHIs.</span></div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> Worklist;</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(I);</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Instruction *, 8&gt;</a> Visited;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    I = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(I)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">ValueExprMapType::iterator</a> It =</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;      ValueExprMap.find_as(static_cast&lt;Value *&gt;(I));</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    <span class="keywordflow">if</span> (It != ValueExprMap.end()) {</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;      forgetMemoizedResults(It-&gt;second);</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;      ValueExprMap.erase(It);</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(I))</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    }</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a>(I, Worklist);</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  }</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;}</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;<span class="comment">/// getExact - Get the exact loop backedge taken count considering all loop</span></div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;<span class="comment">/// exits. A computable result can only be return for loops with a single exit.</span></div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;<span class="comment">/// Returning the minimum taken count among all exits is incorrect because one</span></div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;<span class="comment">/// of the loop&#39;s exit limit&#39;s may have been skipped. HowFarToZero assumes that</span></div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;<span class="comment">/// the limit of each loop test is never skipped. This is a valid assumption as</span></div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;<span class="comment">/// long as the loop exits via that test. For precise results, it is the</span></div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;<span class="comment">/// caller&#39;s responsibility to specify the relevant loop exit using</span></div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;<span class="comment">/// getExact(ExitingBlock, SE).</span></div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;ScalarEvolution::BackedgeTakenInfo::getExact(ScalarEvolution *SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="comment">// If any exits were not computable, the loop is not computable.</span></div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  <span class="keywordflow">if</span> (!ExitNotTaken.isCompleteList()) <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;  <span class="comment">// We need exactly one computable exit.</span></div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  <span class="keywordflow">if</span> (!ExitNotTaken.ExitingBlock) <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;  assert(ExitNotTaken.ExactNotTaken &amp;&amp; <span class="stringliteral">&quot;uninitialized not-taken info&quot;</span>);</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = 0;</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> ExitNotTakenInfo *ENT = &amp;ExitNotTaken;</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;       ENT != 0; ENT = ENT-&gt;getNextExit()) {</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    assert(ENT-&gt;ExactNotTaken != SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; <span class="stringliteral">&quot;bad exit SCEV&quot;</span>);</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordflow">if</span> (!BECount)</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;      BECount = ENT-&gt;ExactNotTaken;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BECount != ENT-&gt;ExactNotTaken)</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;      <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;  }</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  assert(BECount &amp;&amp; <span class="stringliteral">&quot;Invalid not taken count for loop exit&quot;</span>);</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keywordflow">return</span> BECount;</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;}</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;<span class="comment">/// getExact - Get the exact not taken count for this loop exit.</span></div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;ScalarEvolution::BackedgeTakenInfo::getExact(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock,</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;                                             ScalarEvolution *SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> ExitNotTakenInfo *ENT = &amp;ExitNotTaken;</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;       ENT != 0; ENT = ENT-&gt;getNextExit()) {</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    <span class="keywordflow">if</span> (ENT-&gt;ExitingBlock == ExitingBlock)</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;      <span class="keywordflow">return</span> ENT-&gt;ExactNotTaken;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  }</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;  <span class="keywordflow">return</span> SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;}</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;<span class="comment">/// getMax - Get the max backedge taken count for the loop.</span></div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;ScalarEvolution::BackedgeTakenInfo::getMax(ScalarEvolution *SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <span class="keywordflow">return</span> Max ? Max : SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;}</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::BackedgeTakenInfo::hasOperand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S,</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;                                                    ScalarEvolution *SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="keywordflow">if</span> (Max &amp;&amp; Max != SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>() &amp;&amp; SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a28b194080e6311a32ce32d125c205f26">hasOperand</a>(Max, S))</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;  <span class="keywordflow">if</span> (!ExitNotTaken.ExitingBlock)</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> ExitNotTakenInfo *ENT = &amp;ExitNotTaken;</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;       ENT != 0; ENT = ENT-&gt;getNextExit()) {</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    <span class="keywordflow">if</span> (ENT-&gt;ExactNotTaken != SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>()</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        &amp;&amp; SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a28b194080e6311a32ce32d125c205f26">hasOperand</a>(ENT-&gt;ExactNotTaken, S)) {</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    }</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  }</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;}</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;<span class="comment">/// Allocate memory for BackedgeTakenInfo and copy the not-taken count of each</span></div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;<span class="comment">/// computable exit into a persistent ExitNotTakenInfo array.</span></div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;<span class="comment"></span>ScalarEvolution::BackedgeTakenInfo::BackedgeTakenInfo(</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::pair&lt;BasicBlock *, const SCEV *&gt; &gt; &amp;ExitCounts,</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;  <span class="keywordtype">bool</span> Complete, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxCount) : Max(MaxCount) {</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;  <span class="keywordflow">if</span> (!Complete)</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    ExitNotTaken.setIncomplete();</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <span class="keywordtype">unsigned</span> NumExits = ExitCounts.size();</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordflow">if</span> (NumExits == 0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  ExitNotTaken.ExitingBlock = ExitCounts[0].first;</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  ExitNotTaken.ExactNotTaken = ExitCounts[0].second;</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <span class="keywordflow">if</span> (NumExits == 1) <span class="keywordflow">return</span>;</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="comment">// Handle the rare case of multiple computable exits.</span></div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;  ExitNotTakenInfo *ENT = <span class="keyword">new</span> ExitNotTakenInfo[NumExits-1];</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  ExitNotTakenInfo *PrevENT = &amp;ExitNotTaken;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; NumExits; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, PrevENT = ENT, ++ENT) {</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    PrevENT-&gt;setNextExit(ENT);</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;    ENT-&gt;ExitingBlock = ExitCounts[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first;</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    ENT-&gt;ExactNotTaken = ExitCounts[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  }</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;}</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;<span class="comment">/// clear - Invalidate this result and free the ExitNotTakenInfo array.</span></div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ScalarEvolution::BackedgeTakenInfo::clear() {</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;  ExitNotTaken.ExitingBlock = 0;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  ExitNotTaken.ExactNotTaken = 0;</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <span class="keyword">delete</span>[] ExitNotTaken.getNextExit();</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;}</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;<span class="comment">/// ComputeBackedgeTakenCount - Compute the number of times the backedge</span></div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;<span class="comment">/// of the specified loop will execute.</span></div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;<span class="comment"></span>ScalarEvolution::BackedgeTakenInfo</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;ScalarEvolution::ComputeBackedgeTakenCount(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitingBlocks;</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#aa6bdb226fb3dac1f051547ce01b76fd2">getExitingBlocks</a>(ExitingBlocks);</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;  <span class="comment">// Examine all exits and pick the most conservative values.</span></div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getCouldNotCompute();</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;  <span class="keywordtype">bool</span> CouldComputeBECount = <span class="keyword">true</span>;</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;BasicBlock *, const SCEV *&gt;</a>, 4&gt; ExitCounts;</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = ExitingBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    ExitLimit EL = ComputeExitLimit(L, ExitingBlocks[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;    <span class="keywordflow">if</span> (EL.Exact == getCouldNotCompute())</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      <span class="comment">// We couldn&#39;t compute an exact value for this exit, so</span></div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      <span class="comment">// we won&#39;t be able to compute an exact value for the loop.</span></div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;      CouldComputeBECount = <span class="keyword">false</span>;</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;      ExitCounts.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(ExitingBlocks[i], EL.Exact));</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    <span class="keywordflow">if</span> (MaxBECount == getCouldNotCompute())</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      MaxBECount = EL.Max;</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EL.Max != getCouldNotCompute()) {</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      <span class="comment">// We cannot take the &quot;min&quot; MaxBECount, because non-unit stride loops may</span></div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;      <span class="comment">// skip some loop tests. Taking the max over the exits is sufficiently</span></div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;      <span class="comment">// conservative.  TODO: We could do better taking into consideration</span></div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;      <span class="comment">// that (1) the loop has unit stride (2) the last loop test is</span></div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;      <span class="comment">// less-than/greater-than (3) any loop test is less-than/greater-than AND</span></div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;      <span class="comment">// falls-through some constant times less then the other tests.</span></div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;      MaxBECount = getUMaxFromMismatchedTypes(MaxBECount, EL.Max);</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    }</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;  }</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  <span class="keywordflow">return</span> BackedgeTakenInfo(ExitCounts, CouldComputeBECount, MaxBECount);</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;}</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;<span class="comment">/// ComputeExitLimit - Compute the number of times the backedge of the specified</span></div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;<span class="comment">/// loop will execute if it exits via the specified block.</span></div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;ScalarEvolution::ComputeExitLimit(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ExitingBlock) {</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;  <span class="comment">// Okay, we&#39;ve chosen an exiting block.  See what condition causes us to</span></div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;  <span class="comment">// exit at this block.</span></div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <span class="comment">// FIXME: we should be able to handle switch instructions (with a single exit)</span></div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *ExitBr = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a>&gt;(ExitingBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>());</div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;  <span class="keywordflow">if</span> (ExitBr == 0) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;  assert(ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a03cc0dff22b31447f43af97acb76b1a2">isConditional</a>() &amp;&amp; <span class="stringliteral">&quot;If unconditional, it can&#39;t be in loop!&quot;</span>);</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <span class="comment">// At this point, we know we have a conditional branch that determines whether</span></div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <span class="comment">// the loop is exited.  However, we don&#39;t know if the branch is executed each</span></div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  <span class="comment">// time through the loop.  If not, then the execution count of the branch will</span></div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;  <span class="comment">// not be equal to the trip count of the loop.</span></div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;  <span class="comment">// Currently we check for this by checking to see if the Exit branch goes to</span></div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;  <span class="comment">// the loop header.  If so, we know it will always execute the same number of</span></div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;  <span class="comment">// times as the loop.  We also handle the case where the exit block *is* the</span></div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;  <span class="comment">// loop header.  This is common for un-rotated loops.</span></div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;  <span class="comment">// If both of those tests fail, walk up the unique predecessor chain to the</span></div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;  <span class="comment">// header, stopping if there is an edge that doesn&#39;t exit the loop. If the</span></div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;  <span class="comment">// header is reached, the execution count of the branch will be equal to the</span></div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;  <span class="comment">// trip count of the loop.</span></div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;  <span class="comment">//  More extensive analysis could be done to handle more cases here.</span></div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  <span class="keywordflow">if</span> (ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0) != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>() &amp;&amp;</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;      ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(1) != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>() &amp;&amp;</div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;      ExitBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()) {</div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <span class="comment">// The simple checks failed, try climbing the unique predecessor chain</span></div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <span class="comment">// up to the header.</span></div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="keywordtype">bool</span> Ok = <span class="keyword">false</span>;</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = ExitBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>(); <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>; ) {</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getUniquePredecessor();</div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;      <span class="keywordflow">if</span> (!Pred)</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;        <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;      <a class="code" href="classllvm_1_1TerminatorInst.html">TerminatorInst</a> *PredTerm = Pred-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PredTerm-&gt;<a class="code" href="classllvm_1_1TerminatorInst.html#a4c26d3b92af99a6c8defd89a2d39ca32">getNumSuccessors</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredSucc = PredTerm-&gt;<a class="code" href="classllvm_1_1TerminatorInst.html#a3aac3b6c36415a2b08f65ead9e3e51e7">getSuccessor</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        <span class="keywordflow">if</span> (PredSucc == <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        <span class="comment">// If the predecessor has a successor that isn&#39;t BB and isn&#39;t</span></div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;        <span class="comment">// outside the loop, assume the worst.</span></div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(PredSucc))</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;          <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;      }</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;      <span class="keywordflow">if</span> (Pred == L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()) {</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;        Ok = <span class="keyword">true</span>;</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;      }</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;      <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Pred;</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    }</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    <span class="keywordflow">if</span> (!Ok)</div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;      <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;  }</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;  <span class="comment">// Proceed to the next level to examine the exit condition expression.</span></div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;  <span class="keywordflow">return</span> ComputeExitLimitFromCond(L, ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>(),</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;                                  ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0),</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;                                  ExitBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(1),</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;                                  <span class="comment">/*IsSubExpr=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;}</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;<span class="comment">/// ComputeExitLimitFromCond - Compute the number of times the</span></div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<span class="comment">/// backedge of the specified loop will execute if its exit condition</span></div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;<span class="comment">/// were a conditional branch of ExitCond, TBB, and FBB.</span></div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;<span class="comment">/// @param IsSubExpr is true if ExitCond does not directly control the exit</span></div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;<span class="comment">/// branch. In this case, we cannot assume that the loop only exits when the</span></div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;<span class="comment">/// condition is true and cannot infer that failing to meet the condition prior</span></div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;<span class="comment">/// to integer wraparound results in undefined behavior.</span></div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;ScalarEvolution::ComputeExitLimitFromCond(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;                                          <a class="code" href="classllvm_1_1Value.html">Value</a> *ExitCond,</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;                                          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TBB,</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;                                          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FBB,</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;                                          <span class="keywordtype">bool</span> IsSubExpr) {</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;  <span class="comment">// Check if the controlling expression for this loop is an And or Or.</span></div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = dyn_cast&lt;BinaryOperator&gt;(ExitCond)) {</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;    <span class="keywordflow">if</span> (BO-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>) {</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;      <span class="comment">// Recurse on the operands of the and.</span></div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;      <span class="keywordtype">bool</span> EitherMayExit = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(TBB);</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;      ExitLimit EL0 = ComputeExitLimitFromCond(L, BO-&gt;getOperand(0), TBB, FBB,</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;                                               IsSubExpr || EitherMayExit);</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;      ExitLimit EL1 = ComputeExitLimitFromCond(L, BO-&gt;getOperand(1), TBB, FBB,</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;                                               IsSubExpr || EitherMayExit);</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = getCouldNotCompute();</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getCouldNotCompute();</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;      <span class="keywordflow">if</span> (EitherMayExit) {</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="comment">// Both conditions must be true for the loop to continue executing.</span></div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;        <span class="comment">// Choose the less conservative count.</span></div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        <span class="keywordflow">if</span> (EL0.Exact == getCouldNotCompute() ||</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;            EL1.Exact == getCouldNotCompute())</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;          BECount = getCouldNotCompute();</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;          BECount = getUMinFromMismatchedTypes(EL0.Exact, EL1.Exact);</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;        <span class="keywordflow">if</span> (EL0.Max == getCouldNotCompute())</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;          MaxBECount = EL1.Max;</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EL1.Max == getCouldNotCompute())</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;          MaxBECount = EL0.Max;</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;          MaxBECount = getUMinFromMismatchedTypes(EL0.Max, EL1.Max);</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;        <span class="comment">// Both conditions must be true at the same time for the loop to exit.</span></div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;        <span class="comment">// For now, be conservative.</span></div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;        assert(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(FBB) &amp;&amp; <span class="stringliteral">&quot;Loop block has no successor in loop!&quot;</span>);</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;        <span class="keywordflow">if</span> (EL0.Max == EL1.Max)</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;          MaxBECount = EL0.Max;</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;        <span class="keywordflow">if</span> (EL0.Exact == EL1.Exact)</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;          BECount = EL0.Exact;</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;      }</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;      <span class="keywordflow">return</span> ExitLimit(BECount, MaxBECount);</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    }</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;    <span class="keywordflow">if</span> (BO-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>) {</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;      <span class="comment">// Recurse on the operands of the or.</span></div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;      <span class="keywordtype">bool</span> EitherMayExit = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(FBB);</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;      ExitLimit EL0 = ComputeExitLimitFromCond(L, BO-&gt;getOperand(0), TBB, FBB,</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;                                               IsSubExpr || EitherMayExit);</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;      ExitLimit EL1 = ComputeExitLimitFromCond(L, BO-&gt;getOperand(1), TBB, FBB,</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;                                               IsSubExpr || EitherMayExit);</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = getCouldNotCompute();</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getCouldNotCompute();</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;      <span class="keywordflow">if</span> (EitherMayExit) {</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;        <span class="comment">// Both conditions must be false for the loop to continue executing.</span></div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;        <span class="comment">// Choose the less conservative count.</span></div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        <span class="keywordflow">if</span> (EL0.Exact == getCouldNotCompute() ||</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;            EL1.Exact == getCouldNotCompute())</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;          BECount = getCouldNotCompute();</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;          BECount = getUMinFromMismatchedTypes(EL0.Exact, EL1.Exact);</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;        <span class="keywordflow">if</span> (EL0.Max == getCouldNotCompute())</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;          MaxBECount = EL1.Max;</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EL1.Max == getCouldNotCompute())</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;          MaxBECount = EL0.Max;</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;          MaxBECount = getUMinFromMismatchedTypes(EL0.Max, EL1.Max);</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;        <span class="comment">// Both conditions must be false at the same time for the loop to exit.</span></div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;        <span class="comment">// For now, be conservative.</span></div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;        assert(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(TBB) &amp;&amp; <span class="stringliteral">&quot;Loop block has no successor in loop!&quot;</span>);</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;        <span class="keywordflow">if</span> (EL0.Max == EL1.Max)</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;          MaxBECount = EL0.Max;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        <span class="keywordflow">if</span> (EL0.Exact == EL1.Exact)</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;          BECount = EL0.Exact;</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;      }</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      <span class="keywordflow">return</span> ExitLimit(BECount, MaxBECount);</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;    }</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;  }</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;  <span class="comment">// With an icmp, it may be feasible to compute an exact backedge-taken count.</span></div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;  <span class="comment">// Proceed to the next level to examine the icmp.</span></div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ExitCondICmp = dyn_cast&lt;ICmpInst&gt;(ExitCond))</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    <span class="keywordflow">return</span> ComputeExitLimitFromICmp(L, ExitCondICmp, TBB, FBB, IsSubExpr);</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <span class="comment">// Check for a constant condition. These are normally stripped out by</span></div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;  <span class="comment">// SimplifyCFG, but ScalarEvolution may be used by a pass which wishes to</span></div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;  <span class="comment">// preserve the CFG and is temporarily leaving constant conditions</span></div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;  <span class="comment">// in place.</span></div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(ExitCond)) {</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(FBB) == !CI-&gt;getZExtValue())</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      <span class="comment">// The backedge is always taken.</span></div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;      <span class="comment">// The backedge is never taken.</span></div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;      <span class="keywordflow">return</span> getConstant(CI-&gt;getType(), 0);</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;  }</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  <span class="comment">// If it&#39;s not an integer or pointer comparison then compute it the hard way.</span></div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;  <span class="keywordflow">return</span> ComputeExitCountExhaustively(L, ExitCond, !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(TBB));</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;}</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;<span class="comment">/// ComputeExitLimitFromICmp - Compute the number of times the</span></div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment">/// backedge of the specified loop will execute if its exit condition</span></div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<span class="comment">/// were a conditional branch of the ICmpInst ExitCond, TBB, and FBB.</span></div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;ScalarEvolution::ComputeExitLimitFromICmp(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                                          <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ExitCond,</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;                                          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *TBB,</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;                                          <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FBB,</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;                                          <span class="keywordtype">bool</span> IsSubExpr) {</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;  <span class="comment">// If the condition was exit on true, convert the condition to exit on false</span></div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Cond;</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(FBB))</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;    Cond = ExitCond-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>();</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    Cond = ExitCond-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">getInversePredicate</a>();</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;  <span class="comment">// Handle common loops like: for (X = &quot;string&quot;; *X; ++X)</span></div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)))</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHS = dyn_cast&lt;Constant&gt;(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;      ExitLimit ItCnt =</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;        ComputeLoadConstantCompareExitLimit(LI, RHS, L, Cond);</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;      <span class="keywordflow">if</span> (ItCnt.hasAnyInfo())</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;        <span class="keywordflow">return</span> ItCnt;</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    }</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS = getSCEV(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS = getSCEV(ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;  <span class="comment">// Try to evaluate any dependencies out of the loop.</span></div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;  LHS = getSCEVAtScope(LHS, L);</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;  RHS = getSCEVAtScope(RHS, L);</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;  <span class="comment">// At this point, we would like to compute how many iterations of the</span></div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  <span class="comment">// loop the predicate will return true for these inputs.</span></div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(LHS, L) &amp;&amp; !<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(RHS, L)) {</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    <span class="comment">// If there is a loop-invariant, force it into the RHS.</span></div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    Cond = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(Cond);</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  }</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;  <span class="comment">// Simplify the operands before analyzing them.</span></div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  (void)SimplifyICmpOperands(Cond, LHS, RHS);</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;  <span class="comment">// If we have a comparison of a chrec against a constant, try to use value</span></div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;  <span class="comment">// ranges to answer this query.</span></div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(RHS))</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(LHS))</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;      <span class="keywordflow">if</span> (AddRec-&gt;getLoop() == L) {</div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;        <span class="comment">// Form the constant range.</span></div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;        <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CompRange(</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;            <a class="code" href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">ICmpInst::makeConstantRange</a>(Cond, RHSC-&gt;getValue()-&gt;getValue()));</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a> = AddRec-&gt;getNumIterationsInRange(CompRange, *<span class="keyword">this</span>);</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;        <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(Ret)) <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      }</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;  <span class="keywordflow">switch</span> (Cond) {</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>: {                     <span class="comment">// while (X != Y)</span></div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    <span class="comment">// Convert to: while (X-Y != 0)</span></div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    ExitLimit EL = HowFarToZero(getMinusSCEV(LHS, RHS), L, IsSubExpr);</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;  }</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>: {                     <span class="comment">// while (X == Y)</span></div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;    <span class="comment">// Convert to: while (X-Y == 0)</span></div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    ExitLimit EL = HowFarToNonZero(getMinusSCEV(LHS, RHS), L);</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;  }</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>: {                    <span class="comment">// while (X &lt; Y)</span></div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <span class="keywordtype">bool</span> IsSigned = Cond == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    ExitLimit EL = HowManyLessThans(LHS, RHS, L, IsSigned, IsSubExpr);</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;  }</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>: {                    <span class="comment">// while (X &gt; Y)</span></div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    <span class="keywordtype">bool</span> IsSigned = Cond == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    ExitLimit EL = HowManyGreaterThans(LHS, RHS, L, IsSigned, IsSubExpr);</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    <span class="keywordflow">if</span> (EL.hasAnyInfo()) <span class="keywordflow">return</span> EL;</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;  }</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ComputeBackedgeTakenCount &quot;</span>;</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;    <span class="keywordflow">if</span> (ExitCond-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;isUnsigned())</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;[unsigned] &quot;</span>;</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; *LHS &lt;&lt; <span class="stringliteral">&quot;   &quot;</span></div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;         &lt;&lt; <a class="code" href="classllvm_1_1Instruction.html#a3d95172e192ecd22f18b0b76da6d2320">Instruction::getOpcodeName</a>(Instruction::ICmp)</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; *RHS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;  }</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <span class="keywordflow">return</span> ComputeExitCountExhaustively(L, ExitCond, !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(TBB));</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;}</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *</div><div class="line"><a name="l04643"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0"> 4643</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec, <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;                                ScalarEvolution &amp;SE) {</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *InVal = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(C);</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Val = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a11bb31f99854303d2a934765469c5c2c">evaluateAtIteration</a>(InVal, SE);</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  assert(isa&lt;SCEVConstant&gt;(Val) &amp;&amp;</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;         <span class="stringliteral">&quot;Evaluation of SCEV at constant didn&#39;t fold correctly?&quot;</span>);</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;  <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(Val)-&gt;getValue();</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;}</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;<span class="comment">/// ComputeLoadConstantCompareExitLimit - Given an exit condition of</span></div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;<span class="comment">/// &#39;icmp op load X, cst&#39;, try to see if we can compute the backedge</span></div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;<span class="comment">/// execution count.</span></div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;ScalarEvolution::ComputeLoadConstantCompareExitLimit(</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI,</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHS,</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> predicate) {</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;  <span class="keywordflow">if</span> (LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#aeb96f1a88b4e58c34a988eebd843f688">isVolatile</a>()) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;  <span class="comment">// Check to see if the loaded pointer is a getelementptr of a global.</span></div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="comment">// TODO: Use SCEV instead of manually grubbing with GEPs.</span></div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  <a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *GEP = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a>&gt;(LI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  <span class="keywordflow">if</span> (!GEP) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <span class="comment">// Make sure that it is really a constant global we are gepping, with an</span></div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  <span class="comment">// initializer, and make sure the first IDX is really 0.</span></div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>&gt;(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  <span class="keywordflow">if</span> (!GV || !GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>() || !GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#abe4224c23f4544a70464c53056f00396">hasDefinitiveInitializer</a>() ||</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;      GEP-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>() &lt; 3 || !isa&lt;Constant&gt;(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)) ||</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      !cast&lt;Constant&gt;(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))-&gt;isNullValue())</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;  <span class="comment">// Okay, we allow one non-constant index into the GEP instruction.</span></div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *VarIdx = 0;</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;  std::vector&lt;Constant*&gt; Indexes;</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  <span class="keywordtype">unsigned</span> VarIdxNum = 0;</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 2, e = GEP-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      Indexes.push_back(CI);</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))) {</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;      <span class="keywordflow">if</span> (VarIdx) <span class="keywordflow">return</span> getCouldNotCompute();  <span class="comment">// Multiple non-constant idx&#39;s.</span></div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;      VarIdx = GEP-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;      VarIdxNum = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-2;</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;      Indexes.push_back(0);</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    }</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;  <span class="comment">// Loop-invariant loads may be a byproduct of loop optimization. Skip them.</span></div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;  <span class="keywordflow">if</span> (!VarIdx)</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <span class="comment">// Okay, we know we have a (load (gep GV, 0, X)) comparison with a constant.</span></div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;  <span class="comment">// Check to see if X is a loop variant variable value now.</span></div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Idx = getSCEV(VarIdx);</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;  Idx = getSCEVAtScope(Idx, L);</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;  <span class="comment">// We can only recognize very limited forms of loop index expressions, in</span></div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;  <span class="comment">// particular, only affine AddRec&#39;s like {C1,+,C2}.</span></div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *IdxExpr = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(Idx);</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;  <span class="keywordflow">if</span> (!IdxExpr || !IdxExpr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>() || <a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(IdxExpr, L) ||</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;      !isa&lt;SCEVConstant&gt;(IdxExpr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0)) ||</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;      !isa&lt;SCEVConstant&gt;(IdxExpr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1)))</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;  <span class="keywordtype">unsigned</span> MaxSteps = <a class="code" href="ScalarEvolution_8cpp.html#a1c75b3f59d1f60387c0e3dd3aaf1ba9a">MaxBruteForceIterations</a>;</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> IterationNum = 0; IterationNum != MaxSteps; ++IterationNum) {</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ItCst = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;                           cast&lt;IntegerType&gt;(IdxExpr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">getType</a>()), IterationNum);</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(IdxExpr, ItCst, *<span class="keyword">this</span>);</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    <span class="comment">// Form the GEP offset.</span></div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    Indexes[VarIdxNum] = Val;</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Result = <a class="code" href="namespacellvm.html#a2a161545e317a30200a6db6df25dd8ed">ConstantFoldLoadThroughGEPIndices</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#aa4d95acdd770e27036d21edb3cad65e1">getInitializer</a>(),</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;                                                         Indexes);</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;    <span class="keywordflow">if</span> (Result == 0) <span class="keywordflow">break</span>;  <span class="comment">// Cannot compute!</span></div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <span class="comment">// Evaluate the condition for this iteration.</span></div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    Result = <a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(predicate, Result, RHS);</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;ConstantInt&gt;(Result)) <span class="keywordflow">break</span>;  <span class="comment">// Couldn&#39;t decide for sure</span></div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keywordflow">if</span> (cast&lt;ConstantInt&gt;(Result)-&gt;getValue().isMinValue()) {</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n***\n*** Computed loop count &quot;</span> &lt;&lt; *ItCst</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;\n*** From global &quot;</span> &lt;&lt; *GV &lt;&lt; <span class="stringliteral">&quot;*** BB: &quot;</span> &lt;&lt; *L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;***\n&quot;</span>;</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;      ++NumArrayLenItCounts;</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      <span class="keywordflow">return</span> getConstant(ItCst);   <span class="comment">// Found terminating iteration!</span></div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    }</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;  }</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;  <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;}</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;<span class="comment">/// CanConstantFold - Return true if we can constant fold an instruction of the</span></div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;<span class="comment">/// specified type, assuming that all operands were constants.</span></div><div class="line"><a name="l04740"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185"> 4740</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;  <span class="keywordflow">if</span> (isa&lt;BinaryOperator&gt;(I) || isa&lt;CmpInst&gt;(I) ||</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;      isa&lt;SelectInst&gt;(I) || isa&lt;CastInst&gt;(I) || isa&lt;GetElementPtrInst&gt;(I) ||</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;      isa&lt;LoadInst&gt;(I))</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(I))</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = CI-&gt;getCalledFunction())</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">canConstantFoldCallTo</a>(<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;}</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;<span class="comment">/// Determine whether this instruction can constant evolve within this loop</span></div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;<span class="comment">/// assuming its operands can all constant evolve.</span></div><div class="line"><a name="l04754"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95"> 4754</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;  <span class="comment">// An instruction outside of the loop can&#39;t be derived from a loop PHI.</span></div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;  <span class="keywordflow">if</span> (!L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(I)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(I)) {</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>() == I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;      <span class="comment">// We don&#39;t currently keep track of the control flow needed to evaluate</span></div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;      <span class="comment">// PHIs, so we cannot handle PHIs inside of loops.</span></div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;  }</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;  <span class="comment">// If we won&#39;t be able to constant fold this expression even if the operands</span></div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;  <span class="comment">// are constants, bail early.</span></div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(I);</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;}</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;<span class="comment">/// getConstantEvolvingPHIOperands - Implement getConstantEvolvingPHI by</span></div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;<span class="comment">/// recursing through each instruction operand until reaching a loop header phi.</span></div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *</div><div class="line"><a name="l04775"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ad9a1ad295ab838d446053a356002098d"> 4775</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#ad9a1ad295ab838d446053a356002098d">getConstantEvolvingPHIOperands</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *UseInst, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;                               <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, PHINode *&gt;</a> &amp;PHIMap) {</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  <span class="comment">// Otherwise, we can evaluate this instruction if all of its operands are</span></div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="comment">// constant or derived from a PHI node themselves.</span></div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = 0;</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html#a40df11649fb4c41a4de49f793c2d231f">Instruction::op_iterator</a> OpI = UseInst-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>(),</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;         OpE = UseInst-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>(); OpI != OpE; ++OpI) {</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(*OpI)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OpInst = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(*OpI);</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <span class="keywordflow">if</span> (!OpInst || !<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(OpInst, L)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(OpInst);</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    <span class="keywordflow">if</span> (!P)</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;      <span class="comment">// If this operand is already visited, reuse the prior result.</span></div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;      <span class="comment">// We may have P != PHI if this is the deepest point at which the</span></div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      <span class="comment">// inconsistent paths meet.</span></div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      P = PHIMap.<a class="code" href="classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">lookup</a>(OpInst);</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;    <span class="keywordflow">if</span> (!P) {</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <span class="comment">// Recurse and memoize the results, whether a phi is found or not.</span></div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;      <span class="comment">// This recursive call invalidates pointers into PHIMap.</span></div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;      P = <a class="code" href="ScalarEvolution_8cpp.html#ad9a1ad295ab838d446053a356002098d">getConstantEvolvingPHIOperands</a>(OpInst, L, PHIMap);</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;      PHIMap[OpInst] = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;    }</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    <span class="keywordflow">if</span> (P == 0) <span class="keywordflow">return</span> 0;        <span class="comment">// Not evolving from PHI</span></div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <span class="keywordflow">if</span> (PHI &amp;&amp; PHI != P) <span class="keywordflow">return</span> 0;  <span class="comment">// Evolving from multiple different PHIs.</span></div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    PHI = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  }</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;  <span class="comment">// This is a expression evolving from a constant PHI!</span></div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>;</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;}</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;<span class="comment">/// getConstantEvolvingPHI - Given an LLVM value and a loop, return a PHI node</span></div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;<span class="comment">/// in the loop that V is derived from.  We allow arbitrary operations along the</span></div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;<span class="comment">/// way, but the operands of an operation must either be constants or a value</span></div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;<span class="comment">/// derived from a constant PHI.  If this expression does not fit with these</span></div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;<span class="comment">/// constraints, return null.</span></div><div class="line"><a name="l04814"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b"> 4814</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  <span class="keywordflow">if</span> (I == 0 || !<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(I, L)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(I)) {</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <span class="keywordflow">return</span> PN;</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  }</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="comment">// Record non-constant instructions contained by the loop.</span></div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, PHINode *&gt;</a> PHIMap;</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#ad9a1ad295ab838d446053a356002098d">getConstantEvolvingPHIOperands</a>(I, L, PHIMap);</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;}</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;<span class="comment">/// EvaluateExpression - Given an expression that passes the</span></div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;<span class="comment">/// getConstantEvolvingPHI predicate, evaluate its value assuming the PHI node</span></div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;<span class="comment">/// in the loop has the value PHIVal.  If we can&#39;t fold this expression for some</span></div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;<span class="comment">/// reason, return null.</span></div><div class="line"><a name="l04831"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4"> 4831</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;                                    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> &amp;Vals,</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI) {</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <span class="comment">// Convenient constant check, but redundant for recursive calls.</span></div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(V)) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;  <span class="keywordflow">if</span> (!I) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Vals.<a class="code" href="classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">lookup</a>(I)) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="comment">// An instruction inside the loop depends on a value outside the loop that we</span></div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  <span class="comment">// weren&#39;t given a mapping for, or a value such as a call inside the loop.</span></div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a>(I, L)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;  <span class="comment">// An unmapped PHI can be due to a branch or another loop inside this loop,</span></div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  <span class="comment">// or due to this not being the initial iteration through a loop where we</span></div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  <span class="comment">// couldn&#39;t compute the evolution of this particular PHI last time.</span></div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(I)) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  std::vector&lt;Constant*&gt; Operands(I-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>());</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = I-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Operand = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="keywordflow">if</span> (!Operand) {</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;      Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;      <span class="keywordflow">if</span> (!Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    }</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(Operand, L, Vals, TD, TLI);</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    Vals[Operand] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    <span class="keywordflow">if</span> (!C) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    Operands[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  }</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(I))</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(CI-&gt;getPredicate(), Operands[0],</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;                                           Operands[1], TD, TLI);</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(I)) {</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    <span class="keywordflow">if</span> (!LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#aeb96f1a88b4e58c34a988eebd843f688">isVolatile</a>())</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acf81840e57f5d7beb1d5983f4dac772f">ConstantFoldLoadFromConstPtr</a>(Operands[0], TD);</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  }</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>(), I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Operands, TD,</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;                                  TLI);</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;}</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;<span class="comment">/// getConstantEvolutionLoopExitValue - If we know that the specified Phi is</span></div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;<span class="comment">/// in the header of its containing loop, we know the loop executes a</span></div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;<span class="comment">/// constant number of times, and the PHI node is just a recurrence</span></div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;<span class="comment">/// involving constants, fold it.</span></div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Constant.html">Constant</a> *</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;ScalarEvolution::getConstantEvolutionLoopExitValue(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN,</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;BEs,</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;PHINode*, Constant*&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    ConstantEvolutionLoopExitValue.find(PN);</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <span class="keywordflow">if</span> (I != ConstantEvolutionLoopExitValue.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <span class="keywordflow">return</span> I-&gt;second;</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;  <a class="code" href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a> (BEs.<a class="code" href="classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">ugt</a>(<a class="code" href="ScalarEvolution_8cpp.html#a1c75b3f59d1f60387c0e3dd3aaf1ba9a">MaxBruteForceIterations</a>))</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    <span class="keywordflow">return</span> ConstantEvolutionLoopExitValue[PN] = 0;  <span class="comment">// Not going to evaluate it.</span></div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;</div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;RetVal = ConstantEvolutionLoopExitValue[PN];</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> CurrentIterVals;</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>();</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;  assert(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == Header &amp;&amp; <span class="stringliteral">&quot;Can&#39;t evaluate PHI not in loop header!&quot;</span>);</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;  <span class="comment">// Since the loop is canonicalized, the PHI node must have two entries.  One</span></div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;  <span class="comment">// entry must be a constant (coming in from outside of the loop), and the</span></div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;  <span class="comment">// second must be derived from the same PHI.</span></div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  <span class="keywordtype">bool</span> SecondIsBackedge = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">getIncomingBlock</a>(1));</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = 0;</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> I = Header-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;       (PHI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *StartCST =</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(!SecondIsBackedge));</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <span class="keywordflow">if</span> (StartCST == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    CurrentIterVals[<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>] = StartCST;</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  }</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;  <span class="keywordflow">if</span> (!CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(PN))</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    <span class="keywordflow">return</span> RetVal = 0;</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(SecondIsBackedge);</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <span class="comment">// Execute the loop symbolically to determine the exit value.</span></div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;  <span class="keywordflow">if</span> (BEs.<a class="code" href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">getActiveBits</a>() &gt;= 32)</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    <span class="keywordflow">return</span> RetVal = 0; <span class="comment">// More than 2^32-1 iterations?? Not doing it!</span></div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  <span class="keywordtype">unsigned</span> NumIterations = BEs.<a class="code" href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">getZExtValue</a>(); <span class="comment">// must be in range</span></div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;  <span class="keywordtype">unsigned</span> IterationNum = 0;</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keywordflow">for</span> (; ; ++IterationNum) {</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <span class="keywordflow">if</span> (IterationNum == NumIterations)</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;      <span class="keywordflow">return</span> RetVal = CurrentIterVals[PN];  <span class="comment">// Got exit value!</span></div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    <span class="comment">// Compute the value of the PHIs for the next iteration.</span></div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    <span class="comment">// EvaluateExpression adds non-phi values to the CurrentIterVals map.</span></div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> NextIterVals;</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NextPHI = <a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(BEValue, L, CurrentIterVals, TD,</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;                                           TLI);</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <span class="keywordflow">if</span> (NextPHI == 0)</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;      <span class="keywordflow">return</span> 0;        <span class="comment">// Couldn&#39;t evaluate!</span></div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    NextIterVals[PN] = NextPHI;</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    <span class="keywordtype">bool</span> StoppedEvolving = NextPHI == CurrentIterVals[PN];</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    <span class="comment">// Also evaluate the other PHI nodes.  However, we don&#39;t get to stop if we</span></div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    <span class="comment">// cease to be able to evaluate one of them or if they stop evolving,</span></div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    <span class="comment">// because that doesn&#39;t necessarily prevent us from computing PN.</span></div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;PHINode *, Constant *&gt;</a>, 8&gt; PHIsToCompute;</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;::const_iterator</a></div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;           I = CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(), E = CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>){</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PHI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(I-&gt;first);</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;      <span class="keywordflow">if</span> (!PHI || PHI == PN || PHI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != Header) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;      PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(PHI, I-&gt;second));</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    }</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    <span class="comment">// We use two distinct loops because EvaluateExpression may invalidate any</span></div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    <span class="comment">// iterators into CurrentIterVals.</span></div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt;std::pair&lt;PHINode *, Constant*&gt; &gt;::const_iterator</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;             I = PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), E = PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PHI = I-&gt;first;</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;NextPHI = NextIterVals[<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>];</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;      <span class="keywordflow">if</span> (!NextPHI) {   <span class="comment">// Not already computed.</span></div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(SecondIsBackedge);</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;        NextPHI = <a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(BEValue, L, CurrentIterVals, TD, TLI);</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;      }</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;      <span class="keywordflow">if</span> (NextPHI != I-&gt;second)</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        StoppedEvolving = <span class="keyword">false</span>;</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    }</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <span class="comment">// If all entries in CurrentIterVals == NextIterVals then we can stop</span></div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <span class="comment">// iterating, the loop can&#39;t continue to change.</span></div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    <span class="keywordflow">if</span> (StoppedEvolving)</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      <span class="keywordflow">return</span> RetVal = CurrentIterVals[PN];</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    CurrentIterVals.<a class="code" href="classllvm_1_1DenseMap.html#a26781d4fd887b60f49ff38f32bff1c74">swap</a>(NextIterVals);</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;  }</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;}</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;<span class="comment"></span></div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;<span class="comment">/// ComputeExitCountExhaustively - If the loop is known to execute a</span></div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;<span class="comment">/// constant number of times (the condition evolves only from constants),</span></div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<span class="comment">/// try to evaluate a few iterations of the loop until we get the exit</span></div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;<span class="comment">/// condition gets a value of ExitWhen (true or false).  If we cannot</span></div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;<span class="comment">/// evaluate the trip count of the loop, return getCouldNotCompute().</span></div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::ComputeExitCountExhaustively(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;                                                          <a class="code" href="classllvm_1_1Value.html">Value</a> *Cond,</div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;                                                          <span class="keywordtype">bool</span> ExitWhen) {</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = <a class="code" href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a>(Cond, L);</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;  <span class="keywordflow">if</span> (PN == 0) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;  <span class="comment">// If the loop is canonicalized, the PHI will have exactly two entries.</span></div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="comment">// That&#39;s the only form we support here.</span></div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;  <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>() != 2) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> CurrentIterVals;</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Header = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>();</div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;  assert(PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == Header &amp;&amp; <span class="stringliteral">&quot;Can&#39;t evaluate PHI not in loop header!&quot;</span>);</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;  <span class="comment">// One entry must be a constant (coming in from outside of the loop), and the</span></div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;  <span class="comment">// second must be derived from the same PHI.</span></div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;  <span class="keywordtype">bool</span> SecondIsBackedge = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">getIncomingBlock</a>(1));</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = 0;</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Header-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;       (PHI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *StartCST =</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;      <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(!SecondIsBackedge));</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <span class="keywordflow">if</span> (StartCST == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    CurrentIterVals[<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>] = StartCST;</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;  }</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="keywordflow">if</span> (!CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(PN))</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="comment">// Okay, we find a PHI node that defines the trip count of this loop.  Execute</span></div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;  <span class="comment">// the loop symbolically to determine when the condition gets a value of</span></div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  <span class="comment">// &quot;ExitWhen&quot;.</span></div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="CallGraphSCCPass_8cpp.html#a787c97cc3fe8c5f2ea1a5a09abaab710">MaxIterations</a> = <a class="code" href="ScalarEvolution_8cpp.html#a1c75b3f59d1f60387c0e3dd3aaf1ba9a">MaxBruteForceIterations</a>;   <span class="comment">// Limit analysis.</span></div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> IterationNum = 0; IterationNum != <a class="code" href="CallGraphSCCPass_8cpp.html#a787c97cc3fe8c5f2ea1a5a09abaab710">MaxIterations</a>;++IterationNum){</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CondVal =</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;      dyn_cast_or_null&lt;ConstantInt&gt;(<a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(Cond, L, CurrentIterVals,</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;                                                       TD, TLI));</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="comment">// Couldn&#39;t symbolically evaluate.</span></div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;    <span class="keywordflow">if</span> (!CondVal) <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="keywordflow">if</span> (CondVal-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() == uint64_t(ExitWhen)) {</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;      ++NumBruteForceTripCountsComputed;</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;      <span class="keywordflow">return</span> getConstant(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(getContext()), IterationNum);</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    }</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;    <span class="comment">// Update all the PHI nodes for the next iteration.</span></div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;</a> NextIterVals;</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="comment">// Create a list of which PHIs we need to compute. We want to do this before</span></div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;    <span class="comment">// calling EvaluateExpression on them because that may invalidate iterators</span></div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <span class="comment">// into CurrentIterVals.</span></div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PHINode *, 8&gt;</a> PHIsToCompute;</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Instruction *, Constant *&gt;::const_iterator</a></div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(), E = CurrentIterVals.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>){</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PHI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PHINode.html">PHINode</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first);</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;      <span class="keywordflow">if</span> (!PHI || PHI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != Header) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;      PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PHI);</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    }</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;PHINode *&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;             E = PHIsToCompute.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PHI = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *&amp;NextPHI = NextIterVals[<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a>];</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;      <span class="keywordflow">if</span> (NextPHI) <span class="keywordflow">continue</span>;    <span class="comment">// Already computed!</span></div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *BEValue = PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(SecondIsBackedge);</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;      NextPHI = <a class="code" href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a>(BEValue, L, CurrentIterVals, TD, TLI);</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    }</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    CurrentIterVals.<a class="code" href="classllvm_1_1DenseMap.html#a26781d4fd887b60f49ff38f32bff1c74">swap</a>(NextIterVals);</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  }</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="comment">// Too many iterations were needed to evaluate.</span></div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;  <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;}</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;<span class="comment">/// getSCEVAtScope - Return a SCEV expression for the specified value</span></div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;<span class="comment">/// at the specified scope in the program.  The L value specifies a loop</span></div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;<span class="comment">/// nest to evaluate the expression at, where null is the top-level or a</span></div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;<span class="comment">/// specified loop is immediately inside of the loop.</span></div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;<span class="comment">/// This method can be used to compute the exit value for a variable defined</span></div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;<span class="comment">/// in a loop by querying what the value will hold in the parent loop.</span></div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;<span class="comment">/// In the case that a relevant loop exit value cannot be computed, the</span></div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;<span class="comment">/// original value V is returned.</span></div><div class="line"><a name="l05060"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68"> 5060</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">ScalarEvolution::getSCEVAtScope</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;  <span class="comment">// Check to see if we&#39;ve folded this expression at this loop before.</span></div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const Loop *, const SCEV *&gt;</a>, 2&gt; &amp;Values = ValuesAtScopes[V];</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = 0; u &lt; Values.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u++) {</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <span class="keywordflow">if</span> (Values[u].first == L)</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;      <span class="keywordflow">return</span> Values[u].second ? Values[u].second : V;</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;  }</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  Values.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(L, static_cast&lt;const SCEV *&gt;(0)));</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;  <span class="comment">// Otherwise compute it.</span></div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = computeSCEVAtScope(V, L);</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const Loop *, const SCEV *&gt;</a>, 2&gt; &amp;Values2 = ValuesAtScopes[V];</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = Values2.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u &gt; 0; u--) {</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <span class="keywordflow">if</span> (Values2[u - 1].first == L) {</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;      Values2[u - 1].second = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    }</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;  }</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;}</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;<span class="comment">/// This builds up a Constant using the ConstantExpr interface.  That way, we</span></div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;<span class="comment">/// will return Constants for objects which aren&#39;t represented by a</span></div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;<span class="comment">/// SCEVConstant, because SCEVConstant is restricted to ConstantInt.</span></div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<span class="comment">/// Returns NULL if the SCEV isn&#39;t representable as a Constant.</span></div><div class="line"><a name="l05084"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e"> 5084</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V) {</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;  <span class="keywordflow">switch</span> (V-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="keywordflow">default</span>:  <span class="comment">// TODO: smax, umax.</span></div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>:</div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;      <span class="keywordflow">return</span> cast&lt;SCEVConstant&gt;(V)-&gt;getValue();</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(cast&lt;SCEVUnknown&gt;(V)-&gt;getValue());</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>: {</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *SS = cast&lt;SCEVSignExtendExpr&gt;(V);</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SS-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>()))</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a365628d9f62e7a281d493d15bdb13b27">ConstantExpr::getSExt</a>(CastOp, SS-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    }</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>: {</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *SZ = cast&lt;SCEVZeroExtendExpr&gt;(V);</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SZ-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>()))</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">ConstantExpr::getZExt</a>(CastOp, SZ-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    }</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>: {</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = cast&lt;SCEVTruncateExpr&gt;(V);</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CastOp = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(ST-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>()))</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">ConstantExpr::getTrunc</a>(CastOp, ST-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    }</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>: {</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *SA = cast&lt;SCEVAddExpr&gt;(V);</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0))) {</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = dyn_cast&lt;PointerType&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType())) {</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;          <span class="keywordtype">unsigned</span> AS = PTy-&gt;getAddressSpace();</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *DestPtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getContext(), AS);</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(C, DestPtrTy);</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;        }</div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C2 = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SA-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;          <span class="keywordflow">if</span> (!C2) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;          <span class="comment">// First pointer!</span></div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType()-&gt;isPointerTy() &amp;&amp; C2-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;            <span class="keywordtype">unsigned</span> AS = C2-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a33f9fa1a7cb21319a30836fce847c3c4">getPointerAddressSpace</a>();</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;            <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, C2);</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;            <a class="code" href="classllvm_1_1Type.html">Type</a> *DestPtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getContext(), AS);</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;            <span class="comment">// The offsets have been converted to bytes.  We can add bytes to an</span></div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;            <span class="comment">// i8* by GEP with the byte count in the first index.</span></div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;            <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(C, DestPtrTy);</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;          }</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;          <span class="comment">// Don&#39;t bother trying to sum two pointers. We probably can&#39;t</span></div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;          <span class="comment">// statically compute a load that results from it anyway.</span></div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;          <span class="keywordflow">if</span> (C2-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = dyn_cast&lt;PointerType&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType())) {</div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            <span class="keywordflow">if</span> (PTy-&gt;getElementType()-&gt;isStructTy())</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;              C2 = <a class="code" href="classllvm_1_1ConstantExpr.html#a81ad2fffd14e2df92cad4f631ae76480">ConstantExpr::getIntegerCast</a>(</div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;                  C2, <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getContext()), <span class="keyword">true</span>);</div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;            <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">ConstantExpr::getGetElementPtr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, C2);</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;          } <span class="keywordflow">else</span></div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;            <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, C2);</div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        }</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;      }</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;    }</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>: {</div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *SM = cast&lt;SCEVMulExpr&gt;(V);</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SM-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0))) {</div><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;        <span class="comment">// Don&#39;t bother with pointers at all.</span></div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType()-&gt;isPointerTy()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = SM-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *C2 = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SM-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;          <span class="keywordflow">if</span> (!C2 || C2-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">ConstantExpr::getMul</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, C2);</div><div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;        }</div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;      }</div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    }</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *SU = cast&lt;SCEVUDivExpr&gt;(V);</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *LHS = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SU-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">getLHS</a>()))</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHS = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(SU-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">getRHS</a>()))</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;          <span class="keywordflow">if</span> (LHS-&gt;getType() == RHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#ab2767c28bc3ded2d683a93f0ce1ed502">ConstantExpr::getUDiv</a>(LHS, RHS);</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;    }</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;  }</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;}</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;</div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::computeSCEVAtScope(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(V)) <span class="keywordflow">return</span> V;</div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;</div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;  <span class="comment">// If this instruction is evolved from a constant-evolving PHI, compute the</span></div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;  <span class="comment">// exit value from the loop without using SCEVs.</span></div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *SU = dyn_cast&lt;SCEVUnknown&gt;(V)) {</div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(SU-&gt;getValue())) {</div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *LI = (*this-&gt;LI)[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent()];</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;      <span class="keywordflow">if</span> (LI &amp;&amp; LI-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1431766de798501f107d9031821f311e">getParentLoop</a>() == L)  <span class="comment">// Looking for loop exit value.</span></div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;          <span class="keywordflow">if</span> (PN-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == LI-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>()) {</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;            <span class="comment">// Okay, there is no closed form solution for the PHI node.  Check</span></div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;            <span class="comment">// to see if the loop that contains it has a known backedge-taken</span></div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;            <span class="comment">// count.  If so, we may be able to force computation of the exit</span></div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;            <span class="comment">// value.</span></div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BackedgeTakenCount = getBackedgeTakenCount(LI);</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *BTCC =</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;                  dyn_cast&lt;SCEVConstant&gt;(BackedgeTakenCount)) {</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;              <span class="comment">// Okay, we know how many times the containing loop executes.  If</span></div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;              <span class="comment">// this is a constant evolving PHI node, get the final value at</span></div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;              <span class="comment">// the specified iteration number.</span></div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;              <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RV = getConstantEvolutionLoopExitValue(PN,</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;                                                   BTCC-&gt;getValue()-&gt;getValue(),</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;                                                               LI);</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;              <span class="keywordflow">if</span> (RV) <span class="keywordflow">return</span> getSCEV(RV);</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;            }</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;          }</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;</div><div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;      <span class="comment">// Okay, this is an expression that we cannot symbolically evaluate</span></div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;      <span class="comment">// into a SCEV.  Check to see if it&#39;s possible to symbolically evaluate</span></div><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;      <span class="comment">// the arguments into constants, and if so, try to constant propagate the</span></div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      <span class="comment">// result.  This is particularly useful for computing loop exit values.</span></div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 4&gt;</a> Operands;</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;        <span class="keywordtype">bool</span> MadeImprovement = <span class="keyword">false</span>;</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(Op)) {</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;            Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;          }</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;</div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;          <span class="comment">// If any of the operands is non-constant and if they are</span></div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;          <span class="comment">// non-integer and non-pointer, don&#39;t even try to analyze them</span></div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;          <span class="comment">// with scev techniques.</span></div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;          <span class="keywordflow">if</span> (!isSCEVable(Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()))</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OrigV = getSCEV(Op);</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpV = getSCEVAtScope(OrigV, L);</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;          MadeImprovement |= OrigV != OpV;</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a>(OpV);</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;          <span class="keywordflow">if</span> (!C) <span class="keywordflow">return</span> V;</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;          <span class="keywordflow">if</span> (C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() != Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;            C = <a class="code" href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">ConstantExpr::getCast</a>(<a class="code" href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">CastInst::getCastOpcode</a>(C, <span class="keyword">false</span>,</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;                                                              Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;                                                              <span class="keyword">false</span>),</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;                                      C, Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(C);</div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;        }</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;</div><div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;        <span class="comment">// Check to see if getSCEVAtScope actually made an improvement.</span></div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;        <span class="keywordflow">if</span> (MadeImprovement) {</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;          <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = 0;</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *CI = dyn_cast&lt;CmpInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;            C = <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(CI-&gt;getPredicate(),</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;                                                Operands[0], Operands[1], TD,</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;                                                TLI);</div><div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;            <span class="keywordflow">if</span> (!LI-&gt;isVolatile())</div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;              C = <a class="code" href="namespacellvm.html#acf81840e57f5d7beb1d5983f4dac772f">ConstantFoldLoadFromConstPtr</a>(Operands[0], TD);</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;          } <span class="keywordflow">else</span></div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;            C = <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType(),</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;                                         Operands, TD, TLI);</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;          <span class="keywordflow">if</span> (!C) <span class="keywordflow">return</span> V;</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;          <span class="keywordflow">return</span> getSCEV(C);</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        }</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;      }</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    }</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;</div><div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="comment">// This is some other type of SCEVUnknown, just return it.</span></div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;  }</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;</div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVCommutativeExpr.html">SCEVCommutativeExpr</a> *Comm = dyn_cast&lt;SCEVCommutativeExpr&gt;(V)) {</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    <span class="comment">// Avoid performing the look-up in the common case where the specified</span></div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;    <span class="comment">// expression has no loop-variant portions.</span></div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Comm-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpAtScope = getSCEVAtScope(Comm-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L);</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;      <span class="keywordflow">if</span> (OpAtScope != Comm-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;        <span class="comment">// Okay, at least one of these operands is loop variant but might be</span></div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;        <span class="comment">// foldable.  Build a new instance of the folded commutative expression.</span></div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps(Comm-&gt;op_begin(),</div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;                                            Comm-&gt;op_begin()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;        NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(OpAtScope);</div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;</div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;        <span class="keywordflow">for</span> (++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;          OpAtScope = getSCEVAtScope(Comm-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L);</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;          NewOps.push_back(OpAtScope);</div><div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;        }</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;        <span class="keywordflow">if</span> (isa&lt;SCEVAddExpr&gt;(Comm))</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;          <span class="keywordflow">return</span> getAddExpr(NewOps);</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;        <span class="keywordflow">if</span> (isa&lt;SCEVMulExpr&gt;(Comm))</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;          <span class="keywordflow">return</span> getMulExpr(NewOps);</div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        <span class="keywordflow">if</span> (isa&lt;SCEVSMaxExpr&gt;(Comm))</div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;          <span class="keywordflow">return</span> getSMaxExpr(NewOps);</div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;        <span class="keywordflow">if</span> (isa&lt;SCEVUMaxExpr&gt;(Comm))</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;          <span class="keywordflow">return</span> getUMaxExpr(NewOps);</div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown commutative SCEV type!&quot;</span>);</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;      }</div><div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    }</div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    <span class="comment">// If we got here, all operands are loop invariant.</span></div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <span class="keywordflow">return</span> Comm;</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;  }</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;</div><div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *Div = dyn_cast&lt;SCEVUDivExpr&gt;(V)) {</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS = getSCEVAtScope(Div-&gt;getLHS(), L);</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS = getSCEVAtScope(Div-&gt;getRHS(), L);</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;    <span class="keywordflow">if</span> (LHS == Div-&gt;getLHS() &amp;&amp; RHS == Div-&gt;getRHS())</div><div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;      <span class="keywordflow">return</span> Div;   <span class="comment">// must be loop invariant</span></div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <span class="keywordflow">return</span> getUDivExpr(LHS, RHS);</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;  }</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  <span class="comment">// If this is a loop recurrence for a loop that does not contain L, then we</span></div><div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;  <span class="comment">// are dealing with the final value computed by the loop.</span></div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = dyn_cast&lt;SCEVAddRecExpr&gt;(V)) {</div><div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <span class="comment">// First, attempt to evaluate each operand.</span></div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    <span class="comment">// Avoid performing the look-up in the common case where the specified</span></div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <span class="comment">// expression has no loop-variant portions.</span></div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AddRec-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *OpAtScope = getSCEVAtScope(AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L);</div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;      <span class="keywordflow">if</span> (OpAtScope == AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;</div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;      <span class="comment">// Okay, at least one of these operands is loop variant but might be</span></div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;      <span class="comment">// foldable.  Build a new instance of the folded commutative expression.</span></div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 8&gt;</a> NewOps(AddRec-&gt;op_begin(),</div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;                                          AddRec-&gt;op_begin()+<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;      NewOps.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(OpAtScope);</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;      <span class="keywordflow">for</span> (++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        NewOps.push_back(getSCEVAtScope(AddRec-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), L));</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;</div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoldedRec =</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        getAddRecExpr(NewOps, AddRec-&gt;getLoop(),</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;                      AddRec-&gt;getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>));</div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;      AddRec = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(FoldedRec);</div><div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;      <span class="comment">// The addrec may be folded to a nonrecurrence, for example, if the</span></div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;      <span class="comment">// induction variable is multiplied by zero after constant folding. Go</span></div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;      <span class="comment">// ahead and return the folded value.</span></div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;      <span class="keywordflow">if</span> (!AddRec)</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        <span class="keywordflow">return</span> FoldedRec;</div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    }</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;</div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <span class="comment">// If the scope is outside the addrec&#39;s loop, evaluate it by using the</span></div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;    <span class="comment">// loop exit value of the addrec.</span></div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="keywordflow">if</span> (!AddRec-&gt;getLoop()-&gt;contains(L)) {</div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;      <span class="comment">// To evaluate this recurrence, we need to know how many times the AddRec</span></div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;      <span class="comment">// loop iterates.  Compute this now.</span></div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BackedgeTakenCount = getBackedgeTakenCount(AddRec-&gt;getLoop());</div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;      <span class="keywordflow">if</span> (BackedgeTakenCount == getCouldNotCompute()) <span class="keywordflow">return</span> AddRec;</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;      <span class="comment">// Then, evaluate the AddRec.</span></div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      <span class="keywordflow">return</span> AddRec-&gt;evaluateAtIteration(BackedgeTakenCount, *<span class="keyword">this</span>);</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    }</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <span class="keywordflow">return</span> AddRec;</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;  }</div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Cast = dyn_cast&lt;SCEVZeroExtendExpr&gt;(V)) {</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = getSCEVAtScope(Cast-&gt;getOperand(), L);</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="keywordflow">if</span> (Op == Cast-&gt;getOperand())</div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;      <span class="keywordflow">return</span> Cast;  <span class="comment">// must be loop invariant</span></div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;    <span class="keywordflow">return</span> getZeroExtendExpr(Op, Cast-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;  }</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;</div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Cast = dyn_cast&lt;SCEVSignExtendExpr&gt;(V)) {</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = getSCEVAtScope(Cast-&gt;getOperand(), L);</div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    <span class="keywordflow">if</span> (Op == Cast-&gt;getOperand())</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;      <span class="keywordflow">return</span> Cast;  <span class="comment">// must be loop invariant</span></div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    <span class="keywordflow">return</span> getSignExtendExpr(Op, Cast-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;  }</div><div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Cast = dyn_cast&lt;SCEVTruncateExpr&gt;(V)) {</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">Op</a> = getSCEVAtScope(Cast-&gt;getOperand(), L);</div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    <span class="keywordflow">if</span> (Op == Cast-&gt;getOperand())</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;      <span class="keywordflow">return</span> Cast;  <span class="comment">// must be loop invariant</span></div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    <span class="keywordflow">return</span> getTruncateExpr(Op, Cast-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;  }</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;</div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV type!&quot;</span>);</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;}</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;<span class="comment">/// getSCEVAtScope - This is a convenience function which does</span></div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;<span class="comment">/// getSCEVAtScope(getSCEV(V), L).</span></div><div class="line"><a name="l05373"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae219c962e224c9424b2ec40847496ff0"> 5373</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">ScalarEvolution::getSCEVAtScope</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  <span class="keywordflow">return</span> getSCEVAtScope(getSCEV(V), L);</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;}</div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;<span class="comment">/// SolveLinEquationWithOverflow - Finds the minimum unsigned root of the</span></div><div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<span class="comment">/// following equation:</span></div><div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;<span class="comment">///     A * X = B (mod N)</span></div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;<span class="comment">/// where N = 2^BW and BW is the common bit width of A and B. The signedness of</span></div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;<span class="comment">/// A and B isn&#39;t important.</span></div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;<span class="comment">/// If the equation does not have a solution, SCEVCouldNotCompute is returned.</span></div><div class="line"><a name="l05386"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#ad618f8b1d1ddca11c0faa9ff26bd9e61"> 5386</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="ScalarEvolution_8cpp.html#ad618f8b1d1ddca11c0faa9ff26bd9e61">SolveLinEquationWithOverflow</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>,</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;                                               ScalarEvolution &amp;SE) {</div><div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;  uint32_t BW = A.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;  assert(BW == B.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>() &amp;&amp; <span class="stringliteral">&quot;Bit widths must be the same.&quot;</span>);</div><div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;  assert(A != 0 &amp;&amp; <span class="stringliteral">&quot;A must be non-zero.&quot;</span>);</div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;</div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;  <span class="comment">// 1. D = gcd(A, N)</span></div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;  <span class="comment">// The gcd of A and N may have only one prime factor: 2. The number of</span></div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;  <span class="comment">// trailing zeros in A is its multiplicity</span></div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;  uint32_t Mult2 = A.<a class="code" href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>();</div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  <span class="comment">// D = 2^Mult2</span></div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;</div><div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;  <span class="comment">// 2. Check if B is divisible by D.</span></div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  <span class="comment">// B is divisible by D if and only if the multiplicity of prime factor 2 for B</span></div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;  <span class="comment">// is not less than multiplicity of this prime factor for D.</span></div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;  <span class="keywordflow">if</span> (B.<a class="code" href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">countTrailingZeros</a>() &lt; Mult2)</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;</div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;  <span class="comment">// 3. Compute I: the multiplicative inverse of (A / D) in arithmetic</span></div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;  <span class="comment">// modulo (N / D).</span></div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <span class="comment">// (N / D) may need BW+1 bits in its representation.  Hence, we&#39;ll use this</span></div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;  <span class="comment">// bit width during computations.</span></div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> AD = A.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(Mult2).<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(BW + 1);  <span class="comment">// AD = A / D</span></div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Mod(BW + 1, 0);</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;  Mod.<a class="code" href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">setBit</a>(BW - Mult2);  <span class="comment">// Mod = N / D</span></div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AD.<a class="code" href="classllvm_1_1APInt.html#a2d6a134752bc31f9034f28936e36f77a">multiplicativeInverse</a>(Mod);</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;  <span class="comment">// 4. Compute the minimum unsigned root of the equation:</span></div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;  <span class="comment">// I * (B / D) mod (N / D)</span></div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Result = (I * B.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(Mult2).<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(BW + 1)).<a class="code" href="namespacellvm_1_1APIntOps.html#acea7802c3430fe4fdf99fb8ec98c04d8">urem</a>(Mod);</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;  <span class="comment">// The result is guaranteed to be less than 2^BW so we may truncate it to BW</span></div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;  <span class="comment">// bits.</span></div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Result.<a class="code" href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">trunc</a>(BW));</div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;}</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;<span class="comment">/// SolveQuadraticEquation - Find the roots of the quadratic equation for the</span></div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;<span class="comment">/// given quadratic chrec {L,+,M,+,N}.  This returns either the two roots (which</span></div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;<span class="comment">/// might be the same) or two SCEVCouldNotCompute objects.</span></div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;<span class="comment"></span><span class="keyword">static</span> std::pair&lt;const SCEV *,const SCEV *&gt;</div><div class="line"><a name="l05430"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a67c8a10b1b2a753341ddf1db52f28a5b"> 5430</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a67c8a10b1b2a753341ddf1db52f28a5b">SolveQuadraticEquation</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec, ScalarEvolution &amp;SE) {</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  assert(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>() == 3 &amp;&amp; <span class="stringliteral">&quot;This is not a quadratic chrec!&quot;</span>);</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0));</div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *MC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1));</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(2));</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;  <span class="comment">// We currently can only solve this if the coefficients are constants.</span></div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;  <span class="keywordflow">if</span> (!LC || !MC || !NC) {</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CNC = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;    <span class="keywordflow">return</span> std::make_pair(CNC, CNC);</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;  }</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;  uint32_t BitWidth = LC-&gt;getValue()-&gt;getValue().getBitWidth();</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;L = LC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = MC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = NC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Two(BitWidth, 2);</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Four(BitWidth, 4);</div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;  {</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;    <span class="keyword">using namespace </span>APIntOps;</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a>&amp; <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = L;</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    <span class="comment">// Convert from chrec coefficients to polynomial coefficients AX^2+BX+C</span></div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    <span class="comment">// The B coefficient is M-N/2</span></div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>(M);</div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    B -= <a class="code" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a>(N,Two);</div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    <span class="comment">// The A coefficient is N/2</span></div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>(N.<a class="code" href="classllvm_1_1APInt.html#a482ad0f63ec145fdba2497e2298a5aa1">sdiv</a>(Two));</div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;</div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    <span class="comment">// Compute the B^2-4ac term.</span></div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SqrtTerm(B);</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;    SqrtTerm *= <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    SqrtTerm -= Four * (<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> * <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;    <span class="keywordflow">if</span> (SqrtTerm.isNegative()) {</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;      <span class="comment">// The loop is provably infinite.</span></div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CNC = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;      <span class="keywordflow">return</span> std::make_pair(CNC, CNC);</div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    }</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    <span class="comment">// Compute sqrt(B^2-4ac). This is guaranteed to be the nearest</span></div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    <span class="comment">// integer value or else APInt::sqrt() will assert.</span></div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> SqrtVal(SqrtTerm.sqrt());</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <span class="comment">// Compute the two solutions for the quadratic formula.</span></div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    <span class="comment">// The divisions must be performed as signed divisions.</span></div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> NegB(-B);</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> TwoA(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> &lt;&lt; 1);</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;    <span class="keywordflow">if</span> (TwoA.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) {</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *CNC = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;      <span class="keywordflow">return</span> std::make_pair(CNC, CNC);</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    }</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>();</div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Solution1 =</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(Context, (NegB + SqrtVal).<a class="code" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a>(TwoA));</div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Solution2 =</div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(Context, (NegB - SqrtVal).<a class="code" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a>(TwoA));</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;    <span class="keywordflow">return</span> std::make_pair(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Solution1),</div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;                          SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Solution2));</div><div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;  } <span class="comment">// end APIntOps namespace</span></div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;}</div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;<span class="comment">/// HowFarToZero - Return the number of times a backedge comparing the specified</span></div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;<span class="comment">/// value to zero will execute.  If not computable, return CouldNotCompute.</span></div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;<span class="comment">/// This is only used for loops with a &quot;x != y&quot; exit test. The exit condition is</span></div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;<span class="comment">/// now expressed as a single expression, V = x-y. So the exit test is</span></div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;<span class="comment">/// effectively V != 0.  We know and take advantage of the fact that this</span></div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;<span class="comment">/// expression only being used in a comparison by zero context.</span></div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;ScalarEvolution::HowFarToZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> IsSubExpr) {</div><div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;  <span class="comment">// If the value is a constant</span></div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(V)) {</div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    <span class="comment">// If the value is already zero, the branch will execute zero times.</span></div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isZero()) <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();  <span class="comment">// Otherwise it will loop infinitely.</span></div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;  }</div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div><div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AddRec = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(V);</div><div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <span class="keywordflow">if</span> (!AddRec || AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() != L)</div><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;  <span class="comment">// If this is a quadratic (3-term) AddRec {L,+,M,+,N}, find the roots of</span></div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <span class="comment">// the quadratic equation to solve it.</span></div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <span class="keywordflow">if</span> (AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#abcef7196d3d3fa9d61a5a2516892c676">isQuadratic</a>() &amp;&amp; AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    std::pair&lt;const SCEV *,const SCEV *&gt; Roots =</div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#a67c8a10b1b2a753341ddf1db52f28a5b">SolveQuadraticEquation</a>(AddRec, *<span class="keyword">this</span>);</div><div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *R1 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Roots.first);</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Roots.second);</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;    <span class="keywordflow">if</span> (R1 &amp;&amp; R2) {</div><div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;HFTZ: &quot;</span> &lt;&lt; *V &lt;&lt; <span class="stringliteral">&quot; - sol#1: &quot;</span> &lt;&lt; *R1</div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;  sol#2: &quot;</span> &lt;&lt; *R2 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;      <span class="comment">// Pick the smallest positive root value.</span></div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CB =</div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;          dyn_cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>,</div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;                                                      R1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>(),</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;                                                      R2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))) {</div><div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;        <span class="keywordflow">if</span> (CB-&gt;getZExtValue() == <span class="keyword">false</span>)</div><div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(R1, R2);   <span class="comment">// R1 is the minimum root now.</span></div><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;        <span class="comment">// We can only use this value if the chrec ends up with an exact zero</span></div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;        <span class="comment">// value at this index.  When solving for &quot;X*X != 5&quot;, for example, we</span></div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;        <span class="comment">// should not accept a root of 2.</span></div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Val = AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a11bb31f99854303d2a934765469c5c2c">evaluateAtIteration</a>(R1, *<span class="keyword">this</span>);</div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;        <span class="keywordflow">if</span> (Val-&gt;<a class="code" href="classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">isZero</a>())</div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;          <span class="keywordflow">return</span> R1;  <span class="comment">// We found a quadratic root!</span></div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;      }</div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    }</div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;  }</div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;</div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;  <span class="comment">// Otherwise we can only handle this if it is affine.</span></div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;  <span class="keywordflow">if</span> (!AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>())</div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;</div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  <span class="comment">// If this is an affine expression, the execution count of this branch is</span></div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;  <span class="comment">// the minimum unsigned root of the following equation:</span></div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;  <span class="comment">//     Start + Step*N = 0 (mod 2^BW)</span></div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="comment">// equivalent to:</span></div><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;  <span class="comment">//             Step*N = -Start (mod 2^BW)</span></div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  <span class="comment">// where BW is the common bit width of Start and Step.</span></div><div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;  <span class="comment">// Get the initial value for the loop.</span></div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = getSCEVAtScope(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1431766de798501f107d9031821f311e">getParentLoop</a>());</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = getSCEVAtScope(AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1431766de798501f107d9031821f311e">getParentLoop</a>());</div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;  <span class="comment">// For now we handle only constant steps.</span></div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  <span class="comment">// TODO: Handle a nonconstant Step given AddRec&lt;NUW&gt;. If the</span></div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;  <span class="comment">// AddRec is NUW, then (in an unsigned sense) it cannot be counting up to wrap</span></div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  <span class="comment">// to 0, it must be counting down to equal 0. Consequently, N = Start / -Step.</span></div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  <span class="comment">// We have not yet seen any such cases.</span></div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StepC = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Step);</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="keywordflow">if</span> (StepC == 0 || StepC-&gt;getValue()-&gt;equalsInt(0))</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  <span class="comment">// For positive steps (counting up until unsigned overflow):</span></div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  <span class="comment">//   N = -Start/Step (as unsigned)</span></div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;  <span class="comment">// For negative steps (counting down to zero):</span></div><div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  <span class="comment">//   N = Start/-Step</span></div><div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  <span class="comment">// First compute the unsigned distance from zero in the direction of Step.</span></div><div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;  <span class="keywordtype">bool</span> CountDown = StepC-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>();</div><div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Distance = CountDown ? Start : getNegativeSCEV(Start);</div><div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;</div><div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;  <span class="comment">// Handle unitary steps, which cannot wraparound.</span></div><div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;  <span class="comment">// 1*N = -Start; -1*N = Start (mod 2^BW), so:</span></div><div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;  <span class="comment">//   N = Distance (as unsigned)</span></div><div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <span class="keywordflow">if</span> (StepC-&gt;getValue()-&gt;equalsInt(1) || StepC-&gt;getValue()-&gt;isAllOnesValue()) {</div><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = getUnsignedRange(Start);</div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount;</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;    <span class="keywordflow">if</span> (!CountDown &amp;&amp; CR.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>().<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>())</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;      <span class="comment">// When counting up, the worst starting value is 1, not 0.</span></div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;      MaxBECount = CR.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>().<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;        ? getConstant(<a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(CR.<a class="code" href="classllvm_1_1ConstantRange.html#ac7f5943965c7666442e2a0a179ad39ab">getBitWidth</a>()))</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;        : getConstant(<a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(CR.<a class="code" href="classllvm_1_1ConstantRange.html#ac7f5943965c7666442e2a0a179ad39ab">getBitWidth</a>()));</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;      MaxBECount = getConstant(CountDown ? CR.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>()</div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;                                         : -CR.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>());</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <span class="keywordflow">return</span> ExitLimit(Distance, MaxBECount);</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;  }</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;  <span class="comment">// If the recurrence is known not to wraparound, unsigned divide computes the</span></div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;  <span class="comment">// back edge count. (Ideally we would have an &quot;isexact&quot; bit for udiv). We know</span></div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;  <span class="comment">// that the value will either become zero (and thus the loop terminates), that</span></div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;  <span class="comment">// the loop will terminate through some other exit condition first, or that</span></div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="comment">// the loop has undefined behavior.  This means we can&#39;t &quot;miss&quot; the exit</span></div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  <span class="comment">// value, even with nonunit stride.</span></div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  <span class="comment">// This is only valid for expressions that directly compute the loop exit. It</span></div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;  <span class="comment">// is invalid for subexpressions in which the loop may exit through this</span></div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  <span class="comment">// branch even if this subexpression is false. In that case, the trip count</span></div><div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;  <span class="comment">// computed by this udiv could be smaller than the number of well-defined</span></div><div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;  <span class="comment">// iterations.</span></div><div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;  <span class="keywordflow">if</span> (!IsSubExpr &amp;&amp; AddRec-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">SCEV::FlagNW</a>))</div><div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <span class="keywordflow">return</span> getUDivExpr(Distance, CountDown ? getNegativeSCEV(Step) : Step);</div><div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;</div><div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;  <span class="comment">// Then, try to solve the above equation provided that Start is constant.</span></div><div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *StartC = dyn_cast&lt;SCEVConstant&gt;(Start))</div><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ScalarEvolution_8cpp.html#ad618f8b1d1ddca11c0faa9ff26bd9e61">SolveLinEquationWithOverflow</a>(StepC-&gt;getValue()-&gt;getValue(),</div><div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;                                        -StartC-&gt;getValue()-&gt;getValue(),</div><div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;                                        *<span class="keyword">this</span>);</div><div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;  <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;}</div><div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;<span class="comment">/// HowFarToNonZero - Return the number of times a backedge checking the</span></div><div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;<span class="comment">/// specified value for nonzero will execute.  If not computable, return</span></div><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;<span class="comment">/// CouldNotCompute</span></div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;ScalarEvolution::HowFarToNonZero(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *V, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;  <span class="comment">// Loops that look like: while (X == 0) are very strange indeed.  We don&#39;t</span></div><div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;  <span class="comment">// handle them yet except for the trivial case.  This could be expanded in the</span></div><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;  <span class="comment">// future as needed.</span></div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;  <span class="comment">// If the value is a constant, check to see if it is known to be non-zero</span></div><div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;  <span class="comment">// already.  If so, the backedge will execute zero times.</span></div><div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;SCEVConstant&gt;(V)) {</div><div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getValue()-&gt;isNullValue())</div><div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;      <span class="keywordflow">return</span> getConstant(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;getType(), 0);</div><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();  <span class="comment">// Otherwise it will loop infinitely.</span></div><div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;  }</div><div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;</div><div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;  <span class="comment">// We could implement others, but I really doubt anyone writes loops like</span></div><div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;  <span class="comment">// this, and if they did, they would already be constant folded.</span></div><div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;  <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;}</div><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;<span class="comment">/// getPredecessorWithUniqueSuccessorForBB - Return a predecessor of BB</span></div><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;<span class="comment">/// (which may not be an immediate predecessor) which has exactly one</span></div><div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;<span class="comment">/// successor from which BB is reachable, or null if no such block is</span></div><div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;<span class="comment">/// found.</span></div><div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;<span class="comment"></span>std::pair&lt;BasicBlock *, BasicBlock *&gt;</div><div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;ScalarEvolution::getPredecessorWithUniqueSuccessorForBB(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;  <span class="comment">// If the block has a unique predecessor, then there is no path from the</span></div><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;  <span class="comment">// predecessor to the block that does not go through the direct edge</span></div><div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;  <span class="comment">// from the predecessor to the block.</span></div><div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Pred = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5ef55181ae0bb0f5c561b9a29087b1e5">getSinglePredecessor</a>())</div><div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordflow">return</span> std::make_pair(Pred, BB);</div><div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;</div><div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;  <span class="comment">// A loop&#39;s header is defined to be a block that dominates the loop.</span></div><div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;  <span class="comment">// If the header has a unique predecessor outside the loop, it must be</span></div><div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;  <span class="comment">// a block that has exactly one successor that can reach the loop.</span></div><div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI-&gt;getLoopFor(BB))</div><div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;    <span class="keywordflow">return</span> std::make_pair(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a02a06d6c159b20080dda392b96c98b40">getLoopPredecessor</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>());</div><div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;</div><div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;  <span class="keywordflow">return</span> std::pair&lt;BasicBlock *, BasicBlock *&gt;();</div><div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;}</div><div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;<span class="comment">/// HasSameValue - SCEV structural equivalence is usually sufficient for</span></div><div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;<span class="comment">/// testing whether two expressions are equal, however for the purposes of</span></div><div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;<span class="comment">/// looking for a condition guarding a loop, it can be useful to be a little</span></div><div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;<span class="comment">/// more general, since a front-end may have replicated the controlling</span></div><div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;<span class="comment">/// expression.</span></div><div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05674"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2"> 5674</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>) {</div><div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;  <span class="comment">// Quick check to see if they are the same SCEV.</span></div><div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;  <span class="keywordflow">if</span> (A == B) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;</div><div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;  <span class="comment">// Otherwise, if they&#39;re both SCEVUnknown, it&#39;s possible that they hold</span></div><div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  <span class="comment">// two different instructions with the same value. Check for this case.</span></div><div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *AU = dyn_cast&lt;SCEVUnknown&gt;(A))</div><div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *BU = dyn_cast&lt;SCEVUnknown&gt;(B))</div><div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *AI = dyn_cast&lt;Instruction&gt;(AU-&gt;getValue()))</div><div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *BI = dyn_cast&lt;Instruction&gt;(BU-&gt;getValue()))</div><div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;          <span class="keywordflow">if</span> (AI-&gt;isIdenticalTo(BI) &amp;&amp; !AI-&gt;mayReadFromMemory())</div><div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;</div><div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;  <span class="comment">// Otherwise assume they may have a different value.</span></div><div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;}</div><div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;<span class="comment"></span></div><div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;<span class="comment">/// SimplifyICmpOperands - Simplify LHS and RHS in a comparison with</span></div><div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;<span class="comment">/// predicate Pred. Return true iff any changes were made.</span></div><div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l05694"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a143afc3214e988d3a4271a7ca1a521c5"> 5694</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a143afc3214e988d3a4271a7ca1a521c5">ScalarEvolution::SimplifyICmpOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> &amp;Pred,</div><div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *&amp;RHS,</div><div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;                                           <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div><div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;</div><div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;  <span class="comment">// If we hit the max recursion limit bail out.</span></div><div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;  <span class="keywordflow">if</span> (Depth &gt;= 3)</div><div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;</div><div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;  <span class="comment">// Canonicalize a constant to the right side.</span></div><div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *LHSC = dyn_cast&lt;SCEVConstant&gt;(LHS)) {</div><div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <span class="comment">// Check for both operands constant.</span></div><div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RHSC = dyn_cast&lt;SCEVConstant&gt;(RHS)) {</div><div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(Pred,</div><div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;                                LHSC-&gt;getValue(),</div><div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;                                RHSC-&gt;getValue())-&gt;isNullValue())</div><div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;        <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;        <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;    }</div><div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    <span class="comment">// Otherwise swap the operands to put the constant on the right.</span></div><div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;    Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  }</div><div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;</div><div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  <span class="comment">// If we&#39;re comparing an addrec with a value which is loop-invariant in the</span></div><div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;  <span class="comment">// addrec&#39;s loop, put the addrec on the left. Also make a dominance check,</span></div><div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;  <span class="comment">// as both operands could be addrecs loop-invariant in each other&#39;s loop.</span></div><div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(RHS)) {</div><div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = AR-&gt;getLoop();</div><div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(LHS, L) &amp;&amp; properlyDominates(LHS, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>())) {</div><div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    }</div><div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;  }</div><div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;</div><div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;  <span class="comment">// If there&#39;s a constant operand, canonicalize comparisons with boundary</span></div><div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;  <span class="comment">// cases, and canonicalize *-or-equal comparisons to regular comparisons.</span></div><div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *RC = dyn_cast&lt;SCEVConstant&gt;(RHS)) {</div><div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;RA = RC-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ICmpInst::Predicate value!&quot;</span>);</div><div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      <span class="comment">// Fold ((-1) * %a) + %b == 0 (equivalent to %b-%a == 0) into %a == %b.</span></div><div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;      <span class="keywordflow">if</span> (!RA)</div><div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *AE = dyn_cast&lt;SCEVAddExpr&gt;(LHS))</div><div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *ME = dyn_cast&lt;SCEVMulExpr&gt;(AE-&gt;getOperand(0)))</div><div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;            <span class="keywordflow">if</span> (AE-&gt;getNumOperands() == 2 &amp;&amp; ME-&gt;getNumOperands() == 2 &amp;&amp;</div><div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;                ME-&gt;getOperand(0)-&gt;isAllOnesValue()) {</div><div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;              RHS = AE-&gt;getOperand(1);</div><div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;              LHS = ME-&gt;getOperand(1);</div><div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;              Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;            }</div><div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;      <span class="keywordflow">if</span> ((RA - 1).isMinValue()) {</div><div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;        RHS = getConstant(RA - 1);</div><div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      }</div><div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a9b3a2ea3fb1e9724369fc0d0f79ae869">isMaxValue</a>()) {</div><div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;      }</div><div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;</div><div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div><div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;      RHS = getConstant(RA - 1);</div><div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;      <span class="keywordflow">if</span> ((RA + 1).isMaxValue()) {</div><div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;        RHS = getConstant(RA + 1);</div><div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;      }</div><div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) {</div><div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;      }</div><div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a9b3a2ea3fb1e9724369fc0d0f79ae869">isMaxValue</a>()) <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;</div><div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div><div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;      RHS = getConstant(RA + 1);</div><div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;      <span class="keywordflow">if</span> ((RA - 1).isMinSignedValue()) {</div><div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;        RHS = getConstant(RA - 1);</div><div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;      }</div><div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a285673849e0e0bc40c79ad5e0c93da22">isMaxSignedValue</a>()) {</div><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;      }</div><div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">isMinSignedValue</a>()) <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;</div><div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div><div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;      RHS = getConstant(RA - 1);</div><div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;      <span class="keywordflow">if</span> ((RA + 1).isMaxSignedValue()) {</div><div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;        RHS = getConstant(RA + 1);</div><div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;      }</div><div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">isMinSignedValue</a>()) {</div><div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;      }</div><div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a285673849e0e0bc40c79ad5e0c93da22">isMaxSignedValue</a>()) <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;</div><div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;      RHS = getConstant(RA + 1);</div><div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) {</div><div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;      }</div><div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;      <span class="keywordflow">if</span> ((RA + 1).isMaxValue()) {</div><div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;        RHS = getConstant(RA + 1);</div><div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;      }</div><div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a9b3a2ea3fb1e9724369fc0d0f79ae869">isMaxValue</a>()) <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a9b3a2ea3fb1e9724369fc0d0f79ae869">isMaxValue</a>()) {</div><div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;      }</div><div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;      <span class="keywordflow">if</span> ((RA - 1).isMinValue()) {</div><div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;        RHS = getConstant(RA - 1);</div><div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;      }</div><div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">isMinSignedValue</a>()) {</div><div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;      }</div><div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;      <span class="keywordflow">if</span> ((RA + 1).isMaxSignedValue()) {</div><div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;        RHS = getConstant(RA + 1);</div><div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;      }</div><div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a285673849e0e0bc40c79ad5e0c93da22">isMaxSignedValue</a>()) <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a285673849e0e0bc40c79ad5e0c93da22">isMaxSignedValue</a>()) {</div><div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;        Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;      }</div><div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;      <span class="keywordflow">if</span> ((RA - 1).isMinSignedValue()) {</div><div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;       Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;       RHS = getConstant(RA - 1);</div><div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;        Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;       <span class="keywordflow">break</span>;</div><div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;      }</div><div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;      <span class="keywordflow">if</span> (RA.<a class="code" href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">isMinSignedValue</a>()) <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    }</div><div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;  }</div><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;</div><div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="comment">// Check for obvious equality.</span></div><div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(LHS, RHS)) {</div><div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">ICmpInst::isTrueWhenEqual</a>(Pred))</div><div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      <span class="keywordflow">goto</span> trivially_true;</div><div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#af6a36e1e0483f9eb5954f83ad75e123c">ICmpInst::isFalseWhenEqual</a>(Pred))</div><div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;      <span class="keywordflow">goto</span> trivially_false;</div><div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;  }</div><div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;</div><div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;  <span class="comment">// If possible, canonicalize GE/LE comparisons to GT/LT comparisons, by</span></div><div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;  <span class="comment">// adding or subtracting 1 from one of the operands.</span></div><div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;    <span class="keywordflow">if</span> (!getSignedRange(RHS).getSignedMax().isMaxSignedValue()) {</div><div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;      RHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1, <span class="keyword">true</span>), RHS,</div><div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!getSignedRange(LHS).getSignedMin().isMinSignedValue()) {</div><div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;      LHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), (uint64_t)-1, <span class="keyword">true</span>), LHS,</div><div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    }</div><div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;    <span class="keywordflow">if</span> (!getSignedRange(RHS).getSignedMin().isMinSignedValue()) {</div><div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;      RHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), (uint64_t)-1, <span class="keyword">true</span>), RHS,</div><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div><div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!getSignedRange(LHS).getSignedMax().isMaxSignedValue()) {</div><div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;      LHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1, <span class="keyword">true</span>), LHS,</div><div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a>);</div><div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>;</div><div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    }</div><div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <span class="keywordflow">if</span> (!getUnsignedRange(RHS).getUnsignedMax().isMaxValue()) {</div><div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;      RHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1, <span class="keyword">true</span>), RHS,</div><div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div><div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!getUnsignedRange(LHS).getUnsignedMin().isMinValue()) {</div><div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;      LHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), (uint64_t)-1, <span class="keyword">true</span>), LHS,</div><div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div><div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    }</div><div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    <span class="keywordflow">if</span> (!getUnsignedRange(RHS).getUnsignedMin().isMinValue()) {</div><div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;      RHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), (uint64_t)-1, <span class="keyword">true</span>), RHS,</div><div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div><div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!getUnsignedRange(LHS).getUnsignedMax().isMaxValue()) {</div><div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      LHS = getAddExpr(getConstant(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1, <span class="keyword">true</span>), LHS,</div><div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;                       <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div><div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;      Changed = <span class="keyword">true</span>;</div><div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    }</div><div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;  }</div><div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;</div><div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;  <span class="comment">// TODO: More simplifications are possible here.</span></div><div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;</div><div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;  <span class="comment">// Recursively simplify until we either hit a recursion limit or nothing</span></div><div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;  <span class="comment">// changes.</span></div><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;  <span class="keywordflow">if</span> (Changed)</div><div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    <span class="keywordflow">return</span> SimplifyICmpOperands(Pred, LHS, RHS, Depth+1);</div><div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;</div><div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  <span class="keywordflow">return</span> Changed;</div><div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;</div><div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;trivially_true:</div><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;  <span class="comment">// Return 0 == 0.</span></div><div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;  LHS = RHS = getConstant(<a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(getContext()));</div><div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;  Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>;</div><div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;</div><div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;trivially_false:</div><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;  <span class="comment">// Return 0 != 0.</span></div><div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;  LHS = RHS = getConstant(<a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(getContext()));</div><div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;  Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>;</div><div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;}</div><div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;</div><div class="line"><a name="l05971"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f"> 5971</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">ScalarEvolution::isKnownNegative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;  <span class="keywordflow">return</span> getSignedRange(S).getSignedMax().isNegative();</div><div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;}</div><div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;</div><div class="line"><a name="l05975"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3"> 5975</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">ScalarEvolution::isKnownPositive</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;  <span class="keywordflow">return</span> getSignedRange(S).getSignedMin().isStrictlyPositive();</div><div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;}</div><div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;</div><div class="line"><a name="l05979"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34"> 5979</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">ScalarEvolution::isKnownNonNegative</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;  <span class="keywordflow">return</span> !getSignedRange(S).getSignedMin().isNegative();</div><div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;}</div><div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;</div><div class="line"><a name="l05983"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e"> 5983</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">ScalarEvolution::isKnownNonPositive</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;  <span class="keywordflow">return</span> !getSignedRange(S).getSignedMax().isStrictlyPositive();</div><div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;}</div><div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;</div><div class="line"><a name="l05987"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b"> 5987</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">ScalarEvolution::isKnownNonZero</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;  <span class="keywordflow">return</span> isKnownNegative(S) || isKnownPositive(S);</div><div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;}</div><div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;</div><div class="line"><a name="l05991"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd"> 5991</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">ScalarEvolution::isKnownPredicate</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;  <span class="comment">// Canonicalize the inputs first.</span></div><div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;  (void)SimplifyICmpOperands(Pred, LHS, RHS);</div><div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;</div><div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;  <span class="comment">// If LHS or RHS is an addrec, check to see if the condition is true in</span></div><div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <span class="comment">// every iteration of the loop.</span></div><div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(LHS))</div><div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;    <span class="keywordflow">if</span> (isLoopEntryGuardedByCond(</div><div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;          AR-&gt;getLoop(), Pred, AR-&gt;getStart(), RHS) &amp;&amp;</div><div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;        isLoopBackedgeGuardedByCond(</div><div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;          AR-&gt;getLoop(), Pred, AR-&gt;getPostIncExpr(*<span class="keyword">this</span>), RHS))</div><div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(RHS))</div><div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;    <span class="keywordflow">if</span> (isLoopEntryGuardedByCond(</div><div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;          AR-&gt;getLoop(), Pred, LHS, AR-&gt;getStart()) &amp;&amp;</div><div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;        isLoopBackedgeGuardedByCond(</div><div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;          AR-&gt;getLoop(), Pred, LHS, AR-&gt;getPostIncExpr(*<span class="keyword">this</span>)))</div><div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;</div><div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;  <span class="comment">// Otherwise see what can be done with known constant ranges.</span></div><div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;  <span class="keywordflow">return</span> isKnownPredicateWithRanges(Pred, LHS, RHS);</div><div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;}</div><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;</div><div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;ScalarEvolution::isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(LHS, RHS))</div><div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">ICmpInst::isTrueWhenEqual</a>(Pred);</div><div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;</div><div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;  <span class="comment">// This code is split out from isKnownPredicate because it is called from</span></div><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;  <span class="comment">// within isLoopEntryGuardedByCond.</span></div><div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ICmpInst::Predicate value!&quot;</span>);</div><div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>;</div><div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>: {</div><div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = getSignedRange(LHS);</div><div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHSRange = getSignedRange(RHS);</div><div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>().<a class="code" href="classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">slt</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>()))</div><div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>().<a class="code" href="classllvm_1_1APInt.html#a41c064760b52a162e1f7b4af665facd6">sge</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>()))</div><div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;  }</div><div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>;</div><div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>: {</div><div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = getSignedRange(LHS);</div><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHSRange = getSignedRange(RHS);</div><div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>().<a class="code" href="classllvm_1_1APInt.html#a0c054b115b72d730d19b22847d155617">sle</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>()))</div><div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">getSignedMin</a>().<a class="code" href="classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">sgt</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">getSignedMax</a>()))</div><div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;  }</div><div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div><div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>: {</div><div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = getUnsignedRange(LHS);</div><div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHSRange = getUnsignedRange(RHS);</div><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>().<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>()))</div><div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>().<a class="code" href="classllvm_1_1APInt.html#a0229ff3a1d7432810a86c8efab115c33">uge</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>()))</div><div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;  }</div><div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>;</div><div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>: {</div><div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = getUnsignedRange(LHS);</div><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHSRange = getUnsignedRange(RHS);</div><div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>().<a class="code" href="classllvm_1_1APInt.html#aa9537475b2b94f72ad6d5e8730dc40cb">ule</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>()))</div><div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    <span class="keywordflow">if</span> (LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">getUnsignedMin</a>().<a class="code" href="classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">ugt</a>(RHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">getUnsignedMax</a>()))</div><div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;  }</div><div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>: {</div><div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;    <span class="keywordflow">if</span> (getUnsignedRange(LHS).intersectWith(getUnsignedRange(RHS)).isEmptySet())</div><div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    <span class="keywordflow">if</span> (getSignedRange(LHS).intersectWith(getSignedRange(RHS)).isEmptySet())</div><div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;</div><div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Diff = getMinusSCEV(LHS, RHS);</div><div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(Diff))</div><div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;  }</div><div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    <span class="comment">// The check at the top of the function catches the case where</span></div><div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    <span class="comment">// the values are known to be equal.</span></div><div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;  }</div><div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;}</div><div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;<span class="comment">/// isLoopBackedgeGuardedByCond - Test whether the backedge of the loop is</span></div><div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;<span class="comment">/// protected by a conditional between LHS and RHS.  This is used to</span></div><div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;<span class="comment">/// to eliminate casts.</span></div><div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l06097"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9"> 6097</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">ScalarEvolution::isLoopBackedgeGuardedByCond</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;                                             <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;  <span class="comment">// Interpret a null as meaning no loop, where there is obviously no guard</span></div><div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  <span class="comment">// (interprocedural conditions notwithstanding).</span></div><div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;  <span class="keywordflow">if</span> (!L) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;</div><div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Latch = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">getLoopLatch</a>();</div><div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  <span class="keywordflow">if</span> (!Latch)</div><div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;</div><div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *LoopContinuePredicate =</div><div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;    <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a>&gt;(Latch-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>());</div><div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;  <span class="keywordflow">if</span> (!LoopContinuePredicate ||</div><div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;      LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a382131e712e55e8324fbd5068de17b78">isUnconditional</a>())</div><div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;</div><div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;  <span class="keywordflow">return</span> isImpliedCond(Pred, LHS, RHS,</div><div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;                       LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>(),</div><div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;                       LoopContinuePredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0) != L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>());</div><div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;}</div><div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;<span class="comment">/// isLoopEntryGuardedByCond - Test whether entry to the loop is protected</span></div><div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;<span class="comment">/// by a conditional between LHS and RHS.  This is used to help avoid max</span></div><div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;<span class="comment">/// expressions in loop trip counts, and to eliminate casts.</span></div><div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l06123"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e"> 6123</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">ScalarEvolution::isLoopEntryGuardedByCond</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L,</div><div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;                                          <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS) {</div><div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <span class="comment">// Interpret a null as meaning no loop, where there is obviously no guard</span></div><div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;  <span class="comment">// (interprocedural conditions notwithstanding).</span></div><div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;  <span class="keywordflow">if</span> (!L) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;</div><div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;  <span class="comment">// Starting at the loop predecessor, climb up the predecessor chain, as long</span></div><div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;  <span class="comment">// as there are predecessors that can be found that have unique successors</span></div><div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;  <span class="comment">// leading to the original header.</span></div><div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;  <span class="keywordflow">for</span> (std::pair&lt;BasicBlock *, BasicBlock *&gt;</div><div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;         Pair(L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a02a06d6c159b20080dda392b96c98b40">getLoopPredecessor</a>(), L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>());</div><div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;       Pair.first;</div><div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;       Pair = getPredecessorWithUniqueSuccessorForBB(Pair.first)) {</div><div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;</div><div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;    <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *LoopEntryPredicate =</div><div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;      <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a>&gt;(Pair.first-&gt;getTerminator());</div><div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keywordflow">if</span> (!LoopEntryPredicate ||</div><div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;        LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a382131e712e55e8324fbd5068de17b78">isUnconditional</a>())</div><div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;</div><div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <span class="keywordflow">if</span> (isImpliedCond(Pred, LHS, RHS,</div><div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;                      LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">getCondition</a>(),</div><div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;                      LoopEntryPredicate-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0) != Pair.second))</div><div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;  }</div><div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;</div><div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;}</div><div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;<span class="comment">/// RAII wrapper to prevent recursive application of isImpliedCond.</span></div><div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;<span class="comment">/// ScalarEvolution&#39;s PendingLoopPredicates set must be empty unless we are</span></div><div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;<span class="comment">/// currently evaluating isImpliedCond.</span></div><div class="line"><a name="l06156"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html"> 6156</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structMarkPendingLoopPredicate.html">MarkPendingLoopPredicate</a> {</div><div class="line"><a name="l06157"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html#aca858777518f7e88200246abc214169d"> 6157</a></span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="structMarkPendingLoopPredicate.html#aca858777518f7e88200246abc214169d">Cond</a>;</div><div class="line"><a name="l06158"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html#a44aa2bee5dbd24fe47868f6e63ab4cde"> 6158</a></span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value*&gt;</a> &amp;<a class="code" href="structMarkPendingLoopPredicate.html#a44aa2bee5dbd24fe47868f6e63ab4cde">LoopPreds</a>;</div><div class="line"><a name="l06159"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html#a8a909346e001dd6c4c06b2b1b617f40d"> 6159</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structMarkPendingLoopPredicate.html#a8a909346e001dd6c4c06b2b1b617f40d">Pending</a>;</div><div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;</div><div class="line"><a name="l06161"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html#aaa8d628a6a8131dbb2779b04529c661e"> 6161</a></span>&#160;  <a class="code" href="structMarkPendingLoopPredicate.html#aaa8d628a6a8131dbb2779b04529c661e">MarkPendingLoopPredicate</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value*&gt;</a> &amp;LP)</div><div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    : Cond(C), LoopPreds(LP) {</div><div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    Pending = !LoopPreds.<a class="code" href="classllvm_1_1DenseSet.html#ab658e5485796a5ff90bd2dc3fca7d6d2">insert</a>(Cond).second;</div><div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  }</div><div class="line"><a name="l06165"></a><span class="lineno"><a class="line" href="structMarkPendingLoopPredicate.html#ac25451a6e0d230ec87b5de56c372108f"> 6165</a></span>&#160;  <a class="code" href="structMarkPendingLoopPredicate.html#ac25451a6e0d230ec87b5de56c372108f">~MarkPendingLoopPredicate</a>() {</div><div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    <span class="keywordflow">if</span> (!Pending)</div><div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;      LoopPreds.<a class="code" href="classllvm_1_1DenseSet.html#a72c5c6170a25fd911db5f4461221befd">erase</a>(Cond);</div><div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;  }</div><div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;};</div><div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;<span class="comment">/// isImpliedCond - Test whether the condition described by Pred, LHS,</span></div><div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;<span class="comment">/// and RHS is true whenever the given Cond value evaluates to true.</span></div><div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ScalarEvolution::isImpliedCond(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *FoundCondValue,</div><div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;                                    <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1Inverse.html">Inverse</a>) {</div><div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;  <a class="code" href="structMarkPendingLoopPredicate.html">MarkPendingLoopPredicate</a> Mark(FoundCondValue, PendingLoopPredicates);</div><div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <span class="keywordflow">if</span> (Mark.<a class="code" href="structMarkPendingLoopPredicate.html#a8a909346e001dd6c4c06b2b1b617f40d">Pending</a>)</div><div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;</div><div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  <span class="comment">// Recursively handle And and Or conditions.</span></div><div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = dyn_cast&lt;BinaryOperator&gt;(FoundCondValue)) {</div><div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    <span class="keywordflow">if</span> (BO-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>) {</div><div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;      <span class="keywordflow">if</span> (!Inverse)</div><div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;        <span class="keywordflow">return</span> isImpliedCond(Pred, LHS, RHS, BO-&gt;getOperand(0), Inverse) ||</div><div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;               isImpliedCond(Pred, LHS, RHS, BO-&gt;getOperand(1), Inverse);</div><div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (BO-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>) {</div><div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;      <span class="keywordflow">if</span> (Inverse)</div><div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;        <span class="keywordflow">return</span> isImpliedCond(Pred, LHS, RHS, BO-&gt;getOperand(0), Inverse) ||</div><div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;               isImpliedCond(Pred, LHS, RHS, BO-&gt;getOperand(1), Inverse);</div><div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    }</div><div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;  }</div><div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;</div><div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;  <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ICI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a>&gt;(FoundCondValue);</div><div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;  <span class="keywordflow">if</span> (!ICI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;</div><div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;  <span class="comment">// Bail if the ICmp&#39;s operands&#39; types are wider than the needed type</span></div><div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;  <span class="comment">// before attempting to call getSCEV on them. This avoids infinite</span></div><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;  <span class="comment">// recursion, since the analysis of widening casts can require loop</span></div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;  <span class="comment">// exit condition information for overflow checking, which would</span></div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;  <span class="comment">// lead back here.</span></div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &lt;</div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;      getTypeSizeInBits(ICI-&gt;getOperand(0)-&gt;getType()))</div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;</div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;  <span class="comment">// Now that we found a conditional branch that dominates the loop or controls</span></div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;  <span class="comment">// the loop latch. Check to see if it is the comparison we are looking for.</span></div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> FoundPred;</div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;  <span class="keywordflow">if</span> (Inverse)</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    FoundPred = ICI-&gt;getInversePredicate();</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;    FoundPred = ICI-&gt;getPredicate();</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;</div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS = getSCEV(ICI-&gt;getOperand(0));</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS = getSCEV(ICI-&gt;getOperand(1));</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;  <span class="comment">// Balance the types. The case where FoundLHS&#39; type is wider than</span></div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;  <span class="comment">// LHS&#39; type is checked for above.</span></div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;  <span class="keywordflow">if</span> (getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>()) &gt;</div><div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;      getTypeSizeInBits(FoundLHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>())) {</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">CmpInst::isSigned</a>(Pred)) {</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;      FoundLHS = getSignExtendExpr(FoundLHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      FoundRHS = getSignExtendExpr(FoundRHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;      FoundLHS = getZeroExtendExpr(FoundLHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;      FoundRHS = getZeroExtendExpr(FoundRHS, LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;    }</div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;  }</div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;</div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;  <span class="comment">// Canonicalize the query to match the way instcombine will have</span></div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;  <span class="comment">// canonicalized the comparison.</span></div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;  <span class="keywordflow">if</span> (SimplifyICmpOperands(Pred, LHS, RHS))</div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;    <span class="keywordflow">if</span> (LHS == RHS)</div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred);</div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;  <span class="keywordflow">if</span> (SimplifyICmpOperands(FoundPred, FoundLHS, FoundRHS))</div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    <span class="keywordflow">if</span> (FoundLHS == FoundRHS)</div><div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#af6a36e1e0483f9eb5954f83ad75e123c">CmpInst::isFalseWhenEqual</a>(FoundPred);</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;  <span class="comment">// Check to see if we can make the LHS or RHS match.</span></div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <span class="keywordflow">if</span> (LHS == FoundRHS || RHS == FoundLHS) {</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(RHS)) {</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(FoundLHS, FoundRHS);</div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      FoundPred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(FoundPred);</div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;      <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;      Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;    }</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;  }</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;  <span class="comment">// Check whether the found predicate is the same as the desired predicate.</span></div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;  <span class="keywordflow">if</span> (FoundPred == Pred)</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    <span class="keywordflow">return</span> isImpliedCondOperands(Pred, LHS, RHS, FoundLHS, FoundRHS);</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;  <span class="comment">// Check whether swapping the found predicate makes it the same as the</span></div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <span class="comment">// desired predicate.</span></div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(FoundPred) == Pred) {</div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(RHS))</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(Pred, LHS, RHS, FoundRHS, FoundLHS);</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;      <span class="keywordflow">return</span> isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">ICmpInst::getSwappedPredicate</a>(Pred),</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;                                   RHS, LHS, FoundLHS, FoundRHS);</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;  }</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;  <span class="comment">// Check whether the actual condition is beyond sufficient.</span></div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;  <span class="keywordflow">if</span> (FoundPred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>)</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">ICmpInst::isTrueWhenEqual</a>(Pred))</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;      <span class="keywordflow">if</span> (isImpliedCondOperands(Pred, LHS, RHS, FoundLHS, FoundRHS))</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>)</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">ICmpInst::isTrueWhenEqual</a>(FoundPred))</div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;      <span class="keywordflow">if</span> (isImpliedCondOperands(FoundPred, LHS, RHS, FoundLHS, FoundRHS))</div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;  <span class="comment">// Otherwise assume the worst.</span></div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;}</div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;<span class="comment">/// isImpliedCondOperands - Test whether the condition described by Pred,</span></div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;<span class="comment">/// LHS, and RHS is true whenever the condition described by Pred, FoundLHS,</span></div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;<span class="comment">/// and FoundRHS is true.</span></div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ScalarEvolution::isImpliedCondOperands(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div><div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;  <span class="keywordflow">return</span> isImpliedCondOperandsHelper(Pred, LHS, RHS,</div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;                                     FoundLHS, FoundRHS) ||</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;         <span class="comment">// ~x &lt; ~y --&gt; x &gt; y</span></div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;         isImpliedCondOperandsHelper(Pred, LHS, RHS,</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;                                     getNotSCEV(FoundRHS),</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;                                     getNotSCEV(FoundLHS));</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;}</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;<span class="comment">/// isImpliedCondOperandsHelper - Test whether the condition described by</span></div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;<span class="comment">/// Pred, LHS, and RHS is true whenever the condition described by Pred,</span></div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;<span class="comment">/// FoundLHS, and FoundRHS is true.</span></div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span></div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;ScalarEvolution::isImpliedCondOperandsHelper(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Pred,</div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundLHS,</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *FoundRHS) {</div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ICmpInst::Predicate value!&quot;</span>);</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(LHS, FoundLHS) &amp;&amp; <a class="code" href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a>(RHS, FoundRHS))</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;    <span class="keywordflow">if</span> (isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, LHS, FoundLHS) &amp;&amp;</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;        isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, RHS, FoundRHS))</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <span class="keywordflow">if</span> (isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, LHS, FoundLHS) &amp;&amp;</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;        isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>, RHS, FoundRHS))</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    <span class="keywordflow">if</span> (isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, LHS, FoundLHS) &amp;&amp;</div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;        isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, RHS, FoundRHS))</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;    <span class="keywordflow">if</span> (isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>, LHS, FoundLHS) &amp;&amp;</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;        isKnownPredicateWithRanges(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>, RHS, FoundRHS))</div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  }</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;</div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;}</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;<span class="comment">// Verify if an linear IV with positive stride can overflow when in a </span></div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;<span class="comment">// less-than comparison, knowing the invariant term of the comparison, the </span></div><div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;<span class="comment">// stride and the knowledge of NSW/NUW flags on the recurrence.</span></div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::doesIVOverflowOnLT(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride,</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;                                         <span class="keywordtype">bool</span> IsSigned, <span class="keywordtype">bool</span> NoWrap) {</div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;  <span class="keywordflow">if</span> (NoWrap) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1);</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxRHS = getSignedRange(RHS).getSignedMax();</div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxValue = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth);</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = getSignedRange(getMinusSCEV(Stride, One))</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;                                .getSignedMax();</div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;</div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    <span class="comment">// SMaxRHS + SMaxStrideMinusOne &gt; SMaxValue =&gt; overflow!</span></div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    <span class="keywordflow">return</span> (MaxValue - MaxStrideMinusOne).<a class="code" href="classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">slt</a>(MaxRHS);</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;  }</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxRHS = getUnsignedRange(RHS).getUnsignedMax();</div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxValue = <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(BitWidth);</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = getUnsignedRange(getMinusSCEV(Stride, One))</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;                              .getUnsignedMax();</div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;  <span class="comment">// UMaxRHS + UMaxStrideMinusOne &gt; UMaxValue =&gt; overflow!</span></div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  <span class="keywordflow">return</span> (MaxValue - MaxStrideMinusOne).<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(MaxRHS);</div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;}</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;<span class="comment">// Verify if an linear IV with negative stride can overflow when in a </span></div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;<span class="comment">// greater-than comparison, knowing the invariant term of the comparison,</span></div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;<span class="comment">// the stride and the knowledge of NSW/NUW flags on the recurrence.</span></div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;<span class="keywordtype">bool</span> ScalarEvolution::doesIVOverflowOnGT(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride,</div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;                                         <span class="keywordtype">bool</span> IsSigned, <span class="keywordtype">bool</span> NoWrap) {</div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;  <span class="keywordflow">if</span> (NoWrap) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(RHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1);</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;  <span class="keywordflow">if</span> (IsSigned) {</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinRHS = getSignedRange(RHS).getSignedMin();</div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinValue = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth);</div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = getSignedRange(getMinusSCEV(Stride, One))</div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;                               .getSignedMax();</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;</div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;    <span class="comment">// SMinRHS - SMaxStrideMinusOne &lt; SMinValue =&gt; overflow!</span></div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <span class="keywordflow">return</span> (MinValue + MaxStrideMinusOne).<a class="code" href="classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">sgt</a>(MinRHS);</div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;  }</div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;</div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinRHS = getUnsignedRange(RHS).getUnsignedMin();</div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinValue = <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(BitWidth);</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStrideMinusOne = getUnsignedRange(getMinusSCEV(Stride, One))</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;                            .getUnsignedMax();</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;</div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;  <span class="comment">// UMinRHS - UMaxStrideMinusOne &lt; UMinValue =&gt; overflow!</span></div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;  <span class="keywordflow">return</span> (MinValue + MaxStrideMinusOne).<a class="code" href="classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">ugt</a>(MinRHS);</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;}</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;<span class="comment">// Compute the backedge taken count knowing the interval difference, the</span></div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;<span class="comment">// stride and presence of the equality in the comparison.</span></div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ScalarEvolution::computeBECount(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Delta, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step, </div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;                                            <span class="keywordtype">bool</span> Equality) {</div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = getConstant(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 1);</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;  Delta = Equality ? getAddExpr(Delta, Step)</div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;                   : getAddExpr(Delta, getMinusSCEV(Step, One));</div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;  <span class="keywordflow">return</span> getUDivExpr(Delta, Step);</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;}</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;<span class="comment">/// HowManyLessThans - Return the number of times a backedge containing the</span></div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;<span class="comment">/// specified less-than comparison will execute.  If not computable, return</span></div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;<span class="comment">/// CouldNotCompute.</span></div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;<span class="comment">/// @param IsSubExpr is true when the LHS &lt; RHS condition does not directly</span></div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;<span class="comment">/// control the branch. In this case, we can only compute an iteration count for</span></div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;<span class="comment">/// a subexpression that cannot overflow before evaluating true.</span></div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;<span class="comment"></span>ScalarEvolution::ExitLimit</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;ScalarEvolution::HowManyLessThans(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> IsSigned,</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;                                  <span class="keywordtype">bool</span> IsSubExpr) {</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;  <span class="comment">// We handle only IV &lt; Invariant</span></div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(RHS, L))</div><div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;</div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *IV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(LHS);</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;  <span class="comment">// Avoid weird loops</span></div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;  <span class="keywordflow">if</span> (!IV || IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() != L || !IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>())</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;</div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;  <span class="keywordtype">bool</span> NoWrap = !IsSubExpr &amp;&amp;</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;                IV-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(IsSigned ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;</div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride = IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;  <span class="comment">// Avoid negative or zero stride values</span></div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;  <span class="keywordflow">if</span> (!isKnownPositive(Stride))</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;</div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;  <span class="comment">// Avoid proven overflow cases: this will ensure that the backedge taken count</span></div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;  <span class="comment">// will not generate any unsigned overflow. Relaxed no-overflow conditions</span></div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;  <span class="comment">// exploit NoWrapFlags, allowing to optimize in presence of undefined </span></div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;  <span class="comment">// behaviors like the case of C language.</span></div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;  <span class="keywordflow">if</span> (!Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">isOne</a>() &amp;&amp; doesIVOverflowOnLT(RHS, Stride, IsSigned, NoWrap))</div><div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Cond = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a></div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;                                      : <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>;</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End = RHS;</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;  <span class="keywordflow">if</span> (!isLoopEntryGuardedByCond(L, Cond, getMinusSCEV(Start, Stride), RHS))</div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;    End = IsSigned ? getSMaxExpr(RHS, Start)</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;                   : getUMaxExpr(RHS, Start);</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = computeBECount(getMinusSCEV(End, Start), Stride, <span class="keyword">false</span>);</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStart = IsSigned ? getSignedRange(Start).getSignedMin()</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;                            : getUnsignedRange(Start).getUnsignedMin();</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStride = IsSigned ? getSignedRange(Stride).getSignedMin()</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;                             : getUnsignedRange(Stride).getUnsignedMin();</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = IsSigned ? <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(BitWidth) - (MinStride - 1)</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;                         : <a class="code" href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">APInt::getMaxValue</a>(BitWidth) - (MinStride - 1);</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;  <span class="comment">// Although End can be a MAX expression we estimate MaxEnd considering only</span></div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;  <span class="comment">// the case End = RHS. This is safe because in the other case (End - Start)</span></div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;  <span class="comment">// is zero, leading to a zero maximum backedge taken count.</span></div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxEnd =</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#a36119f1b51169ab67a14a52e23d1e511">APIntOps::smin</a>(getSignedRange(RHS).getSignedMax(), Limit)</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;             : <a class="code" href="namespacellvm_1_1APIntOps.html#a50d881392940ab60561065fd1f74af01">APIntOps::umin</a>(getUnsignedRange(RHS).getUnsignedMax(), Limit);</div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getCouldNotCompute();</div><div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(BECount))</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    MaxBECount = BECount;</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    MaxBECount = computeBECount(getConstant(MaxEnd - MinStart),</div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;                                getConstant(MinStride), <span class="keyword">false</span>);</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;</div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(MaxBECount))</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;    MaxBECount = BECount;</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;  <span class="keywordflow">return</span> ExitLimit(BECount, MaxBECount);</div><div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;}</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;</div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;ScalarEvolution::ExitLimit</div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;ScalarEvolution::HowManyGreaterThans(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *RHS,</div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, <span class="keywordtype">bool</span> IsSigned,</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;                                     <span class="keywordtype">bool</span> IsSubExpr) {</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;  <span class="comment">// We handle only IV &gt; Invariant</span></div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a>(RHS, L))</div><div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;</div><div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *IV = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a>&gt;(LHS);</div><div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;</div><div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;  <span class="comment">// Avoid weird loops</span></div><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;  <span class="keywordflow">if</span> (!IV || IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() != L || !IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>())</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;  <span class="keywordtype">bool</span> NoWrap = !IsSubExpr &amp;&amp;</div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;                IV-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>(IsSigned ? <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">SCEV::FlagNSW</a> : <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">SCEV::FlagNUW</a>);</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;</div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Stride = getNegativeSCEV(IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(*<span class="keyword">this</span>));</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;  <span class="comment">// Avoid negative or zero stride values</span></div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;  <span class="keywordflow">if</span> (!isKnownPositive(Stride))</div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;  <span class="comment">// Avoid proven overflow cases: this will ensure that the backedge taken count</span></div><div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;  <span class="comment">// will not generate any unsigned overflow. Relaxed no-overflow conditions</span></div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;  <span class="comment">// exploit NoWrapFlags, allowing to optimize in presence of undefined </span></div><div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;  <span class="comment">// behaviors like the case of C language.</span></div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;  <span class="keywordflow">if</span> (!Stride-&gt;<a class="code" href="classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">isOne</a>() &amp;&amp; doesIVOverflowOnGT(RHS, Stride, IsSigned, NoWrap))</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <span class="keywordflow">return</span> getCouldNotCompute();</div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a> Cond = IsSigned ? <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a></div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;                                      : <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>;</div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;</div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = IV-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>();</div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *End = RHS;</div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;  <span class="keywordflow">if</span> (!isLoopEntryGuardedByCond(L, Cond, getAddExpr(Start, Stride), RHS))</div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    End = IsSigned ? getSMinExpr(RHS, Start)</div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;                   : getUMinExpr(RHS, Start);</div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;</div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *BECount = computeBECount(getMinusSCEV(Start, End), Stride, <span class="keyword">false</span>);</div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;</div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MaxStart = IsSigned ? getSignedRange(Start).getSignedMax()</div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;                            : getUnsignedRange(Start).getUnsignedMax();</div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;</div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinStride = IsSigned ? getSignedRange(Stride).getSignedMin()</div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;                             : getUnsignedRange(Stride).getUnsignedMin();</div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = getTypeSizeInBits(LHS-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>());</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Limit = IsSigned ? <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(BitWidth) + (MinStride - 1)</div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;                         : <a class="code" href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">APInt::getMinValue</a>(BitWidth) + (MinStride - 1);</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;  <span class="comment">// Although End can be a MIN expression we estimate MinEnd considering only</span></div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;  <span class="comment">// the case End = RHS. This is safe because in the other case (Start - End)</span></div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;  <span class="comment">// is zero, leading to a zero maximum backedge taken count.</span></div><div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> MinEnd =</div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    IsSigned ? <a class="code" href="namespacellvm_1_1APIntOps.html#a032d677bf90ffeb8afcb93e40dbcf6a7">APIntOps::smax</a>(getSignedRange(RHS).getSignedMin(), Limit)</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;             : <a class="code" href="namespacellvm_1_1APIntOps.html#af1049fb1fd8d46e317bc27285e036493">APIntOps::umax</a>(getUnsignedRange(RHS).getUnsignedMin(), Limit);</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;</div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *MaxBECount = getCouldNotCompute();</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVConstant&gt;(BECount))</div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    MaxBECount = BECount;</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    MaxBECount = computeBECount(getConstant(MaxStart - MinEnd), </div><div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;                                getConstant(MinStride), <span class="keyword">false</span>);</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;</div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SCEVCouldNotCompute&gt;(MaxBECount))</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    MaxBECount = BECount;</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;  <span class="keywordflow">return</span> ExitLimit(BECount, MaxBECount);</div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;}</div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;<span class="comment"></span></div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;<span class="comment">/// getNumIterationsInRange - Return the number of iterations of this loop that</span></div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;<span class="comment">/// produce values in the specified constant range.  Another way of looking at</span></div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;<span class="comment">/// this is that it returns the first iteration number where the value is not in</span></div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;<span class="comment">/// the condition, thus computing the exit count. If the iteration count can&#39;t</span></div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;<span class="comment">/// be computed, an instance of SCEVCouldNotCompute is returned.</span></div><div class="line"><a name="l06559"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a55749fb6ea63e413e3e39645dcc2963c"> 6559</a></span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a55749fb6ea63e413e3e39645dcc2963c">SCEVAddRecExpr::getNumIterationsInRange</a>(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Range,</div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;                                                    ScalarEvolution &amp;SE)<span class="keyword"> const </span>{</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;  <span class="keywordflow">if</span> (Range.<a class="code" href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">isFullSet</a>())  <span class="comment">// Infinite loop.</span></div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;  <span class="comment">// If the start is a non-zero constant, shift the range to simplify things.</span></div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a> = dyn_cast&lt;SCEVConstant&gt;(getStart()))</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;isZero()) {</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> Operands(op_begin(), op_end());</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;      Operands[0] = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getType(), 0);</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Shifted = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Operands, getLoop(),</div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;                                             getNoWrapFlags(<a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">FlagNW</a>));</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *ShiftedAddRec =</div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;            dyn_cast&lt;SCEVAddRecExpr&gt;(Shifted))</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;        <span class="keywordflow">return</span> ShiftedAddRec-&gt;getNumIterationsInRange(</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;                           Range.<a class="code" href="classllvm_1_1ConstantRange.html#acb48ab169ff254ba03e74f72f6f8e678">subtract</a>(<a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">SC</a>-&gt;getValue()-&gt;getValue()), SE);</div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;      <span class="comment">// This is strange and shouldn&#39;t happen.</span></div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    }</div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;</div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;  <span class="comment">// The only time we can solve this is when we have all constant indices.</span></div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;  <span class="comment">// Otherwise, we cannot determine the overflow conditions.</span></div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;  <span class="comment">// Okay at this point we know that all elements of the chrec are constants and</span></div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;  <span class="comment">// that the start element is zero.</span></div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;</div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;  <span class="comment">// First check to see if the range contains zero.  If not, the first</span></div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;  <span class="comment">// iteration exits.</span></div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;  <span class="keywordtype">unsigned</span> BitWidth = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">getTypeSizeInBits</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>());</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;  <span class="keywordflow">if</span> (!Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(<a class="code" href="classllvm_1_1APInt.html">APInt</a>(BitWidth, 0)))</div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>(), 0);</div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;</div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;  <span class="keywordflow">if</span> (isAffine()) {</div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <span class="comment">// If this is an affine expression then we have this situation:</span></div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <span class="comment">//   Solve {0,+,A} in Range  ===  Ax in Range</span></div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;    <span class="comment">// We know that zero is in the range.  If A is positive then we know that</span></div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    <span class="comment">// the upper value of the range must be the first possible exit value.</span></div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    <span class="comment">// If A is negative then the lower of the range is the last possible loop</span></div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    <span class="comment">// value.  Also note that we already checked for a full range.</span></div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> One(BitWidth,1);</div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>     = cast&lt;SCEVConstant&gt;(<a class="code" href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">getOperand</a>(1))-&gt;getValue()-&gt;getValue();</div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> End = A.<a class="code" href="classllvm_1_1APInt.html#a41c064760b52a162e1f7b4af665facd6">sge</a>(One) ? (Range.<a class="code" href="classllvm_1_1ConstantRange.html#af88b7acdd025620663e38ca68ff746f5">getUpper</a>() - One) : Range.<a class="code" href="classllvm_1_1ConstantRange.html#a35303bcc6354c08b4ed0cc75b1ec1084">getLower</a>();</div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;</div><div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;    <span class="comment">// The exit value should be (End+A)/A.</span></div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> ExitVal = (End + <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>).<a class="code" href="namespacellvm_1_1APIntOps.html#ac4b92ba5838960bd0f6eef1408b7362b">udiv</a>(A);</div><div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ExitValue = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(), ExitVal);</div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;</div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    <span class="comment">// Evaluate at the exit value.  If we really did fall out of the valid</span></div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    <span class="comment">// range, then we computed our trip count, otherwise wrap around or other</span></div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    <span class="comment">// things must have happened.</span></div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>, ExitValue, SE);</div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="keywordflow">if</span> (Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(Val-&gt;getValue()))</div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Something strange happened</span></div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;</div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;    <span class="comment">// Ensure that the previous value is in the range.  This is a sanity check.</span></div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    assert(Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(</div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;           <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>,</div><div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;           <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(), ExitVal - One), SE)-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()) &amp;&amp;</div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;           <span class="stringliteral">&quot;Linear scev computation is off in a bad way!&quot;</span>);</div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(ExitValue);</div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isQuadratic()) {</div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;    <span class="comment">// If this is a quadratic (3-term) AddRec {L,+,M,+,N}, find the roots of the</span></div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;    <span class="comment">// quadratic equation to solve it.  To do this, we must frame our problem in</span></div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    <span class="comment">// terms of figuring out when zero is crossed, instead of when</span></div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;    <span class="comment">// Range.getUpper() is crossed.</span></div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 4&gt;</a> NewOps(op_begin(), op_end());</div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    NewOps[0] = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#afb58ec6af347a7917618ff9c01d729bf">getNegativeSCEV</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Range.<a class="code" href="classllvm_1_1ConstantRange.html#af88b7acdd025620663e38ca68ff746f5">getUpper</a>()));</div><div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *NewAddRec = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(NewOps, getLoop(),</div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;                                             <span class="comment">// getNoWrapFlags(FlagNW)</span></div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;                                             <a class="code" href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">FlagAnyWrap</a>);</div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;</div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <span class="comment">// Next, solve the constructed addrec</span></div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;    std::pair&lt;const SCEV *,const SCEV *&gt; Roots =</div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#a67c8a10b1b2a753341ddf1db52f28a5b">SolveQuadraticEquation</a>(cast&lt;SCEVAddRecExpr&gt;(NewAddRec), SE);</div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *R1 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Roots.first);</div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a>&gt;(Roots.second);</div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;    <span class="keywordflow">if</span> (R1) {</div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;      <span class="comment">// Pick the smallest positive root value.</span></div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CB =</div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;          dyn_cast&lt;ConstantInt&gt;(<a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>,</div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;                         R1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>(), R2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))) {</div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;        <span class="keywordflow">if</span> (CB-&gt;getZExtValue() == <span class="keyword">false</span>)</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;          <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(R1, R2);   <span class="comment">// R1 is the minimum root now.</span></div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;        <span class="comment">// Make sure the root is not off by one.  The returned iteration should</span></div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;        <span class="comment">// not be in the range, but the previous one should be.  When solving</span></div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;        <span class="comment">// for &quot;X*X &lt; 5&quot;, for example, we should not return a root of 2.</span></div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *R1Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>,</div><div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;                                                             R1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>(),</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;                                                             SE);</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;        <span class="keywordflow">if</span> (Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(R1Val-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>())) {</div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;          <span class="comment">// The next iteration must be out of the range...</span></div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;          <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *NextVal =</div><div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;                <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(), R1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()+1);</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;</div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;          R1Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>, NextVal, SE);</div><div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;          <span class="keywordflow">if</span> (!Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(R1Val-&gt;getValue()))</div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;            <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(NextVal);</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;          <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Something strange happened</span></div><div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;        }</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;</div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;        <span class="comment">// If R1 was not in the range, then it is a good return value.  Make</span></div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;        <span class="comment">// sure that R1-1 WAS in the range though, just in case.</span></div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *NextVal =</div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;               <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">getContext</a>(), R1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()-1);</div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;        R1Val = <a class="code" href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a>(<span class="keyword">this</span>, NextVal, SE);</div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;        <span class="keywordflow">if</span> (Range.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(R1Val-&gt;getValue()))</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;          <span class="keywordflow">return</span> R1;</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;        <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();  <span class="comment">// Something strange happened</span></div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;      }</div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    }</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;  }</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;  <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">getCouldNotCompute</a>();</div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;}</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;</div><div class="line"><a name="l06680"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a139eacd669113b3a982b9c3a6240b3bd"> 6680</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#a139eacd669113b3a982b9c3a6240b3bd">gcd</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *C2) {</div><div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = C1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">abs</a>();</div><div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = C2-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">abs</a>();</div><div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;  uint32_t ABW = A.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;  uint32_t BBW = B.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;</div><div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;  <span class="keywordflow">if</span> (ABW &gt; BBW)</div><div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    B = B.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(ABW);</div><div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABW &lt; BBW)</div><div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    A = A.<a class="code" href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">zext</a>(BBW);</div><div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;</div><div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a14d2cc686664df0fc01feee1d690e299">APIntOps::GreatestCommonDivisor</a>(A, B);</div><div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;}</div><div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;</div><div class="line"><a name="l06694"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a365e62c23b3f699197f3eafadbb1c9b2"> 6694</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#a365e62c23b3f699197f3eafadbb1c9b2">srem</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *C2) {</div><div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = C1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = C2-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;  uint32_t ABW = A.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  uint32_t BBW = B.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;</div><div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;  <span class="keywordflow">if</span> (ABW &gt; BBW)</div><div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    B = B.<a class="code" href="classllvm_1_1APInt.html#aa3464694bcec68b89b4bffd71360b897">sext</a>(ABW);</div><div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABW &lt; BBW)</div><div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    A = A.<a class="code" href="classllvm_1_1APInt.html#aa3464694bcec68b89b4bffd71360b897">sext</a>(BBW);</div><div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;</div><div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a7d4913ef0e5120d562ea4164507a790c">APIntOps::srem</a>(A, B);</div><div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;}</div><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;</div><div class="line"><a name="l06708"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916"> 6708</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *C2) {</div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = C1-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = C2-&gt;<a class="code" href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">getValue</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;  uint32_t ABW = A.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;  uint32_t BBW = B.<a class="code" href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">getBitWidth</a>();</div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;  <span class="keywordflow">if</span> (ABW &gt; BBW)</div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    B = B.<a class="code" href="classllvm_1_1APInt.html#aa3464694bcec68b89b4bffd71360b897">sext</a>(ABW);</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABW &lt; BBW)</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    A = A.<a class="code" href="classllvm_1_1APInt.html#aa3464694bcec68b89b4bffd71360b897">sext</a>(BBW);</div><div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;</div><div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1APIntOps.html#ac433e8ef803206432c51ea05e17441a5">APIntOps::sdiv</a>(A, B);</div><div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;}</div><div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;</div><div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;<span class="keyword">struct </span>SCEVGCD : <span class="keyword">public</span> <a class="code" href="structllvm_1_1SCEVVisitor.html">SCEVVisitor</a>&lt;SCEVGCD, const SCEV *&gt; {</div><div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;  <span class="comment">// Pattern match Step into Start. When Step is a multiply expression, find</span></div><div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;  <span class="comment">// the largest subexpression of Step that appears in Start. When Start is an</span></div><div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;  <span class="comment">// add expression, try to match Step in the subexpressions of Start, non</span></div><div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;  <span class="comment">// matching subexpressions are returned under Remainder.</span></div><div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(ScalarEvolution &amp;SE, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div><div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> **Remainder) {</div><div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;    assert(Remainder &amp;&amp; <span class="stringliteral">&quot;Remainder should not be NULL&quot;</span>);</div><div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;    SCEVGCD R(SE, Step, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(Step-&gt;<a class="code" href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">getType</a>(), 0));</div><div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = R.visit(Start);</div><div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;    *Remainder = R.Remainder;</div><div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;  }</div><div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;</div><div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;  SCEVGCD(ScalarEvolution &amp;S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *R)</div><div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;      : SE(S), GCD(G), Remainder(R) {</div><div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;    Zero = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(GCD-&gt;getType(), 0);</div><div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    One = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(GCD-&gt;getType(), 1);</div><div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;  }</div><div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;</div><div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="classllvm_1_1Constant.html">Constant</a>) {</div><div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;    <span class="keywordflow">if</span> (GCD == Constant || Constant == Zero)</div><div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;</div><div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *CGCD = dyn_cast&lt;SCEVConstant&gt;(GCD)) {</div><div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ScalarEvolution_8cpp.html#a139eacd669113b3a982b9c3a6240b3bd">gcd</a>(Constant, CGCD));</div><div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;      <span class="keywordflow">if</span> (Res != One)</div><div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;        <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;</div><div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;      Remainder = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ScalarEvolution_8cpp.html#a365e62c23b3f699197f3eafadbb1c9b2">srem</a>(Constant, CGCD));</div><div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;      Constant = cast&lt;SCEVConstant&gt;(SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">getMinusSCEV</a>(Constant, Remainder));</div><div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;      Res = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ScalarEvolution_8cpp.html#a139eacd669113b3a982b9c3a6240b3bd">gcd</a>(Constant, CGCD));</div><div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;      <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    }</div><div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;</div><div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;    <span class="comment">// When GCD is not a constant, it could be that the GCD is an Add, Mul,</span></div><div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <span class="comment">// AddRec, etc., in which case we want to find out how many times the</span></div><div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;    <span class="comment">// Constant divides the GCD: we then return that as the new GCD.</span></div><div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, GCD, Constant, &amp;Rem);</div><div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;</div><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;    <span class="keywordflow">if</span> (Res == One || Rem != Zero) {</div><div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;      Remainder = <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">Constant</a>;</div><div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;    }</div><div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;</div><div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    assert(isa&lt;SCEVConstant&gt;(Res) &amp;&amp; <span class="stringliteral">&quot;Res should be a constant&quot;</span>);</div><div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    Remainder = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ScalarEvolution_8cpp.html#a365e62c23b3f699197f3eafadbb1c9b2">srem</a>(Constant, cast&lt;SCEVConstant&gt;(Res)));</div><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;  }</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitTruncateExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Expr) {</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;  }</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Expr) {</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;  }</div><div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;</div><div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Expr) {</div><div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;  }</div><div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;</div><div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Expr) {</div><div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;</div><div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(e - 1 - <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), GCD, &amp;Rem);</div><div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;</div><div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;      <span class="comment">// FIXME: There may be ambiguous situations: for instance,</span></div><div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;      <span class="comment">// GCD(-4 + (3 * %m), 2 * %m) where 2 divides -4 and %m divides (3 * %m).</span></div><div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;      <span class="comment">// The order in which the AddExpr is traversed computes a different GCD</span></div><div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;      <span class="comment">// and Remainder.</span></div><div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;      <span class="keywordflow">if</span> (Res != One)</div><div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;        GCD = Res;</div><div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;      <span class="keywordflow">if</span> (Rem != Zero)</div><div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;        Remainder = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(Remainder, Rem);</div><div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;    }</div><div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;</div><div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;  }</div><div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;</div><div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitMulExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Expr) {</div><div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;</div><div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;      <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == GCD)</div><div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;        <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    }</div><div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;</div><div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    <span class="comment">// If we have not returned yet, it means that GCD is not part of Expr.</span></div><div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PartialGCD = One;</div><div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), GCD, &amp;Rem);</div><div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;      <span class="keywordflow">if</span> (Rem != Zero)</div><div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;        <span class="comment">// GCD does not divide Expr-&gt;getOperand(i).</span></div><div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;</div><div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;      <span class="keywordflow">if</span> (Res == GCD)</div><div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;        <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;      PartialGCD = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(PartialGCD, Res);</div><div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;      <span class="keywordflow">if</span> (PartialGCD == GCD)</div><div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;        <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;    }</div><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;    <span class="keywordflow">if</span> (PartialGCD != One)</div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;      <span class="keywordflow">return</span> PartialGCD;</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    Remainder = Expr;</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Mul = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a>&gt;(GCD);</div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    <span class="keywordflow">if</span> (!Mul)</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;      <span class="keywordflow">return</span> PartialGCD;</div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;</div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <span class="comment">// When the GCD is a multiply expression, try to decompose it:</span></div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    <span class="comment">// this occurs when Step does not divide the Start expression</span></div><div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;    <span class="comment">// as in: {(-4 + (3 * %m)),+,(2 * %m)}</span></div><div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, Expr, Mul-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), &amp;Rem);</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;      <span class="keywordflow">if</span> (Rem == Zero) {</div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;        Remainder = Rem;</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;        <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;      }</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;    }</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;    <span class="keywordflow">return</span> PartialGCD;</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;  }</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;</div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUDivExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *Expr) {</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;  }</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) {</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;</div><div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;    <span class="keywordflow">if</span> (!Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>()) {</div><div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;    }</div><div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;</div><div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(0), GCD, &amp;Rem);</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;    <span class="keywordflow">if</span> (Rem != Zero)</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;      Remainder = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(Remainder, Rem);</div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;    Rem = Zero;</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;    Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a>(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(1), Res, &amp;Rem);</div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;    <span class="keywordflow">if</span> (Rem != Zero) {</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;      <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;    }</div><div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;</div><div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;  }</div><div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;</div><div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitSMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *Expr) {</div><div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;  }</div><div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;</div><div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *Expr) {</div><div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;  }</div><div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;</div><div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div><div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;    <span class="keywordflow">if</span> (GCD != Expr)</div><div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;      Remainder = Expr;</div><div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;    <span class="keywordflow">return</span> GCD;</div><div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;  }</div><div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;</div><div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitCouldNotCompute(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html">SCEVCouldNotCompute</a> *Expr) {</div><div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;    <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;  }</div><div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;</div><div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;  ScalarEvolution &amp;SE;</div><div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *GCD, *Remainder, *Zero, *One;</div><div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;};</div><div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;</div><div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;<span class="keyword">struct </span>SCEVDivision : <span class="keyword">public</span> <a class="code" href="structllvm_1_1SCEVVisitor.html">SCEVVisitor</a>&lt;SCEVDivision, const SCEV *&gt; {</div><div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;  <span class="comment">// Remove from Start all multiples of Step.</span></div><div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *divide(ScalarEvolution &amp;SE, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start,</div><div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step) {</div><div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;    SCEVDivision D(SE, Step);</div><div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = D.Zero;</div><div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    (void)Rem;</div><div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    <span class="comment">// The division is guaranteed to succeed: Step should divide Start with no</span></div><div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;    <span class="comment">// remainder.</span></div><div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;    assert(Step == <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">SCEVGCD::findGCD</a>(SE, Start, Step, &amp;Rem) &amp;&amp; Rem == D.Zero &amp;&amp;</div><div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;           <span class="stringliteral">&quot;Step should divide Start with no remainder.&quot;</span>);</div><div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <span class="keywordflow">return</span> D.visit(Start);</div><div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;  }</div><div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;</div><div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;  SCEVDivision(ScalarEvolution &amp;S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>) : SE(S), GCD(G) {</div><div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;    Zero = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(GCD-&gt;getType(), 0);</div><div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;    One = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(GCD-&gt;getType(), 1);</div><div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;  }</div><div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;</div><div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *<a class="code" href="classllvm_1_1Constant.html">Constant</a>) {</div><div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;    <span class="keywordflow">if</span> (GCD == Constant)</div><div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;</div><div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVConstant.html">SCEVConstant</a> *CGCD = dyn_cast&lt;SCEVConstant&gt;(GCD))</div><div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;      <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(<a class="code" href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a>(Constant, CGCD));</div><div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">Constant</a>;</div><div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;  }</div><div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;</div><div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitTruncateExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVTruncateExpr.html">SCEVTruncateExpr</a> *Expr) {</div><div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;  }</div><div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;</div><div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitZeroExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVZeroExtendExpr.html">SCEVZeroExtendExpr</a> *Expr) {</div><div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;  }</div><div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;</div><div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitSignExtendExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSignExtendExpr.html">SCEVSignExtendExpr</a> *Expr) {</div><div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;  }</div><div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;</div><div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddExpr.html">SCEVAddExpr</a> *Expr) {</div><div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;</div><div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Operands;</div><div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;      Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(divide(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), GCD));</div><div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;</div><div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;    <span class="keywordflow">if</span> (Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1)</div><div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;      <span class="keywordflow">return</span> Operands[0];</div><div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(Operands);</div><div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;  }</div><div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;</div><div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitMulExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVMulExpr.html">SCEVMulExpr</a> *Expr) {</div><div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;</div><div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;    <span class="keywordtype">bool</span> FoundGCDTerm = <span class="keyword">false</span>;</div><div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;      <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == GCD)</div><div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;        FoundGCDTerm = <span class="keyword">true</span>;</div><div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;</div><div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const SCEV *, 2&gt;</a> Operands;</div><div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;    <span class="keywordflow">if</span> (FoundGCDTerm) {</div><div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;      FoundGCDTerm = <span class="keyword">false</span>;</div><div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;        <span class="keywordflow">if</span> (FoundGCDTerm)</div><div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == GCD)</div><div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;          FoundGCDTerm = <span class="keyword">true</span>;</div><div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;      }</div><div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;      FoundGCDTerm = <span class="keyword">false</span>;</div><div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *PartialGCD = One;</div><div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;        <span class="keywordflow">if</span> (PartialGCD == GCD) {</div><div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;        }</div><div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;</div><div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem = Zero;</div><div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Res = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">SCEVGCD::findGCD</a>(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), GCD, &amp;Rem);</div><div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;        <span class="keywordflow">if</span> (Rem == Zero) {</div><div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;          PartialGCD = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(PartialGCD, Res);</div><div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(divide(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), GCD));</div><div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;          Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;        }</div><div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;      }</div><div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;    }</div><div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;</div><div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;    <span class="keywordflow">if</span> (Operands.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1)</div><div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;      <span class="keywordflow">return</span> Operands[0];</div><div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(Operands);</div><div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;  }</div><div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;</div><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUDivExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *Expr) {</div><div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;  }</div><div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;</div><div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitAddRecExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *Expr) {</div><div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;</div><div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;    assert(Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">isAffine</a>() &amp;&amp; <span class="stringliteral">&quot;Expr should be affine&quot;</span>);</div><div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;</div><div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = divide(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">getStart</a>(), GCD);</div><div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = divide(SE, Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">getStepRecurrence</a>(SE), GCD);</div><div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;</div><div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;    <span class="keywordflow">return</span> SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Start, Step, Expr-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>(),</div><div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;                            Expr-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">getNoWrapFlags</a>());</div><div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;  }</div><div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;</div><div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitSMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVSMaxExpr.html">SCEVSMaxExpr</a> *Expr) {</div><div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;  }</div><div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;</div><div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUMaxExpr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUMaxExpr.html">SCEVUMaxExpr</a> *Expr) {</div><div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;  }</div><div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;</div><div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitUnknown(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *Expr) {</div><div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;    <span class="keywordflow">if</span> (GCD == Expr)</div><div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;      <span class="keywordflow">return</span> One;</div><div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;  }</div><div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;</div><div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *visitCouldNotCompute(<span class="keyword">const</span> <a class="code" href="structllvm_1_1SCEVCouldNotCompute.html">SCEVCouldNotCompute</a> *Expr) {</div><div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;    <span class="keywordflow">return</span> Expr;</div><div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;  }</div><div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;</div><div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;  ScalarEvolution &amp;SE;</div><div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *GCD, *Zero, *One;</div><div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;};</div><div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;}</div><div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;<span class="comment">/// Splits the SCEV into two vectors of SCEVs representing the subscripts and</span></div><div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;<span class="comment">/// sizes of an array access. Returns the remainder of the delinearization that</span></div><div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;<span class="comment">/// is the offset start of the array.  The SCEV-&gt;delinearize algorithm computes</span></div><div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;<span class="comment">/// the multiples of SCEV coefficients: that is a pattern matching of sub</span></div><div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;<span class="comment">/// expressions in the stride and base of a SCEV corresponding to the</span></div><div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;<span class="comment">/// computation of a GCD (greatest common divisor) of base and stride.  When</span></div><div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;<span class="comment">/// SCEV-&gt;delinearize fails, it returns the SCEV unchanged.</span></div><div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;<span class="comment">/// For example: when analyzing the memory access A[i][j][k] in this loop nest</span></div><div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;<span class="comment">///  void foo(long n, long m, long o, double A[n][m][o]) {</span></div><div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;<span class="comment">///    for (long i = 0; i &lt; n; i++)</span></div><div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;<span class="comment">///      for (long j = 0; j &lt; m; j++)</span></div><div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;<span class="comment">///        for (long k = 0; k &lt; o; k++)</span></div><div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;<span class="comment">///          A[i][j][k] = 1.0;</span></div><div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;<span class="comment">///  }</span></div><div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;<span class="comment">/// the delinearization input is the following AddRec SCEV:</span></div><div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;<span class="comment">///  AddRec: {{{%A,+,(8 * %m * %o)}&lt;%for.i&gt;,+,(8 * %o)}&lt;%for.j&gt;,+,8}&lt;%for.k&gt;</span></div><div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;<span class="comment">/// From this SCEV, we are able to say that the base offset of the access is %A</span></div><div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;<span class="comment">/// because it appears as an offset that does not divide any of the strides in</span></div><div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;<span class="comment">/// the loops:</span></div><div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;<span class="comment">///  CHECK: Base offset: %A</span></div><div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;<span class="comment">/// and then SCEV-&gt;delinearize determines the size of some of the dimensions of</span></div><div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;<span class="comment">/// the array as these are the multiples by which the strides are happening:</span></div><div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;<span class="comment">///  CHECK: ArrayDecl[UnknownSize][%m][%o] with elements of sizeof(double) bytes.</span></div><div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;<span class="comment">/// Note that the outermost dimension remains of UnknownSize because there are</span></div><div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;<span class="comment">/// no strides that would help identifying the size of the last dimension: when</span></div><div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;<span class="comment">/// the array has been statically allocated, one could compute the size of that</span></div><div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;<span class="comment">/// dimension by dividing the overall size of the array by the size of the known</span></div><div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;<span class="comment">/// dimensions: %m * %o * 8.</span></div><div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;<span class="comment">/// Finally delinearize provides the access functions for the array reference</span></div><div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;<span class="comment">/// that does correspond to A[i][j][k] of the above C testcase:</span></div><div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;<span class="comment">///  CHECK: ArrayRef[{0,+,1}&lt;%for.i&gt;][{0,+,1}&lt;%for.j&gt;][{0,+,1}&lt;%for.k&gt;]</span></div><div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;<span class="comment">/// The testcases are checking the output of a function pass:</span></div><div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;<span class="comment">/// DelinearizationPass that walks through all loads and stores of a function</span></div><div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;<span class="comment">/// asking for the SCEV of the memory access with respect to all enclosing</span></div><div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;<span class="comment">/// loops, calling SCEV-&gt;delinearize on that and printing the results.</span></div><div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *</div><div class="line"><a name="l07121"></a><span class="lineno"><a class="line" href="classllvm_1_1SCEVAddRecExpr.html#a67dee91d4c8619a8efd5875b38f52c42"> 7121</a></span>&#160;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a67dee91d4c8619a8efd5875b38f52c42">SCEVAddRecExpr::delinearize</a>(ScalarEvolution &amp;SE,</div><div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Subscripts,</div><div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;                            <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const SCEV *&gt;</a> &amp;Sizes)<span class="keyword"> const </span>{</div><div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;  <span class="comment">// Early exit in case this SCEV is not an affine multivariate function.</span></div><div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;isAffine())</div><div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;</div><div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Start = this-&gt;getStart();</div><div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Step = this-&gt;getStepRecurrence(SE);</div><div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;</div><div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;  <span class="comment">// Build the SCEV representation of the cannonical induction variable in the</span></div><div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;  <span class="comment">// loop of this SCEV.</span></div><div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Zero = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(this-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>(), 0);</div><div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *One = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">getConstant</a>(this-&gt;<a class="code" href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">getType</a>(), 1);</div><div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *IV =</div><div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;      SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">getAddRecExpr</a>(Zero, One, this-&gt;getLoop(), this-&gt;getNoWrapFlags());</div><div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;</div><div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;(delinearize: &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;</div><div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;  <span class="comment">// Currently we fail to delinearize when the stride of this SCEV is 1. We</span></div><div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;  <span class="comment">// could decide to not fail in this case: we could just return 1 for the size</span></div><div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;  <span class="comment">// of the subscript, and this same SCEV for the access function.</span></div><div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;  <span class="keywordflow">if</span> (Step == One) {</div><div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;failed to delinearize &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;\n)\n&quot;</span>);</div><div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;  }</div><div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;</div><div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;  <span class="comment">// Find the GCD and Remainder of the Start and Step coefficients of this SCEV.</span></div><div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Remainder = NULL;</div><div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *GCD = <a class="code" href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">SCEVGCD::findGCD</a>(SE, Start, Step, &amp;Remainder);</div><div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;</div><div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;GCD: &quot;</span> &lt;&lt; *GCD &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Remainder: &quot;</span> &lt;&lt; *Remainder &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;</div><div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;  <span class="comment">// Same remark as above: we currently fail the delinearization, although we</span></div><div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;  <span class="comment">// can very well handle this special case.</span></div><div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;  <span class="keywordflow">if</span> (GCD == One) {</div><div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;failed to delinearize &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;\n)\n&quot;</span>);</div><div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;  }</div><div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;</div><div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;  <span class="comment">// As findGCD computed Remainder, GCD divides &quot;Start - Remainder.&quot; The</span></div><div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;  <span class="comment">// Quotient is then this SCEV without Remainder, scaled down by the GCD.  The</span></div><div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="comment">// Quotient is what will be used in the next subscript delinearization.</span></div><div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Quotient =</div><div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;      SCEVDivision::divide(SE, SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">getMinusSCEV</a>(Start, Remainder), GCD);</div><div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Quotient: &quot;</span> &lt;&lt; *Quotient &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;</div><div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Rem;</div><div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = dyn_cast&lt;SCEVAddRecExpr&gt;(Quotient))</div><div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;    <span class="comment">// Recursively call delinearize on the Quotient until there are no more</span></div><div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;    <span class="comment">// multiples that can be recognized.</span></div><div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;    Rem = AR-&gt;delinearize(SE, Subscripts, Sizes);</div><div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;    Rem = Quotient;</div><div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;</div><div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;  <span class="comment">// Scale up the cannonical induction variable IV by whatever remains from the</span></div><div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;  <span class="comment">// Step after division by the GCD: the GCD is the size of all the sub-array.</span></div><div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;  <span class="keywordflow">if</span> (Step != GCD) {</div><div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    Step = SCEVDivision::divide(SE, Step, GCD);</div><div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;    IV = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">getMulExpr</a>(IV, Step);</div><div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;  }</div><div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;  <span class="comment">// The access function in the current subscript is computed as the cannonical</span></div><div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;  <span class="comment">// induction variable IV (potentially scaled up by the step) and offset by</span></div><div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;  <span class="comment">// Rem, the offset of delinearization in the sub-array.</span></div><div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Index = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">getAddExpr</a>(IV, Rem);</div><div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;</div><div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;  <span class="comment">// Record the access function and the size of the current subscript.</span></div><div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;  Subscripts.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Index);</div><div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;  Sizes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(GCD);</div><div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;</div><div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;  <span class="keywordtype">int</span> Size = Sizes.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>();</div><div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;succeeded to delinearize &quot;</span> &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ArrayDecl[UnknownSize]&quot;</span>);</div><div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Size - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; *Sizes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; with elements of &quot;</span> &lt;&lt; *Sizes[Size - 1] &lt;&lt; <span class="stringliteral">&quot; bytes.\n&quot;</span>);</div><div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;</div><div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ArrayRef&quot;</span>);</div><div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Size; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; *Subscripts[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n)\n&quot;</span>);</div><div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;</div><div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;  <span class="keywordflow">return</span> Remainder;</div><div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;}</div><div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;</div><div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;<span class="comment">//                   SCEVCallbackVH Class Implementation</span></div><div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;</div><div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::SCEVCallbackVH::deleted() {</div><div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;  assert(SE &amp;&amp; <span class="stringliteral">&quot;SCEVCallbackVH called with a null ScalarEvolution!&quot;</span>);</div><div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(getValPtr()))</div><div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;    SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;  SE-&gt;ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(getValPtr());</div><div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;  <span class="comment">// this now dangles!</span></div><div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;}</div><div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;</div><div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::SCEVCallbackVH::allUsesReplacedWith(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;  assert(SE &amp;&amp; <span class="stringliteral">&quot;SCEVCallbackVH called with a null ScalarEvolution!&quot;</span>);</div><div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;</div><div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;  <span class="comment">// Forget all the expressions associated with users of the old value,</span></div><div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;  <span class="comment">// so that future queries will recompute the expressions using the new</span></div><div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;  <span class="comment">// value.</span></div><div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Old = getValPtr();</div><div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;User *, 16&gt;</a> Worklist;</div><div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;User *, 8&gt;</a> Visited;</div><div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = Old-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = Old-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;       UI != UE; ++UI)</div><div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*UI);</div><div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;  <span class="keywordflow">while</span> (!Worklist.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;    <a class="code" href="classllvm_1_1User.html">User</a> *U = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;    <span class="comment">// Deleting the Old value will cause this to dangle. Postpone</span></div><div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;    <span class="comment">// that until everything else is done.</span></div><div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;    <span class="keywordflow">if</span> (U == Old)</div><div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;    <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(U))</div><div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(U))</div><div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;      SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;    SE-&gt;ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(U);</div><div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = U-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = U-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;         UI != UE; ++UI)</div><div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*UI);</div><div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;  }</div><div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;  <span class="comment">// Delete the Old value.</span></div><div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(Old))</div><div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;    SE-&gt;ConstantEvolutionLoopExitValue.erase(PN);</div><div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;  SE-&gt;ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">erase</a>(Old);</div><div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;  <span class="comment">// this now dangles!</span></div><div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;}</div><div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;</div><div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;ScalarEvolution::SCEVCallbackVH::SCEVCallbackVH(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, ScalarEvolution *se)</div><div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;  : <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a>(V), SE(se) {}</div><div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;</div><div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;<span class="comment">//                   ScalarEvolution Class Implementation</span></div><div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;</div><div class="line"><a name="l07262"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abcc1482748d3a82a8acbbcf2df017bee"> 7262</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#abcc1482748d3a82a8acbbcf2df017bee">ScalarEvolution::ScalarEvolution</a>()</div><div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;  : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(ID), ValuesAtScopes(64), LoopDispositions(64), BlockDispositions(64), FirstUnknown(0) {</div><div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;  <a class="code" href="namespacellvm.html#a20b71f0795199580c3699cce2accdcb8">initializeScalarEvolutionPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;}</div><div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;</div><div class="line"><a name="l07267"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a1f738d276e512512c11ac294ab445e2d"> 7267</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a1f738d276e512512c11ac294ab445e2d">ScalarEvolution::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F) {</div><div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;  this-&gt;F = &amp;F;</div><div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;  LI = &amp;getAnalysis&lt;LoopInfo&gt;();</div><div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;  TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;  TLI = &amp;getAnalysis&lt;TargetLibraryInfo&gt;();</div><div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;  DT = &amp;getAnalysis&lt;DominatorTree&gt;();</div><div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;}</div><div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;</div><div class="line"><a name="l07276"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#abf0524da124a37636c7f461a8e6b7109"> 7276</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#abf0524da124a37636c7f461a8e6b7109">ScalarEvolution::releaseMemory</a>() {</div><div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;  <span class="comment">// Iterate through all the SCEVUnknown instances and call their</span></div><div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;  <span class="comment">// destructors, so that they release their references to their values.</span></div><div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVUnknown.html">SCEVUnknown</a> *U = FirstUnknown; U; U = U-&gt;Next)</div><div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;    U-&gt;~SCEVUnknown();</div><div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;  FirstUnknown = 0;</div><div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;</div><div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;  ValueExprMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">clear</a>();</div><div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;</div><div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;  <span class="comment">// Free any extra memory created for ExitNotTakenInfo in the unlikely event</span></div><div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;  <span class="comment">// that a loop had multiple computable exits.</span></div><div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;const Loop*, BackedgeTakenInfo&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;         BackedgeTakenCounts.begin(), E = BackedgeTakenCounts.end();</div><div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.clear();</div><div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;  }</div><div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;</div><div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;  assert(PendingLoopPredicates.<a class="code" href="classllvm_1_1DenseSet.html#a55edf1f4be1e3ce4e0c338166a5e5d3e">empty</a>() &amp;&amp; <span class="stringliteral">&quot;isImpliedCond garbage&quot;</span>);</div><div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;</div><div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;  BackedgeTakenCounts.clear();</div><div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;  ConstantEvolutionLoopExitValue.clear();</div><div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;  ValuesAtScopes.clear();</div><div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;  LoopDispositions.clear();</div><div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;  BlockDispositions.clear();</div><div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;  UnsignedRanges.clear();</div><div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;  SignedRanges.clear();</div><div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;  UniqueSCEVs.clear();</div><div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;  SCEVAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocator.html#a530a74f2d8a98f36314519e7f178b434">Reset</a>();</div><div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;}</div><div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;</div><div class="line"><a name="l07306"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5634b3dbd7aa558759238b44ed8b63af"> 7306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5634b3dbd7aa558759238b44ed8b63af">ScalarEvolution::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div><div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1LoopInfo.html">LoopInfo</a>&gt;();</div><div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a>&gt;();</div><div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a>&gt;();</div><div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;}</div><div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;</div><div class="line"><a name="l07313"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054"> 7313</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">ScalarEvolution::hasLoopInvariantBackedgeTakenCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;  <span class="keywordflow">return</span> !isa&lt;SCEVCouldNotCompute&gt;(<a class="code" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">getBackedgeTakenCount</a>(L));</div><div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;}</div><div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;</div><div class="line"><a name="l07317"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa"> 7317</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, ScalarEvolution *SE,</div><div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;  <span class="comment">// Print all inner loops first</span></div><div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopBase.html#a4b2d2c2ddd3ccf5630c18731a162977d">Loop::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a22b3e904c08bd922efd707282aed89d9">begin</a>(), E = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a5a3b8a8269ba0c61102f71a2a3bd42cd">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(OS, SE, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;</div><div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;Loop &quot;</span>;</div><div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;  <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;</div><div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 8&gt;</a> ExitBlocks;</div><div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;  L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a420d7b5cd4eebceaf8bc16326e07af9c">getExitBlocks</a>(ExitBlocks);</div><div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;  <span class="keywordflow">if</span> (ExitBlocks.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() != 1)</div><div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;&lt;multiple exits&gt; &quot;</span>;</div><div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;</div><div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;  <span class="keywordflow">if</span> (SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">hasLoopInvariantBackedgeTakenCount</a>(L)) {</div><div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;backedge-taken count is &quot;</span> &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">getBackedgeTakenCount</a>(L);</div><div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;Unpredictable backedge-taken count. &quot;</span>;</div><div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;  }</div><div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;</div><div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;        <span class="stringliteral">&quot;Loop &quot;</span>;</div><div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;  <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;</div><div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SCEVCouldNotCompute&gt;(SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6a9e377be1c43ef79a69f55ac757a4aa">getMaxBackedgeTakenCount</a>(L))) {</div><div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;max backedge-taken count is &quot;</span> &lt;&lt; *SE-&gt;<a class="code" href="classllvm_1_1ScalarEvolution.html#a6a9e377be1c43ef79a69f55ac757a4aa">getMaxBackedgeTakenCount</a>(L);</div><div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;Unpredictable max backedge-taken count. &quot;</span>;</div><div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;  }</div><div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;</div><div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;}</div><div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;</div><div class="line"><a name="l07352"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a216ffa631a21a8ec04e1031401ecfbbb"> 7352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a216ffa631a21a8ec04e1031401ecfbbb">ScalarEvolution::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a> *)<span class="keyword"> const </span>{</div><div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;  <span class="comment">// ScalarEvolution&#39;s implementation of the print method is to print</span></div><div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;  <span class="comment">// out SCEV values of all instructions that are interesting. Doing</span></div><div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;  <span class="comment">// this potentially causes it to create new SCEV objects though,</span></div><div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;  <span class="comment">// which technically conflicts with the const qualifier. This isn&#39;t</span></div><div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;  <span class="comment">// observable from outside the class though, so casting away the</span></div><div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;  <span class="comment">// const isn&#39;t dangerous.</span></div><div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;  ScalarEvolution &amp;SE = *<span class="keyword">const_cast&lt;</span>ScalarEvolution *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div><div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;</div><div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;Classifying expressions for: &quot;</span>;</div><div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;  <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, F, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1InstIterator.html">inst_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a49a219f3fe3d7a6cc07c49a1ea766d6d">inst_begin</a>(F), E = <a class="code" href="namespacellvm.html#a945cded5463e0ccd3cf5a6ac80542a94">inst_end</a>(F); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">isSCEVable</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()) &amp;&amp; !isa&lt;CmpInst&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;      OS &lt;&lt; *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;  --&gt;  &quot;</span>;</div><div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *SV = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">getSCEV</a>(&amp;*I);</div><div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;      SV-&gt;<a class="code" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">print</a>(OS);</div><div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;</div><div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L = LI-&gt;getLoopFor((*I).getParent());</div><div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;</div><div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *AtUse = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(SV, L);</div><div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;      <span class="keywordflow">if</span> (AtUse != SV) {</div><div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;        OS &lt;&lt; <span class="stringliteral">&quot;  --&gt;  &quot;</span>;</div><div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;        AtUse-&gt;<a class="code" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">print</a>(OS);</div><div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;      }</div><div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;</div><div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;      <span class="keywordflow">if</span> (L) {</div><div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;        OS &lt;&lt; <span class="stringliteral">&quot;\t\t&quot;</span> <span class="stringliteral">&quot;Exits: &quot;</span>;</div><div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *ExitValue = SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">getSCEVAtScope</a>(SV, L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a1431766de798501f107d9031821f311e">getParentLoop</a>());</div><div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;        <span class="keywordflow">if</span> (!SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(ExitValue, L)) {</div><div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;          OS &lt;&lt; <span class="stringliteral">&quot;&lt;&lt;Unknown&gt;&gt;&quot;</span>;</div><div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;          OS &lt;&lt; *ExitValue;</div><div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;        }</div><div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;      }</div><div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;</div><div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;      OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;    }</div><div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;</div><div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;Determining loop execution counts for: &quot;</span>;</div><div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;  <a class="code" href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">WriteAsOperand</a>(OS, F, <span class="comment">/*PrintType=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;  OS &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopInfo.html#afcbc13f97df76f3844cc88e28625cc35">LoopInfo::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LI-&gt;begin(), E = LI-&gt;end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a>(OS, &amp;SE, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;}</div><div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;</div><div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a></div><div class="line"><a name="l07400"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c"> 7400</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">ScalarEvolution::getLoopDisposition</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const Loop *, LoopDisposition&gt;</a>, 2&gt; &amp;Values = LoopDispositions[<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div><div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = 0; u &lt; Values.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u++) {</div><div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;    <span class="keywordflow">if</span> (Values[u].first == L)</div><div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;      <span class="keywordflow">return</span> Values[u].second;</div><div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;  }</div><div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;  Values.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(L, <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>));</div><div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> D = computeLoopDisposition(S, L);</div><div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const Loop *, LoopDisposition&gt;</a>, 2&gt; &amp;Values2 = LoopDispositions[<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div><div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = Values2.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u &gt; 0; u--) {</div><div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;    <span class="keywordflow">if</span> (Values2[u - 1].first == L) {</div><div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;      Values2[u - 1].second = D;</div><div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;    }</div><div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;  }</div><div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;  <span class="keywordflow">return</span> D;</div><div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;}</div><div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;</div><div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">ScalarEvolution::LoopDisposition</a></div><div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;ScalarEvolution::computeLoopDisposition(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;  <span class="keywordflow">switch</span> (S-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div><div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div><div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div><div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(cast&lt;SCEVCastExpr&gt;(S)-&gt;getOperand(), L);</div><div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div><div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;</div><div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;    <span class="comment">// If L is the addrec&#39;s loop, it&#39;s computable.</span></div><div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>() == L)</div><div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>;</div><div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;</div><div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    <span class="comment">// Add recurrences are never invariant in the function-body (null loop).</span></div><div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;    <span class="keywordflow">if</span> (!L)</div><div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;</div><div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    <span class="comment">// This recurrence is variant w.r.t. L if L contains AR&#39;s loop.</span></div><div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;    <span class="keywordflow">if</span> (L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>()))</div><div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;</div><div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;    <span class="comment">// This recurrence is invariant w.r.t. L if AR&#39;s loop contains L.</span></div><div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    <span class="keywordflow">if</span> (AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(L))</div><div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;</div><div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;    <span class="comment">// This recurrence is variant w.r.t. L if any of its operands</span></div><div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;    <span class="comment">// are variant.</span></div><div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVAddRecExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), E = AR-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>();</div><div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">isLoopInvariant</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L))</div><div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;</div><div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;    <span class="comment">// Otherwise it&#39;s loop-invariant.</span></div><div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;  }</div><div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div><div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>: {</div><div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *NAry = cast&lt;SCEVNAryExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;    <span class="keywordtype">bool</span> HasVarying = <span class="keyword">false</span>;</div><div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVNAryExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), E = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>();</div><div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> D = <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, L);</div><div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;      <span class="keywordflow">if</span> (D == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>)</div><div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;      <span class="keywordflow">if</span> (D == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>)</div><div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;        HasVarying = <span class="keyword">true</span>;</div><div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;    }</div><div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;    <span class="keywordflow">return</span> HasVarying ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;  }</div><div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div><div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = cast&lt;SCEVUDivExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">getLHS</a>(), L);</div><div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;    <span class="keywordflow">if</span> (LD == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>)</div><div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">LoopDisposition</a> RD = <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">getRHS</a>(), L);</div><div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;    <span class="keywordflow">if</span> (RD == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>)</div><div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;    <span class="keywordflow">return</span> (LD == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a> &amp;&amp; RD == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>) ?</div><div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;           <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>;</div><div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;  }</div><div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div><div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;    <span class="comment">// All non-instruction values are loop invariant.  All instructions are loop</span></div><div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;    <span class="comment">// invariant if they are not contained in the specified loop.</span></div><div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;    <span class="comment">// Instructions are never considered invariant in the function body</span></div><div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;    <span class="comment">// (null loop) because they are defined within the &quot;loop&quot;.</span></div><div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(cast&lt;SCEVUnknown&gt;(S)-&gt;getValue()))</div><div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;      <span class="keywordflow">return</span> (L &amp;&amp; !L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">contains</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) ? <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">LoopVariant</a>;</div><div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div><div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div><div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div><div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;  }</div><div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;}</div><div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;</div><div class="line"><a name="l07497"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3"> 7497</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">ScalarEvolution::isLoopInvariant</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(S, L) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">LoopInvariant</a>;</div><div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;}</div><div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;</div><div class="line"><a name="l07501"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c"> 7501</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c">ScalarEvolution::hasComputableLoopEvolution</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> *L) {</div><div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">getLoopDisposition</a>(S, L) == <a class="code" href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">LoopComputable</a>;</div><div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;}</div><div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;</div><div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">ScalarEvolution::BlockDisposition</a></div><div class="line"><a name="l07506"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6"> 7506</a></span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">ScalarEvolution::getBlockDisposition</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const BasicBlock *, BlockDisposition&gt;</a>, 2&gt; &amp;Values = BlockDispositions[<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div><div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = 0; u &lt; Values.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u++) {</div><div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;    <span class="keywordflow">if</span> (Values[u].first == BB)</div><div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;      <span class="keywordflow">return</span> Values[u].second;</div><div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;  }</div><div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;  Values.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(std::make_pair(BB, <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>));</div><div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;  <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> D = computeBlockDisposition(S, BB);</div><div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const BasicBlock *, BlockDisposition&gt;</a>, 2&gt; &amp;Values2 = BlockDispositions[<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>];</div><div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> u = Values2.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); u &gt; 0; u--) {</div><div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;    <span class="keywordflow">if</span> (Values2[u - 1].first == BB) {</div><div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;      Values2[u - 1].second = D;</div><div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    }</div><div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;  }</div><div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;  <span class="keywordflow">return</span> D;</div><div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;}</div><div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;</div><div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;<a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">ScalarEvolution::BlockDisposition</a></div><div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;ScalarEvolution::computeBlockDisposition(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;  <span class="keywordflow">switch</span> (S-&gt;<a class="code" href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">getSCEVType</a>()) {</div><div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">scConstant</a>:</div><div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div><div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">scTruncate</a>:</div><div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">scZeroExtend</a>:</div><div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">scSignExtend</a>:</div><div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(cast&lt;SCEVCastExpr&gt;(S)-&gt;getOperand(), BB);</div><div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">scAddRecExpr</a>: {</div><div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;    <span class="comment">// This uses a &quot;dominates&quot; query instead of &quot;properly dominates&quot; query</span></div><div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;    <span class="comment">// to test for proper dominance too, because the instruction which</span></div><div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;    <span class="comment">// produces the addrec&#39;s value is a PHI, and a PHI effectively properly</span></div><div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;    <span class="comment">// dominates its entire containing block.</span></div><div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVAddRecExpr.html">SCEVAddRecExpr</a> *AR = cast&lt;SCEVAddRecExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a6fe9272dc67fe2ff4cafc33b895c4a6c">dominates</a>(AR-&gt;<a class="code" href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">getLoop</a>()-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">getHeader</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div><div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div><div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;  }</div><div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;  <span class="comment">// FALL THROUGH into SCEVNAryExpr handling.</span></div><div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">scAddExpr</a>:</div><div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">scMulExpr</a>:</div><div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">scUMaxExpr</a>:</div><div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">scSMaxExpr</a>: {</div><div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVNAryExpr.html">SCEVNAryExpr</a> *NAry = cast&lt;SCEVNAryExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;    <span class="keywordtype">bool</span> Proper = <span class="keyword">true</span>;</div><div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">SCEVNAryExpr::op_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">op_begin</a>(), E = NAry-&gt;<a class="code" href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">op_end</a>();</div><div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> D = <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, BB);</div><div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;      <span class="keywordflow">if</span> (D == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>)</div><div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div><div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;      <span class="keywordflow">if</span> (D == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>)</div><div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;        Proper = <span class="keyword">false</span>;</div><div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;    }</div><div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    <span class="keywordflow">return</span> Proper ? <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div><div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;  }</div><div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">scUDivExpr</a>: {</div><div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEVUDivExpr.html">SCEVUDivExpr</a> *UDiv = cast&lt;SCEVUDivExpr&gt;(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div><div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *LHS = UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">getLHS</a>(), *RHS = UDiv-&gt;<a class="code" href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">getRHS</a>();</div><div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">LD</a> = <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(LHS, BB);</div><div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;    <span class="keywordflow">if</span> (LD == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>)</div><div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div><div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">BlockDisposition</a> RD = <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(RHS, BB);</div><div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    <span class="keywordflow">if</span> (RD == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>)</div><div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div><div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;    <span class="keywordflow">return</span> (LD == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a> &amp;&amp; RD == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>) ?</div><div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;      <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a> : <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div><div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;  }</div><div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">scUnknown</a>:</div><div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;          dyn_cast&lt;Instruction&gt;(cast&lt;SCEVUnknown&gt;(S)-&gt;getValue())) {</div><div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent() == <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div><div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;      <span class="keywordflow">if</span> (DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#aa094180f7ac0ef9d4b8e1c78f850edd8">properlyDominates</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getParent(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div><div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div><div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">DoesNotDominateBlock</a>;</div><div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;    }</div><div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div><div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">scCouldNotCompute</a>:</div><div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Attempt to use a SCEVCouldNotCompute object!&quot;</span>);</div><div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown SCEV kind!&quot;</span>);</div><div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;  }</div><div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;}</div><div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;</div><div class="line"><a name="l07588"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa"> 7588</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">ScalarEvolution::dominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(S, BB) &gt;= <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">DominatesBlock</a>;</div><div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;}</div><div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;</div><div class="line"><a name="l07592"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3"> 7592</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">ScalarEvolution::properlyDominates</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">getBlockDisposition</a>(S, BB) == <a class="code" href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">ProperlyDominatesBlock</a>;</div><div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;}</div><div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;</div><div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;<span class="comment">// Search for a SCEV expression node within an expression tree.</span></div><div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;<span class="comment">// Implements SCEVTraversal::Visitor.</span></div><div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;<span class="keyword">struct </span>SCEVSearch {</div><div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Node;</div><div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;  <span class="keywordtype">bool</span> IsFound;</div><div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;</div><div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;  SCEVSearch(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>): Node(N), IsFound(<span class="keyword">false</span>) {}</div><div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;</div><div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;  <span class="keywordtype">bool</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    IsFound |= (S == Node);</div><div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;    <span class="keywordflow">return</span> !IsFound;</div><div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;  }</div><div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;  <span class="keywordtype">bool</span> isDone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> IsFound; }</div><div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;};</div><div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;}</div><div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;</div><div class="line"><a name="l07613"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#a28b194080e6311a32ce32d125c205f26"> 7613</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#a28b194080e6311a32ce32d125c205f26">ScalarEvolution::hasOperand</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *Op)<span class="keyword"> const </span>{</div><div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  SCEVSearch Search(Op);</div><div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;  <a class="code" href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">visitAll</a>(S, Search);</div><div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;  <span class="keywordflow">return</span> Search.IsFound;</div><div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;}</div><div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;</div><div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;<span class="keywordtype">void</span> ScalarEvolution::forgetMemoizedResults(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SCEV.html">SCEV</a> *S) {</div><div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;  ValuesAtScopes.erase(S);</div><div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;  LoopDispositions.erase(S);</div><div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;  BlockDispositions.erase(S);</div><div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;  UnsignedRanges.erase(S);</div><div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;  SignedRanges.erase(S);</div><div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;</div><div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">DenseMap&lt;const Loop*, BackedgeTakenInfo&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;         BackedgeTakenCounts.begin(), E = BackedgeTakenCounts.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ) {</div><div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;    BackedgeTakenInfo &amp;BEInfo = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second;</div><div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;    <span class="keywordflow">if</span> (BEInfo.hasOperand(S, <span class="keyword">this</span>)) {</div><div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;      BEInfo.clear();</div><div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;      BackedgeTakenCounts.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);</div><div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;    }</div><div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;  }</div><div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;}</div><div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;</div><div class="line"><a name="l07638"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#aa1c8b51d90e47c669fb34ac12e808e54"> 7638</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;const Loop *, std::string&gt;</a> <a class="code" href="ScalarEvolution_8cpp.html#aa1c8b51d90e47c669fb34ac12e808e54">VerifyMap</a>;</div><div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;<span class="comment">/// replaceSubString - Replaces all occurences of From in Str with To.</span></div><div class="line"><a name="l07641"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a"> 7641</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a>(std::string &amp;Str, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> From, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> To) {</div><div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;  <span class="keywordtype">size_t</span> Pos = 0;</div><div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;  <span class="keywordflow">while</span> ((Pos = Str.find(From, Pos)) != std::string::npos) {</div><div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;    Str.replace(Pos, From.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>(), To.<a class="code" href="classllvm_1_1StringRef.html#a7d9b88d042ae1da8afd5509875c90a04">data</a>(), To.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>());</div><div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;    Pos += To.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>();</div><div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;  }</div><div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;}</div><div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;<span class="comment">/// getLoopBackedgeTakenCounts - Helper method for verifyAnalysis.</span></div><div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l07651"></a><span class="lineno"><a class="line" href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4"> 7651</a></span>&#160;<a class="code" href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4">getLoopBackedgeTakenCounts</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a> *L, VerifyMap &amp;Map, ScalarEvolution &amp;SE) {</div><div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopBase.html#ab1c4c062bd6cfd84550669fb82f9a501">Loop::reverse_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#a0672a2cf212dc97626d63e0fd1c283e1">rbegin</a>(), E = L-&gt;<a class="code" href="classllvm_1_1LoopBase.html#ac8006a5da305ae0261abe2e018889f59">rend</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4">getLoopBackedgeTakenCounts</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Map, SE); <span class="comment">// recurse.</span></div><div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;</div><div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;    std::string &amp;S = Map[L];</div><div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;    <span class="keywordflow">if</span> (S.empty()) {</div><div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;      <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> OS(S);</div><div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;      SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">getBackedgeTakenCount</a>(L)-&gt;<a class="code" href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">print</a>(OS);</div><div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;</div><div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;      <span class="comment">// false and 0 are semantically equivalent. This can happen in dead loops.</span></div><div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a>(OS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>(), <span class="stringliteral">&quot;false&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;      <span class="comment">// Remove wrap flags, their use in SCEV is highly fragile.</span></div><div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;      <span class="comment">// FIXME: Remove this when SCEV gets smarter about them.</span></div><div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a>(OS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>(), <span class="stringliteral">&quot;&lt;nw&gt;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a>(OS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>(), <span class="stringliteral">&quot;&lt;nsw&gt;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;      <a class="code" href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a>(OS.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>(), <span class="stringliteral">&quot;&lt;nuw&gt;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;    }</div><div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;  }</div><div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;}</div><div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;</div><div class="line"><a name="l07671"></a><span class="lineno"><a class="line" href="classllvm_1_1ScalarEvolution.html#ab8f81ede10f171d15d0e258df9cd75d5"> 7671</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScalarEvolution.html#ab8f81ede10f171d15d0e258df9cd75d5">ScalarEvolution::verifyAnalysis</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ScalarEvolution_8cpp.html#a07df02be5b2e877418f82b80a81d8800">VerifySCEV</a>)</div><div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;</div><div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;  ScalarEvolution &amp;SE = *<span class="keyword">const_cast&lt;</span>ScalarEvolution *<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div><div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;</div><div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;  <span class="comment">// Gather stringified backedge taken counts for all loops using SCEV&#39;s caches.</span></div><div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;  <span class="comment">// FIXME: It would be much better to store actual values instead of strings,</span></div><div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;  <span class="comment">//        but SCEV pointers will change if we drop the caches.</span></div><div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;  VerifyMap BackedgeDumpsOld, BackedgeDumpsNew;</div><div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopInfo.html#a3d8e17ae034f63cee5bbf9b18888e06a">LoopInfo::reverse_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LI-&gt;rbegin(), E = LI-&gt;rend(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4">getLoopBackedgeTakenCounts</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, BackedgeDumpsOld, SE);</div><div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;</div><div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;  <span class="comment">// Gather stringified backedge taken counts for all loops without using</span></div><div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;  <span class="comment">// SCEV&#39;s caches.</span></div><div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;  SE.<a class="code" href="classllvm_1_1ScalarEvolution.html#abf0524da124a37636c7f461a8e6b7109">releaseMemory</a>();</div><div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LoopInfo.html#a3d8e17ae034f63cee5bbf9b18888e06a">LoopInfo::reverse_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LI-&gt;rbegin(), E = LI-&gt;rend(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;    <a class="code" href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4">getLoopBackedgeTakenCounts</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, BackedgeDumpsNew, SE);</div><div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;</div><div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;  <span class="comment">// Now compare whether they&#39;re the same with and without caches. This allows</span></div><div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;  <span class="comment">// verifying that no pass changed the cache.</span></div><div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;  assert(BackedgeDumpsOld.<a class="code" href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">size</a>() == BackedgeDumpsNew.<a class="code" href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">size</a>() &amp;&amp;</div><div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;         <span class="stringliteral">&quot;New loops suddenly appeared!&quot;</span>);</div><div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;</div><div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMapIterator.html">VerifyMap::iterator</a> OldI = BackedgeDumpsOld.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>(),</div><div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;                           OldE = BackedgeDumpsOld.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>(),</div><div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;                           NewI = BackedgeDumpsNew.<a class="code" href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">begin</a>();</div><div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;       OldI != OldE; ++OldI, ++NewI) {</div><div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;    assert(OldI-&gt;first == NewI-&gt;first &amp;&amp; <span class="stringliteral">&quot;Loop order changed!&quot;</span>);</div><div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;</div><div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;    <span class="comment">// Compare the stringified SCEVs. We don&#39;t care if undef backedgetaken count</span></div><div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;    <span class="comment">// changes.</span></div><div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;    <span class="comment">// FIXME: We currently ignore SCEV changes from/to CouldNotCompute. This</span></div><div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;    <span class="comment">// means that a pass is buggy or SCEV has to learn a new pattern but is</span></div><div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;    <span class="comment">// usually not harmful.</span></div><div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;    <span class="keywordflow">if</span> (OldI-&gt;second != NewI-&gt;second &amp;&amp;</div><div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;        OldI-&gt;second.find(<span class="stringliteral">&quot;undef&quot;</span>) == std::string::npos &amp;&amp;</div><div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;        NewI-&gt;second.find(<span class="stringliteral">&quot;undef&quot;</span>) == std::string::npos &amp;&amp;</div><div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;        OldI-&gt;second != <span class="stringliteral">&quot;***COULDNOTCOMPUTE***&quot;</span> &amp;&amp;</div><div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;        NewI-&gt;second != <span class="stringliteral">&quot;***COULDNOTCOMPUTE***&quot;</span>) {</div><div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SCEVValidator: SCEV for loop &#39;&quot;</span></div><div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;             &lt;&lt; OldI-&gt;first-&gt;getHeader()-&gt;getName()</div><div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;&#39; changed from &#39;&quot;</span> &lt;&lt; OldI-&gt;second</div><div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;&#39; to &#39;&quot;</span> &lt;&lt; NewI-&gt;second &lt;&lt; <span class="stringliteral">&quot;&#39;!\n&quot;</span>;</div><div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;      <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">std::abort</a>();</div><div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;    }</div><div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;  }</div><div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;</div><div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;  <span class="comment">// TODO: Verify more things.</span></div><div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;}</div><div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_aaca141c03630036930698325f423cb49"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#aaca141c03630036930698325f423cb49">llvm::SCEVNAryExpr::getNoWrapFlags</a></div><div class="ttdeci">NoWrapFlags getNoWrapFlags(NoWrapFlags Mask=NoWrapMask) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00159">ScalarEvolutionExpressions.h:159</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a0ae6e08328e2f64a19a505ea5bfd6f2c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a0ae6e08328e2f64a19a505ea5bfd6f2c">getSignExtendAddRecStart</a></div><div class="ttdeci">static const SCEV * getSignExtendAddRecStart(const SCEVAddRecExpr *AR, Type *Ty, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01148">ScalarEvolution.cpp:1148</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a426976cfd81411f49f7e5fe77ee4e3a4"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a426976cfd81411f49f7e5fe77ee4e3a4">llvm::ScalarEvolution::getTruncateOrNoop</a></div><div class="ttdeci">const SCEV * getTruncateOrNoop(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02887">ScalarEvolution.cpp:2887</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a11bb31f99854303d2a934765469c5c2c"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a11bb31f99854303d2a934765469c5c2c">llvm::SCEVAddRecExpr::evaluateAtIteration</a></div><div class="ttdeci">const SCEV * evaluateAtIteration(const SCEV *It, ScalarEvolution &amp;SE) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00802">ScalarEvolution.cpp:802</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html_a626e5a2c04c89e2ddd697e424ec68391"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html#a626e5a2c04c89e2ddd697e424ec68391">llvm::FoldingSetNodeID::AddPointer</a></div><div class="ttdeci">void AddPointer(const void *Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8cpp_source.html#l00052">FoldingSet.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a2d6a134752bc31f9034f28936e36f77a"><div class="ttname"><a href="classllvm_1_1APInt.html#a2d6a134752bc31f9034f28936e36f77a">llvm::APInt::multiplicativeInverse</a></div><div class="ttdeci">APInt multiplicativeInverse(const APInt &amp;modulo) const </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01352">APInt.cpp:1352</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a27f1888c4c4d48a8fec6c484ee87b8a4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a27f1888c4c4d48a8fec6c484ee87b8a4">llvm::ConstantRange::getSignedMin</a></div><div class="ttdeci">APInt getSignedMin() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00193">ConstantRange.cpp:193</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a07df02be5b2e877418f82b80a81d8800"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a07df02be5b2e877418f82b80a81d8800">VerifySCEV</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; VerifySCEV(&quot;verify-scev&quot;, cl::desc(&quot;Verify ScalarEvolution's backedge taken counts (slow)&quot;))</div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00445">Constants.cpp:445</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea95af43f9c06d0fe35d8c8ec1786028cb">llvm::ScalarEvolution::ProperlyDominatesBlock</a></div><div class="ttdoc">The SCEV properly dominates the block. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00187">ScalarEvolution.h:187</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a5a3b8a8269ba0c61102f71a2a3bd42cd"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a5a3b8a8269ba0c61102f71a2a3bd42cd">llvm::LoopBase::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00131">LoopInfo.h:131</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ae130d109fdba9ebb976e4fe2621b374a"><div class="ttname"><a href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">llvm::APInt::abs</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT abs() const </div><div class="ttdoc">Get the absolute value;. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01521">APInt.h:1521</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_ad618f8b1d1ddca11c0faa9ff26bd9e61"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ad618f8b1d1ddca11c0faa9ff26bd9e61">SolveLinEquationWithOverflow</a></div><div class="ttdeci">static const SCEV * SolveLinEquationWithOverflow(const APInt &amp;A, const APInt &amp;B, ScalarEvolution &amp;SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05386">ScalarEvolution.cpp:5386</a></div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00035">PassRegistry.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ab8f81ede10f171d15d0e258df9cd75d5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ab8f81ede10f171d15d0e258df9cd75d5">llvm::ScalarEvolution::verifyAnalysis</a></div><div class="ttdeci">virtual void verifyAnalysis() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07671">ScalarEvolution.cpp:7671</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html_a730298bacdfd20b238c6f5c3df649f5b"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a730298bacdfd20b238c6f5c3df649f5b">llvm::SCEVCastExpr::SCEVCastExpr</a></div><div class="ttdeci">SCEVCastExpr(const FoldingSetNodeIDRef ID, unsigned SCEVTy, const SCEV *op, Type *ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00335">ScalarEvolution.cpp:335</a></div></div>
<div class="ttc" id="classllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">LLVM Argument representation. </div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00035">Argument.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a7dc983ebf0eb2d255fa90a67063c72e2"><div class="ttname"><a href="classllvm_1_1APInt.html#a7dc983ebf0eb2d255fa90a67063c72e2">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Get zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01306">APInt.h:1306</a></div></div>
<div class="ttc" id="IndVarSimplify_8cpp_html_afcaa9ef0e14174b7e78a1ba5e83093d7"><div class="ttname"><a href="IndVarSimplify_8cpp.html#afcaa9ef0e14174b7e78a1ba5e83093d7">isLoopInvariant</a></div><div class="ttdeci">static bool isLoopInvariant(Value *V, const Loop *L, const DominatorTree *DT)</div><div class="ttdef"><b>Definition:</b> <a href="IndVarSimplify_8cpp_source.html#l00762">IndVarSimplify.cpp:762</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3935a9de0ebdf3dc625cfb28e35bd009"><div class="ttname"><a href="classllvm_1_1SCEV.html#a3935a9de0ebdf3dc625cfb28e35bd009">llvm::SCEV::isOne</a></div><div class="ttdeci">bool isOne() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00281">ScalarEvolution.cpp:281</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a55b443b4d4fc5beaf598c43dad83b6a4"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a55b443b4d4fc5beaf598c43dad83b6a4">llvm::ScalarEvolution::getExitCount</a></div><div class="ttdeci">const SCEV * getExitCount(Loop *L, BasicBlock *ExitingBlock)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04047">ScalarEvolution.cpp:4047</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a2eb94d079d8416118f4aaed865ab05d7"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a2eb94d079d8416118f4aaed865ab05d7">llvm::ScalarEvolution::getConstant</a></div><div class="ttdeci">const SCEV * getConstant(ConstantInt *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00314">ScalarEvolution.cpp:314</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_af68d5ebdb576d7481ea2766151b875d4"><div class="ttname"><a href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">llvm::StringRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the string size. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a5c5e2fa9bc63800d144f0f46b60805b6"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a5c5e2fa9bc63800d144f0f46b60805b6">llvm::ConstantRange::sextOrTrunc</a></div><div class="ttdeci">ConstantRange sextOrTrunc(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00529">ConstantRange.cpp:529</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a14d2cc686664df0fc01feee1d690e299"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a14d2cc686664df0fc01feee1d690e299">llvm::APIntOps::GreatestCommonDivisor</a></div><div class="ttdeci">APInt GreatestCommonDivisor(const APInt &amp;Val1, const APInt &amp;Val2)</div><div class="ttdoc">Compute GCD of two APInt values. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00804">APInt.cpp:804</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad05711646a19cb20775cfbc8ef0a8c09">llvm::scSignExtend</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="namespacellvm_html_a1169dcf3eb121e1b727bb8b532d7c69a"><div class="ttname"><a href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">llvm::canConstantFoldCallTo</a></div><div class="ttdeci">bool canConstantFoldCallTo(const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01180">ConstantFolding.cpp:1180</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aa89f44fd7549e81b02f2be1be894f098"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa89f44fd7549e81b02f2be1be894f098">llvm::ScalarEvolution::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00551">ScalarEvolution.h:551</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html_afcbc13f97df76f3844cc88e28625cc35"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#afcbc13f97df76f3844cc88e28625cc35">llvm::LoopInfo::iterator</a></div><div class="ttdeci">LoopInfoBase&lt; BasicBlock, Loop &gt;::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00607">LoopInfo.h:607</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_af50d189708d19a31f6c189c947c45dcc"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af50d189708d19a31f6c189c947c45dcc">PushDefUseChildren</a></div><div class="ttdeci">static void PushDefUseChildren(Instruction *I, SmallVectorImpl&lt; Instruction * &gt; &amp;Worklist)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02964">ScalarEvolution.cpp:2964</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a3f76d2fd4788225548dc36ef9e417030"><div class="ttname"><a href="classllvm_1_1SCEV.html#a3f76d2fd4788225548dc36ef9e417030">llvm::SCEV::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00275">ScalarEvolution.cpp:275</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a901362ad921722671d31108bcfaf6b03"><div class="ttname"><a href="classllvm_1_1APInt.html#a901362ad921722671d31108bcfaf6b03">llvm::APInt::setBit</a></div><div class="ttdeci">void setBit(unsigned bitPosition)</div><div class="ttdoc">Set a given bit to 1. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00583">APInt.cpp:583</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet&lt; Value * &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00108">User.h:108</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aeab53b73cc54e312fd1745ebffccc7dc"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aeab53b73cc54e312fd1745ebffccc7dc">Choose</a></div><div class="ttdeci">static uint64_t Choose(uint64_t n, uint64_t k, bool &amp;Overflow)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01839">ScalarEvolution.cpp:1839</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUnknown_html_a3bc4a9a74af480995b4a5aa21470c577"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#a3bc4a9a74af480995b4a5aa21470c577">llvm::SCEVUnknown::getValue</a></div><div class="ttdeci">Value * getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00430">ScalarEvolutionExpressions.h:430</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a51940249c228e46f1f97932e5f4b8450"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01012">Constants.h:1012</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ac276ea1907c780c43d3637ae9bd1989e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac276ea1907c780c43d3637ae9bd1989e">llvm::ScalarEvolution::getPointerBase</a></div><div class="ttdeci">const SCEV * getPointerBase(const SCEV *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02935">ScalarEvolution.cpp:2935</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html">llvm::ScalarEvolution</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00172">ScalarEvolution.h:172</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5abcb1f797cb330e61a5879fc260aaec5b">llvm::scConstant</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a2e762a8d9c438420a709c5c23f7b0b0c"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a2e762a8d9c438420a709c5c23f7b0b0c">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumArrayLenItCounts,&quot;Number of trip counts computed with array length&quot;)</div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5afd56f054da3d1f9b827ae1003da3a38b">llvm::scMulExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ac7f5943965c7666442e2a0a179ad39ab"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ac7f5943965c7666442e2a0a179ad39ab">llvm::ConstantRange::getBitWidth</a></div><div class="ttdeci">uint32_t getBitWidth() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00087">ConstantRange.h:87</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad960e1ff48d25c382b6d28e7961f074e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad960e1ff48d25c382b6d28e7961f074e">llvm::APInt::getLowBitsSet</a></div><div class="ttdeci">static APInt getLowBitsSet(unsigned numBits, unsigned loBitsSet)</div><div class="ttdoc">Get a value with low bits set. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00528">APInt.h:528</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a3c76890714593c78e3b5d142c9030548"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">llvm::CmpInst::getInversePredicate</a></div><div class="ttdeci">Predicate getInversePredicate() const </div><div class="ttdoc">Return the inverse of the instruction&amp;#39;s predicate. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00737">InstrTypes.h:737</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a06719fdab228f099aeac0c8ee40a7e34"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a06719fdab228f099aeac0c8ee40a7e34">llvm::ScalarEvolution::isKnownNonNegative</a></div><div class="ttdeci">bool isKnownNonNegative(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05979">ScalarEvolution.cpp:5979</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdoc">unsigned less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00677">InstrTypes.h:677</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdoc">unsigned less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00676">InstrTypes.h:676</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a13f7eef27b0ecfe146cbac49b3054c91"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">llvm::CmpInst::isSigned</a></div><div class="ttdeci">bool isSigned() const </div><div class="ttdoc">Determine if this instruction is using a signed comparison. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00780">InstrTypes.h:780</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ae0d036af111b8aafe90db0771b8e9ce3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae0d036af111b8aafe90db0771b8e9ce3">llvm::ScalarEvolution::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const SCEV *S, const BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07592">ScalarEvolution.cpp:7592</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a649011f27bb212ab1bdd0ec7e041da79"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a649011f27bb212ab1bdd0ec7e041da79">PushLoopPHIs</a></div><div class="ttdeci">static void PushLoopPHIs(const Loop *L, SmallVectorImpl&lt; Instruction * &gt; &amp;Worklist)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04076">ScalarEvolution.cpp:4076</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_aa094180f7ac0ef9d4b8e1c78f850edd8"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#aa094180f7ac0ef9d4b8e1c78f850edd8">llvm::DominatorTree::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const DomTreeNode *A, const DomTreeNode *B) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00818">Dominators.h:818</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aee056c6577fe1eeacc4221de50435a5a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aee056c6577fe1eeacc4221de50435a5a">llvm::ScalarEvolution::GetMinTrailingZeros</a></div><div class="ttdeci">uint32_t GetMinTrailingZeros(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03231">ScalarEvolution.cpp:3231</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a443e9130cd9f3e3baaa1b566e6aa5060"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a443e9130cd9f3e3baaa1b566e6aa5060">llvm::SCEVAddRecExpr::getStepRecurrence</a></div><div class="ttdeci">const SCEV * getStepRecurrence(ScalarEvolution &amp;SE) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00300">ScalarEvolutionExpressions.h:300</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a216ffa631a21a8ec04e1031401ecfbbb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a216ffa631a21a8ec04e1031401ecfbbb">llvm::ScalarEvolution::print</a></div><div class="ttdeci">virtual void print(raw_ostream &amp;OS, const Module *=0) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07352">ScalarEvolution.cpp:7352</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_abc9d65eb6b1bff9c72143e8c597aa75d"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#abc9d65eb6b1bff9c72143e8c597aa75d">llvm::ConstantRange::getSignedMax</a></div><div class="ttdeci">APInt getSignedMax() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00178">ConstantRange.cpp:178</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVTruncateExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVTruncateExpr.html">llvm::SCEVTruncateExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00081">ScalarEvolutionExpressions.h:81</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a3deb6e6ca37ab496c0ee8996cb06825c"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a3deb6e6ca37ab496c0ee8996cb06825c">llvm::APIntOps::isMask</a></div><div class="ttdeci">bool isMask(unsigned numBits, const APInt &amp;APIVal)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01717">APInt.h:1717</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca09c68d67f7dbfa6cc77eaf73aa535217"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca09c68d67f7dbfa6cc77eaf73aa535217">llvm::NVPTX::PTXLdStInstCode::Scalar</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00126">NVPTX.h:126</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5a19768af81df7e5fe571bc08dcd48b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a19768af81df7e5fe571bc08dcd48b3">llvm::ScalarEvolution::isLoopInvariant</a></div><div class="ttdeci">bool isLoopInvariant(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07497">ScalarEvolution.cpp:7497</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aa36876236477c7bad67f378bec7373a0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aa36876236477c7bad67f378bec7373a0">EvaluateConstantChrecAtConstant</a></div><div class="ttdeci">static ConstantInt * EvaluateConstantChrecAtConstant(const SCEVAddRecExpr *AddRec, ConstantInt *C, ScalarEvolution &amp;SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04643">ScalarEvolution.cpp:4643</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a5775c44f1af915246431618090e08c0e"><div class="ttname"><a href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a></div><div class="ttdeci">=x?x:x+x x</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00798">README-SSE.txt:798</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_adcb0414b8e72f211b7908c5f13f8a2da"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adcb0414b8e72f211b7908c5f13f8a2da">llvm::ScalarEvolution::getUnsignedRange</a></div><div class="ttdeci">ConstantRange getUnsignedRange(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03309">ScalarEvolution.cpp:3309</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a0c4bbda5ef8e9a540227326b3982f2e9"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0c4bbda5ef8e9a540227326b3982f2e9">llvm::ScalarEvolution::isLoopBackedgeGuardedByCond</a></div><div class="ttdeci">bool isLoopBackedgeGuardedByCond(const Loop *L, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06097">ScalarEvolution.cpp:6097</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a80488550b42b6548ec4d5c7118c7ff1d">llvm::scUnknown</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00031">ScalarEvolutionExpressions.h:31</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html"><div class="ttname"><a href="structMarkPendingLoopPredicate.html">MarkPendingLoopPredicate</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06156">ScalarEvolution.cpp:6156</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5aee62cac87c0dc1f483d783aae69101c4">llvm::scUDivExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00030">ScalarEvolutionExpressions.h:30</a></div></div>
<div class="ttc" id="structllvm_1_1SCEVCouldNotCompute_html"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html">llvm::SCEVCouldNotCompute</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00161">ScalarEvolution.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a33f9fa1a7cb21319a30836fce847c3c4"><div class="ttname"><a href="classllvm_1_1Type.html#a33f9fa1a7cb21319a30836fce847c3c4">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const </div><div class="ttdoc">Get the address space of this pointer or pointer vector type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00218">Type.cpp:218</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aea8979aa7e40386835642f9f5f9f36d2"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aea8979aa7e40386835642f9f5f9f36d2">HasSameValue</a></div><div class="ttdeci">static bool HasSameValue(const SCEV *A, const SCEV *B)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05674">ScalarEvolution.cpp:5674</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_aa4d95acdd770e27036d21edb3cad65e1"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#aa4d95acdd770e27036d21edb3cad65e1">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00138">GlobalVariable.h:138</a></div></div>
<div class="ttc" id="README-Thumb_8txt_html_aa36a842dc9742127230b93f16e106ddd"><div class="ttname"><a href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">abort</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb then taking the smallest *Add support for compiling individual basic blocks in thumb when in a larger ARM function This can be used for presumed cold like paths to abort(failure path of asserts)</div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a254484ad2e230cf0db1f2c779abfe39c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a254484ad2e230cf0db1f2c779abfe39c">llvm::ScalarEvolution::getUMaxFromMismatchedTypes</a></div><div class="ttdeci">const SCEV * getUMaxFromMismatchedTypes(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02902">ScalarEvolution.cpp:2902</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00423">APInt.h:423</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html">llvm::SCEVCastExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00057">ScalarEvolutionExpressions.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a4b553cd490bc767847d224b4e27a12d7"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a4b553cd490bc767847d224b4e27a12d7">llvm::ConstantRange::smax</a></div><div class="ttdeci">ConstantRange smax(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00601">ConstantRange.cpp:601</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faf763167030e97d18e8f8c8ed3dba28e3">llvm::SCEV::FlagNW</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00095">ScalarEvolution.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUnknown_html_a0022ecc149d38b97ea65bbc904e90293"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#a0022ecc149d38b97ea65bbc904e90293">llvm::SCEVUnknown::isOffsetOf</a></div><div class="ttdeci">bool isOffsetOf(Type *&amp;STy, Constant *&amp;FieldNo) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00429">ScalarEvolution.cpp:429</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a1f738d276e512512c11ac294ab445e2d"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a1f738d276e512512c11ac294ab445e2d">llvm::ScalarEvolution::runOnFunction</a></div><div class="ttdeci">virtual bool runOnFunction(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07267">ScalarEvolution.cpp:7267</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a0d53a749bd858b270d322b34b8d7e1e5"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a0d53a749bd858b270d322b34b8d7e1e5">llvm::SCEVAddRecExpr::getStart</a></div><div class="ttdeci">const SCEV * getStart() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00293">ScalarEvolutionExpressions.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1generic__gep__type__iterator_html"><div class="ttname"><a href="classllvm_1_1generic__gep__type__iterator.html">llvm::generic_gep_type_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00023">GetElementPtrTypeIterator.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a8917d359fc92f25eb0117386588c6f1c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a8917d359fc92f25eb0117386588c6f1c">llvm::LoopBase::getLoopLatch</a></div><div class="ttdeci">BlockT * getLoopLatch() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00154">LoopInfoImpl.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ae6f1c15034bc5515033874630a8ecce6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">llvm::ConstantExpr::getAdd</a></div><div class="ttdeci">static Constant * getAdd(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02040">Constants.cpp:2040</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a121ee24f11c464f3b3197cac87b0980e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a121ee24f11c464f3b3197cac87b0980e">llvm::ScalarEvolution::isKnownNonPositive</a></div><div class="ttdeci">bool isKnownNonPositive(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05983">ScalarEvolution.cpp:5983</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a82dff98be5b02f5601920431972b5cf4"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a82dff98be5b02f5601920431972b5cf4">getLoopBackedgeTakenCounts</a></div><div class="ttdeci">static void getLoopBackedgeTakenCounts(Loop *L, VerifyMap &amp;Map, ScalarEvolution &amp;SE)</div><div class="ttdoc">getLoopBackedgeTakenCounts - Helper method for verifyAnalysis. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07651">ScalarEvolution.cpp:7651</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0e9a2d7ec903d191ef029589ec647cb6"><div class="ttname"><a href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdoc">Determine sign of this APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00322">APInt.h:322</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca1b7d4316c0866b0b0b7a510e1800f4a8">llvm::ScalarEvolution::LoopInvariant</a></div><div class="ttdoc">The SCEV is loop-invariant. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00178">ScalarEvolution.h:178</a></div></div>
<div class="ttc" id="namespacellvm_html_ae712552495c21ee77ad82ced255ad6df"><div class="ttname"><a href="namespacellvm.html#ae712552495c21ee77ad82ced255ad6df">llvm::WriteAsOperand</a></div><div class="ttdeci">void WriteAsOperand(raw_ostream &amp;, const Value *, bool PrintTy=true, const Module *Context=0)</div><div class="ttdef"><b>Definition:</b> <a href="AsmWriter_8cpp_source.html#l01179">AsmWriter.cpp:1179</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">llvm::MCID::Select</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00113">MCInstrDesc.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_afec37bfc94981c28982a8ea881f54570"><div class="ttname"><a href="classllvm_1_1APInt.html#afec37bfc94981c28982a8ea881f54570">llvm::APInt::urem</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT urem(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned remainder operation. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01890">APInt.cpp:1890</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00167">PassSupport.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1InstIterator_html"><div class="ttname"><a href="classllvm_1_1InstIterator.html">llvm::InstIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00031">InstIterator.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a382131e712e55e8324fbd5068de17b78"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a382131e712e55e8324fbd5068de17b78">llvm::BranchInst::isUnconditional</a></div><div class="ttdeci">bool isUnconditional() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02391">Instructions.h:2391</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a81ad2fffd14e2df92cad4f631ae76480"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a81ad2fffd14e2df92cad4f631ae76480">llvm::ConstantExpr::getIntegerCast</a></div><div class="ttdeci">static Constant * getIntegerCast(Constant *C, Type *Ty, bool isSigned)</div><div class="ttdoc">Create a ZExt, Bitcast or Trunc for integer -&gt; integer casts. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01513">Constants.cpp:1513</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a06c14477546c3a0eb4c79ff007ea2375"><div class="ttname"><a href="ValueTracking_8cpp.html#a06c14477546c3a0eb4c79ff007ea2375">getBitWidth</a></div><div class="ttdeci">static unsigned getBitWidth(Type *Ty, const DataLayout *TD)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00040">ValueTracking.cpp:40</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUnknown_html_a91b3f0898d048525f2815f4b60de2e74"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#a91b3f0898d048525f2815f4b60de2e74">llvm::SCEVUnknown::isAlignOf</a></div><div class="ttdeci">bool isAlignOf(Type *&amp;AllocTy) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00404">ScalarEvolution.cpp:404</a></div></div>
<div class="ttc" id="namespacellvm_html_a49a219f3fe3d7a6cc07c49a1ea766d6d"><div class="ttname"><a href="namespacellvm.html#a49a219f3fe3d7a6cc07c49a1ea766d6d">llvm::inst_begin</a></div><div class="ttdeci">inst_iterator inst_begin(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00128">InstIterator.h:128</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html_aaa8d628a6a8131dbb2779b04529c661e"><div class="ttname"><a href="structMarkPendingLoopPredicate.html#aaa8d628a6a8131dbb2779b04529c661e">MarkPendingLoopPredicate::MarkPendingLoopPredicate</a></div><div class="ttdeci">MarkPendingLoopPredicate(Value *C, DenseSet&lt; Value * &gt; &amp;LP)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06161">ScalarEvolution.cpp:6161</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_aec87cce4bfdfdc6c346c2a427b5c1c53"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">llvm::ConstantRange::truncate</a></div><div class="ttdeci">ConstantRange truncate(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00465">ConstantRange.cpp:465</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_a72c5c6170a25fd911db5f4461221befd"><div class="ttname"><a href="classllvm_1_1DenseSet.html#a72c5c6170a25fd911db5f4461221befd">llvm::DenseSet::erase</a></div><div class="ttdeci">bool erase(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00049">DenseSet.h:49</a></div></div>
<div class="ttc" id="LoopInfo_8h_html"><div class="ttname"><a href="LoopInfo_8h.html">LoopInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_acea7802c3430fe4fdf99fb8ec98c04d8"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#acea7802c3430fe4fdf99fb8ec98c04d8">llvm::APIntOps::urem</a></div><div class="ttdeci">APInt urem(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Function for unsigned remainder operation. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01819">APInt.h:1819</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&amp;#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00430">SmallVector.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa1953b3ad7ef6aa87dc0205db0c2ea45"><div class="ttname"><a href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">llvm::APInt::lshr</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT lshr(unsigned shiftAmt) const </div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01127">APInt.cpp:1127</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a82ad83d40ce0e57efef84b421c7f805a"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a82ad83d40ce0e57efef84b421c7f805a">llvm::SCEVNAryExpr::op_iterator</a></div><div class="ttdeci">const SCEV *const * op_iterator</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00153">ScalarEvolutionExpressions.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00172">PassSupport.h:172</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_aa6bdb226fb3dac1f051547ce01b76fd2"><div class="ttname"><a href="classllvm_1_1LoopBase.html#aa6bdb226fb3dac1f051547ce01b76fd2">llvm::LoopBase::getExitingBlocks</a></div><div class="ttdeci">void getExitingBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitingBlocks) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00033">LoopInfoImpl.h:33</a></div></div>
<div class="ttc" id="DependenceAnalysis_8cpp_html_ac714ac1af2005b88d92d4930242e3adb"><div class="ttname"><a href="DependenceAnalysis_8cpp.html#ac714ac1af2005b88d92d4930242e3adb">findGCD</a></div><div class="ttdeci">static bool findGCD(unsigned Bits, APInt AM, APInt BM, APInt Delta, APInt &amp;G, APInt &amp;X, APInt &amp;Y)</div><div class="ttdef"><b>Definition:</b> <a href="DependenceAnalysis_8cpp_source.html#l01281">DependenceAnalysis.cpp:1281</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a983dbdce6af7840357ed33a20c8f30bb"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a983dbdce6af7840357ed33a20c8f30bb">llvm::ScalarEvolution::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02666">ScalarEvolution.cpp:2666</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html_a1012a025613336baf7ad36a46d18ac36"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html#a1012a025613336baf7ad36a46d18ac36">llvm::FoldingSetNodeID::AddInteger</a></div><div class="ttdeci">void AddInteger(signed I)</div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8cpp_source.html#l00060">FoldingSet.cpp:60</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a22b3e904c08bd922efd707282aed89d9"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a22b3e904c08bd922efd707282aed89d9">llvm::LoopBase::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00130">LoopInfo.h:130</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40ab81f279502bb9ca74e6629cfb62844be">llvm::cl::ReallyHidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00110">CommandLine.h:110</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3656bcc84af213cc488acb56c60de22">llvm::scTruncate</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCommutativeExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVCommutativeExpr.html">llvm::SCEVCommutativeExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00177">ScalarEvolutionExpressions.h:177</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_af1049fb1fd8d46e317bc27285e036493"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#af1049fb1fd8d46e317bc27285e036493">llvm::APIntOps::umax</a></div><div class="ttdeci">APInt umax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be unsigned. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01705">APInt.h:1705</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_a55edf1f4be1e3ce4e0c338166a5e5d3e"><div class="ttname"><a href="classllvm_1_1DenseSet.html#a55edf1f4be1e3ce4e0c338166a5e5d3e">llvm::DenseSet::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00033">DenseSet.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_abd2a83b070794748c9afdcb6049bbdf4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">llvm::ConstantRange::signExtend</a></div><div class="ttdeci">ConstantRange signExtend(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00443">ConstantRange.cpp:443</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a107163b3c781d2b0137bf2021e7dc984"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a107163b3c781d2b0137bf2021e7dc984">llvm::SCEVNAryExpr::op_begin</a></div><div class="ttdeci">op_iterator op_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00154">ScalarEvolutionExpressions.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5634b3dbd7aa558759238b44ed8b63af"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5634b3dbd7aa558759238b44ed8b63af">llvm::ScalarEvolution::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07306">ScalarEvolution.cpp:7306</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCommutativeExpr_html_a46be9fc927263a605e288de91f7c367b"><div class="ttname"><a href="classllvm_1_1SCEVCommutativeExpr.html#a46be9fc927263a605e288de91f7c367b">llvm::SCEVCommutativeExpr::setNoWrapFlags</a></div><div class="ttdeci">void setNoWrapFlags(NoWrapFlags Flags)</div><div class="ttdoc">Set flags for a non-recurrence without clearing previously set flags. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00193">ScalarEvolutionExpressions.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVMulExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVMulExpr.html">llvm::SCEVMulExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00227">ScalarEvolutionExpressions.h:227</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="TargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a305aa2e40f0c834bb9f2eda152699aa6"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">llvm::ConstantRange::multiply</a></div><div class="ttdeci">ConstantRange multiply(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00581">ConstantRange.cpp:581</a></div></div>
<div class="ttc" id="Dominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a75a71c5acb58449ea8a731e9caebf1fe"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a75a71c5acb58449ea8a731e9caebf1fe">llvm::APIntOps::lshr</a></div><div class="ttdeci">APInt lshr(const APInt &amp;LHS, unsigned shiftAmt)</div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01790">APInt.h:1790</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a420d7b5cd4eebceaf8bc16326e07af9c"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a420d7b5cd4eebceaf8bc16326e07af9c">llvm::LoopBase::getExitBlocks</a></div><div class="ttdeci">void getExitBlocks(SmallVectorImpl&lt; BlockT * &gt; &amp;ExitBlocks) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00062">LoopInfoImpl.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a365e62c23b3f699197f3eafadbb1c9b2"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a365e62c23b3f699197f3eafadbb1c9b2">srem</a></div><div class="ttdeci">static const APInt srem(const SCEVConstant *C1, const SCEVConstant *C2)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06694">ScalarEvolution.cpp:6694</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aecbc2422e34b76c4d73f6ae64ce3951f"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aecbc2422e34b76c4d73f6ae64ce3951f">BinomialCoefficient</a></div><div class="ttdeci">static const SCEV * BinomialCoefficient(const SCEV *It, unsigned K, ScalarEvolution &amp;SE, Type *ResultTy)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00683">ScalarEvolution.cpp:683</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a4b2d2c2ddd3ccf5630c18731a162977d"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a4b2d2c2ddd3ccf5630c18731a162977d">llvm::LoopBase&lt; BasicBlock, Loop &gt;::iterator</a></div><div class="ttdeci">std::vector&lt; Loop * &gt;::const_iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00127">LoopInfo.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a60a56343d06195ae01b61d087e672afd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a60a56343d06195ae01b61d087e672afd">llvm::ScalarEvolution::isKnownPredicate</a></div><div class="ttdeci">bool isKnownPredicate(ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05991">ScalarEvolution.cpp:5991</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a778163e6ec80716a12ab3282cb97f0d9"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a778163e6ec80716a12ab3282cb97f0d9">llvm::ConstantExpr::getSizeOf</a></div><div class="ttdeci">static Constant * getSizeOf(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01767">Constants.cpp:1767</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00790">Constants.h:790</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a60be12dda0289837dae43964608cf568"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a60be12dda0289837dae43964608cf568">llvm::ScalarEvolution::getOffsetOfExpr</a></div><div class="ttdeci">const SCEV * getOffsetOfExpr(Type *IntTy, StructType *STy, unsigned FieldNo)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02609">ScalarEvolution.cpp:2609</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">llvm::A64CC::VC</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00038">AArch64BaseInfo.h:38</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html">llvm::SCEVAddRecExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00283">ScalarEvolutionExpressions.h:283</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_af7e3d70a89d1fe893a6abb3fb28b6294"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00209">ConstantRange.cpp:209</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a74ed1171de475e583580fca80c1fe0c8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a74ed1171de475e583580fca80c1fe0c8">llvm::ScalarEvolution::getSmallConstantTripMultiple</a></div><div class="ttdeci">unsigned getSmallConstantTripMultiple(Loop *L, BasicBlock *ExitingBlock)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04015">ScalarEvolution.cpp:4015</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a7d9b88d042ae1da8afd5509875c90a04"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7d9b88d042ae1da8afd5509875c90a04">llvm::StringRef::data</a></div><div class="ttdeci">const char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00107">StringRef.h:107</a></div></div>
<div class="ttc" id="Mips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00349">Mips16ISelLowering.cpp:349</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_ac4b92ba5838960bd0f6eef1408b7362b"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#ac4b92ba5838960bd0f6eef1408b7362b">llvm::APIntOps::udiv</a></div><div class="ttdeci">APInt udiv(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Unsigned division function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01809">APInt.h:1809</a></div></div>
<div class="ttc" id="namespacellvm_html_a8891be7c27326c20a6dba7d98e9030b5"><div class="ttname"><a href="namespacellvm.html#a8891be7c27326c20a6dba7d98e9030b5">llvm::ConstantFoldConstantExpression</a></div><div class="ttdeci">Constant * ConstantFoldConstantExpression(const ConstantExpr *CE, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00937">ConstantFolding.cpp:937</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_aed1b1d3b764c76210c67dd1b4a6be2f2"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#aed1b1d3b764c76210c67dd1b4a6be2f2">llvm::SCEVNAryExpr::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00157">ScalarEvolutionExpressions.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a593bc53015a060d260c75fc599f9a7b1"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01881">Constants.cpp:1881</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0671bc479b3d788cc233dc1ce20ebcb5"><div class="ttname"><a href="classllvm_1_1APInt.html#a0671bc479b3d788cc233dc1ce20ebcb5">llvm::APInt::sgt</a></div><div class="ttdeci">bool sgt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed greather than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01100">APInt.h:1100</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a74e70ecbb79defbbfa6f6c87f76155bf"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02406">Instructions.h:2406</a></div></div>
<div class="ttc" id="structllvm_1_1SCEVCouldNotCompute_html_a4879e3633c19d6a7c7b9c56cfd3cec18"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html#a4879e3633c19d6a7c7b9c56cfd3cec18">llvm::SCEVCouldNotCompute::SCEVCouldNotCompute</a></div><div class="ttdeci">SCEVCouldNotCompute()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00307">ScalarEvolution.cpp:307</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5b01f1061607731f6d2953b935649570"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5b01f1061607731f6d2953b935649570">llvm::ScalarEvolution::getSizeOfExpr</a></div><div class="ttdeci">const SCEV * getSizeOfExpr(Type *IntTy, Type *AllocTy)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02593">ScalarEvolution.cpp:2593</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a65eb40bd8c732c997e156e14f6b461f4"><div class="ttname"><a href="classllvm_1_1APInt.html#a65eb40bd8c732c997e156e14f6b461f4">llvm::APInt::getActiveBits</a></div><div class="ttdeci">unsigned getActiveBits() const </div><div class="ttdoc">Compute the number of active bits in the value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01276">APInt.h:1276</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa2f7a8775a783f7ea3ad24b3f9cb5d949">llvm::SCEV::FlagNSW</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00097">ScalarEvolution.h:97</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_ac433e8ef803206432c51ea05e17441a5"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#ac433e8ef803206432c51ea05e17441a5">llvm::APIntOps::sdiv</a></div><div class="ttdeci">APInt sdiv(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Signed division function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01804">APInt.h:1804</a></div></div>
<div class="ttc" id="structllvm_1_1Inverse_html"><div class="ttname"><a href="structllvm_1_1Inverse.html">llvm::Inverse</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00078">GraphTraits.h:78</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a1c75b3f59d1f60387c0e3dd3aaf1ba9a"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a1c75b3f59d1f60387c0e3dd3aaf1ba9a">MaxBruteForceIterations</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxBruteForceIterations(&quot;scalar-evolution-max-iterations&quot;, cl::ReallyHidden, cl::desc(&quot;Maximum number of iterations SCEV will &quot;&quot;symbolically execute a constant &quot;&quot;derived loop&quot;), cl::init(100))</div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_abe4224c23f4544a70464c53056f00396"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#abe4224c23f4544a70464c53056f00396">llvm::GlobalVariable::hasDefinitiveInitializer</a></div><div class="ttdeci">bool hasDefinitiveInitializer() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00107">GlobalVariable.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9aae7c60b468bcf6db982dc76e6c703a"><div class="ttname"><a href="classllvm_1_1Type.html#a9aae7c60b468bcf6db982dc76e6c703a">llvm::Type::isArrayTy</a></div><div class="ttdeci">bool isArrayTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00216">Type.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html_a26781d4fd887b60f49ff38f32bff1c74"><div class="ttname"><a href="classllvm_1_1DenseMap.html#a26781d4fd887b60f49ff38f32bff1c74">llvm::DenseMap::swap</a></div><div class="ttdeci">void swap(DenseMap &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00576">DenseMap.h:576</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ab2767c28bc3ded2d683a93f0ce1ed502"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ab2767c28bc3ded2d683a93f0ce1ed502">llvm::ConstantExpr::getUDiv</a></div><div class="ttdeci">static Constant * getUDiv(Constant *C1, Constant *C2, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02073">Constants.cpp:2073</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a53678e1ba939cbda45347935d6324563"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a53678e1ba939cbda45347935d6324563">llvm::APIntOps::ashr</a></div><div class="ttdeci">APInt ashr(const APInt &amp;LHS, unsigned shiftAmt)</div><div class="ttdoc">Arithmetic right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01783">APInt.h:1783</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abb976145b00ae108c1d6b98c4f099d27"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abb976145b00ae108c1d6b98c4f099d27">llvm::ScalarEvolution::getEffectiveSCEVType</a></div><div class="ttdeci">Type * getEffectiveSCEVType(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02687">ScalarEvolution.cpp:2687</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_acb48ab169ff254ba03e74f72f6f8e678"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#acb48ab169ff254ba03e74f72f6f8e678">llvm::ConstantRange::subtract</a></div><div class="ttdeci">ConstantRange subtract(const APInt &amp;CI) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00242">ConstantRange.cpp:242</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ab6b4550f8ae7180f0e83ebb40a9882ec">llvm::scCouldNotCompute</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00031">ScalarEvolutionExpressions.h:31</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a3d95172e192ecd22f18b0b76da6d2320"><div class="ttname"><a href="classllvm_1_1Instruction.html#a3d95172e192ecd22f18b0b76da6d2320">llvm::Instruction::getOpcodeName</a></div><div class="ttdeci">const char * getOpcodeName() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00085">Instruction.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00740">Dominators.h:740</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a659b27f6737fcb7eaf333b0279da1154"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a659b27f6737fcb7eaf333b0279da1154">llvm::ScalarEvolution::getAddRecExpr</a></div><div class="ttdeci">const SCEV * getAddRecExpr(const SCEV *Start, const SCEV *Step, const Loop *L, SCEV::NoWrapFlags Flags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02246">ScalarEvolution.cpp:2246</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a67c8a10b1b2a753341ddf1db52f28a5b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a67c8a10b1b2a753341ddf1db52f28a5b">SolveQuadraticEquation</a></div><div class="ttdeci">static std::pair&lt; const SCEV *, const SCEV * &gt; SolveQuadraticEquation(const SCEVAddRecExpr *AddRec, ScalarEvolution &amp;SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05430">ScalarEvolution.cpp:5430</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a97221eb4fea7333f0b7b35b35e1169b2"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a97221eb4fea7333f0b7b35b35e1169b2">llvm::SCEVNAryExpr::getNumOperands</a></div><div class="ttdeci">size_t getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00147">ScalarEvolutionExpressions.h:147</a></div></div>
<div class="ttc" id="namespacellvm_html_a7985318bedfe5c2040025ef13db9c57b"><div class="ttname"><a href="namespacellvm.html#a7985318bedfe5c2040025ef13db9c57b">llvm::ComputeMaskedBits</a></div><div class="ttdeci">void ComputeMaskedBits(Value *V, APInt &amp;KnownZero, APInt &amp;KnownOne, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00229">ValueTracking.cpp:229</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6fa23e74052c4d79cfdaa23460a3c946656">llvm::SCEV::FlagAnyWrap</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00094">ScalarEvolution.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a1dc5339334162e650ff87e89629bf66c"><div class="ttname"><a href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00515">APInt.cpp:515</a></div></div>
<div class="ttc" id="CallGraphSCCPass_8cpp_html_a787c97cc3fe8c5f2ea1a5a09abaab710"><div class="ttname"><a href="CallGraphSCCPass_8cpp.html#a787c97cc3fe8c5f2ea1a5a09abaab710">MaxIterations</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxIterations(&quot;max-cg-scc-iterations&quot;, cl::ReallyHidden, cl::init(4))</div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02055">Instructions.h:2055</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_ae22e7e38d649dbb2f90e20df7a2294c4"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ae22e7e38d649dbb2f90e20df7a2294c4">EvaluateExpression</a></div><div class="ttdeci">static Constant * EvaluateExpression(Value *V, const Loop *L, DenseMap&lt; Instruction *, Constant * &gt; &amp;Vals, const DataLayout *TD, const TargetLibraryInfo *TLI)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04831">ScalarEvolution.cpp:4831</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_adc8cf3b4b56f754b02ea30263bd4561e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adc8cf3b4b56f754b02ea30263bd4561e">llvm::ScalarEvolution::isLoopEntryGuardedByCond</a></div><div class="ttdeci">bool isLoopEntryGuardedByCond(const Loop *L, ICmpInst::Predicate Pred, const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06123">ScalarEvolution.cpp:6123</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a55749fb6ea63e413e3e39645dcc2963c"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a55749fb6ea63e413e3e39645dcc2963c">llvm::SCEVAddRecExpr::getNumIterationsInRange</a></div><div class="ttdeci">const SCEV * getNumIterationsInRange(ConstantRange Range, ScalarEvolution &amp;SE) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06559">ScalarEvolution.cpp:6559</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html_a4c26d3b92af99a6c8defd89a2d39ca32"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html#a4c26d3b92af99a6c8defd89a2d39ca32">llvm::TerminatorInst::getNumSuccessors</a></div><div class="ttdeci">unsigned getNumSuccessors() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00059">InstrTypes.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html">llvm::FoldingSetNodeID</a></div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00294">FoldingSet.h:294</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aaa9b9055fd9c69fe14eb20f0d18d53d5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aaa9b9055fd9c69fe14eb20f0d18d53d5">llvm::ScalarEvolution::getCouldNotCompute</a></div><div class="ttdeci">const SCEV * getCouldNotCompute()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02704">ScalarEvolution.cpp:2704</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVTraversal_html"><div class="ttname"><a href="classllvm_1_1SCEVTraversal.html">llvm::SCEVTraversal</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00498">ScalarEvolutionExpressions.h:498</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a222c9c7b5d5e742d5d1238a3256b1ea5">llvm::scAddRecExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00030">ScalarEvolutionExpressions.h:30</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUnknown_html"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html">llvm::SCEVUnknown</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00409">ScalarEvolutionExpressions.h:409</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a88f514461ddb0af0fc59ac4639f644bc"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a88f514461ddb0af0fc59ac4639f644bc">llvm::SCEVAddRecExpr::isAffine</a></div><div class="ttdeci">bool isAffine() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00309">ScalarEvolutionExpressions.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ae9623974341419bfd1d185cfdc65bedd"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ae9623974341419bfd1d185cfdc65bedd">llvm::ScalarEvolution::isSCEVable</a></div><div class="ttdeci">bool isSCEVable(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02659">ScalarEvolution.cpp:2659</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html">llvm::TerminatorInst</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00035">InstrTypes.h:35</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_aae58e3df0180401e8f3ab75c18fbc07a"><div class="ttname"><a href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a></div><div class="ttdeci">* if(!EatIfPresent(lltok::kw_thread_local)) return false</div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a7d4913ef0e5120d562ea4164507a790c"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a7d4913ef0e5120d562ea4164507a790c">llvm::APIntOps::srem</a></div><div class="ttdeci">APInt srem(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Function for signed remainder operation. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01814">APInt.h:1814</a></div></div>
<div class="ttc" id="structllvm_1_1SCEVVisitor_html"><div class="ttname"><a href="structllvm_1_1SCEVVisitor.html">llvm::SCEVVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00453">ScalarEvolutionExpressions.h:453</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUnknown_html_a10135f38cb846d672b4530837e34593b"><div class="ttname"><a href="classllvm_1_1SCEVUnknown.html#a10135f38cb846d672b4530837e34593b">llvm::SCEVUnknown::isSizeOf</a></div><div class="ttdeci">bool isSizeOf(Type *&amp;AllocTy) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00387">ScalarEvolution.cpp:387</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8cf5475fb3e9c737112cc248194c1040"><div class="ttname"><a href="classllvm_1_1APInt.html#a8cf5475fb3e9c737112cc248194c1040">llvm::APInt::trunc</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT trunc(unsigned width) const </div><div class="ttdoc">Truncate to new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00919">APInt.cpp:919</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a2864c2988fff3cbc8e568ef5a36aef80"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">llvm::ConstantRange::isFullSet</a></div><div class="ttdeci">bool isFullSet() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00119">ConstantRange.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUDivExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html">llvm::SCEVUDivExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00246">ScalarEvolutionExpressions.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html_a3aac3b6c36415a2b08f65ead9e3e51e7"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html#a3aac3b6c36415a2b08f65ead9e3e51e7">llvm::TerminatorInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned idx) const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00065">InstrTypes.h:65</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a9a16f1241255a605fc8debc1e26eaa4c"><div class="ttname"><a href="classllvm_1_1SCEV.html#a9a16f1241255a605fc8debc1e26eaa4c">llvm::SCEV::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00249">ScalarEvolution.cpp:249</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a61f5098e98f972466ae233e6d01f9f9c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a61f5098e98f972466ae233e6d01f9f9c">llvm::ScalarEvolution::getLoopDisposition</a></div><div class="ttdeci">LoopDisposition getLoopDisposition(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07400">ScalarEvolution.cpp:7400</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aba5433b11fed6a0d8f02e985b34b612b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aba5433b11fed6a0d8f02e985b34b612b">GroupByComplexity</a></div><div class="ttdeci">static void GroupByComplexity(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, LoopInfo *LI)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00639">ScalarEvolution.cpp:639</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a41c064760b52a162e1f7b4af665facd6"><div class="ttname"><a href="classllvm_1_1APInt.html#a41c064760b52a162e1f7b4af665facd6">llvm::APInt::sge</a></div><div class="ttdeci">bool sge(const APInt &amp;RHS) const </div><div class="ttdoc">Signed greather or equal comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01132">APInt.h:1132</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a285673849e0e0bc40c79ad5e0c93da22"><div class="ttname"><a href="classllvm_1_1APInt.html#a285673849e0e0bc40c79ad5e0c93da22">llvm::APInt::isMaxSignedValue</a></div><div class="ttdeci">bool isMaxSignedValue() const </div><div class="ttdoc">Determine if this is the largest signed value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00356">APInt.h:356</a></div></div>
<div class="ttc" id="ScalarEvolutionExpressions_8h_html"><div class="ttname"><a href="ScalarEvolutionExpressions_8h.html">ScalarEvolutionExpressions.h</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_ad4872b01704ccd3244144bfdb4fe48b6"><div class="ttname"><a href="classllvm_1_1SCEV.html#ad4872b01704ccd3244144bfdb4fe48b6">llvm::SCEV::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00132">ScalarEvolution.cpp:132</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a8d1a2d2a4d2f935841d226bbcbf54a48"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a8d1a2d2a4d2f935841d226bbcbf54a48">llvm::SCEVNAryExpr::getOperand</a></div><div class="ttdeci">const SCEV * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00148">ScalarEvolutionExpressions.h:148</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01845">APInt.h:1845</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_afc7c4d88d09cba0c5e920f8a3a3ace55"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">llvm::APIntOps::Xor</a></div><div class="ttdeci">APInt Xor(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise XOR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01850">APInt.h:1850</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_af1691ba36ec490f734755ccc9c0d4c95"><div class="ttname"><a href="ScalarEvolution_8cpp.html#af1691ba36ec490f734755ccc9c0d4c95">canConstantEvolve</a></div><div class="ttdeci">static bool canConstantEvolve(Instruction *I, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04754">ScalarEvolution.cpp:4754</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVTraversal_html_aa3e492f428e815c1c89e3a5625e2c233"><div class="ttname"><a href="classllvm_1_1SCEVTraversal.html#aa3e492f428e815c1c89e3a5625e2c233">llvm::SCEVTraversal::visitAll</a></div><div class="ttdeci">void visitAll(const SCEV *Root)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00510">ScalarEvolutionExpressions.h:510</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_afa04c31b8a224e9f4e66ba448f05e9d0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#afa04c31b8a224e9f4e66ba448f05e9d0">evolution</a></div><div class="ttdeci">scalar evolution</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00119">ScalarEvolution.cpp:119</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a80378bffde4634fdd6aff28a7d5047a2"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a80378bffde4634fdd6aff28a7d5047a2">getPreStartForSignExtend</a></div><div class="ttdeci">static const SCEV * getPreStartForSignExtend(const SCEVAddRecExpr *AR, Type *Ty, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01086">ScalarEvolution.cpp:1086</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a0d1d4b1c8787f465ce2c144757731f12"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a0d1d4b1c8787f465ce2c144757731f12">llvm::ScalarEvolution::getSMaxExpr</a></div><div class="ttdeci">const SCEV * getSMaxExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02373">ScalarEvolution.cpp:2373</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aec662ee6ab1490a4cabebf2812e5b9ca"><div class="ttname"><a href="classllvm_1_1APInt.html#aec662ee6ab1490a4cabebf2812e5b9ca">llvm::APInt::getOneBitSet</a></div><div class="ttdeci">static APInt getOneBitSet(unsigned numBits, unsigned BitNo)</div><div class="ttdoc">Return an APInt with exactly one bit set in the result. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00476">APInt.h:476</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html_a8a909346e001dd6c4c06b2b1b617f40d"><div class="ttname"><a href="structMarkPendingLoopPredicate.html#a8a909346e001dd6c4c06b2b1b617f40d">MarkPendingLoopPredicate::Pending</a></div><div class="ttdeci">bool Pending</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06159">ScalarEvolution.cpp:6159</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa3464694bcec68b89b4bffd71360b897"><div class="ttname"><a href="classllvm_1_1APInt.html#aa3464694bcec68b89b4bffd71360b897">llvm::APInt::sext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT sext(unsigned width) const </div><div class="ttdoc">Sign extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00942">APInt.cpp:942</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0c054b115b72d730d19b22847d155617"><div class="ttname"><a href="classllvm_1_1APInt.html#a0c054b115b72d730d19b22847d155617">llvm::APInt::sle</a></div><div class="ttdeci">bool sle(const APInt &amp;RHS) const </div><div class="ttdoc">Signed less or equal comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01068">APInt.h:1068</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a21d6ee82eed29080d911dbb548a8bb68"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a21d6ee82eed29080d911dbb548a8bb68">llvm::ScalarEvolution::getSCEVAtScope</a></div><div class="ttdeci">const SCEV * getSCEVAtScope(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05060">ScalarEvolution.cpp:5060</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a433e889f2a65d5979f109e2d01e946c1"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a433e889f2a65d5979f109e2d01e946c1">llvm::ConstantRange::udiv</a></div><div class="ttdeci">ConstantRange udiv(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00627">ConstantRange.cpp:627</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a4c25b6c00c4867281779c81ab64d2081"><div class="ttname"><a href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02074">Instructions.h:2074</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac4f141a355e5898255f2cbc57c5b54c3"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac4f141a355e5898255f2cbc57c5b54c3">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00095">LoopInfo.h:95</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_af6a36e1e0483f9eb5954f83ad75e123c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af6a36e1e0483f9eb5954f83ad75e123c">llvm::CmpInst::isFalseWhenEqual</a></div><div class="ttdeci">bool isFalseWhenEqual() const </div><div class="ttdoc">Determine if this is false when both operands are the same. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00798">InstrTypes.h:798</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a28b194080e6311a32ce32d125c205f26"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a28b194080e6311a32ce32d125c205f26">llvm::ScalarEvolution::hasOperand</a></div><div class="ttdeci">bool hasOperand(const SCEV *S, const SCEV *Op) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07613">ScalarEvolution.cpp:7613</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00911">Instructions.h:911</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aa888e3661c809163273aca85ded4d846"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa888e3661c809163273aca85ded4d846">llvm::ScalarEvolution::getMinusSCEV</a></div><div class="ttdeci">const SCEV * getMinusSCEV(const SCEV *LHS, const SCEV *RHS, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdoc">getMinusSCEV - Return LHS-RHS. Minus is represented in SCEV as A+B*-1. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02790">ScalarEvolution.cpp:2790</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a6a9e377be1c43ef79a69f55ac757a4aa"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6a9e377be1c43ef79a69f55ac757a4aa">llvm::ScalarEvolution::getMaxBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getMaxBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04069">ScalarEvolution.cpp:4069</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00651">InstrTypes.h:651</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad081689e23a8f5dea78dedd623d6a8f8"><div class="ttname"><a href="classllvm_1_1APInt.html#ad081689e23a8f5dea78dedd623d6a8f8">llvm::APInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Return the number of bits in the APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01252">APInt.h:1252</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0229ff3a1d7432810a86c8efab115c33"><div class="ttname"><a href="classllvm_1_1APInt.html#a0229ff3a1d7432810a86c8efab115c33">llvm::APInt::uge</a></div><div class="ttdeci">bool uge(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned greater or equal comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01116">APInt.h:1116</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a9b3a2ea3fb1e9724369fc0d0f79ae869"><div class="ttname"><a href="classllvm_1_1APInt.html#a9b3a2ea3fb1e9724369fc0d0f79ae869">llvm::APInt::isMaxValue</a></div><div class="ttdeci">bool isMaxValue() const </div><div class="ttdoc">Determine if this is the largest unsigned value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00350">APInt.h:350</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a482ad0f63ec145fdba2497e2298a5aa1"><div class="ttname"><a href="classllvm_1_1APInt.html#a482ad0f63ec145fdba2497e2298a5aa1">llvm::APInt::sdiv</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT sdiv(const APInt &amp;RHS) const </div><div class="ttdoc">Signed division function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01879">APInt.cpp:1879</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a92a38e2e3412bde7fd2b71db212b61aa"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a92a38e2e3412bde7fd2b71db212b61aa">llvm::LoopBase::contains</a></div><div class="ttdeci">bool contains(const LoopT *L) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00104">LoopInfo.h:104</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5ad3d0abdf8125de904320df332dbefedb">llvm::scUMaxExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00030">ScalarEvolutionExpressions.h:30</a></div></div>
<div class="ttc" id="namespacellvm_html_aa61b351a455e9229d3dc58e0883b6cef"><div class="ttname"><a href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">llvm::ConstantFoldCompareInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldCompareInstOperands(unsigned Predicate, Constant *LHS, Constant *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01053">ConstantFolding.cpp:1053</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Integer representation type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00037">DerivedTypes.h:37</a></div></div>
<div class="ttc" id="InstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1BumpPtrAllocator_html_a530a74f2d8a98f36314519e7f178b434"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocator.html#a530a74f2d8a98f36314519e7f178b434">llvm::BumpPtrAllocator::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8cpp_source.html#l00083">Allocator.cpp:83</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a72429f61714f5e61f03455d9e6718797"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">llvm::ConstantRange::zeroExtend</a></div><div class="ttdeci">ConstantRange zeroExtend(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00423">ConstantRange.cpp:423</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a1b9806d21518ef7fb4d5c4299e21411f"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a1b9806d21518ef7fb4d5c4299e21411f">llvm::ScalarEvolution::isKnownNegative</a></div><div class="ttdeci">bool isKnownNegative(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05971">ScalarEvolution.cpp:5971</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a4efb46d4834f6f750ae0649ed89ce44c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::count</a></div><div class="ttdeci">bool count(const KeyT &amp;Val) const</div><div class="ttdoc">count - Return true if the specified key is in the map. </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00103">DenseMap.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a5b43a866f0fca605556f0f69f70c522a"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a5b43a866f0fca605556f0f69f70c522a">llvm::ConstantExpr::getNot</a></div><div class="ttdeci">static Constant * getNot(Constant *C)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02034">Constants.cpp:2034</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a804545e5b568edec8b970da32cd37359"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a804545e5b568edec8b970da32cd37359">llvm::ScalarEvolution::forgetValue</a></div><div class="ttdeci">void forgetValue(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04201">ScalarEvolution.cpp:4201</a></div></div>
<div class="ttc" id="namespacellvm_html_acf81840e57f5d7beb1d5983f4dac772f"><div class="ttname"><a href="namespacellvm.html#acf81840e57f5d7beb1d5983f4dac772f">llvm::ConstantFoldLoadFromConstPtr</a></div><div class="ttdeci">Constant * ConstantFoldLoadFromConstPtr(Constant *C, const DataLayout *TD=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00472">ConstantFolding.cpp:472</a></div></div>
<div class="ttc" id="Writer_8h_html"><div class="ttname"><a href="Writer_8h.html">Writer.h</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a5316a2763777f3670c1606452f4e99d7"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a5316a2763777f3670c1606452f4e99d7">llvm::SCEVAddRecExpr::setNoWrapFlags</a></div><div class="ttdeci">void setNoWrapFlags(NoWrapFlags Flags)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00325">ScalarEvolutionExpressions.h:325</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdoc">Get the all ones value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00163">Constants.cpp:163</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUDivExpr_html_a0556409bb7d6f1fb0e4681aaf5e88e1f"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html#a0556409bb7d6f1fb0e4681aaf5e88e1f">llvm::SCEVUDivExpr::getLHS</a></div><div class="ttdeci">const SCEV * getLHS() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00255">ScalarEvolutionExpressions.h:255</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_afb354c8aea0150628f8aa06c7f4a4168"><div class="ttname"><a href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a></div><div class="ttdeci">vector float f(vector float a, vector float b)</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00205">README_ALTIVEC.txt:205</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a6fe9272dc67fe2ff4cafc33b895c4a6c"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a6fe9272dc67fe2ff4cafc33b895c4a6c">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const DomTreeNode *A, const DomTreeNode *B) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00801">Dominators.h:801</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a669d55980a7d4b6307b94596deeb0b1f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(in_iter in_start, in_iter in_end)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00445">SmallVector.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a261b3d805f279921bad9a3e6b4d923e4"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a261b3d805f279921bad9a3e6b4d923e4">llvm::ScalarEvolution::getUMinFromMismatchedTypes</a></div><div class="ttdeci">const SCEV * getUMinFromMismatchedTypes(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02918">ScalarEvolution.cpp:2918</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a18c110c35e9133222a37b28d30f8a90f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a18c110c35e9133222a37b28d30f8a90f">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00478">SmallVector.h:478</a></div></div>
<div class="ttc" id="namespacellvm_html_a50f8f41fccbea466816345520e9bfabb"><div class="ttname"><a href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">llvm::SimplifyInstruction</a></div><div class="ttdeci">Value * SimplifyInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03036">InstructionSimplify.cpp:3036</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a004121efb296aedb4f06091d92b89442"><div class="ttname"><a href="classllvm_1_1SCEV.html#a004121efb296aedb4f06091d92b89442">llvm::SCEV::isNonConstantNegative</a></div><div class="ttdeci">bool isNonConstantNegative() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00295">ScalarEvolution.cpp:295</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a6c073d72f1aa69d68ffb88bf12a9c1b0"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a6c073d72f1aa69d68ffb88bf12a9c1b0">umul_ov</a></div><div class="ttdeci">static uint64_t umul_ov(uint64_t i, uint64_t j, bool &amp;Overflow)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01830">ScalarEvolution.cpp:1830</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00284">Type.cpp:284</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a933eb87303a6ce51c8894e431fbc389b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a933eb87303a6ce51c8894e431fbc389b">llvm::ScalarEvolution::getNoopOrZeroExtend</a></div><div class="ttdeci">const SCEV * getNoopOrZeroExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02839">ScalarEvolution.cpp:2839</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a0dcdf1ad93f0f1defd9c38d661289f2f"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">llvm::ConstantRange::add</a></div><div class="ttdeci">ConstantRange add(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00539">ConstantRange.cpp:539</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abcc1482748d3a82a8acbbcf2df017bee"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abcc1482748d3a82a8acbbcf2df017bee">llvm::ScalarEvolution::ScalarEvolution</a></div><div class="ttdeci">ScalarEvolution()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07262">ScalarEvolution.cpp:7262</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html_ae086260f8c216554ff46dcd96e171459"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">llvm::raw_string_ostream::str</a></div><div class="ttdeci">std::string &amp; str()</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00441">raw_ostream.h:441</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a0672a2cf212dc97626d63e0fd1c283e1"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a0672a2cf212dc97626d63e0fd1c283e1">llvm::LoopBase::rbegin</a></div><div class="ttdeci">reverse_iterator rbegin() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00132">LoopInfo.h:132</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUDivExpr_html_a0745b63bdc2e2b907b936bf105e3eeb9"><div class="ttname"><a href="classllvm_1_1SCEVUDivExpr.html#a0745b63bdc2e2b907b936bf105e3eeb9">llvm::SCEVUDivExpr::getRHS</a></div><div class="ttdeci">const SCEV * getRHS() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00256">ScalarEvolutionExpressions.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdoc">signed greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00678">InstrTypes.h:678</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca0f411f4871754e4f21f77ef949c5176e">llvm::ScalarEvolution::LoopVariant</a></div><div class="ttdoc">The SCEV is loop-variant (unknown). </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00177">ScalarEvolution.h:177</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html_a2c8ad1c65d2d43770b4b6a2290bcbed5"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a2c8ad1c65d2d43770b4b6a2290bcbed5">llvm::SCEVCastExpr::Op</a></div><div class="ttdeci">const SCEV * Op</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00059">ScalarEvolutionExpressions.h:59</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a60e91197b30d097792bb1afc1337d916"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a60e91197b30d097792bb1afc1337d916">sdiv</a></div><div class="ttdeci">static const APInt sdiv(const SCEVConstant *C1, const SCEVConstant *C2)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06708">ScalarEvolution.cpp:6708</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html_a3d8e17ae034f63cee5bbf9b18888e06a"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#a3d8e17ae034f63cee5bbf9b18888e06a">llvm::LoopInfo::reverse_iterator</a></div><div class="ttdeci">LoopInfoBase&lt; BasicBlock, Loop &gt;::reverse_iterator reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00608">LoopInfo.h:608</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a03cc0dff22b31447f43af97acb76b1a2"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a03cc0dff22b31447f43af97acb76b1a2">llvm::BranchInst::isConditional</a></div><div class="ttdeci">bool isConditional() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02392">Instructions.h:2392</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a223d678f85ac9b7f03157edb6111e42e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a223d678f85ac9b7f03157edb6111e42e">llvm::ScalarEvolution::getSMinExpr</a></div><div class="ttdeci">const SCEV * getSMinExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02581">ScalarEvolution.cpp:2581</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ad3d358e03c6228af2d19b2e67028886e"><div class="ttname"><a href="classllvm_1_1APInt.html#ad3d358e03c6228af2d19b2e67028886e">llvm::APInt::ugt</a></div><div class="ttdeci">bool ugt(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned greather than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01084">APInt.h:1084</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aac277496191547e487eea07f09dffd4b"><div class="ttname"><a href="classllvm_1_1APInt.html#aac277496191547e487eea07f09dffd4b">llvm::APInt::countTrailingZeros</a></div><div class="ttdeci">unsigned countTrailingZeros() const </div><div class="ttdoc">Count the number of trailing zero bits. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00736">APInt.cpp:736</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a699a66e504b48fdeff124e82f6c61917"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00153">DenseMap.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">Get or create an IntegerType instance. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00305">Type.cpp:305</a></div></div>
<div class="ttc" id="classllvm_1_1AddOperator_html"><div class="ttname"><a href="classllvm_1_1AddOperator.html">llvm::AddOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00328">Operator.h:328</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html_aca858777518f7e88200246abc214169d"><div class="ttname"><a href="structMarkPendingLoopPredicate.html#aca858777518f7e88200246abc214169d">MarkPendingLoopPredicate::Cond</a></div><div class="ttdeci">Value * Cond</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06157">ScalarEvolution.cpp:6157</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aba93ec4079f8d709a1d5b4745310782e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01672">Constants.cpp:1672</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html_a43b64c3b800f1451fee1e2c42eb61f92"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a43b64c3b800f1451fee1e2c42eb61f92">llvm::SCEVCastExpr::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00067">ScalarEvolutionExpressions.h:67</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a2ae057e4de45c51c89b7e5dc5053df62">llvm::PPCISD::SC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00247">PPCISelLowering.h:247</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_ab658e5485796a5ff90bd2dc3fca7d6d2"><div class="ttname"><a href="classllvm_1_1DenseSet.html#ab658e5485796a5ff90bd2dc3fca7d6d2">llvm::DenseSet::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00117">DenseSet.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="ConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_adb9a8e03cbf26bc06a1be8770914e63b"><div class="ttname"><a href="ScalarEvolution_8cpp.html#adb9a8e03cbf26bc06a1be8770914e63b">getConstantEvolvingPHI</a></div><div class="ttdeci">static PHINode * getConstantEvolvingPHI(Value *V, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04814">ScalarEvolution.cpp:4814</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a139eacd669113b3a982b9c3a6240b3bd"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a139eacd669113b3a982b9c3a6240b3bd">gcd</a></div><div class="ttdeci">static const APInt gcd(const SCEVConstant *C1, const SCEVConstant *C2)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06680">ScalarEvolution.cpp:6680</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00436">DerivedTypes.h:436</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5a672708a81ae8da8fb56e32638ca9b3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5a672708a81ae8da8fb56e32638ca9b3">llvm::ScalarEvolution::isKnownPositive</a></div><div class="ttdeci">bool isKnownPositive(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05975">ScalarEvolution.cpp:5975</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0cf8014ad2d33b40a6bef55018547f57"><div class="ttname"><a href="classllvm_1_1APInt.html#a0cf8014ad2d33b40a6bef55018547f57">llvm::APInt::slt</a></div><div class="ttdeci">bool slt(const APInt &amp;RHS) const </div><div class="ttdoc">Signed less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00547">APInt.cpp:547</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02059">Instructions.h:2059</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a8344b86f018c5c78a986fb97e1eaf20b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a8344b86f018c5c78a986fb97e1eaf20b">llvm::ScalarEvolution::getTruncateExpr</a></div><div class="ttdeci">const SCEV * getTruncateExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00822">ScalarEvolution.cpp:822</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00300">Target/README.txt:300</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_afe9fd281935116119b86368ff182ea4c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#afe9fd281935116119b86368ff182ea4c">llvm::ScalarEvolution::getTruncateOrSignExtend</a></div><div class="ttdeci">const SCEV * getTruncateOrSignExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02822">ScalarEvolution.cpp:2822</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html_a44aa2bee5dbd24fe47868f6e63ab4cde"><div class="ttname"><a href="structMarkPendingLoopPredicate.html#a44aa2bee5dbd24fe47868f6e63ab4cde">MarkPendingLoopPredicate::LoopPreds</a></div><div class="ttdeci">DenseSet&lt; Value * &gt; &amp; LoopPreds</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06158">ScalarEvolution.cpp:6158</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a6e915d0a915541a818ab88b1fac7cbd1"><div class="ttname"><a href="classllvm_1_1SCEV.html#a6e915d0a915541a818ab88b1fac7cbd1">llvm::SCEV::isAllOnesValue</a></div><div class="ttdeci">bool isAllOnesValue() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00287">ScalarEvolution.cpp:287</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html"><div class="ttname"><a href="classllvm_1_1Operator.html">llvm::Operator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00034">Operator.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995ea5eafe073dddfe773ed400352abe80d85">llvm::ScalarEvolution::DominatesBlock</a></div><div class="ttdoc">The SCEV dominates the block. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00186">ScalarEvolution.h:186</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html"><div class="ttname"><a href="classllvm_1_1LoopInfo.html">llvm::LoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00589">LoopInfo.h:589</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00042">ConstantRange.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a1431766de798501f107d9031821f311e"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a1431766de798501f107d9031821f311e">llvm::LoopBase::getParentLoop</a></div><div class="ttdeci">LoopT * getParentLoop() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00096">LoopInfo.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_aeb96f1a88b4e58c34a988eebd843f688"><div class="ttname"><a href="classllvm_1_1LoadInst.html#aeb96f1a88b4e58c34a988eebd843f688">llvm::LoadInst::isVolatile</a></div><div class="ttdeci">bool isVolatile() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00170">Instructions.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a38c440751f1bf5f19bc12b95f8f0f2a6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a38c440751f1bf5f19bc12b95f8f0f2a6">llvm::ScalarEvolution::getNoopOrSignExtend</a></div><div class="ttdeci">const SCEV * getNoopOrSignExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02855">ScalarEvolution.cpp:2855</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdoc">signed less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00680">InstrTypes.h:680</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a35303bcc6354c08b4ed0cc75b1ec1084"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a35303bcc6354c08b4ed0cc75b1ec1084">llvm::ConstantRange::getLower</a></div><div class="ttdeci">const APInt &amp; getLower() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00079">ConstantRange.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a269c7b8adcd29645a4f901196fc08806"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a269c7b8adcd29645a4f901196fc08806">llvm::DenseMapBase::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00190">DenseMap.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_ab0fdfb9cef4a80aac8ae338e1d304131"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">llvm::CmpInst::isTrueWhenEqual</a></div><div class="ttdeci">bool isTrueWhenEqual() const </div><div class="ttdoc">Determine if this is true when both operands are the same. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00792">InstrTypes.h:792</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_adab4916baed5afefadd4d8e4692d6080"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#adab4916baed5afefadd4d8e4692d6080">llvm::ScalarEvolution::getSignedRange</a></div><div class="ttdeci">ConstantRange getSignedRange(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03450">ScalarEvolution.cpp:3450</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_ab5d3f9900a0284e85ee7a1520a4eeb60"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const </div><div class="ttdoc">Return the predicate as if the operands were swapped. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00753">InstrTypes.h:753</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a65a6479206acd4113b8aa1c0fbc2158c"><div class="ttname"><a href="classllvm_1_1APInt.html#a65a6479206acd4113b8aa1c0fbc2158c">llvm::APInt::getMinValue</a></div><div class="ttdeci">static APInt getMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum unsigned value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00430">APInt.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVConstant_html_a64f0133adf37f9513005465580a19a66"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html#a64f0133adf37f9513005465580a19a66">llvm::SCEVConstant::getValue</a></div><div class="ttdeci">ConstantInt * getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00044">ScalarEvolutionExpressions.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aca5cab6b8d2be24d0c857cc4a831feec"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01538">Constants.cpp:1538</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a67dee91d4c8619a8efd5875b38f52c42"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a67dee91d4c8619a8efd5875b38f52c42">llvm::SCEVAddRecExpr::delinearize</a></div><div class="ttdeci">const SCEV * delinearize(ScalarEvolution &amp;SE, SmallVectorImpl&lt; const SCEV * &gt; &amp;Subscripts, SmallVectorImpl&lt; const SCEV * &gt; &amp;Sizes) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07121">ScalarEvolution.cpp:7121</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a238566881f41b81cd8ff51eb1b3f4a8b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a238566881f41b81cd8ff51eb1b3f4a8b">llvm::ScalarEvolution::getUMaxExpr</a></div><div class="ttdeci">const SCEV * getUMaxExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02477">ScalarEvolution.cpp:2477</a></div></div>
<div class="ttc" id="regutils_8h_html_a1fa2460e32327ade49189c95740bc1b5"><div class="ttname"><a href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a></div><div class="ttdeci">#define NC</div><div class="ttdef"><b>Definition:</b> <a href="regutils_8h_source.html#l00039">regutils.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a50d881392940ab60561065fd1f74af01"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a50d881392940ab60561065fd1f74af01">llvm::APIntOps::umin</a></div><div class="ttdeci">APInt umin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01702">APInt.h:1702</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">llvm::A64DB::LD</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00177">AArch64BaseInfo.h:177</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ab1c4c062bd6cfd84550669fb82f9a501"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ab1c4c062bd6cfd84550669fb82f9a501">llvm::LoopBase&lt; BasicBlock, Loop &gt;::reverse_iterator</a></div><div class="ttdeci">std::vector&lt; Loop * &gt;::const_reverse_iterator reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00129">LoopInfo.h:129</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a503499d4ac1af5de3ac8a7e4805e14aa"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a503499d4ac1af5de3ac8a7e4805e14aa">Analysis</a></div><div class="ttdeci">scalar Scalar Evolution Analysis</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00119">ScalarEvolution.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html"><div class="ttname"><a href="classllvm_1_1GEPOperator.html">llvm::GEPOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00357">Operator.h:357</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a032d677bf90ffeb8afcb93e40dbcf6a7"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a032d677bf90ffeb8afcb93e40dbcf6a7">llvm::APIntOps::smax</a></div><div class="ttdeci">APInt smax(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the larger of two APInts considered to be signed. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01699">APInt.h:1699</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdoc">signed less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00681">InstrTypes.h:681</a></div></div>
<div class="ttc" id="GlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912c">llvm::ScalarEvolution::LoopDisposition</a></div><div class="ttdeci">LoopDisposition</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00176">ScalarEvolution.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVAddExpr.html">llvm::SCEVAddExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00202">ScalarEvolutionExpressions.h:202</a></div></div>
<div class="ttc" id="ScalarEvolution_8h_html"><div class="ttname"><a href="ScalarEvolution_8h.html">ScalarEvolution.h</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a63d4f693eb205bb9d556e067464f943c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a63d4f693eb205bb9d556e067464f943c">llvm::ScalarEvolution::getSignExtendExpr</a></div><div class="ttdeci">const SCEV * getSignExtendExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01159">ScalarEvolution.cpp:1159</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a1500a3fe55cf38153aa1e0fbe7284e05"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">llvm::GlobalVariable::isConstant</a></div><div class="ttdeci">bool isConstant() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00155">GlobalVariable.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1LoopInfo_html_a69576a5861b1eea7ca059aef7c962548"><div class="ttname"><a href="classllvm_1_1LoopInfo.html#a69576a5861b1eea7ca059aef7c962548">llvm::LoopInfo::getLoopDepth</a></div><div class="ttdeci">unsigned getLoopDepth(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00631">LoopInfo.h:631</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a957e195a6793721ddc164589934b8f89"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a957e195a6793721ddc164589934b8f89">llvm::DenseMapBase::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00070">DenseMap.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVSMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSMaxExpr.html">llvm::SCEVSMaxExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00366">ScalarEvolutionExpressions.h:366</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5ef55181ae0bb0f5c561b9a29087b1e5"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5ef55181ae0bb0f5c561b9a29087b1e5">llvm::BasicBlock::getSinglePredecessor</a></div><div class="ttdeci">BasicBlock * getSinglePredecessor()</div><div class="ttdoc">Return this block if it has a single predecessor block. Otherwise return a null pointer. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00183">BasicBlock.cpp:183</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a5984e47d0885332478dc9232634d82e8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a5984e47d0885332478dc9232634d82e8">llvm::ScalarEvolution::getSmallConstantTripCount</a></div><div class="ttdeci">unsigned getSmallConstantTripCount(Loop *L, BasicBlock *ExitingBlock)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l03986">ScalarEvolution.cpp:3986</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_aa1c8b51d90e47c669fb34ac12e808e54"><div class="ttname"><a href="ScalarEvolution_8cpp.html#aa1c8b51d90e47c669fb34ac12e808e54">VerifyMap</a></div><div class="ttdeci">DenseMap&lt; const Loop *, std::string &gt; VerifyMap</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07638">ScalarEvolution.cpp:7638</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a432d7e955f44b118b4261eae03d7a8af"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a432d7e955f44b118b4261eae03d7a8af">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00053">DenseMap.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a23541ecba66207184eaf2279a70c5b12"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a23541ecba66207184eaf2279a70c5b12">llvm::ScalarEvolution::getAddExpr</a></div><div class="ttdeci">const SCEV * getAddExpr(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01461">ScalarEvolution.cpp:1461</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a26b60b007df3a21de84404f81a992496"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a26b60b007df3a21de84404f81a992496">getOverflowLimitForStep</a></div><div class="ttdeci">static const SCEV * getOverflowLimitForStep(const SCEV *Step, ICmpInst::Predicate *Pred, ScalarEvolution *SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01063">ScalarEvolution.cpp:1063</a></div></div>
<div class="ttc" id="namespacellvm_html_a002c7b1beef8b58691fe7aa42ffa2fe7"><div class="ttname"><a href="namespacellvm.html#a002c7b1beef8b58691fe7aa42ffa2fe7">llvm::visitAll</a></div><div class="ttdeci">void visitAll(const SCEV *Root, SV &amp;Visitor)</div><div class="ttdoc">Use SCEVTraversal to visit all nodes in the givien expression tree. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00553">ScalarEvolutionExpressions.h:553</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a331d69b5f93e47e7c596062b77dd5913"><div class="ttname"><a href="classllvm_1_1APInt.html#a331d69b5f93e47e7c596062b77dd5913">llvm::APInt::getMaxValue</a></div><div class="ttdeci">static APInt getMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum unsigned value of APInt for specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00418">APInt.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a963c4f881fbc3e316e8260bf98453ce4"><div class="ttname"><a href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">llvm::APInt::isMinValue</a></div><div class="ttdeci">bool isMinValue() const </div><div class="ttdoc">Determine if this is the smallest unsigned value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00365">APInt.h:365</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af6d11b38374c4f9e6ba3a6407da2dee0a8221843f7f75185ce7697dca43cb6a02"><div class="ttname"><a href="classllvm_1_1Value.html#af6d11b38374c4f9e6ba3a6407da2dee0a8221843f7f75185ce7697dca43cb6a02">llvm::Value::InstructionVal</a></div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00215">Value.h:215</a></div></div>
<div class="ttc" id="ConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01840">APInt.h:1840</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a684b8e2484b12d494e82f7053d005754">llvm::scSMaxExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00030">ScalarEvolutionExpressions.h:30</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_ab93b7360d5b3cc22548317dc5b6b285e"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ab93b7360d5b3cc22548317dc5b6b285e">BuildConstantFromSCEV</a></div><div class="ttdeci">static Constant * BuildConstantFromSCEV(const SCEV *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05084">ScalarEvolution.cpp:5084</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aed87738661d539150b3fc4bb46e36aa3"><div class="ttname"><a href="classllvm_1_1Type.html#aed87738661d539150b3fc4bb46e36aa3">llvm::Type::isStructTy</a></div><div class="ttdeci">bool isStructTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00212">Type.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ab31d67091e24d202638fb32e97f29b02"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ab31d67091e24d202638fb32e97f29b02">llvm::ConstantRange::umax</a></div><div class="ttdeci">ConstantRange umax(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00614">ConstantRange.cpp:614</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVZeroExtendExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVZeroExtendExpr.html">llvm::SCEVZeroExtendExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00098">ScalarEvolutionExpressions.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_afa29f0cd072ab9b3a2630681ffe5760f"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#afa29f0cd072ab9b3a2630681ffe5760f">llvm::ConstantExpr::getNeg</a></div><div class="ttdeci">static Constant * getNeg(Constant *C, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02021">Constants.cpp:2021</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_acbf7b12e086d64750b0bbc87a79d834a"><div class="ttname"><a href="ScalarEvolution_8cpp.html#acbf7b12e086d64750b0bbc87a79d834a">replaceSubString</a></div><div class="ttdeci">static void replaceSubString(std::string &amp;Str, StringRef From, StringRef To)</div><div class="ttdoc">replaceSubString - Replaces all occurences of From in Str with To. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07641">ScalarEvolution.cpp:7641</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5add4a8d5cb0d78c9be22d01e1546bafc6">llvm::scZeroExtend</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a84309bb8c34c8bc5694ec5d48dd8668f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a84309bb8c34c8bc5694ec5d48dd8668f">llvm::BranchInst::getCondition</a></div><div class="ttdeci">Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02394">Instructions.h:2394</a></div></div>
<div class="ttc" id="namespacellvm_1_1MipsISD_html_a7a7035feda1dc16252a7a15a7e230122a489c5c03b43333daa30af69d887fc1f2"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122a489c5c03b43333daa30af69d887fc1f2">llvm::MipsISD::Mult</a></div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00080">MipsISelLowering.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a365628d9f62e7a281d493d15bdb13b27"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a365628d9f62e7a281d493d15bdb13b27">llvm::ConstantExpr::getSExt</a></div><div class="ttdeci">static Constant * getSExt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01552">Constants.cpp:1552</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995eab597dd799bf69ea3ce93e263587ebc77">llvm::ScalarEvolution::DoesNotDominateBlock</a></div><div class="ttdoc">The SCEV does not dominate the block. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00185">ScalarEvolution.h:185</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeIDRef_html"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeIDRef.html">llvm::FoldingSetNodeIDRef</a></div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8h_source.html#l00268">FoldingSet.h:268</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a953625d369b127cd29e19f9c73da567f"><div class="ttname"><a href="classllvm_1_1APInt.html#a953625d369b127cd29e19f9c73da567f">llvm::APInt::isMinSignedValue</a></div><div class="ttdeci">bool isMinSignedValue() const </div><div class="ttdoc">Determine if this is the smallest signed value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00371">APInt.h:371</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a592bdd7731b14ff4ff5d646f6f399900"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a592bdd7731b14ff4ff5d646f6f399900">llvm::ScalarEvolution::forgetLoop</a></div><div class="ttdeci">void forgetLoop(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04162">ScalarEvolution.cpp:4162</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a7b68be12c974b6b70bc86062f221a344"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a7b68be12c974b6b70bc86062f221a344">llvm::SmallVectorTemplateCommon&lt; T &gt;::data</a></div><div class="ttdeci">pointer data()</div><div class="ttdoc">data - Return a pointer to the vector&amp;#39;s buffer, even if empty(). </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00135">SmallVector.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html"><div class="ttname"><a href="classllvm_1_1SCEV.html">llvm::SCEV</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00057">ScalarEvolution.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="namespacellvm_html_a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868"><div class="ttname"><a href="namespacellvm.html#a7ef747666d6938cb47b3c5544011a4e5a3a80b1a7dda48464be1849ee1fb85868">llvm::scAddExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00029">ScalarEvolutionExpressions.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a80e82791d4d7f4d1d23d68ca0a2b1f64"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a80e82791d4d7f4d1d23d68ca0a2b1f64">llvm::ConstantExpr::getZExt</a></div><div class="ttdeci">static Constant * getZExt(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01566">Constants.cpp:1566</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a7f8f540a09fa306e1623fbc2f41c32fa"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a7f8f540a09fa306e1623fbc2f41c32fa">llvm::ConstantExpr::getOffsetOf</a></div><div class="ttdeci">static Constant * getOffsetOf(StructType *STy, unsigned FieldNo)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01791">Constants.cpp:1791</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html_ac876de9f2b1ddbe458be4d57e3e11b16"><div class="ttname"><a href="classllvm_1_1GEPOperator.html#ac876de9f2b1ddbe458be4d57e3e11b16">llvm::GEPOperator::isInBounds</a></div><div class="ttdeci">bool isInBounds() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00373">Operator.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdoc">unsigned greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00675">InstrTypes.h:675</a></div></div>
<div class="ttc" id="classllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00338">LoopInfo.h:338</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_ad9a1ad295ab838d446053a356002098d"><div class="ttname"><a href="ScalarEvolution_8cpp.html#ad9a1ad295ab838d446053a356002098d">getConstantEvolvingPHIOperands</a></div><div class="ttdeci">static PHINode * getConstantEvolvingPHIOperands(Instruction *UseInst, const Loop *L, DenseMap&lt; Instruction *, PHINode * &gt; &amp;PHIMap)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04775">ScalarEvolution.cpp:4775</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6faafb62cd6afdc004ef6e8a1f6288eb382">llvm::SCEV::FlagNUW</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00096">ScalarEvolution.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html_a06dc25da1f16f389f5244304e8d33127"><div class="ttname"><a href="classllvm_1_1CastInst.html#a06dc25da1f16f389f5244304e8d33127">llvm::CastInst::getCastOpcode</a></div><div class="ttdeci">static Instruction::CastOps getCastOpcode(const Value *Val, bool SrcIsSigned, Type *Ty, bool DstIsSigned)</div><div class="ttdoc">Infer the opcode for cast operand and type. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02650">Instructions.cpp:2650</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00120">BasicBlock.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1SubOperator_html"><div class="ttname"><a href="classllvm_1_1SubOperator.html">llvm::SubOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00331">Operator.h:331</a></div></div>
<div class="ttc" id="InstCombineAddSub_8cpp_html_af7717df543a545f000bf7e2367e17925"><div class="ttname"><a href="InstCombineAddSub_8cpp.html#af7717df543a545f000bf7e2367e17925">AddOne</a></div><div class="ttdeci">static Constant * AddOne(Constant *C)</div><div class="ttdoc">AddOne - Add one to a ConstantInt. </div><div class="ttdef"><b>Definition:</b> <a href="InstCombineAddSub_8cpp_source.html#l00849">InstCombineAddSub.cpp:849</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVSignExtendExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVSignExtendExpr.html">llvm::SCEVSignExtendExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00115">ScalarEvolutionExpressions.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a9e981fb2ff9cfa5bb54229dbb5dc78b7"><div class="ttname"><a href="classllvm_1_1APInt.html#a9e981fb2ff9cfa5bb54229dbb5dc78b7">llvm::APInt::isSignBit</a></div><div class="ttdeci">bool isSignBit() const </div><div class="ttdoc">Check if the APInt&amp;#39;s value is returned by getSignBit. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00399">APInt.h:399</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aae7c3ec1a0344306acbdc2dcb113995e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aae7c3ec1a0344306acbdc2dcb113995e">llvm::ScalarEvolution::BlockDisposition</a></div><div class="ttdeci">BlockDisposition</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00184">ScalarEvolution.h:184</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a20c66c97bae0b3e6725d03cfa61c488b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a20c66c97bae0b3e6725d03cfa61c488b">llvm::ScalarEvolution::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(const SCEV *S)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05987">ScalarEvolution.cpp:5987</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a02a06d6c159b20080dda392b96c98b40"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a02a06d6c159b20080dda392b96c98b40">llvm::LoopBase::getLoopPredecessor</a></div><div class="ttdeci">BlockT * getLoopPredecessor() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfoImpl_8h_source.html#l00128">LoopInfoImpl.h:128</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a36119f1b51169ab67a14a52e23d1e511"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a36119f1b51169ab67a14a52e23d1e511">llvm::APIntOps::smin</a></div><div class="ttdeci">APInt smin(const APInt &amp;A, const APInt &amp;B)</div><div class="ttdoc">Determine the smaller of two APInts considered to be signed. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01696">APInt.h:1696</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVUMaxExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVUMaxExpr.html">llvm::SCEVUMaxExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00387">ScalarEvolutionExpressions.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_ac54ee9c0d3aa35349072cebce26af87b"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">llvm::ICmpInst::makeConstantRange</a></div><div class="ttdeci">static ConstantRange makeConstantRange(Predicate pred, const APInt &amp;C)</div><div class="ttdoc">Make a ConstantRange for a relation with a constant value. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03148">Instructions.cpp:3148</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_afd878be03640c9f0c9cc90aa77b05225"><div class="ttname"><a href="ScalarEvolution_8cpp.html#afd878be03640c9f0c9cc90aa77b05225">CollectAddOperandsWithScales</a></div><div class="ttdeci">static bool CollectAddOperandsWithScales(DenseMap&lt; const SCEV *, APInt &gt; &amp;M, SmallVectorImpl&lt; const SCEV * &gt; &amp;NewOps, APInt &amp;AccumulatedConstant, const SCEV *const *Ops, size_t NumOperands, const APInt &amp;Scale, ScalarEvolution &amp;SE)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01385">ScalarEvolution.cpp:1385</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00061">PassAnalysisSupport.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5a7cfa245af120b44ac8a86143bb9e57"><div class="ttname"><a href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_a7fcbbc51eef313e675a2442bb2053ae9"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#a7fcbbc51eef313e675a2442bb2053ae9">llvm::SCEVAddRecExpr::getLoop</a></div><div class="ttdeci">const Loop * getLoop() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00294">ScalarEvolutionExpressions.h:294</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_a433660a96d8e96997856d16c5930b096"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a433660a96d8e96997856d16c5930b096">llvm::LoopBase::getLoopDepth</a></div><div class="ttdeci">unsigned getLoopDepth() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00088">LoopInfo.h:88</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a9ce57443956e69ceb421686abf513aa8"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a9ce57443956e69ceb421686abf513aa8">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(ScalarEvolution,&quot;scalar-evolution&quot;,&quot;Scalar Evolution Analysis&quot;, false, true) INITIALIZE_PASS_END(ScalarEvolution</div></div>
<div class="ttc" id="namespacellvm_html_a26072ee56129fc3220771cda9f053ecb"><div class="ttname"><a href="namespacellvm.html#a26072ee56129fc3220771cda9f053ecb">llvm::ComputeNumSignBits</a></div><div class="ttdeci">unsigned ComputeNumSignBits(Value *Op, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01133">ValueTracking.cpp:1133</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdoc">equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aecd7aba4460358813feef37d71d5024e"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aecd7aba4460358813feef37d71d5024e">llvm::ScalarEvolution::getBackedgeTakenCount</a></div><div class="ttdeci">const SCEV * getBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04062">ScalarEvolution.cpp:4062</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_af88b7acdd025620663e38ca68ff746f5"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#af88b7acdd025620663e38ca68ff746f5">llvm::ConstantRange::getUpper</a></div><div class="ttdeci">const APInt &amp; getUpper() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00083">ConstantRange.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abf0524da124a37636c7f461a8e6b7109"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abf0524da124a37636c7f461a8e6b7109">llvm::ScalarEvolution::releaseMemory</a></div><div class="ttdeci">virtual void releaseMemory()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07276">ScalarEvolution.cpp:7276</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a143afc3214e988d3a4271a7ca1a521c5"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a143afc3214e988d3a4271a7ca1a521c5">llvm::ScalarEvolution::SimplifyICmpOperands</a></div><div class="ttdeci">bool SimplifyICmpOperands(ICmpInst::Predicate &amp;Pred, const SCEV *&amp;LHS, const SCEV *&amp;RHS, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l05694">ScalarEvolution.cpp:5694</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a262de230e8b3511eaf693762cabdc1ca">llvm::A64CC::LS</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00040">AArch64BaseInfo.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a40df11649fb4c41a4de49f793c2d231f"><div class="ttname"><a href="classllvm_1_1User.html#a40df11649fb4c41a4de49f793c2d231f">llvm::User::op_iterator</a></div><div class="ttdeci">Use * op_iterator</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00113">User.h:113</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00433">APInt.h:433</a></div></div>
<div class="ttc" id="namespacellvm_html_a20b71f0795199580c3699cce2accdcb8"><div class="ttname"><a href="namespacellvm.html#a20b71f0795199580c3699cce2accdcb8">llvm::initializeScalarEvolutionPass</a></div><div class="ttdeci">void initializeScalarEvolutionPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html_a0422a5af1687cb7b0572000de74997be"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a0422a5af1687cb7b0572000de74997be">llvm::SCEVCastExpr::Ty</a></div><div class="ttdeci">Type * Ty</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00060">ScalarEvolutionExpressions.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_ac08c8d9d93b387dc10681b6f156095bf"><div class="ttname"><a href="classllvm_1_1SCEV.html#ac08c8d9d93b387dc10681b6f156095bf">llvm::SCEV::getSCEVType</a></div><div class="ttdeci">unsigned getSCEVType() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00103">ScalarEvolution.h:103</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ac4acab35ff407510f8b4cf9a17c8c022"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac4acab35ff407510f8b4cf9a17c8c022">llvm::ScalarEvolution::getUMinExpr</a></div><div class="ttdeci">const SCEV * getUMinExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02587">ScalarEvolution.cpp:2587</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00426">raw_ostream.h:426</a></div></div>
<div class="ttc" id="structMarkPendingLoopPredicate_html_ac25451a6e0d230ec87b5de56c372108f"><div class="ttname"><a href="structMarkPendingLoopPredicate.html#ac25451a6e0d230ec87b5de56c372108f">MarkPendingLoopPredicate::~MarkPendingLoopPredicate</a></div><div class="ttdeci">~MarkPendingLoopPredicate()</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l06165">ScalarEvolution.cpp:6165</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_a6721548d66d8050f223ef2c3685e0bbf"><div class="ttname"><a href="classllvm_1_1SCEV.html#a6721548d66d8050f223ef2c3685e0bbf">llvm::SCEV::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00138">ScalarEvolution.cpp:138</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_acfd7cc74125222a81c02b4097ed5166c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const KeyT &amp;Val) const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00143">DenseMap.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a30bd18ac905eacf3601bc6a553a9ff49"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a30bd18ac905eacf3601bc6a553a9ff49">llvm::ScalarEvolution::getSCEV</a></div><div class="ttdeci">const SCEV * getSCEV(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02742">ScalarEvolution.cpp:2742</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a7170e1b99a9c472642f756b8cf098afa"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a7170e1b99a9c472642f756b8cf098afa">PrintLoopInfo</a></div><div class="ttdeci">static void PrintLoopInfo(raw_ostream &amp;OS, ScalarEvolution *SE, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07317">ScalarEvolution.cpp:7317</a></div></div>
<div class="ttc" id="classllvm_1_1Argument_html_ac70153649461940646eeb8b9ce50e416"><div class="ttname"><a href="classllvm_1_1Argument.html#ac70153649461940646eeb8b9ce50e416">llvm::Argument::getArgNo</a></div><div class="ttdeci">unsigned getArgNo() const </div><div class="ttdoc">Return the index of this formal argument in its containing function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00067">Function.cpp:67</a></div></div>
<div class="ttc" id="namespacellvm_html_a738c0f9bfa56a3d53d75b67dd1182063"><div class="ttname"><a href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(Value *V, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00980">ValueTracking.cpp:980</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a57f47540fddb72feab9e8afd08f21611"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a57f47540fddb72feab9e8afd08f21611">llvm::APIntOps::shl</a></div><div class="ttdeci">APInt shl(const APInt &amp;LHS, unsigned shiftAmt)</div><div class="ttdoc">Left-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01797">APInt.h:1797</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a67e3312ddfdf05387059f6a221585205"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a67e3312ddfdf05387059f6a221585205">llvm::ConstantRange::zextOrTrunc</a></div><div class="ttdeci">ConstantRange zextOrTrunc(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00518">ConstantRange.cpp:518</a></div></div>
<div class="ttc" id="namespacellvm_html_a3e98ee8971fbf32f7f84f5a7399b5b67"><div class="ttname"><a href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">llvm::ConstantFoldInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldInstOperands(unsigned Opcode, Type *DestTy, ArrayRef&lt; Constant * &gt; Ops, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00954">ConstantFolding.cpp:954</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a6c03d18ed744dc3b34829ec5485a68b0"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a6c03d18ed744dc3b34829ec5485a68b0">llvm::ScalarEvolution::getUDivExpr</a></div><div class="ttdeci">const SCEV * getUDivExpr(const SCEV *LHS, const SCEV *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02126">ScalarEvolution.cpp:2126</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_af0336ea4c7f7f56354b2ca7c8859c1f9"><div class="ttname"><a href="classllvm_1_1APInt.html#af0336ea4c7f7f56354b2ca7c8859c1f9">llvm::APInt::countLeadingZeros</a></div><div class="ttdeci">unsigned countLeadingZeros() const </div><div class="ttdoc">The APInt version of the countLeadingZeros functions in MathExtras.h. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01340">APInt.h:1340</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ad8e4f5b2ced08ad7d138b598aefdd338"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad8e4f5b2ced08ad7d138b598aefdd338">llvm::ScalarEvolution::getUnknown</a></div><div class="ttdeci">const SCEV * getUnknown(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02629">ScalarEvolution.cpp:2629</a></div></div>
<div class="ttc" id="classllvm_1_1FoldingSetNodeID_html_a5f2f5efd4f3daf0fb866b65d067c4868"><div class="ttname"><a href="classllvm_1_1FoldingSetNodeID.html#a5f2f5efd4f3daf0fb866b65d067c4868">llvm::FoldingSetNodeID::Intern</a></div><div class="ttdeci">FoldingSetNodeIDRef Intern(BumpPtrAllocator &amp;Allocator) const </div><div class="ttdef"><b>Definition:</b> <a href="FoldingSet_8cpp_source.html#l00175">FoldingSet.cpp:175</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a9f7c88892cfe1646082bf6174a4b912ca01f7990cbee1565b32df02333aeffb9b">llvm::ScalarEvolution::LoopComputable</a></div><div class="ttdoc">The SCEV varies predictably with the loop. </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00179">ScalarEvolution.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ac7ccf429f5c75676bdacadf3c9d1c7fa"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac7ccf429f5c75676bdacadf3c9d1c7fa">llvm::ScalarEvolution::dominates</a></div><div class="ttdeci">bool dominates(const SCEV *S, const BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07588">ScalarEvolution.cpp:7588</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html_a5877c3a289aa71796140f54b73f654f7"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html#a5877c3a289aa71796140f54b73f654f7">llvm::SCEVNAryExpr::op_end</a></div><div class="ttdeci">op_iterator op_end() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00155">ScalarEvolutionExpressions.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1CallbackVH_html"><div class="ttname"><a href="classllvm_1_1CallbackVH.html">llvm::CallbackVH</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00341">ValueHandle.h:341</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdoc">unsigned greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00674">InstrTypes.h:674</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_html_a945cded5463e0ccd3cf5a6ac80542a94"><div class="ttname"><a href="namespacellvm.html#a945cded5463e0ccd3cf5a6ac80542a94">llvm::inst_end</a></div><div class="ttdeci">inst_iterator inst_end(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00129">InstIterator.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a6142fc5662411269a7ca0217f49f338c"><div class="ttname"><a href="classllvm_1_1APInt.html#a6142fc5662411269a7ca0217f49f338c">llvm::APInt::zext</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT zext(unsigned width) const </div><div class="ttdoc">Zero extend to a new width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00983">APInt.cpp:983</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a92fb0984f10499fff4a7c9b32de2a0a6"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a92fb0984f10499fff4a7c9b32de2a0a6">llvm::ScalarEvolution::getBlockDisposition</a></div><div class="ttdeci">BlockDisposition getBlockDisposition(const SCEV *S, const BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07506">ScalarEvolution.cpp:7506</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a32dd2633bd4f1c5243c9704a30db22d8"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a32dd2633bd4f1c5243c9704a30db22d8">llvm::ScalarEvolution::getTruncateOrZeroExtend</a></div><div class="ttdeci">const SCEV * getTruncateOrZeroExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02806">ScalarEvolution.cpp:2806</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="OcamlGCPrinter_8cpp_html_a1bdbcdc4205781eefd549946d40ff378"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;,&quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_afb58ec6af347a7917618ff9c01d729bf"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#afb58ec6af347a7917618ff9c01d729bf">llvm::ScalarEvolution::getNegativeSCEV</a></div><div class="ttdeci">const SCEV * getNegativeSCEV(const SCEV *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02765">ScalarEvolution.cpp:2765</a></div></div>
<div class="ttc" id="ScalarEvolution_8cpp_html_a250f5c0dbc15e78bded9c6bbd4354185"><div class="ttname"><a href="ScalarEvolution_8cpp.html#a250f5c0dbc15e78bded9c6bbd4354185">CanConstantFold</a></div><div class="ttdeci">static bool CanConstantFold(const Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l04740">ScalarEvolution.cpp:4740</a></div></div>
<div class="ttc" id="namespacellvm_html_a2a161545e317a30200a6db6df25dd8ed"><div class="ttname"><a href="namespacellvm.html#a2a161545e317a30200a6db6df25dd8ed">llvm::ConstantFoldLoadThroughGEPIndices</a></div><div class="ttdeci">Constant * ConstantFoldLoadThroughGEPIndices(Constant *C, ArrayRef&lt; Constant * &gt; Indices)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01161">ConstantFolding.cpp:1161</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_abfa1a24cb47fd5fedbc7109b905741a3"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#abfa1a24cb47fd5fedbc7109b905741a3">llvm::ScalarEvolution::getZeroExtendExpr</a></div><div class="ttdeci">const SCEV * getZeroExtendExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00901">ScalarEvolution.cpp:901</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a76eafaa98b54b2351dbd46792b93faa6"><div class="ttname"><a href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees the intrinsic needs to be extended to support and second the code generator needs to be enhanced to lower these to multiplication trees Interesting testcase for add shift mul int y</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00061">Target/README.txt:61</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ac258f0361a1c35f5814a2b529139d15c"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ac258f0361a1c35f5814a2b529139d15c">llvm::ScalarEvolution::hasComputableLoopEvolution</a></div><div class="ttdeci">bool hasComputableLoopEvolution(const SCEV *S, const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07501">ScalarEvolution.cpp:7501</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVNAryExpr_html"><div class="ttname"><a href="classllvm_1_1SCEVNAryExpr.html">llvm::SCEVNAryExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00133">ScalarEvolutionExpressions.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aa3e1005525fe79e631f1fe5bd91fdf3c"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aa3e1005525fe79e631f1fe5bd91fdf3c">llvm::ConstantExpr::getMul</a></div><div class="ttdeci">static Constant * getMul(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02062">Constants.cpp:2062</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_af9c39a4943cb1abe4cc142137ea854a3"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#af9c39a4943cb1abe4cc142137ea854a3">llvm::ConstantRange::getUnsignedMax</a></div><div class="ttdeci">APInt getUnsignedMax() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00160">ConstantRange.cpp:160</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a829bd04a95f833114e36a195c7e67f0a"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a829bd04a95f833114e36a195c7e67f0a">llvm::ScalarEvolution::getNoopOrAnyExtend</a></div><div class="ttdeci">const SCEV * getNoopOrAnyExtend(const SCEV *V, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02872">ScalarEvolution.cpp:2872</a></div></div>
<div class="ttc" id="classllvm_1_1SCEV_html_af43000d4dcb7d6d63cb6e36933ed3f6f"><div class="ttname"><a href="classllvm_1_1SCEV.html#af43000d4dcb7d6d63cb6e36933ed3f6f">llvm::SCEV::NoWrapFlags</a></div><div class="ttdeci">NoWrapFlags</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8h_source.html#l00094">ScalarEvolution.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVCastExpr_html_a84e9130d41f267f3f1bb29f432af267d"><div class="ttname"><a href="classllvm_1_1SCEVCastExpr.html#a84e9130d41f267f3f1bb29f432af267d">llvm::SCEVCastExpr::getOperand</a></div><div class="ttdeci">const SCEV * getOperand() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00066">ScalarEvolutionExpressions.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a1e1ce75d651c76b6869b4218e34618c8"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">llvm::ConstantExpr::getCast</a></div><div class="ttdeci">static Constant * getCast(unsigned ops, Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01444">Constants.cpp:1444</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a6467bd6bb128c8b69a478548fc17351c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a6467bd6bb128c8b69a478548fc17351c">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00078">DenseMap.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_ac8006a5da305ae0261abe2e018889f59"><div class="ttname"><a href="classllvm_1_1LoopBase.html#ac8006a5da305ae0261abe2e018889f59">llvm::LoopBase::rend</a></div><div class="ttdeci">reverse_iterator rend() const </div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00133">LoopInfo.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a7391ca35e3a370a408a9b1967b6a9832"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a7391ca35e3a370a408a9b1967b6a9832">llvm::ScalarEvolution::getNotSCEV</a></div><div class="ttdeci">const SCEV * getNotSCEV(const SCEV *V)</div><div class="ttdoc">getNotSCEV - Return a SCEV corresponding to ~V = -1-V </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l02777">ScalarEvolution.cpp:2777</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_ad5829d76e14852080c205f8b94d830f1"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#ad5829d76e14852080c205f8b94d830f1">llvm::ScalarEvolution::getMulExpr</a></div><div class="ttdeci">const SCEV * getMulExpr(SmallVectorImpl&lt; const SCEV * &gt; &amp;Ops, SCEV::NoWrapFlags Flags=SCEV::FlagAnyWrap)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01864">ScalarEvolution.cpp:1864</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa9537475b2b94f72ad6d5e8730dc40cb"><div class="ttname"><a href="classllvm_1_1APInt.html#aa9537475b2b94f72ad6d5e8730dc40cb">llvm::APInt::ule</a></div><div class="ttdeci">bool ule(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned less or equal comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01052">APInt.h:1052</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_a91ac801aa45c78e0d0edbc36115ef054"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#a91ac801aa45c78e0d0edbc36115ef054">llvm::ScalarEvolution::hasLoopInvariantBackedgeTakenCount</a></div><div class="ttdeci">bool hasLoopInvariantBackedgeTakenCount(const Loop *L)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l07313">ScalarEvolution.cpp:7313</a></div></div>
<div class="ttc" id="namespacellvm_html_a6569d00d31a5d74e563e2f39f82271ab"><div class="ttname"><a href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">llvm::X</a></div><div class="ttdeci">static RegisterPass&lt; NVPTXAllocaHoisting &gt; X(&quot;alloca-hoisting&quot;,&quot;Hoisting alloca instructions in non-entry &quot;&quot;blocks to the entry block&quot;)</div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="structllvm_1_1SCEVCouldNotCompute_html_ad3cca751f8e7a761a113ee2414a5c05c"><div class="ttname"><a href="structllvm_1_1SCEVCouldNotCompute.html#ad3cca751f8e7a761a113ee2414a5c05c">llvm::SCEVCouldNotCompute::classof</a></div><div class="ttdeci">static bool classof(const SCEV *S)</div><div class="ttdoc">Methods for support type inquiry through isa, cast, and dyn_cast: </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l00310">ScalarEvolution.cpp:310</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVAddRecExpr_html_abcef7196d3d3fa9d61a5a2516892c676"><div class="ttname"><a href="classllvm_1_1SCEVAddRecExpr.html#abcef7196d3d3fa9d61a5a2516892c676">llvm::SCEVAddRecExpr::isQuadratic</a></div><div class="ttdeci">bool isQuadratic() const </div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00318">ScalarEvolutionExpressions.h:318</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdoc">signed greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00679">InstrTypes.h:679</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110aac2f0a84dd2aa5ee4c3f1385e9565f5e">llvm::ISD::Constant</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00061">ISDOpcodes.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1SCEVConstant_html"><div class="ttname"><a href="classllvm_1_1SCEVConstant.html">llvm::SCEVConstant</a></div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolutionExpressions_8h_source.html#l00037">ScalarEvolutionExpressions.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1ScalarEvolution_html_aa35959e3f6bea8e35cffcfd8659e3156"><div class="ttname"><a href="classllvm_1_1ScalarEvolution.html#aa35959e3f6bea8e35cffcfd8659e3156">llvm::ScalarEvolution::getAnyExtendExpr</a></div><div class="ttdeci">const SCEV * getAnyExtendExpr(const SCEV *Op, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="ScalarEvolution_8cpp_source.html#l01311">ScalarEvolution.cpp:1311</a></div></div>
<div class="ttc" id="namespacellvm_html_ac828b9b52935f87659a4adf237f820a3"><div class="ttname"><a href="namespacellvm.html#ac828b9b52935f87659a4adf237f820a3">llvm::gep_type_begin</a></div><div class="ttdeci">gep_type_iterator gep_type_begin(const User *GEP)</div><div class="ttdef"><b>Definition:</b> <a href="GetElementPtrTypeIterator_8h_source.html#l00085">GetElementPtrTypeIterator.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a165498fe6617ba16904c4a68d39eec94"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a165498fe6617ba16904c4a68d39eec94">llvm::ConstantRange::getUnsignedMin</a></div><div class="ttdeci">APInt getUnsignedMin() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00169">ConstantRange.cpp:169</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:01:19 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
