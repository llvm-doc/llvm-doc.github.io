<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: Thumb2InstrInfo.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Thumb2InstrInfo_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Thumb2InstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Thumb2InstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- Thumb2InstrInfo.cpp - Thumb-2 Instruction Information -------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the Thumb-2 implementation of the TargetInstrInfo class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Thumb2InstrInfo_8h.html">Thumb2InstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARM_8h.html">ARM.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMConstantPoolValue_8h.html">ARMConstantPoolValue.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMAddressingModes_8h.html">MCTargetDesc/ARMAddressingModes.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<a class="code" href="Thumb2InstrInfo_8cpp.html#a55b657af4a070f688e43365c302f325f">OldT2IfCvt</a>(<span class="stringliteral">&quot;old-thumb2-ifcvt&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;           <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use old-style Thumb2 if-conversion heuristics&quot;</span>),</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;           <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#aa1902d86650dda33d140efdab7e03188">   33</a></span>&#160;<a class="code" href="classllvm_1_1Thumb2InstrInfo.html#aa1902d86650dda33d140efdab7e03188">Thumb2InstrInfo::Thumb2InstrInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMSubtarget.html">ARMSubtarget</a> &amp;STI)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  : <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a>(STI), RI(STI) {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// getNoopForMachoTarget - Return the noop instruction to use for a noop.</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#a360ecc469788972a1b94939b8e72be6a">   38</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a360ecc469788972a1b94939b8e72be6a">Thumb2InstrInfo::getNoopForMachoTarget</a>(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;NopInst)<span class="keyword"> const </span>{</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  NopInst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(ARM::tHINT);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  NopInst.<a class="code" href="classllvm_1_1MCInst.html#af5530910b07aa0c82adbc555dfc04fce">addOperand</a>(<a class="code" href="classllvm_1_1MCOperand.html#ad26f3c85c2f3b28caa4e9a7522e0d7bd">MCOperand::CreateImm</a>(0));</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  NopInst.<a class="code" href="classllvm_1_1MCInst.html#af5530910b07aa0c82adbc555dfc04fce">addOperand</a>(<a class="code" href="classllvm_1_1MCOperand.html#ad26f3c85c2f3b28caa4e9a7522e0d7bd">MCOperand::CreateImm</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  NopInst.<a class="code" href="classllvm_1_1MCInst.html#af5530910b07aa0c82adbc555dfc04fce">addOperand</a>(<a class="code" href="classllvm_1_1MCOperand.html#a53a76cafb36975cd8069ffa73beb86aa">MCOperand::CreateReg</a>(0));</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#aa22c3099150c0bba2f930077e6af8f5d">   45</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Thumb2InstrInfo.html#aa22c3099150c0bba2f930077e6af8f5d">Thumb2InstrInfo::getUnindexedOpcode</a>(<span class="keywordtype">unsigned</span> Opc)<span class="keyword"> const </span>{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// FIXME</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#ac89088c6e2603dd62865bc755981c01b">   51</a></span>&#160;<a class="code" href="classllvm_1_1Thumb2InstrInfo.html#ac89088c6e2603dd62865bc755981c01b">Thumb2InstrInfo::ReplaceTailWithBranchTo</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> Tail,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                         <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *NewDest)<span class="keyword"> const </span>{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = Tail-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">if</span> (!AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#afa0716122dd8f073d8f29f6d23c617cf">hasITBlocks</a>()) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classllvm_1_1TargetInstrInfo.html#a4ce2ca712a90bff9992be2257735ae60">TargetInstrInfo::ReplaceTailWithBranchTo</a>(Tail, NewDest);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// If the first instruction of Tail is predicated, we may have to update</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// the IT instruction.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">unsigned</span> PredReg = 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = <a class="code" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">getInstrPredicate</a>(Tail, PredReg);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI = Tail;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (CC != <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Expecting at least the t2IT instruction before it.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    --MBBI;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// Actually replace the tail.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classllvm_1_1TargetInstrInfo.html#a4ce2ca712a90bff9992be2257735ae60">TargetInstrInfo::ReplaceTailWithBranchTo</a>(Tail, NewDest);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Fix up IT.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> (CC != <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> E = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">unsigned</span> Count = 4; <span class="comment">// At most 4 instructions in an IT block.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">while</span> (Count &amp;&amp; MBBI != E) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">if</span> (MBBI-&gt;isDebugValue()) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        --MBBI;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">if</span> (MBBI-&gt;getOpcode() == ARM::t2IT) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">unsigned</span> Mask = MBBI-&gt;getOperand(1).getImm();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> (Count == 4)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;          MBBI-&gt;eraseFromParent();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          <span class="keywordtype">unsigned</span> MaskOn = 1 &lt;&lt; Count;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          <span class="keywordtype">unsigned</span> MaskOff = ~(MaskOn - 1);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          MBBI-&gt;getOperand(1).setImm((Mask &amp; MaskOff) | MaskOn);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      --MBBI;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      --Count;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// Ctrl flow can reach here if branch folding is run before IT block</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// formation pass.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#ac523eafb9a8cd6878170f07c48a2f15f">  102</a></span>&#160;<a class="code" href="classllvm_1_1Thumb2InstrInfo.html#ac523eafb9a8cd6878170f07c48a2f15f">Thumb2InstrInfo::isLegalToSplitMBBAt</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                     <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">while</span> (MBBI-&gt;isDebugValue()) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    ++MBBI;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (MBBI == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">unsigned</span> PredReg = 0;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a614cd1261ff9b62a08e078da82833912">getITInstrPredicate</a>(MBBI, PredReg) == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#a2aa3bf1e5c623e301e1a613521bc64b4">  114</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a2aa3bf1e5c623e301e1a613521bc64b4">Thumb2InstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                  <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                  <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Handle SPR, DPR, and QPR copies.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">if</span> (!ARM::GPRRegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a35dd53987c8b93e87a384016981da7b5">ARMBaseInstrInfo::copyPhysReg</a>(MBB, I, DL, DestReg, SrcReg, KillSrc);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::tMOVr), DestReg)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc)));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a9888dcaaed853b610b6482c897e2fd8b">Thumb2InstrInfo::</a></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#a9888dcaaed853b610b6482c897e2fd8b">  127</a></span>&#160;<a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a9888dcaaed853b610b6482c897e2fd8b">storeRegToStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FI,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) DL = I-&gt;getDebugLoc();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(<a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                            <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FI),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FI));</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;ARM::GPRRegClass   || RC == &amp;ARM::tGPRRegClass ||</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      RC == &amp;ARM::tcGPRRegClass || RC == &amp;ARM::rGPRRegClass ||</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      RC == &amp;ARM::GPRnopcRegClass) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::t2STRi12))</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                   .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">if</span> (ARM::GPRPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Thumb2 STRD expects its dest-registers to be in rGPR. Not a problem for</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// gsub_0, but needs an extra constraint for gsub_1 (which could be sp</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// otherwise).</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(SrcReg, &amp;ARM::GPRPair_with_gsub_1_in_rGPRRegClass);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::t2STRDi8));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_1, 0, TRI);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">ARMBaseInstrInfo::storeRegToStackSlot</a>(MBB, I, SrcReg, isKill, FI, RC, TRI);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a14b353a9a1740c0e51a0ad9e36285db9">Thumb2InstrInfo::</a></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classllvm_1_1Thumb2InstrInfo.html#a14b353a9a1740c0e51a0ad9e36285db9">  170</a></span>&#160;<a class="code" href="classllvm_1_1Thumb2InstrInfo.html#a14b353a9a1740c0e51a0ad9e36285db9">loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                     <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">int</span> FI,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(<a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI),</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                            <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FI),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FI));</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) DL = I-&gt;getDebugLoc();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (RC == &amp;ARM::GPRRegClass   || RC == &amp;ARM::tGPRRegClass ||</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      RC == &amp;ARM::tcGPRRegClass || RC == &amp;ARM::rGPRRegClass ||</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      RC == &amp;ARM::GPRnopcRegClass) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::t2LDRi12), DestReg)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (ARM::GPRPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Thumb2 LDRD expects its dest-registers to be in rGPR. Not a problem for</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// gsub_0, but needs an extra constraint for gsub_1 (which could be sp</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// otherwise).</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = &amp;MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(DestReg, &amp;ARM::GPRPair_with_gsub_1_in_rGPRRegClass);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::t2LDRDi8));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DestReg))</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">ARMBaseInstrInfo::loadRegFromStackSlot</a>(MBB, I, DestReg, FI, RC, TRI);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">  213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">llvm::emitT2RegPlusImmediate</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                               <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;MBBI, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                               <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> BaseReg, <span class="keywordtype">int</span> NumBytes,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                               <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred, <span class="keywordtype">unsigned</span> PredReg,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <span class="keywordtype">unsigned</span> MIFlags) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (NumBytes == 0 &amp;&amp; DestReg != BaseReg) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr), DestReg)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      .addReg(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">bool</span> isSub = NumBytes &lt; 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> (isSub) NumBytes = -NumBytes;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// If profitable, use a movw or movt to materialize the offset.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// FIXME: Use the scavenger to grab a scratch register.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (DestReg != ARM::SP &amp;&amp; DestReg != BaseReg &amp;&amp;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      NumBytes &gt;= 4096 &amp;&amp;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(NumBytes) == -1) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">bool</span> Fits = <span class="keyword">false</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (NumBytes &lt; 65536) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="comment">// Use a movw to materialize the 16-bit constant.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::t2MOVi16), DestReg)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        .addImm(NumBytes)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      Fits = <span class="keyword">true</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((NumBytes &amp; 0xffff) == 0) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// Use a movt to materialize the 32-bit constant.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::t2MOVTi16), DestReg)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        .addReg(DestReg)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(NumBytes &gt;&gt; 16)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      Fits = <span class="keyword">true</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (Fits) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">if</span> (isSub) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::t2SUBrr), DestReg)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          .addReg(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::t2ADDrr), DestReg)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          .addReg(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;          .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">while</span> (NumBytes) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">unsigned</span> ThisVal = NumBytes;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (DestReg == ARM::SP &amp;&amp; BaseReg != ARM::SP) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="comment">// mov sp, rn. Note t2MOVr cannot be used.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::tMOVr),DestReg)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        .addReg(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      BaseReg = ARM::SP;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">bool</span> HasCCOut = <span class="keyword">true</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (BaseReg == ARM::SP) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">// sub sp, sp, #imm7</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (DestReg == ARM::SP &amp;&amp; (ThisVal &lt; ((1 &lt;&lt; 7)-1) * 4)) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        assert((ThisVal &amp; 3) == 0 &amp;&amp; <span class="stringliteral">&quot;Stack update is not multiple of 4?&quot;</span>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        Opc = isSub ? ARM::tSUBspi : ARM::tADDspi;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(Opc), DestReg)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          .addReg(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(ThisVal/4).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        NumBytes = 0;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="comment">// sub rd, sp, so_imm</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      Opc = isSub ? ARM::t2SUBri : ARM::t2ADDri;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(NumBytes) != -1) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        NumBytes = 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// FIXME: Move this to ARMAddressingModes.h?</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordtype">unsigned</span> RotAmt = <a class="code" href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">countLeadingZeros</a>(ThisVal);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        ThisVal = ThisVal &amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">ARM_AM::rotr32</a>(0xff000000U, RotAmt);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        NumBytes &amp;= ~ThisVal;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        assert(<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(ThisVal) != -1 &amp;&amp;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;               <span class="stringliteral">&quot;Bit extraction didn&#39;t work?&quot;</span>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      assert(DestReg != ARM::SP &amp;&amp; BaseReg != ARM::SP);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      Opc = isSub ? ARM::t2SUBri : ARM::t2ADDri;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(NumBytes) != -1) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        NumBytes = 0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ThisVal &lt; 4096) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        Opc = isSub ? ARM::t2SUBri12 : ARM::t2ADDri12;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        HasCCOut = <span class="keyword">false</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        NumBytes = 0;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">// FIXME: Move this to ARMAddressingModes.h?</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordtype">unsigned</span> RotAmt = <a class="code" href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">countLeadingZeros</a>(ThisVal);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        ThisVal = ThisVal &amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">ARM_AM::rotr32</a>(0xff000000U, RotAmt);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        NumBytes &amp;= ~ThisVal;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        assert(<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(ThisVal) != -1 &amp;&amp;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;               <span class="stringliteral">&quot;Bit extraction didn&#39;t work?&quot;</span>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Build the new ADD / SUB.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(Opc), DestReg)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                     .addReg(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(ThisVal)).setMIFlags(MIFlags);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (HasCCOut)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(MIB);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    BaseReg = DestReg;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span></div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="Thumb2InstrInfo_8cpp.html#a6fb01b809d94239b330bfada484d3521">  334</a></span>&#160;<a class="code" href="Thumb2InstrInfo_8cpp.html#a6fb01b809d94239b330bfada484d3521">negativeOffsetOpcode</a>(<span class="keywordtype">unsigned</span> opcode)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">switch</span> (opcode) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:   <span class="keywordflow">return</span> ARM::t2LDRi8;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi12:  <span class="keywordflow">return</span> ARM::t2LDRHi8;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi12:  <span class="keywordflow">return</span> ARM::t2LDRBi8;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12: <span class="keywordflow">return</span> ARM::t2LDRSHi8;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi12: <span class="keywordflow">return</span> ARM::t2LDRSBi8;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi12:   <span class="keywordflow">return</span> ARM::t2STRi8;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi12:  <span class="keywordflow">return</span> ARM::t2STRBi8;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi12:  <span class="keywordflow">return</span> ARM::t2STRHi8;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi12:   <span class="keywordflow">return</span> ARM::t2PLDi8;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi8:</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi8:</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi8:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8:</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi8:</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi8:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi8:</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi8:</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi8:</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> opcode;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="Thumb2InstrInfo_8cpp.html#a803c53df7d127b52de6d827c5519d98a">  366</a></span>&#160;<a class="code" href="Thumb2InstrInfo_8cpp.html#a803c53df7d127b52de6d827c5519d98a">positiveOffsetOpcode</a>(<span class="keywordtype">unsigned</span> opcode)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">switch</span> (opcode) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi8:   <span class="keywordflow">return</span> ARM::t2LDRi12;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi8:  <span class="keywordflow">return</span> ARM::t2LDRHi12;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi8:  <span class="keywordflow">return</span> ARM::t2LDRBi12;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8: <span class="keywordflow">return</span> ARM::t2LDRSHi12;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi8: <span class="keywordflow">return</span> ARM::t2LDRSBi12;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi8:   <span class="keywordflow">return</span> ARM::t2STRi12;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi8:  <span class="keywordflow">return</span> ARM::t2STRBi12;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi8:  <span class="keywordflow">return</span> ARM::t2STRHi12;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi8:   <span class="keywordflow">return</span> ARM::t2PLDi12;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi12:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi12:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi12:</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi12:</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi12:</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi12:</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi12:</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> opcode;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="Thumb2InstrInfo_8cpp.html#add6aafb2c170f72f2459f5d92cc415f0">  398</a></span>&#160;<a class="code" href="Thumb2InstrInfo_8cpp.html#add6aafb2c170f72f2459f5d92cc415f0">immediateOffsetOpcode</a>(<span class="keywordtype">unsigned</span> opcode)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">switch</span> (opcode) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRs:   <span class="keywordflow">return</span> ARM::t2LDRi12;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHs:  <span class="keywordflow">return</span> ARM::t2LDRHi12;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBs:  <span class="keywordflow">return</span> ARM::t2LDRBi12;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHs: <span class="keywordflow">return</span> ARM::t2LDRSHi12;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBs: <span class="keywordflow">return</span> ARM::t2LDRSBi12;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRs:   <span class="keywordflow">return</span> ARM::t2STRi12;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBs:  <span class="keywordflow">return</span> ARM::t2STRBi12;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHs:  <span class="keywordflow">return</span> ARM::t2STRHi12;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDs:   <span class="keywordflow">return</span> ARM::t2PLDi12;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi12:</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi12:</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12:</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi12:</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi12:</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi12:</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi12:</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi12:</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi8:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRHi8:</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi8:</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8:</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi8:</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi8:</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBi8:</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHi8:</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">case</span> ARM::t2PLDi8:</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> opcode;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa7e3ca219769642a9d531a7102a5725a">  438</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa7e3ca219769642a9d531a7102a5725a">llvm::rewriteT2FrameIndex</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> FrameRegIdx,</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                               <span class="keywordtype">unsigned</span> FrameReg, <span class="keywordtype">int</span> &amp;Offset,</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4">AddrMode</a> = (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">ARMII::AddrModeMask</a>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordtype">bool</span> isSub = <span class="keyword">false</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// Memory operands in inline assembly always use AddrModeT2_i12.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">ARM::INLINEASM</a>)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    AddrMode = <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">ARMII::AddrModeT2_i12</a>; <span class="comment">// FIXME. mode for thumb2?</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (Opcode == ARM::t2ADDri || Opcode == ARM::t2ADDri12) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">unsigned</span> PredReg;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (Offset == 0 &amp;&amp; <a class="code" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">getInstrPredicate</a>(&amp;MI, PredReg) == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="comment">// Turn it into a move.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(ARM::tMOVr));</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// Remove offset and remaining explicit predicate operands.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">do</span> MI.<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(FrameRegIdx+1);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">while</span> (MI.<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &gt; FrameRegIdx+1);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(*MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>(), &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">bool</span> HasCCOut = Opcode != ARM::t2ADDri12;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      Offset = -Offset;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(ARM::t2SUBri));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(ARM::t2ADDri));</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// Common case: small offset, fits into instruction.</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(Offset) != -1) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(Offset);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">// Add cc_out operand if the original instruction did not have one.</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span> (!HasCCOut)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        MI.<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>));</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      Offset = 0;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// Another common case: imm12.</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (Offset &lt; 4096 &amp;&amp;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        (!HasCCOut || MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>()-1).<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>() == 0)) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordtype">unsigned</span> NewOpc = isSub ? ARM::t2SUBri12 : ARM::t2ADDri12;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(NewOpc));</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(Offset);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">// Remove the cc_out operand.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span> (HasCCOut)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        MI.<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>()-1);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      Offset = 0;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// Otherwise, extract 8 adjacent bits from the immediate into this</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// t2ADDri/t2SUBri.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">unsigned</span> RotAmt = countLeadingZeros&lt;unsigned&gt;(Offset);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordtype">unsigned</span> ThisImmVal = Offset &amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">ARM_AM::rotr32</a>(0xff000000U, RotAmt);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// We will handle these bits from offset, clear them.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    Offset &amp;= ~ThisImmVal;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    assert(<a class="code" href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">ARM_AM::getT2SOImmVal</a>(ThisImmVal) != -1 &amp;&amp;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;           <span class="stringliteral">&quot;Bit extraction didn&#39;t work?&quot;</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ThisImmVal);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Add cc_out operand if the original instruction did not have one.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (!HasCCOut)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">addOperand</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(0, <span class="keyword">false</span>));</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// AddrMode4 and AddrMode6 cannot handle any offset.</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">ARMII::AddrMode4</a> || AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">ARMII::AddrMode6</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// AddrModeT2_so cannot handle any offset. If there is no offset</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// register then we change to an immediate version.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordtype">unsigned</span> NewOpc = Opcode;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af53086c6fc70088a1be00db2e4e3c928">ARMII::AddrModeT2_so</a>) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordtype">unsigned</span> OffsetReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (OffsetReg != 0) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span> Offset == 0;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(FrameRegIdx+1);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(0);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      NewOpc = <a class="code" href="Thumb2InstrInfo_8cpp.html#add6aafb2c170f72f2459f5d92cc415f0">immediateOffsetOpcode</a>(Opcode);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      AddrMode = <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">ARMII::AddrModeT2_i12</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">unsigned</span> NumBits = 0;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordtype">unsigned</span> Scale = 1;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137">ARMII::AddrModeT2_i8</a> || AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">ARMII::AddrModeT2_i12</a>) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="comment">// i8 supports only negative, and i12 supports only positive, so</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="comment">// based on Offset sign convert Opcode to the appropriate</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="comment">// instruction</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        NewOpc = <a class="code" href="Thumb2InstrInfo_8cpp.html#a6fb01b809d94239b330bfada484d3521">negativeOffsetOpcode</a>(Opcode);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        NumBits = 8;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        Offset = -Offset;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        NewOpc = <a class="code" href="Thumb2InstrInfo_8cpp.html#a803c53df7d127b52de6d827c5519d98a">positiveOffsetOpcode</a>(Opcode);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        NumBits = 12;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">ARMII::AddrMode5</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// VFP address mode.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;OffOp = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordtype">int</span> InstrOffs = <a class="code" href="namespacellvm_1_1ARM__AM.html#a4a7164e76d0d8d5ec38ed60bddd77589">ARM_AM::getAM5Offset</a>(OffOp.<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#afdacdb74974f380adc2ba5381cce6026">ARM_AM::getAM5Op</a>(OffOp.<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>)</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        InstrOffs *= -1;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      NumBits = 8;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      Scale = 4;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      Offset += InstrOffs * 4;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      assert((Offset &amp; (Scale-1)) == 0 &amp;&amp; <span class="stringliteral">&quot;Can&#39;t encode this offset!&quot;</span>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        Offset = -Offset;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9">ARMII::AddrModeT2_i8s4</a>) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx + 1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() * 4;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      NumBits = 8;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">// MCInst operand has already scaled value.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      Scale = 1;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        Offset = -Offset;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported addressing mode!&quot;</span>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (NewOpc != Opcode)</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(NewOpc));</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImmOp = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Attempt to fold address computation</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Common case: small offset, fits into instruction.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordtype">int</span> ImmedOffset = Offset / Scale;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">unsigned</span> Mask = (1 &lt;&lt; NumBits) - 1;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)Offset &lt;= Mask * Scale) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="comment">// Replace the FrameIndex with fp/sp</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">if</span> (isSub) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">ARMII::AddrMode5</a>)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <span class="comment">// FIXME: Not consistent.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          ImmedOffset |= 1 &lt;&lt; NumBits;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          ImmedOffset = -ImmedOffset;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      ImmOp.<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ImmedOffset);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      Offset = 0;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// Otherwise, offset doesn&#39;t fit. Pull in what we can to simplify</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    ImmedOffset = ImmedOffset &amp; Mask;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (isSub) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">ARMII::AddrMode5</a>)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment">// FIXME: Not consistent.</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        ImmedOffset |= 1 &lt;&lt; NumBits;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        ImmedOffset = -ImmedOffset;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (ImmedOffset == 0)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          <span class="comment">// Change the opcode back if the encoded offset is zero.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;          MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(<a class="code" href="Thumb2InstrInfo_8cpp.html#a803c53df7d127b52de6d827c5519d98a">positiveOffsetOpcode</a>(NewOpc)));</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    ImmOp.<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ImmedOffset);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    Offset &amp;= ~(Mask*Scale);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  Offset = (isSub) ? -Offset : Offset;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">return</span> Offset == 0;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a></div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="namespacellvm.html#a614cd1261ff9b62a08e078da82833912">  626</a></span>&#160;<a class="code" href="namespacellvm.html#a614cd1261ff9b62a08e078da82833912">llvm::getITInstrPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <span class="keywordtype">unsigned</span> &amp;PredReg) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordtype">unsigned</span> Opc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">if</span> (Opc == ARM::tBcc || Opc == ARM::t2Bcc)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">getInstrPredicate</a>(MI, PredReg);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af702eee696ab1ffa7fe57113786b794a"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">llvm::ARMBaseInstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">virtual void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00784">ARMBaseInstrInfo.cpp:784</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdoc">The memory access reads data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00093">MachineMemOperand.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="MachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdoc">The memory access writes data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00095">MachineMemOperand.h:95</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html_a53a76cafb36975cd8069ffa73beb86aa"><div class="ttname"><a href="classllvm_1_1MCOperand.html#a53a76cafb36975cd8069ffa73beb86aa">llvm::MCOperand::CreateReg</a></div><div class="ttdeci">static MCOperand CreateReg(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00111">MCInst.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7db02b21d284294b8d9369803fe1c13b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">llvm::MachineOperand::ChangeToRegister</a></div><div class="ttdeci">void ChangeToRegister(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isDebug=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00129">MachineInstr.cpp:129</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="ARMMachineFunctionInfo_8h_html"><div class="ttname"><a href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aac36edc9860bf2e7660f86928836fc63"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, unsigned f, uint64_t s, unsigned base_alignment, const MDNode *TBAAInfo=0, const MDNode *Ranges=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00224">MachineFunction.cpp:224</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="namespacellvm_html_ae59f84da43ddc1b247716625b3b31dfb"><div class="ttname"><a href="namespacellvm.html#ae59f84da43ddc1b247716625b3b31dfb">llvm::emitT2RegPlusImmediate</a></div><div class="ttdeci">void emitT2RegPlusImmediate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;MBBI, DebugLoc dl, unsigned DestReg, unsigned BaseReg, int NumBytes, ARMCC::CondCodes Pred, unsigned PredReg, const ARMBaseInstrInfo &amp;TII, unsigned MIFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00213">Thumb2InstrInfo.cpp:213</a></div></div>
<div class="ttc" id="Thumb2InstrInfo_8cpp_html_a6fb01b809d94239b330bfada484d3521"><div class="ttname"><a href="Thumb2InstrInfo_8cpp.html#a6fb01b809d94239b330bfada484d3521">negativeOffsetOpcode</a></div><div class="ttdeci">static unsigned negativeOffsetOpcode(unsigned opcode)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00334">Thumb2InstrInfo.cpp:334</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a976ddbecac99af6819d058790e33e137">llvm::ARMII::AddrModeT2_i8</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00247">ARMBaseInfo.h:247</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a803a7424877fd049679b9aa2f07597b5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">llvm::MachineInstr::getDesc</a></div><div class="ttdeci">const MCInstrDesc &amp; getDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00257">MachineInstr.h:257</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af3a6218c9c9bd03381633c799e5226d9">llvm::ARMII::AddrModeT2_i8s4</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00250">ARMBaseInfo.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_ac89088c6e2603dd62865bc755981c01b"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#ac89088c6e2603dd62865bc755981c01b">llvm::Thumb2InstrInfo::ReplaceTailWithBranchTo</a></div><div class="ttdeci">void ReplaceTailWithBranchTo(MachineBasicBlock::iterator Tail, MachineBasicBlock *NewDest) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00051">Thumb2InstrInfo.cpp:51</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a46e0fcca2366f30d5e35b3d7dcb9c65f"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">llvm::MCInstrDesc::TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00145">MCInstrDesc.h:145</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">llvm::ARM_AM::sub</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00037">ARMAddressingModes.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">llvm::ARMII::AddrMode4</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00239">ARMBaseInfo.h:239</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00040">MachineInstrBuilder.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="namespacellvm_html_a614cd1261ff9b62a08e078da82833912"><div class="ttname"><a href="namespacellvm.html#a614cd1261ff9b62a08e078da82833912">llvm::getITInstrPredicate</a></div><div class="ttdeci">ARMCC::CondCodes getITInstrPredicate(const MachineInstr *MI, unsigned &amp;PredReg)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00626">Thumb2InstrInfo.cpp:626</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_acb492206d94d8f8179f797d4c7966ba9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(int FI, int64_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00404">MachineInstr.cpp:404</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a6d968947f2037095847dd5721335f6a6"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">llvm::ARM_AM::rotr32</a></div><div class="ttdeci">static unsigned rotr32(unsigned Val, unsigned Amt)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00086">ARMAddressingModes.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a35dd53987c8b93e87a384016981da7b5"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a35dd53987c8b93e87a384016981da7b5">llvm::ARMBaseInstrInfo::copyPhysReg</a></div><div class="ttdeci">virtual void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, DebugLoc DL, unsigned DestReg, unsigned SrcReg, bool KillSrc) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00650">ARMBaseInstrInfo.cpp:650</a></div></div>
<div class="ttc" id="Thumb2InstrInfo_8cpp_html_a55b657af4a070f688e43365c302f325f"><div class="ttname"><a href="Thumb2InstrInfo_8cpp.html#a55b657af4a070f688e43365c302f325f">OldT2IfCvt</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; OldT2IfCvt(&quot;old-thumb2-ifcvt&quot;, cl::Hidden, cl::desc(&quot;Use old-style Thumb2 if-conversion heuristics&quot;), cl::init(false))</div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="namespacellvm_html_abf7336821a22d9da733af010b2f39089"><div class="ttname"><a href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">llvm::AddDefaultPred</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultPred(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00324">ARMBaseInstrInfo.h:324</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a18124eff2d5106b9bf041f948a1912cc"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00560">MachineOperand.h:560</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_ac523eafb9a8cd6878170f07c48a2f15f"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#ac523eafb9a8cd6878170f07c48a2f15f">llvm::Thumb2InstrInfo::isLegalToSplitMBBAt</a></div><div class="ttdeci">bool isLegalToSplitMBBAt(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00102">Thumb2InstrInfo.cpp:102</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="Thumb2InstrInfo_8h_html"><div class="ttname"><a href="Thumb2InstrInfo_8h.html">Thumb2InstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html">llvm::ARMBaseInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00030">ARMBaseInstrInfo.h:30</a></div></div>
<div class="ttc" id="namespacellvm_html_a85acbc71797c5df4b82f6c527ff9ad1a"><div class="ttname"><a href="namespacellvm.html#a85acbc71797c5df4b82f6c527ff9ad1a">llvm::countLeadingZeros</a></div><div class="ttdeci">enable_if_c&lt; std::numeric_limits&lt; T &gt;::is_integer &amp;&amp;!std::numeric_limits&lt; T &gt;::is_signed, std::size_t &gt;::type countLeadingZeros(T Val, ZeroBehavior ZB=ZB_Width)</div><div class="ttdoc">Count number of 0&amp;#39;s from the most significant bit to the least stopping at the first 1...</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00120">MathExtras.h:120</a></div></div>
<div class="ttc" id="namespacellvm_html_aa7e3ca219769642a9d531a7102a5725a"><div class="ttname"><a href="namespacellvm.html#aa7e3ca219769642a9d531a7102a5725a">llvm::rewriteT2FrameIndex</a></div><div class="ttdeci">bool rewriteT2FrameIndex(MachineInstr &amp;MI, unsigned FrameRegIdx, unsigned FrameReg, int &amp;Offset, const ARMBaseInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00438">Thumb2InstrInfo.cpp:438</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">llvm::ISD::INLINEASM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00513">ISDOpcodes.h:513</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a001a88e1d71c2e11ccd57efe75da4af3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">llvm::MachineInstr::RemoveOperand</a></div><div class="ttdeci">void RemoveOperand(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00717">MachineInstr.cpp:717</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a70b6f0b420385853a70713cb288c3292"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a70b6f0b420385853a70713cb288c3292">llvm::ARM_AM::getT2SOImmVal</a></div><div class="ttdeci">static int getT2SOImmVal(unsigned Arg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00314">ARMAddressingModes.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a4312b4757ac75bf9be905acfeefd6838"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(unsigned Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00052">MachineRegisterInfo.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00150">MCInst.h:150</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa7e43fc5b201a1cc5b2b0f1f72963dd2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">llvm::MachineOperand::ChangeToImmediate</a></div><div class="ttdeci">void ChangeToImmediate(int64_t ImmVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00112">MachineInstr.cpp:112</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_a14b353a9a1740c0e51a0ad9e36285db9"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#a14b353a9a1740c0e51a0ad9e36285db9">llvm::Thumb2InstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00170">Thumb2InstrInfo.cpp:170</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html">llvm::ARMSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00031">ARMSubtarget.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="namespacellvm_html_aee7a1f8a965c68c02b5628e9b261197e"><div class="ttname"><a href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">llvm::getInstrPredicate</a></div><div class="ttdeci">ARMCC::CondCodes getInstrPredicate(const MachineInstr *MI, unsigned &amp;PredReg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01619">ARMBaseInstrInfo.cpp:1619</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a4a7164e76d0d8d5ec38ed60bddd77589"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a4a7164e76d0d8d5ec38ed60bddd77589">llvm::ARM_AM::getAM5Offset</a></div><div class="ttdeci">static unsigned char getAM5Offset(unsigned AM5Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00496">ARMAddressingModes.h:496</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4af53086c6fc70088a1be00db2e4e3c928"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4af53086c6fc70088a1be00db2e4e3c928">llvm::ARMII::AddrModeT2_so</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00248">ARMBaseInfo.h:248</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="MCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aabc17a35420fd0015b8cc5e6e51112fc"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">llvm::MachineInstrBuilder::setMIFlags</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlags(unsigned Flags) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00181">MachineInstrBuilder.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_aa1902d86650dda33d140efdab7e03188"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#aa1902d86650dda33d140efdab7e03188">llvm::Thumb2InstrInfo::Thumb2InstrInfo</a></div><div class="ttdeci">Thumb2InstrInfo(const ARMSubtarget &amp;STI)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00033">Thumb2InstrInfo.cpp:33</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="Thumb2InstrInfo_8cpp_html_add6aafb2c170f72f2459f5d92cc415f0"><div class="ttname"><a href="Thumb2InstrInfo_8cpp.html#add6aafb2c170f72f2459f5d92cc415f0">immediateOffsetOpcode</a></div><div class="ttdeci">static unsigned immediateOffsetOpcode(unsigned opcode)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00398">Thumb2InstrInfo.cpp:398</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="namespacellvm_html_a8b9edb9ece6ca4b10c73ae93a487c600"><div class="ttname"><a href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">llvm::AddDefaultCC</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultCC(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00329">ARMBaseInstrInfo.h:329</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_ae844d6ff99f067e6672e004ed7613c24"><div class="ttname"><a href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">llvm::MCInst::setOpcode</a></div><div class="ttdeci">void setOpcode(unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00157">MCInst.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1ecb35298bc4d1fe03997959e1210c87"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00984">MachineInstr.h:984</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a469e271fba3a9b52dad4fa54eaf44e2b"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a469e271fba3a9b52dad4fa54eaf44e2b">llvm::MachineInstr::addOperand</a></div><div class="ttdeci">void addOperand(MachineFunction &amp;MF, const MachineOperand &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00622">MachineInstr.cpp:622</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">llvm::ARMII::AddrMode6</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00241">ARMBaseInfo.h:241</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_addb6fc7e52f4fd59156260c2531298a4"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">llvm::ARMBaseInstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">virtual void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00975">ARMBaseInstrInfo.cpp:975</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">llvm::ARMII::AddrMode5</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00240">ARMBaseInfo.h:240</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">llvm::ARMCC::CondCodes</a></div><div class="ttdeci">CondCodes</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00029">ARMBaseInfo.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_ae146d6827dae2ff77fc65b7fd319dbb8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">llvm::MachineFrameInfo::getObjectAlignment</a></div><div class="ttdeci">unsigned getObjectAlignment(int ObjectIdx) const </div><div class="ttdoc">getObjectAlignment - Return the alignment of the specified stack object. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00361">MachineFrameInfo.h:361</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a626648c4c0b3a79d0128473f3b72b88d"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00104">MachineInstrBuilder.h:104</a></div></div>
<div class="ttc" id="ARM_8h_html"><div class="ttname"><a href="ARM_8h.html">ARM.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4">llvm::ARMII::AddrMode</a></div><div class="ttdeci">AddrMode</div><div class="ttdoc">ARM Addressing Modes. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00234">ARMBaseInfo.h:234</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">llvm::ARMII::AddrModeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00325">ARMBaseInfo.h:325</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a055858b14215864ed367a8db6c19d6f6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">llvm::TargetRegisterInfo::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00280">TargetRegisterInfo.h:280</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="Thumb2InstrInfo_8cpp_html_a803c53df7d127b52de6d827c5519d98a"><div class="ttname"><a href="Thumb2InstrInfo_8cpp.html#a803c53df7d127b52de6d827c5519d98a">positiveOffsetOpcode</a></div><div class="ttdeci">static unsigned positiveOffsetOpcode(unsigned opcode)</div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00366">Thumb2InstrInfo.cpp:366</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html_ad26f3c85c2f3b28caa4e9a7522e0d7bd"><div class="ttname"><a href="classllvm_1_1MCOperand.html#ad26f3c85c2f3b28caa4e9a7522e0d7bd">llvm::MCOperand::CreateImm</a></div><div class="ttdeci">static MCOperand CreateImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00117">MCInst.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html">llvm::ARMFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00027">ARMMachineFunctionInfo.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_a2aa3bf1e5c623e301e1a613521bc64b4"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#a2aa3bf1e5c623e301e1a613521bc64b4">llvm::Thumb2InstrInfo::copyPhysReg</a></div><div class="ttdeci">void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, DebugLoc DL, unsigned DestReg, unsigned SrcReg, bool KillSrc) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00114">Thumb2InstrInfo.cpp:114</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a384beeba0ba566bd452979f538197559"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00154">MachineInstrBuilder.h:154</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="AArch64Disassembler_8cpp_html_a30bccd0ebacd9892c243f7bd520e4aa0"><div class="ttname"><a href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a></div><div class="ttdeci">static unsigned getReg(const void *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Disassembler_8cpp_source.html#l00299">AArch64Disassembler.cpp:299</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_afa0716122dd8f073d8f29f6d23c617cf"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#afa0716122dd8f073d8f29f6d23c617cf">llvm::ARMFunctionInfo::hasITBlocks</a></div><div class="ttdeci">bool hasITBlocks() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00208">ARMMachineFunctionInfo.h:208</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">llvm::ARMCC::AL</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00044">ARMBaseInfo.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a4f27c00983ba7efdb7177e52c27584b9">llvm::ARMII::AddrModeT2_i12</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00246">ARMBaseInfo.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_afdacdb74974f380adc2ba5381cce6026"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#afdacdb74974f380adc2ba5381cce6026">llvm::ARM_AM::getAM5Op</a></div><div class="ttdeci">static AddrOpc getAM5Op(unsigned AM5Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00499">ARMAddressingModes.h:499</a></div></div>
<div class="ttc" id="ARMConstantPoolValue_8h_html"><div class="ttname"><a href="ARMConstantPoolValue_8h.html">ARMConstantPoolValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_a360ecc469788972a1b94939b8e72be6a"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#a360ecc469788972a1b94939b8e72be6a">llvm::Thumb2InstrInfo::getNoopForMachoTarget</a></div><div class="ttdeci">void getNoopForMachoTarget(MCInst &amp;NopInst) const </div><div class="ttdoc">getNoopForMachoTarget - Return the noop instruction to use for a noop. </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00038">Thumb2InstrInfo.cpp:38</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_af5530910b07aa0c82adbc555dfc04fce"><div class="ttname"><a href="classllvm_1_1MCInst.html#af5530910b07aa0c82adbc555dfc04fce">llvm::MCInst::addOperand</a></div><div class="ttdeci">void addOperand(const MCOperand &amp;Op)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00167">MCInst.h:167</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_a9888dcaaed853b610b6482c897e2fd8b"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#a9888dcaaed853b610b6482c897e2fd8b">llvm::Thumb2InstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00127">Thumb2InstrInfo.cpp:127</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a4ce2ca712a90bff9992be2257735ae60"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a4ce2ca712a90bff9992be2257735ae60">llvm::TargetInstrInfo::ReplaceTailWithBranchTo</a></div><div class="ttdeci">virtual void ReplaceTailWithBranchTo(MachineBasicBlock::iterator Tail, MachineBasicBlock *NewDest) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00099">TargetInstrInfo.cpp:99</a></div></div>
<div class="ttc" id="classllvm_1_1Thumb2InstrInfo_html_aa22c3099150c0bba2f930077e6af8f5d"><div class="ttname"><a href="classllvm_1_1Thumb2InstrInfo.html#aa22c3099150c0bba2f930077e6af8f5d">llvm::Thumb2InstrInfo::getUnindexedOpcode</a></div><div class="ttdeci">unsigned getUnindexedOpcode(unsigned Opc) const </div><div class="ttdef"><b>Definition:</b> <a href="Thumb2InstrInfo_8cpp_source.html#l00045">Thumb2InstrInfo.cpp:45</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="ARMAddressingModes_8h_html"><div class="ttname"><a href="ARMAddressingModes_8h.html">ARMAddressingModes.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a43386af65581b8de506f3b57ba6c05b0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00347">MachineFrameInfo.h:347</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ab6c13295692da4a356c2e62ba6910b2a"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">llvm::ARMBaseInstrInfo::AddDReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; AddDReg(MachineInstrBuilder &amp;MIB, unsigned Reg, unsigned SubIdx, unsigned State, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00772">ARMBaseInstrInfo.cpp:772</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">llvm::RegState::DefineNoRead</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00039">MachineInstrBuilder.h:39</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:02:54 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
