<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: PPCMachObjectWriter.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PPCMachObjectWriter_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PPCMachObjectWriter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPCMachObjectWriter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- PPCMachObjectWriter.cpp - PPC Mach-O Writer -----------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCMCTargetDesc_8h.html">MCTargetDesc/PPCMCTargetDesc.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCFixupKinds_8h.html">MCTargetDesc/PPCFixupKinds.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmLayout_8h.html">llvm/MC/MCAsmLayout.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAssembler_8h.html">llvm/MC/MCAssembler.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCMachObjectWriter_8h.html">llvm/MC/MCMachObjectWriter.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSectionMachO_8h.html">llvm/MC/MCSectionMachO.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCValue_8h.html">llvm/MC/MCValue.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Format_8h.html">llvm/Support/Format.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2MachO_8h.html">llvm/Support/MachO.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span>PPCMachObjectWriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCMachObjectTargetWriter.html">MCMachObjectTargetWriter</a> {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordtype">bool</span> RecordScatteredRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup, <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                 <span class="keywordtype">unsigned</span> Log2Size, uint64_t &amp;FixedValue);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">void</span> RecordPPCRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                           <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>, uint64_t &amp;FixedValue);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  PPCMachObjectWriter(<span class="keywordtype">bool</span> Is64Bit, uint32_t <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">CPUType</a>, uint32_t CPUSubtype)</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      : <a class="code" href="classllvm_1_1MCMachObjectTargetWriter.html">MCMachObjectTargetWriter</a>(Is64Bit, CPUType, CPUSubtype,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                 <span class="comment">/*UseAggressiveSymbolFolding=*/</span>Is64Bit) {}</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordtype">void</span> RecordRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup, <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                        uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a950abdfc136ed951fc5f0c0340fe5670">is64Bit</a>()) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Relocation emission for MachO/PPC64 unimplemented.&quot;</span>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      RecordPPCRelocation(Writer, Asm, Layout, Fragment, Fixup, Target,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                          FixedValue);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// computes the log2 of the size of the relocation,</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// used for relocation_info::r_length.</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="PPCMachObjectWriter_8cpp.html#af0ae46ffe17cde83585d7b7479f6e2a9">   59</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCMachObjectWriter_8cpp.html#af0ae46ffe17cde83585d7b7479f6e2a9">getFixupKindLog2Size</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">Kind</a>) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;log2size(FixupKind): Unhandled fixup kind!&quot;</span>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58ac6095ed6f2c30887aef8adc449b1efa5">FK_PCRel_1</a>:</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e">FK_Data_1</a>:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a11803cd0814af72a9d078ac0f7a33137">FK_PCRel_2</a>:</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7">FK_Data_2</a>:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a0f7a8485c2c761bc5e870fe2b6466372">FK_PCRel_4</a>:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a7c601a9dd02f749390ca0dc194c22e0f">PPC::fixup_ppc_brcond14</a>:</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd">PPC::fixup_ppc_half16</a>:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a058440145aa9ecc1725824fc1a47d50d">PPC::fixup_ppc_br24</a>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d">FK_Data_4</a>:</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a7fa4d5bb1573ffbf54e99ae1fe36ad6e">FK_PCRel_8</a>:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe">FK_Data_8</a>:</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/// Translates generic PPC fixup kind to Mach-O/PPC relocation type enum.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// Outline based on PPCELFObjectWriter::getRelocTypeInner().</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="PPCMachObjectWriter_8cpp.html#af2721ba8b8b3dbb5af450ab902fd6eac">   84</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCMachObjectWriter_8cpp.html#af2721ba8b8b3dbb5af450ab902fd6eac">getRelocType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> &amp;<a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                             <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58">MCFixupKind</a> <a class="code" href="namespacellvm_1_1SystemZ.html#acdd1cc3b030808a5dfb5391dd85c9c1f">FixupKind</a>, <span class="comment">// from</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                                          <span class="comment">// Fixup.getKind()</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">bool</span> IsPCRel) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3">MCSymbolRefExpr::VariantKind</a> Modifier =</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      Target.<a class="code" href="classllvm_1_1MCValue.html#af95b44f4eb2141bca657c80972f3bae9">isAbsolute</a>() ? <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a01bc6396c4d841a7ea268c3cbf62d3b3">MCSymbolRefExpr::VK_None</a></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                          : Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#a9a2a5ba2cd468f5cf2a1648b6640e455">getKind</a>();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// determine the type of the relocation</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa73b7678d1078f7640dc5c2d3c7de0fe3">MachO::GENERIC_RELOC_VANILLA</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (IsPCRel) { <span class="comment">// relative to PC</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span>)FixupKind) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Unimplemented fixup kind (relative)&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a058440145aa9ecc1725824fc1a47d50d">PPC::fixup_ppc_br24</a>:</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa96c3040ff6343ddee597d0caa004d00f">MachO::PPC_RELOC_BR24</a>; <span class="comment">// R_PPC_REL24</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a7c601a9dd02f749390ca0dc194c22e0f">PPC::fixup_ppc_brcond14</a>:</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bface1108f2d0143e64c15735c00bf07e8a">MachO::PPC_RELOC_BR14</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd">PPC::fixup_ppc_half16</a>:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">switch</span> (Modifier) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported modifier for half16 fixup&quot;</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a8b7bdf367ac57c04cfe5fc65738f8746">MCSymbolRefExpr::VK_PPC_HA</a>:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaa732f06a8e3839ce8fd7dff58cb123e6">MachO::PPC_RELOC_HA16</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a2de16a7019f22064bed686092ccc8697">MCSymbolRefExpr::VK_PPC_LO</a>:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9a5b7dcaa0cc19e84d0ba37504efffe2">MachO::PPC_RELOC_LO16</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a48fe9f2486a3c190a9f1f32063d6c6bd">MCSymbolRefExpr::VK_PPC_HI</a>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa1e1df4a3e116917fd0d53cc55d4541ea">MachO::PPC_RELOC_HI16</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span>)FixupKind) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Unimplemented fixup kind (absolute)!&quot;</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd">PPC::fixup_ppc_half16</a>:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">switch</span> (Modifier) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported modifier for half16 fixup&quot;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a8b7bdf367ac57c04cfe5fc65738f8746">MCSymbolRefExpr::VK_PPC_HA</a>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa2510fe22e416d9d0c4195a4d7ffa70ac">MachO::PPC_RELOC_HA16_SECTDIFF</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a2de16a7019f22064bed686092ccc8697">MCSymbolRefExpr::VK_PPC_LO</a>:</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9172840eef1a7605f77f266cfa437918">MachO::PPC_RELOC_LO16_SECTDIFF</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a48fe9f2486a3c190a9f1f32063d6c6bd">MCSymbolRefExpr::VK_PPC_HI</a>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfadf684b4a3359328c9cd698e7282e6298">MachO::PPC_RELOC_HI16_SECTDIFF</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d">FK_Data_4</a>:</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7">FK_Data_2</a>:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="COFFYAML_8cpp.html#a1a011fb5306c47e04b6b5c28a8f593f4">Type</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="PPCMachObjectWriter_8cpp.html#aef0e1df5355049e58396f133d301c6d0">  147</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="PPCMachObjectWriter_8cpp.html#aef0e1df5355049e58396f133d301c6d0">makeRelocationInfo</a>(<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> &amp;MRE,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                               <span class="keyword">const</span> uint32_t FixupOffset, <span class="keyword">const</span> uint32_t Index,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IsPCRel, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Log2Size,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IsExtern, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a>) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = FixupOffset;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// The bitfield offsets that work (as determined by trial-and-error)</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// are different than what is documented in the mach-o manuals.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// This appears to be an endianness issue; reversing the order of the</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// documented bitfields in &lt;llvm/Support/MachO.h&gt; fixes this (but</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// breaks x86/ARM assembly).</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = ((Index &lt;&lt; 8) |    <span class="comment">// was &lt;&lt; 0</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                 (IsPCRel &lt;&lt; 7) |  <span class="comment">// was &lt;&lt; 24</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                 (Log2Size &lt;&lt; 5) | <span class="comment">// was &lt;&lt; 25</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                 (IsExtern &lt;&lt; 4) | <span class="comment">// was &lt;&lt; 27</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                 (Type &lt;&lt; 0));     <span class="comment">// was &lt;&lt; 28</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="PPCMachObjectWriter_8cpp.html#a4be734da3ffaf479424f827be365653d">  165</a></span>&#160;<a class="code" href="PPCMachObjectWriter_8cpp.html#a4be734da3ffaf479424f827be365653d">makeScatteredRelocationInfo</a>(<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> &amp;MRE,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                            <span class="keyword">const</span> uint32_t Addr, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a>,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Log2Size, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IsPCRel,</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                            <span class="keyword">const</span> uint32_t Value2) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// For notes on bitfield positions and endianness, see:</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// https://developer.apple.com/library/mac/documentation/developertools/conceptual/MachORuntime/Reference/reference.html#//apple_ref/doc/uid/20001298-scattered_relocation_entry</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = ((Addr &lt;&lt; 0) | (Type &lt;&lt; 24) | (Log2Size &lt;&lt; 28) |</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                 (IsPCRel &lt;&lt; 30) | MachO::R_SCATTERED);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = Value2;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// Compute fixup offset (address).</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="PPCMachObjectWriter_8cpp.html#a5990cba9a2e427b821014acb02c08e5a">  177</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> uint32_t <a class="code" href="PPCMachObjectWriter_8cpp.html#a5990cba9a2e427b821014acb02c08e5a">getFixupOffset</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  uint32_t FixupOffset = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment) + Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// On Mach-O, ppc_fixup_half16 relocations must refer to the</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// start of the instruction, not the second halfword, as ELF does</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>()) == <a class="code" href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd">PPC::fixup_ppc_half16</a>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    FixupOffset &amp;= ~uint32_t(3);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> FixupOffset;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/// \return false if falling back to using non-scattered relocation,</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/// otherwise true for normal scattered relocation.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/// based on X86MachObjectWriter::RecordScatteredRelocation</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">/// and ARMMachObjectWriter::RecordScatteredRelocation</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> PPCMachObjectWriter::RecordScatteredRelocation(</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup, <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">unsigned</span> Log2Size, uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// caller already computes these, can we just pass and reuse?</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keyword">const</span> uint32_t FixupOffset = <a class="code" href="PPCMachObjectWriter_8cpp.html#a5990cba9a2e427b821014acb02c08e5a">getFixupOffset</a>(Layout, Fragment, Fixup);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58">MCFixupKind</a> FK = Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> IsPCRel = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">isFixupKindPCRel</a>(Asm, FK);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="PPCMachObjectWriter_8cpp.html#af2721ba8b8b3dbb5af450ab902fd6eac">getRelocType</a>(Target, FK, IsPCRel);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// Is this a local or SECTDIFF relocation entry?</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// SECTDIFF relocation entries have symbol subtractions,</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// and require two entries, the first for the add-symbol value,</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// the second for the subtract-symbol value.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// See &lt;reloc.h&gt;.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = &amp;Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *A_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(*A);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (!A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;symbol &#39;&quot;</span> + A-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">getName</a>() +</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                       <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  uint32_t <a class="code" href="classllvm_1_1Value.html">Value</a> = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(A_SD, Layout);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  uint64_t SecAddr =</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  FixedValue += SecAddr;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  uint32_t Value2 = 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *B_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol());</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (!B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;symbol &#39;&quot;</span> + <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol().getName() +</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                         <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// FIXME: is Type correct? see include/llvm/Support/MachO.h</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    Value2 = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(B_SD, Layout);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    FixedValue -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// FIXME: does FixedValue get used??</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Relocations are written out in reverse order, so the PAIR comes first.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa1d7cbb89640062957a5dac7eb9b66fa5">MachO::PPC_RELOC_SECTDIFF</a> ||</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfadf684b4a3359328c9cd698e7282e6298">MachO::PPC_RELOC_HI16_SECTDIFF</a> ||</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9172840eef1a7605f77f266cfa437918">MachO::PPC_RELOC_LO16_SECTDIFF</a> ||</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa2510fe22e416d9d0c4195a4d7ffa70ac">MachO::PPC_RELOC_HA16_SECTDIFF</a> ||</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa834845bb53d1916c60de0d322b325e07">MachO::PPC_RELOC_LO14_SECTDIFF</a> ||</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa7bc54d77ddce182eb6cfb00b128cb151">MachO::PPC_RELOC_LOCAL_SECTDIFF</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// X86 had this piece, but ARM does not</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// If the offset is too large to fit in a scattered relocation,</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// we&#39;re hosed. It&#39;s an unfortunate limitation of the MachO format.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (FixupOffset &gt; 0xffffff) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordtype">char</span> Buffer[32];</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;0x%x&quot;</span>, FixupOffset).print(Buffer, <span class="keyword">sizeof</span>(Buffer));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                  <a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;Section too large, can&#39;t encode &quot;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                        <span class="stringliteral">&quot;r_address (&quot;</span>) +</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                      Buffer + <span class="stringliteral">&quot;) into 24 bits of scattered &quot;</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                               <span class="stringliteral">&quot;relocation entry.&quot;</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;fatal error returned?!&quot;</span>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Is this supposed to follow MCTarget/PPCAsmBackend.cpp:adjustFixupValue()?</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// see PPCMCExpr::EvaluateAsRelocatableImpl()</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    uint32_t other_half = 0;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">switch</span> (Type) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9172840eef1a7605f77f266cfa437918">MachO::PPC_RELOC_LO16_SECTDIFF</a>:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      other_half = (FixedValue &gt;&gt; 16) &amp; 0xffff;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// applyFixupOffset longer extracts the high part because it now assumes</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">// this was already done.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// It looks like this is not true for the FixedValue needed with Mach-O</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="comment">// relocs.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// So we need to adjust FixedValue again here.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      FixedValue &amp;= 0xffff;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa2510fe22e416d9d0c4195a4d7ffa70ac">MachO::PPC_RELOC_HA16_SECTDIFF</a>:</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      other_half = FixedValue &amp; 0xffff;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      FixedValue =</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          ((FixedValue &gt;&gt; 16) + ((FixedValue &amp; 0x8000) ? 1 : 0)) &amp; 0xffff;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfadf684b4a3359328c9cd698e7282e6298">MachO::PPC_RELOC_HI16_SECTDIFF</a>:</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      other_half = FixedValue &amp; 0xffff;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      FixedValue = (FixedValue &gt;&gt; 16) &amp; 0xffff;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid PPC scattered relocation type.&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="PPCMachObjectWriter_8cpp.html#a4be734da3ffaf479424f827be365653d">makeScatteredRelocationInfo</a>(MRE, other_half, <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa68f11d43f43d0655552891251d51d499">MachO::GENERIC_RELOC_PAIR</a>,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                Log2Size, IsPCRel, Value2);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// If the offset is more than 24-bits, it won&#39;t fit in a scattered</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// relocation offset field, so we fall back to using a non-scattered</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// relocation. This is a bit risky, as if the offset reaches out of</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// the block and the linker is doing scattered loading on this</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// symbol, things can go badly.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Required for &#39;as&#39; compatibility.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span> (FixupOffset &gt; 0xffffff)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="PPCMachObjectWriter_8cpp.html#a4be734da3ffaf479424f827be365653d">makeScatteredRelocationInfo</a>(MRE, FixupOffset, Type, Log2Size, IsPCRel, Value);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// see PPCELFObjectWriter for a general outline of cases</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keywordtype">void</span> PPCMachObjectWriter::RecordPPCRelocation(</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup, <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> Target,</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58">MCFixupKind</a> FK = Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>(); <span class="comment">// unsigned</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Log2Size = <a class="code" href="PPCMachObjectWriter_8cpp.html#af0ae46ffe17cde83585d7b7479f6e2a9">getFixupKindLog2Size</a>(FK);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> IsPCRel = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">isFixupKindPCRel</a>(Asm, FK);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> RelocType = <a class="code" href="PPCMachObjectWriter_8cpp.html#af2721ba8b8b3dbb5af450ab902fd6eac">getRelocType</a>(Target, FK, IsPCRel);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// If this is a difference or a defined symbol plus an offset, then we need a</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// scattered relocation entry. Differences always require scattered</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// relocations.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>() &amp;&amp;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// Q: are branch targets ever scattered?</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      RelocType != <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa96c3040ff6343ddee597d0caa004d00f">MachO::PPC_RELOC_BR24</a> &amp;&amp;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      RelocType != <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bface1108f2d0143e64c15735c00bf07e8a">MachO::PPC_RELOC_BR14</a>) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    RecordScatteredRelocation(Writer, Asm, Layout, Fragment, Fixup, Target,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                              Log2Size, FixedValue);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// this doesn&#39;t seem right for RIT_PPC_BR24</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// Get the symbol data, if any.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *SD = 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>())</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>());</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// See &lt;reloc.h&gt;.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keyword">const</span> uint32_t FixupOffset = <a class="code" href="PPCMachObjectWriter_8cpp.html#a5990cba9a2e427b821014acb02c08e5a">getFixupOffset</a>(Layout, Fragment, Fixup);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordtype">unsigned</span> Index = 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordtype">unsigned</span> IsExtern = 0;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = RelocType;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#af95b44f4eb2141bca657c80972f3bae9">isAbsolute</a>()) { <span class="comment">// constant</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                             <span class="comment">// SymbolNum of 0 indicates the absolute section.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                             <span class="comment">//</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// FIXME: Currently, these are never generated (see code below). I cannot</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// find a case where they are actually emitted.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;FIXME: relocations to absolute targets &quot;</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                       <span class="stringliteral">&quot;not yet implemented&quot;</span>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// the above line stolen from ARM, not sure</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// Resolve constant variables.</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>()) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      int64_t Res;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">getVariableValue</a>()-&gt;EvaluateAsAbsolute(</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              Res, Layout, Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#aea638fbc27fbb7cfdd8f7a7e68a5b60a">getSectionAddressMap</a>())) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        FixedValue = Res;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// Check whether we need an external or internal relocation.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3870b3210f6da4796465acee4f5226bf">doesSymbolRequireExternRelocation</a>(SD)) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      IsExtern = 1;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      Index = SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5f385bb2fe164893f230d8ff95827515">getIndex</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="comment">// For external relocations, make sure to offset the fixup value to</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="comment">// compensate for the addend of the symbol address, if it was</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="comment">// undefined. This occurs with weak definitions, for example.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">if</span> (!SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#ae96be2fea7c41692f8d24481bd2ebd37">Symbol</a>-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a2260c62e12734815ad60dc038bf514f5">isUndefined</a>())</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        FixedValue -= Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">getSymbolOffset</a>(SD);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// The index is the section ordinal (1-based).</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> &amp;SymSD =</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a01a873a1697548326ccac6d26e947af2">getSectionData</a>(SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">getSection</a>());</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      Index = SymSD.<a class="code" href="classllvm_1_1MCSectionData.html#a529d2e1978e0d621feaf8cd19fa6f45d">getOrdinal</a>() + 1;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      FixedValue += Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(&amp;SymSD);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (IsPCRel)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      FixedValue -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// struct relocation_info (8 bytes)</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <a class="code" href="PPCMachObjectWriter_8cpp.html#aef0e1df5355049e58396f133d301c6d0">makeRelocationInfo</a>(MRE, FixupOffset, Index, IsPCRel, Log2Size, IsExtern,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                     Type);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="namespacellvm.html#a54075635eeb3529b8e8aad7c0024bd63">  383</a></span>&#160;<a class="code" href="classllvm_1_1MCObjectWriter.html">MCObjectWriter</a> *<a class="code" href="namespacellvm.html#a54075635eeb3529b8e8aad7c0024bd63">llvm::createPPCMachObjectWriter</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keywordtype">bool</span> Is64Bit,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                                uint32_t <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">CPUType</a>,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                                uint32_t CPUSubtype) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a817d0ea46ab467585802ccb54852009b">createMachObjectWriter</a>(</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keyword">new</span> PPCMachObjectWriter(Is64Bit, CPUType, CPUSubtype), OS,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="comment">/*IsLittleEndian=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfadf684b4a3359328c9cd698e7282e6298"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfadf684b4a3359328c9cd698e7282e6298">llvm::MachO::PPC_RELOC_HI16_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00385">Support/MachO.h:385</a></div></div>
<div class="ttc" id="COFFYAML_8cpp_html_a1a011fb5306c47e04b6b5c28a8f593f4"><div class="ttname"><a href="COFFYAML_8cpp.html#a1a011fb5306c47e04b6b5c28a8f593f4">Type</a></div><div class="ttdeci">COFF::RelocationTypeX86 Type</div><div class="ttdef"><b>Definition:</b> <a href="COFFYAML_8cpp_source.html#l00227">COFFYAML.cpp:227</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="MCMachObjectWriter_8h_html"><div class="ttname"><a href="MCMachObjectWriter_8h.html">MCMachObjectWriter.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a7fa4d5bb1573ffbf54e99ae1fe36ad6e"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a7fa4d5bb1573ffbf54e99ae1fe36ad6e">llvm::FK_PCRel_8</a></div><div class="ttdoc">A eight-byte pc relative fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00030">MCFixup.h:30</a></div></div>
<div class="ttc" id="MCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_afba43ef04f7e89dc23859d7938820bd8"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">llvm::MCSymbolRefExpr::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00283">MCExpr.h:283</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_a18ca31ed8c975c3d94758aced7694b3e"><div class="ttname"><a href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">llvm::MCFixup::getLoc</a></div><div class="ttdeci">SMLoc getLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00107">MCFixup.h:107</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa73b7678d1078f7640dc5c2d3c7de0fe3"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa73b7678d1078f7640dc5c2d3c7de0fe3">llvm::MachO::GENERIC_RELOC_VANILLA</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00365">Support/MachO.h:365</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html"><div class="ttname"><a href="classllvm_1_1MCValue.html">llvm::MCValue</a></div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00037">MCValue.h:37</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html">llvm::MachO::any_relocation_info</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00856">Support/MachO.h:856</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html"><div class="ttname"><a href="classllvm_1_1MCSymbol.html">llvm::MCSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00033">MCSymbol.h:33</a></div></div>
<div class="ttc" id="PPCMachObjectWriter_8cpp_html_aef0e1df5355049e58396f133d301c6d0"><div class="ttname"><a href="PPCMachObjectWriter_8cpp.html#aef0e1df5355049e58396f133d301c6d0">makeRelocationInfo</a></div><div class="ttdeci">static void makeRelocationInfo(MachO::any_relocation_info &amp;MRE, const uint32_t FixupOffset, const uint32_t Index, const unsigned IsPCRel, const unsigned Log2Size, const unsigned IsExtern, const unsigned Type)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00147">PPCMachObjectWriter.cpp:147</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa834845bb53d1916c60de0d322b325e07"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa834845bb53d1916c60de0d322b325e07">llvm::MachO::PPC_RELOC_LO14_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00389">Support/MachO.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a950abdfc136ed951fc5f0c0340fe5670"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a950abdfc136ed951fc5f0c0340fe5670">llvm::MachObjectWriter::is64Bit</a></div><div class="ttdeci">bool is64Bit() const </div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00156">MCMachObjectWriter.h:156</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa9a5b7dcaa0cc19e84d0ba37504efffe2"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9a5b7dcaa0cc19e84d0ba37504efffe2">llvm::MachO::PPC_RELOC_LO16</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00380">Support/MachO.h:380</a></div></div>
<div class="ttc" id="PPCMCTargetDesc_8h_html"><div class="ttname"><a href="PPCMCTargetDesc_8h.html">PPCMCTargetDesc.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html">llvm::MachObjectWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00082">MCMachObjectWriter.h:82</a></div></div>
<div class="ttc" id="Twine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa68f11d43f43d0655552891251d51d499"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa68f11d43f43d0655552891251d51d499">llvm::MachO::GENERIC_RELOC_PAIR</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00366">Support/MachO.h:366</a></div></div>
<div class="ttc" id="Support_2MachO_8h_html"><div class="ttname"><a href="Support_2MachO_8h.html">MachO.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a85f602e21fbfcdc94288a8f472ec92d5"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">llvm::MCAssembler::getContext</a></div><div class="ttdeci">MCContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00992">MCAssembler.h:992</a></div></div>
<div class="ttc" id="classllvm_1_1MCObjectWriter_html"><div class="ttname"><a href="classllvm_1_1MCObjectWriter.html">llvm::MCObjectWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCObjectWriter_8h_source.html#l00039">MCObjectWriter.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html"><div class="ttname"><a href="classllvm_1_1MCAssembler.html">llvm::MCAssembler</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00807">MCAssembler.h:807</a></div></div>
<div class="ttc" id="MCAssembler_8h_html"><div class="ttname"><a href="MCAssembler_8h.html">MCAssembler.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a5182c3b7a2e987173d8199ebe41b66c8"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">llvm::MCSymbolData::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00718">MCAssembler.h:718</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47"><div class="ttname"><a href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">llvm::MachO::CPUType</a></div><div class="ttdeci">CPUType</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00903">Support/MachO.h:903</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html"><div class="ttname"><a href="classllvm_1_1MCFixup.html">llvm::MCFixup</a></div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00061">MCFixup.h:61</a></div></div>
<div class="ttc" id="PPCMachObjectWriter_8cpp_html_a5990cba9a2e427b821014acb02c08e5a"><div class="ttname"><a href="PPCMachObjectWriter_8cpp.html#a5990cba9a2e427b821014acb02c08e5a">getFixupOffset</a></div><div class="ttdeci">static uint32_t getFixupOffset(const MCAsmLayout &amp;Layout, const MCFragment *Fragment, const MCFixup &amp;Fixup)</div><div class="ttdoc">Compute fixup offset (address). </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00177">PPCMachObjectWriter.cpp:177</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html_aff97edf4109298178b12aca5621bd6ec"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">llvm::MachO::any_relocation_info::r_word1</a></div><div class="ttdeci">uint32_t r_word1</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00857">Support/MachO.h:857</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58ac6095ed6f2c30887aef8adc449b1efa5"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58ac6095ed6f2c30887aef8adc449b1efa5">llvm::FK_PCRel_1</a></div><div class="ttdoc">A one-byte pc relative fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00027">MCFixup.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd"><div class="ttname"><a href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a2cd2bd91cc9938c81599c5e8828addcd">llvm::PPC::fixup_ppc_half16</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCFixupKinds_8h_source.html#l00038">PPCFixupKinds.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html"><div class="ttname"><a href="classllvm_1_1MCSectionData.html">llvm::MCSectionData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00544">MCAssembler.h:544</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a5f385bb2fe164893f230d8ff95827515"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a5f385bb2fe164893f230d8ff95827515">llvm::MCSymbolData::getIndex</a></div><div class="ttdeci">uint64_t getIndex() const </div><div class="ttdoc">getIndex - Get the (implementation defined) index. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00781">MCAssembler.h:781</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdoc">0ffh </div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00027">MCInstPrinter.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a7605b3302f3325d1fbdac43346c1a2dd"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">llvm::MCSymbol::getSection</a></div><div class="ttdeci">const MCSection &amp; getSection() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00111">MCSymbol.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_ac8774951d96008928ab510c90bbff9e4"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">llvm::MachObjectWriter::getSymbolAddress</a></div><div class="ttdeci">uint64_t getSymbolAddress(const MCSymbolData *SD, const MCAsmLayout &amp;Layout) const </div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00073">MachObjectWriter.cpp:73</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html">llvm::MCAsmLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAsmLayout_8h_source.html#l00029">MCAsmLayout.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_ace20c3d7279515e995910d3dcef655a3a2de16a7019f22064bed686092ccc8697"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a2de16a7019f22064bed686092ccc8697">llvm::MCSymbolRefExpr::VK_PPC_LO</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00174">MCExpr.h:174</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a3edce2254ea42487721b42c00bbafe18"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">llvm::MCSymbol::getVariableValue</a></div><div class="ttdeci">const MCExpr * getVariableValue() const </div><div class="ttdoc">getVariableValue() - Get the value for variable symbols. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00137">MCSymbol.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html">llvm::MCSymbolRefExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00141">MCExpr.h:141</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="MCSectionMachO_8h_html"><div class="ttname"><a href="MCSectionMachO_8h.html">MCSectionMachO.h</a></div></div>
<div class="ttc" id="PPCMachObjectWriter_8cpp_html_af2721ba8b8b3dbb5af450ab902fd6eac"><div class="ttname"><a href="PPCMachObjectWriter_8cpp.html#af2721ba8b8b3dbb5af450ab902fd6eac">getRelocType</a></div><div class="ttdeci">static unsigned getRelocType(const MCValue &amp;Target, const MCFixupKind FixupKind, const bool IsPCRel)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00084">PPCMachObjectWriter.cpp:84</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a01a873a1697548326ccac6d26e947af2"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a01a873a1697548326ccac6d26e947af2">llvm::MCAssembler::getSectionData</a></div><div class="ttdeci">MCSectionData &amp; getSectionData(const MCSection &amp;Section) const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01128">MCAssembler.h:1128</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d">llvm::FK_Data_4</a></div><div class="ttdoc">A four-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00025">MCFixup.h:25</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa1e1df4a3e116917fd0d53cc55d4541ea"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa1e1df4a3e116917fd0d53cc55d4541ea">llvm::MachO::PPC_RELOC_HI16</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00379">Support/MachO.h:379</a></div></div>
<div class="ttc" id="namespacellvm_html_a69dc1b119f8cb95b7e36f586c5aeb372"><div class="ttname"><a href="namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">llvm::format</a></div><div class="ttdeci">format_object1&lt; T &gt; format(const char *Fmt, const T &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Format_8h_source.html#l00180">Format.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a56f972d8aca0c842218ea5b0fd4559a8"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">llvm::MachObjectWriter::isFixupKindPCRel</a></div><div class="ttdeci">bool isFixupKindPCRel(const MCAssembler &amp;Asm, unsigned Kind)</div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00060">MachObjectWriter.cpp:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a75a41bd19ef0b051ef7bc426e8dfb403"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">llvm::MachObjectWriter::getSectionAddress</a></div><div class="ttdeci">uint64_t getSectionAddress(const MCSectionData *SD) const </div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00137">MCMachObjectWriter.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_af95b44f4eb2141bca657c80972f3bae9"><div class="ttname"><a href="classllvm_1_1MCValue.html#af95b44f4eb2141bca657c80972f3bae9">llvm::MCValue::isAbsolute</a></div><div class="ttdeci">bool isAbsolute() const </div><div class="ttdoc">isAbsolute - Is this an absolute (as opposed to relocatable) value. </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00047">MCValue.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a14a11f14edf382edc98d246e935754fc"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">llvm::MCSymbolData::getFragment</a></div><div class="ttdeci">MCFragment * getFragment() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00720">MCAssembler.h:720</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bface1108f2d0143e64c15735c00bf07e8a"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bface1108f2d0143e64c15735c00bf07e8a">llvm::MachO::PPC_RELOC_BR14</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00377">Support/MachO.h:377</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa96c3040ff6343ddee597d0caa004d00f"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa96c3040ff6343ddee597d0caa004d00f">llvm::MachO::PPC_RELOC_BR24</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00378">Support/MachO.h:378</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html">llvm::MCSymbolData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00669">MCAssembler.h:669</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_add5cb03f27e1c84630cc1970478fcfe2"><div class="ttname"><a href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">llvm::MCFixup::getOffset</a></div><div class="ttdeci">uint32_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00090">MCFixup.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_aea638fbc27fbb7cfdd8f7a7e68a5b60a"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#aea638fbc27fbb7cfdd8f7a7e68a5b60a">llvm::MachObjectWriter::getSectionAddressMap</a></div><div class="ttdeci">SectionAddrMap &amp; getSectionAddressMap()</div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00135">MCMachObjectWriter.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html_a529d2e1978e0d621feaf8cd19fa6f45d"><div class="ttname"><a href="classllvm_1_1MCSectionData.html#a529d2e1978e0d621feaf8cd19fa6f45d">llvm::MCSectionData::getOrdinal</a></div><div class="ttdeci">unsigned getOrdinal() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00613">MCAssembler.h:613</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_ace20c3d7279515e995910d3dcef655a3a8b7bdf367ac57c04cfe5fc65738f8746"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a8b7bdf367ac57c04cfe5fc65738f8746">llvm::MCSymbolRefExpr::VK_PPC_HA</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00176">MCExpr.h:176</a></div></div>
<div class="ttc" id="PPCMachObjectWriter_8cpp_html_af0ae46ffe17cde83585d7b7479f6e2a9"><div class="ttname"><a href="PPCMachObjectWriter_8cpp.html#af0ae46ffe17cde83585d7b7479f6e2a9">getFixupKindLog2Size</a></div><div class="ttdeci">static unsigned getFixupKindLog2Size(unsigned Kind)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00059">PPCMachObjectWriter.cpp:59</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa9172840eef1a7605f77f266cfa437918"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa9172840eef1a7605f77f266cfa437918">llvm::MachO::PPC_RELOC_LO16_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00386">Support/MachO.h:386</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html_a2c1c46bbe4b0ef3065fe91d3e9ca806e"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">llvm::MachO::any_relocation_info::r_word0</a></div><div class="ttdeci">uint32_t r_word0</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00857">Support/MachO.h:857</a></div></div>
<div class="ttc" id="PPCMachObjectWriter_8cpp_html_a4be734da3ffaf479424f827be365653d"><div class="ttname"><a href="PPCMachObjectWriter_8cpp.html#a4be734da3ffaf479424f827be365653d">makeScatteredRelocationInfo</a></div><div class="ttdeci">static void makeScatteredRelocationInfo(MachO::any_relocation_info &amp;MRE, const uint32_t Addr, const unsigned Type, const unsigned Log2Size, const unsigned IsPCRel, const uint32_t Value2)</div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00165">PPCMachObjectWriter.cpp:165</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html_a3a2b9285a252f6b21bb34b0d6281608a"><div class="ttname"><a href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">llvm::MCFragment::getParent</a></div><div class="ttdeci">MCSectionData * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00095">MCAssembler.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58">llvm::MCFixupKind</a></div><div class="ttdeci">MCFixupKind</div><div class="ttdoc">MCFixupKind - Extensible enumeration to represent the type of a fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00022">MCFixup.h:22</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_aa53de88164b98be6cd073da9543c0450a058440145aa9ecc1725824fc1a47d50d"><div class="ttname"><a href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a058440145aa9ecc1725824fc1a47d50d">llvm::PPC::fixup_ppc_br24</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCFixupKinds_8h_source.html#l00022">PPCFixupKinds.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_ace20c3d7279515e995910d3dcef655a3"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3">llvm::MCSymbolRefExpr::VariantKind</a></div><div class="ttdeci">VariantKind</div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00143">MCExpr.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_ad8f4fe03a52f33f5e40be038fde9e67e"><div class="ttname"><a href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">llvm::MCFixup::getKind</a></div><div class="ttdeci">MCFixupKind getKind() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00088">MCFixup.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_aaa5d15ff3a8e1bef663102f651c212d2"><div class="ttname"><a href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">llvm::MCValue::getSymB</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymB() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00044">MCValue.h:44</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e">llvm::FK_Data_1</a></div><div class="ttdoc">A one-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00023">MCFixup.h:23</a></div></div>
<div class="ttc" id="namespacellvm_html_a54075635eeb3529b8e8aad7c0024bd63"><div class="ttname"><a href="namespacellvm.html#a54075635eeb3529b8e8aad7c0024bd63">llvm::createPPCMachObjectWriter</a></div><div class="ttdeci">MCObjectWriter * createPPCMachObjectWriter(raw_ostream &amp;OS, bool Is64Bit, uint32_t CPUType, uint32_t CPUSubtype)</div><div class="ttdoc">createPPCELFObjectWriter - Construct a PPC Mach-O object writer. </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachObjectWriter_8cpp_source.html#l00383">PPCMachObjectWriter.cpp:383</a></div></div>
<div class="ttc" id="Format_8h_html"><div class="ttname"><a href="Format_8h.html">Format.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCContext_html_af0415bde7fddd0165e60ee1358b13985"><div class="ttname"><a href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">llvm::MCContext::FatalError</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void FatalError(SMLoc L, const Twine &amp;Msg)</div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8cpp_source.html#l00412">MCContext.cpp:412</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a1bdc5a7bf34c469f9ea35dec62e94895"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">llvm::MCAssembler::getSymbolData</a></div><div class="ttdeci">MCSymbolData &amp; getSymbolData(const MCSymbol &amp;Symbol) const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01145">MCAssembler.h:1145</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa7bc54d77ddce182eb6cfb00b128cb151"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa7bc54d77ddce182eb6cfb00b128cb151">llvm::MachO::PPC_RELOC_LOCAL_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00390">Support/MachO.h:390</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a11803cd0814af72a9d078ac0f7a33137"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a11803cd0814af72a9d078ac0f7a33137">llvm::FK_PCRel_2</a></div><div class="ttdoc">A two-byte pc relative fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00028">MCFixup.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_a635fb3df602b4e40097fdb91d78302fc"><div class="ttname"><a href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">llvm::MCValue::getSymA</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymA() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00043">MCValue.h:43</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a0f7a8485c2c761bc5e870fe2b6466372"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a0f7a8485c2c761bc5e870fe2b6466372">llvm::FK_PCRel_4</a></div><div class="ttdoc">A four-byte pc relative fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00029">MCFixup.h:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1EngineKind_html_a9df47239a42cd9621ac26d9ecbd57441"><div class="ttname"><a href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">llvm::EngineKind::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00499">ExecutionEngine/ExecutionEngine.h:499</a></div></div>
<div class="ttc" id="PPCFixupKinds_8h_html"><div class="ttname"><a href="PPCFixupKinds_8h.html">PPCFixupKinds.h</a></div></div>
<div class="ttc" id="MCAsmLayout_8h_html"><div class="ttname"><a href="MCAsmLayout_8h.html">MCAsmLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_ace20c3d7279515e995910d3dcef655a3a48fe9f2486a3c190a9f1f32063d6c6bd"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a48fe9f2486a3c190a9f1f32063d6c6bd">llvm::MCSymbolRefExpr::VK_PPC_HI</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00175">MCExpr.h:175</a></div></div>
<div class="ttc" id="MCValue_8h_html"><div class="ttname"><a href="MCValue_8h.html">MCValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a18d15032e8ed44a3dd0196aecdfee80a"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">llvm::MCAsmLayout::getSymbolOffset</a></div><div class="ttdeci">uint64_t getSymbolOffset(const MCSymbolData *SD) const </div><div class="ttdoc">Get the offset of the given symbol, as computed in the current layout. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00119">MCAssembler.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a3870b3210f6da4796465acee4f5226bf"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a3870b3210f6da4796465acee4f5226bf">llvm::MachObjectWriter::doesSymbolRequireExternRelocation</a></div><div class="ttdeci">bool doesSymbolRequireExternRelocation(const MCSymbolData *SD)</div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00040">MachObjectWriter.cpp:40</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a1c2e92b00e94b279e7a880a305548765"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">llvm::MCSymbol::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdoc">getName - Get the symbol name. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00070">MCSymbol.h:70</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfaa732f06a8e3839ce8fd7dff58cb123e6"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaa732f06a8e3839ce8fd7dff58cb123e6">llvm::MachO::PPC_RELOC_HA16</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00381">Support/MachO.h:381</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe">llvm::FK_Data_8</a></div><div class="ttdoc">A eight-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00026">MCFixup.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a55f4fc3f3ac63372b71cd525dd39f0f8"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">llvm::MCAsmLayout::getFragmentOffset</a></div><div class="ttdeci">uint64_t getFragmentOffset(const MCFragment *F) const </div><div class="ttdoc">Get the offset of the given fragment inside its containing section. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00113">MCAssembler.cpp:113</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_ace20c3d7279515e995910d3dcef655a3a01bc6396c4d841a7ea268c3cbf62d3b3"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#ace20c3d7279515e995910d3dcef655a3a01bc6396c4d841a7ea268c3cbf62d3b3">llvm::MCSymbolRefExpr::VK_None</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00144">MCExpr.h:144</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZ_html_acdd1cc3b030808a5dfb5391dd85c9c1f"><div class="ttname"><a href="namespacellvm_1_1SystemZ.html#acdd1cc3b030808a5dfb5391dd85c9c1f">llvm::SystemZ::FixupKind</a></div><div class="ttdeci">FixupKind</div><div class="ttdef"><b>Definition:</b> <a href="SystemZMCFixups_8h_source.html#l00017">SystemZMCFixups.h:17</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_ac542b727bb1c9dd954198bf3906912ce"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">llvm::MCSymbol::isVariable</a></div><div class="ttdeci">bool isVariable() const </div><div class="ttdoc">isVariable - Check if this is a variable symbol. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00132">MCSymbol.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_a9a2a5ba2cd468f5cf2a1648b6640e455"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#a9a2a5ba2cd468f5cf2a1648b6640e455">llvm::MCSymbolRefExpr::getKind</a></div><div class="ttdeci">VariantKind getKind() const </div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00285">MCExpr.h:285</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html"><div class="ttname"><a href="classllvm_1_1MCFragment.html">llvm::MCFragment</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00041">MCAssembler.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a3d665ca71a92c95c6194b9c854faf7b4"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">llvm::MachObjectWriter::addRelocation</a></div><div class="ttdeci">void addRelocation(const MCSectionData *SD, MachO::any_relocation_info &amp;MRE)</div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00214">MCMachObjectWriter.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa1d7cbb89640062957a5dac7eb9b66fa5"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa1d7cbb89640062957a5dac7eb9b66fa5">llvm::MachO::PPC_RELOC_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00383">Support/MachO.h:383</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa2510fe22e416d9d0c4195a4d7ffa70ac"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa2510fe22e416d9d0c4195a4d7ffa70ac">llvm::MachO::PPC_RELOC_HA16_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00387">Support/MachO.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a2260c62e12734815ad60dc038bf514f5"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a2260c62e12734815ad60dc038bf514f5">llvm::MCSymbol::isUndefined</a></div><div class="ttdeci">bool isUndefined() const </div><div class="ttdoc">isUndefined - Check if this symbol undefined (i.e., implicitly defined). </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00100">MCSymbol.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1MCMachObjectTargetWriter_html"><div class="ttname"><a href="classllvm_1_1MCMachObjectTargetWriter.html">llvm::MCMachObjectTargetWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00027">MCMachObjectWriter.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPC_html_aa53de88164b98be6cd073da9543c0450a7c601a9dd02f749390ca0dc194c22e0f"><div class="ttname"><a href="namespacellvm_1_1PPC.html#aa53de88164b98be6cd073da9543c0450a7c601a9dd02f749390ca0dc194c22e0f">llvm::PPC::fixup_ppc_brcond14</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCFixupKinds_8h_source.html#l00026">PPCFixupKinds.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_ae96be2fea7c41692f8d24481bd2ebd37"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#ae96be2fea7c41692f8d24481bd2ebd37">llvm::MCSymbolData::Symbol</a></div><div class="ttdeci">const MCSymbol * Symbol</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00671">MCAssembler.h:671</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7">llvm::FK_Data_2</a></div><div class="ttdoc">A two-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00024">MCFixup.h:24</a></div></div>
<div class="ttc" id="namespacellvm_html_a817d0ea46ab467585802ccb54852009b"><div class="ttname"><a href="namespacellvm.html#a817d0ea46ab467585802ccb54852009b">llvm::createMachObjectWriter</a></div><div class="ttdeci">MCObjectWriter * createMachObjectWriter(MCMachObjectTargetWriter *MOTW, raw_ostream &amp;OS, bool IsLittleEndian)</div><div class="ttdoc">Construct a new Mach-O writer instance. </div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00954">MachObjectWriter.cpp:954</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:50 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
