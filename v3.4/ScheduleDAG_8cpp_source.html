<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ScheduleDAG.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ScheduleDAG_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ScheduleDAG.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ScheduleDAG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===---- ScheduleDAG.cpp - Implement the ScheduleDAG class ---------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This implements the ScheduleDAG class, which is a base class used by</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// scheduling implementation classes.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="ScheduleDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   15</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;pre-RA-sched&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAG_8h.html">llvm/CodeGen/ScheduleDAG.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleHazardRecognizer_8h.html">llvm/CodeGen/ScheduleHazardRecognizer.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAGNodes_8h.html">llvm/CodeGen/SelectionDAGNodes.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/Target/TargetRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScheduleDAG_8cpp.html#affcfbbe18b295059ddd7ef8e7358c84b">StressSchedOpt</a>(</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="stringliteral">&quot;stress-sched&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Stress test instruction scheduling&quot;</span>));</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keywordtype">void</span> SchedulingPriorityQueue::anchor() { }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAG.html#ae2ebc23ff27164ec1d375d4bac6040de">   36</a></span>&#160;<a class="code" href="classllvm_1_1ScheduleDAG.html#ae2ebc23ff27164ec1d375d4bac6040de">ScheduleDAG::ScheduleDAG</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;mf)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  : <a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>(mf.getTarget()),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>(<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getInstrInfo()),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    TRI(<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>.getRegisterInfo()),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    MF(mf), <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>(mf.getRegInfo()),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    EntrySU(), ExitSU() {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a8de65d3a774ee7a23dc72e3d534e6ce6">StressSched</a> = <a class="code" href="ScheduleDAG_8cpp.html#affcfbbe18b295059ddd7ef8e7358c84b">StressSchedOpt</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAG.html#a40f40bf3808799abdd4411ba209215dc">   47</a></span>&#160;<a class="code" href="classllvm_1_1ScheduleDAG.html#a40f40bf3808799abdd4411ba209215dc">ScheduleDAG::~ScheduleDAG</a>() {}</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/// Clear the DAG state (e.g. between scheduling regions).</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAG.html#a20e10e20ded7655f844479a648aa0c66">   50</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAG.html#a20e10e20ded7655f844479a648aa0c66">ScheduleDAG::clearDAG</a>() {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.clear();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a521bf68518a92483130a58680716d153">EntrySU</a> = <a class="code" href="classllvm_1_1SUnit.html">SUnit</a>();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a> = <a class="code" href="classllvm_1_1SUnit.html">SUnit</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// getInstrDesc helper to handle SDNodes.</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> *ScheduleDAG::getNodeDesc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node)<span class="keyword"> const </span>{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span> (!Node || !Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>()) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">return</span> &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>-&gt;<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>());</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// addPred - This adds the specified edge as a pred of the current node if</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// not already.  It also adds the current node as a successor of the</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// specified node.</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">   65</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">SUnit::addPred</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;D, <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6eafb49e6d343a4ce63c7048a222586cc9e">Required</a>) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// If this node already has this depenence, don&#39;t add a redundant one.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;SDep&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Preds.begin(), E = Preds.end();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Zero-latency weak edges may be added purely for heuristic ordering. Don&#39;t</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// add them if another kind of edge already exists.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (!Required &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit() == D.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>())</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;overlaps(D)) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="comment">// Extend the latency if needed. Equivalent to removePred(I) + addPred(D).</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getLatency() &lt; D.<a class="code" href="classllvm_1_1SDep.html#a4505b88c7962025ca5a895caea130dbd">getLatency</a>()) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PredSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// Find the corresponding successor in N.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="classllvm_1_1SDep.html">SDep</a> ForwardD = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        ForwardD.<a class="code" href="classllvm_1_1SDep.html#aaa4f7e2f3f5a23ecf19b98acd3c05593">setSUnit</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;SDep&gt;::iterator</a> II = PredSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;               EE = PredSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end(); II != EE; ++II) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <span class="keywordflow">if</span> (*II == ForwardD) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            II-&gt;setLatency(D.<a class="code" href="classllvm_1_1SDep.html#a4505b88c7962025ca5a895caea130dbd">getLatency</a>());</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;          }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;setLatency(D.<a class="code" href="classllvm_1_1SDep.html#a4505b88c7962025ca5a895caea130dbd">getLatency</a>());</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Now add a corresponding succ to N.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classllvm_1_1SDep.html">SDep</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = D;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  P.<a class="code" href="classllvm_1_1SDep.html#aaa4f7e2f3f5a23ecf19b98acd3c05593">setSUnit</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = D.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Update the bookkeeping.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (D.<a class="code" href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">getKind</a>() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    assert(NumPreds &lt; UINT_MAX &amp;&amp; <span class="stringliteral">&quot;NumPreds will overflow!&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    assert(N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">NumSuccs</a> &lt; UINT_MAX &amp;&amp; <span class="stringliteral">&quot;NumSuccs will overflow!&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ++NumPreds;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    ++N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">NumSuccs</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (!N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a8c201d7a769bda1cd75d8d6788123068">isScheduled</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (D.<a class="code" href="classllvm_1_1SDep.html#ac087b1f634a3e5738ed056c68dbd1b00">isWeak</a>()) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      ++WeakPredsLeft;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      assert(NumPredsLeft &lt; UINT_MAX &amp;&amp; <span class="stringliteral">&quot;NumPredsLeft will overflow!&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      ++NumPredsLeft;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (!isScheduled) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (D.<a class="code" href="classllvm_1_1SDep.html#ac087b1f634a3e5738ed056c68dbd1b00">isWeak</a>()) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      ++N-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae75d620ee809eaf50970a833f4a3ace9">WeakSuccsLeft</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      assert(N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a40c2dfbd170941dd4d20ee9b60c9d49d">NumSuccsLeft</a> &lt; UINT_MAX &amp;&amp; <span class="stringliteral">&quot;NumSuccsLeft will overflow!&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      ++N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a40c2dfbd170941dd4d20ee9b60c9d49d">NumSuccsLeft</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  Preds.push_back(D);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  N-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.push_back(P);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1SDep.html#a4505b88c7962025ca5a895caea130dbd">getLatency</a>() != 0) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    this-&gt;setDepthDirty();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a5ba3791568e29a8d9214ec7dad855a56">setHeightDirty</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/// removePred - This removes the specified edge as a pred of the current</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/// node if it exists.  It also removes the current node as a successor of</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">/// the specified node.</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">  133</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">SUnit::removePred</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;D) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Find the matching predecessor.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;SDep&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Preds.begin(), E = Preds.end();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == D) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="comment">// Find the corresponding successor in N.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = D;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      P.<a class="code" href="classllvm_1_1SDep.html#aaa4f7e2f3f5a23ecf19b98acd3c05593">setSUnit</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = D.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="classT.html">SmallVectorImpl&lt;SDep&gt;::iterator</a> Succ = std::find(N-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                       N-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end(), <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      assert(Succ != N-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end() &amp;&amp; <span class="stringliteral">&quot;Mismatching preds / succs lists!&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      N-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.erase(Succ);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      Preds.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="comment">// Update the bookkeeping.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">getKind</a>() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        assert(NumPreds &gt; 0 &amp;&amp; <span class="stringliteral">&quot;NumPreds will underflow!&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        assert(N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">NumSuccs</a> &gt; 0 &amp;&amp; <span class="stringliteral">&quot;NumSuccs will underflow!&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        --NumPreds;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        --N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">NumSuccs</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">if</span> (!N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a8c201d7a769bda1cd75d8d6788123068">isScheduled</a>) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (D.<a class="code" href="classllvm_1_1SDep.html#ac087b1f634a3e5738ed056c68dbd1b00">isWeak</a>())</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          --WeakPredsLeft;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          assert(NumPredsLeft &gt; 0 &amp;&amp; <span class="stringliteral">&quot;NumPredsLeft will underflow!&quot;</span>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          --NumPredsLeft;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">if</span> (!isScheduled) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> (D.<a class="code" href="classllvm_1_1SDep.html#ac087b1f634a3e5738ed056c68dbd1b00">isWeak</a>())</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          --N-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae75d620ee809eaf50970a833f4a3ace9">WeakSuccsLeft</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          assert(N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a40c2dfbd170941dd4d20ee9b60c9d49d">NumSuccsLeft</a> &gt; 0 &amp;&amp; <span class="stringliteral">&quot;NumSuccsLeft will underflow!&quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          --N-&gt;<a class="code" href="classllvm_1_1SUnit.html#a40c2dfbd170941dd4d20ee9b60c9d49d">NumSuccsLeft</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.getLatency() != 0) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        this-&gt;setDepthDirty();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;setHeightDirty();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#addb1364902bd813841491d91970ce02b">  178</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#addb1364902bd813841491d91970ce02b">SUnit::setDepthDirty</a>() {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (!isDepthCurrent) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit*, 8&gt;</a> WorkList;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = WorkList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    SU-&gt;isDepthCurrent = <span class="keyword">false</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;         E = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SuccSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">if</span> (SuccSU-&gt;isDepthCurrent)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SuccSU);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#a5ba3791568e29a8d9214ec7dad855a56">  194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#a5ba3791568e29a8d9214ec7dad855a56">SUnit::setHeightDirty</a>() {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (!isHeightCurrent) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit*, 8&gt;</a> WorkList;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = WorkList.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    SU-&gt;isHeightCurrent = <span class="keyword">false</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_pred_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(),</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;         E = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PredSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">if</span> (PredSU-&gt;isHeightCurrent)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PredSU);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">/// setDepthToAtLeast - Update this node&#39;s successors to reflect the</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/// fact that this node&#39;s depth just increased.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#af14dce27a63c0eb062c23c0ba436249c">  213</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#af14dce27a63c0eb062c23c0ba436249c">SUnit::setDepthToAtLeast</a>(<span class="keywordtype">unsigned</span> NewDepth) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (NewDepth &lt;= getDepth())</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  setDepthDirty();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  Depth = NewDepth;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  isDepthCurrent = <span class="keyword">true</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// setHeightToAtLeast - Update this node&#39;s predecessors to reflect the</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/// fact that this node&#39;s height just increased.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#a0e90fb55a364cbeedab55c95824668bd">  224</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#a0e90fb55a364cbeedab55c95824668bd">SUnit::setHeightToAtLeast</a>(<span class="keywordtype">unsigned</span> NewHeight) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span> (NewHeight &lt;= getHeight())</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  setHeightDirty();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  Height = NewHeight;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  isHeightCurrent = <span class="keyword">true</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/// ComputeDepth - Calculate the maximal path from the node to the exit.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SUnit::ComputeDepth() {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit*, 8&gt;</a> WorkList;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Cur = WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">bool</span> Done = <span class="keyword">true</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordtype">unsigned</span> MaxPredDepth = 0;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_pred_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(),</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         E = Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PredSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">if</span> (PredSU-&gt;isDepthCurrent)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        MaxPredDepth = std::max(MaxPredDepth,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                PredSU-&gt;Depth + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getLatency());</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        Done = <span class="keyword">false</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PredSU);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (Done) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (MaxPredDepth != Cur-&gt;Depth) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#addb1364902bd813841491d91970ce02b">setDepthDirty</a>();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        Cur-&gt;Depth = MaxPredDepth;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      Cur-&gt;isDepthCurrent = <span class="keyword">true</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/// ComputeHeight - Calculate the maximal path from the node to the entry.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> SUnit::ComputeHeight() {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SUnit*, 8&gt;</a> WorkList;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Cur = WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">bool</span> Done = <span class="keyword">true</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">unsigned</span> MaxSuccHeight = 0;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(),</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         E = Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SuccSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">if</span> (SuccSU-&gt;isHeightCurrent)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        MaxSuccHeight = std::max(MaxSuccHeight,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                 SuccSU-&gt;Height + <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getLatency());</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        Done = <span class="keyword">false</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SuccSU);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (Done) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      WorkList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span> (MaxSuccHeight != Cur-&gt;Height) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        Cur-&gt;<a class="code" href="classllvm_1_1SUnit.html#a5ba3791568e29a8d9214ec7dad855a56">setHeightDirty</a>();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        Cur-&gt;Height = MaxSuccHeight;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      Cur-&gt;isHeightCurrent = <span class="keyword">true</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  } <span class="keywordflow">while</span> (!WorkList.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#a4aa947b755365817fa095e581752a8ae">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#a4aa947b755365817fa095e581752a8ae">SUnit::biasCriticalPath</a>() {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (NumPreds &lt; 2)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classT.html">SUnit::pred_iterator</a> BestI = Preds.begin();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a> = BestI-&gt;getSUnit()-&gt;getDepth();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::pred_iterator</a></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(BestI), E = Preds.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit()-&gt;getDepth() &gt; <a class="code" href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a>)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      BestI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (BestI != Preds.begin())</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(*Preds.begin(), *BestI);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">/// SUnit - Scheduling unit. It&#39;s an wrapper around either a single SDNode or</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span><span class="comment">/// a group of nodes flagged together.</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#ac28b1882619718b4c6efb97899b845a1">  316</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#ac28b1882619718b4c6efb97899b845a1">SUnit::dump</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SU(&quot;</span> &lt;&lt; NodeNum &lt;&lt; <span class="stringliteral">&quot;): &quot;</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  G-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#aea91269e2e90180d147f33a0fdde6994">dumpNode</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="classllvm_1_1SUnit.html#ad65c4633454f99f4799f2eb08d0c5052">  321</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SUnit.html#ad65c4633454f99f4799f2eb08d0c5052">SUnit::dumpAll</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>(G);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  # preds left       : &quot;</span> &lt;&lt; NumPredsLeft &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  # succs left       : &quot;</span> &lt;&lt; NumSuccsLeft &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (WeakPredsLeft)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  # weak preds left  : &quot;</span> &lt;&lt; WeakPredsLeft &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">if</span> (WeakSuccsLeft)</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  # weak succs left  : &quot;</span> &lt;&lt; WeakSuccsLeft &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  # rdefs left       : &quot;</span> &lt;&lt; NumRegDefsLeft &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Latency            : &quot;</span> &lt;&lt; Latency &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Depth              : &quot;</span> &lt;&lt; getDepth() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Height             : &quot;</span> &lt;&lt; getHeight() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">if</span> (Preds.size() != 0) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Predecessors:\n&quot;</span>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Preds.begin(), E = Preds.end();</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getKind()) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>:        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;val &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>:        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;anti&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>:      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;out &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a>:       <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ch  &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SU(&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit()-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isArtificial())</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; *&quot;</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: Latency=&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getLatency();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isAssignedRegDep())</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; Reg=&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PrintReg.html">PrintReg</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getReg(), G-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">if</span> (Succs.size() != 0) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Successors:\n&quot;</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Succs.begin(), E = Succs.end();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getKind()) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>:        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;val &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>:        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;anti&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>:      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;out &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">SDep::Order</a>:       <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ch  &quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SU(&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit()-&gt;NodeNum &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isArtificial())</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; *&quot;</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;: Latency=&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getLatency();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isAssignedRegDep())</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; Reg=&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PrintReg.html">PrintReg</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getReg(), G-&gt;<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/// VerifyScheduledDAG - Verify that all SUnits were scheduled and that</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span><span class="comment">/// their state is consistent. Return the number of scheduled nodes.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span><span class="comment">///</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAG.html#ab464241184b77be167ff521aa2552e29">  383</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ScheduleDAG.html#ab464241184b77be167ff521aa2552e29">ScheduleDAG::VerifyScheduledDAG</a>(<span class="keywordtype">bool</span> isBottomUp) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">bool</span> AnyNotSched = <span class="keyword">false</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordtype">unsigned</span> DeadNodes = 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].isScheduled) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumPreds == 0 &amp;&amp; <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumSuccs == 0) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        ++DeadNodes;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">if</span> (!AnyNotSched)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Scheduling failed! ***\n&quot;</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].dump(<span class="keyword">this</span>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;has not been scheduled!\n&quot;</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      AnyNotSched = <span class="keyword">true</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].isScheduled &amp;&amp;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        (isBottomUp ? <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getHeight() : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].getDepth()) &gt;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          <span class="keywordtype">unsigned</span>(INT_MAX)) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (!AnyNotSched)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Scheduling failed! ***\n&quot;</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].dump(<span class="keyword">this</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;has an unexpected &quot;</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;           &lt;&lt; (isBottomUp ? <span class="stringliteral">&quot;Height&quot;</span> : <span class="stringliteral">&quot;Depth&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; value!\n&quot;</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      AnyNotSched = <span class="keyword">true</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (isBottomUp) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumSuccsLeft != 0) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (!AnyNotSched)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Scheduling failed! ***\n&quot;</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].dump(<span class="keyword">this</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;has successors left!\n&quot;</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        AnyNotSched = <span class="keyword">true</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].NumPredsLeft != 0) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (!AnyNotSched)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;*** Scheduling failed! ***\n&quot;</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].dump(<span class="keyword">this</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;has predecessors left!\n&quot;</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        AnyNotSched = <span class="keyword">true</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  assert(!AnyNotSched);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size() - DeadNodes;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/// InitDAGTopologicalSorting - create the initial topological</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/// ordering from the DAG to be scheduled.</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">/// The idea of the algorithm is taken from</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">/// &quot;Online algorithms for managing the topological order of</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/// a directed acyclic graph&quot; by David J. Pearce and Paul H.J. Kelly</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">/// This is the MNR algorithm, which was first introduced by</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/// A. Marchetti-Spaccamela, U. Nanni and H. Rohnert in</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">/// &quot;Maintaining a topological order under edge insertions&quot;.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">/// Short description of the algorithm:</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">/// Topological ordering, ord, of a DAG maps each node to a topological</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">/// index so that for all edges X-&gt;Y it is the case that ord(X) &lt; ord(Y).</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">/// This means that if there is a path from the node X to the node Z,</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">/// then ord(X) &lt; ord(Z).</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">/// This property can be used to check for reachability of nodes:</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// if Z is reachable from X, then an insertion of the edge Z-&gt;X would</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/// create a cycle.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">/// The algorithm first computes a topological ordering for the DAG by</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/// initializing the Index2Node and Node2Index arrays and then tries to keep</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/// the ordering up-to-date after edge insertions by reordering the DAG.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/// On insertion of the edge X-&gt;Y, the algorithm first marks by calling DFS</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/// the nodes reachable from Y, and then shifts them using Shift to lie</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/// immediately after X in Index2Node.</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a44c5faa549f250a26b1303eb1a3ebd47">  460</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a44c5faa549f250a26b1303eb1a3ebd47">ScheduleDAGTopologicalSort::InitDAGTopologicalSorting</a>() {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordtype">unsigned</span> DAGSize = <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  std::vector&lt;SUnit*&gt; WorkList;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  WorkList.reserve(DAGSize);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  Index2Node.resize(DAGSize);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  Node2Index.resize(DAGSize);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// Initialize the data structures.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    WorkList.push_back(<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = DAGSize; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span> NodeNum = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordtype">unsigned</span> Degree = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.size();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// Temporarily use the Node2Index array as scratch space for degree counts.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    Node2Index[NodeNum] = Degree;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// Is it a node without dependencies?</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (Degree == 0) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      assert(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.empty() &amp;&amp; <span class="stringliteral">&quot;SUnit should have no successors&quot;</span>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// Collect leaf nodes.</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      WorkList.push_back(SU);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aca8a950a42e5a08dff888aeb505e685c">Id</a> = DAGSize;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">while</span> (!WorkList.empty()) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = WorkList.back();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    WorkList.pop_back();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt; DAGSize)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      Allocate(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>, --Id);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_pred_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(), E = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt; DAGSize &amp;&amp; !--Node2Index[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>])</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="comment">// If all dependencies of the node are processed already,</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// then the node can be computed now.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        WorkList.push_back(SU);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  Visited.resize(DAGSize);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// Check correctness of the ordering</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = DAGSize; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_pred_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(), E = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      assert(Node2Index[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>] &gt; Node2Index[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit()-&gt;NodeNum] &amp;&amp;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="stringliteral">&quot;Wrong topological sorting&quot;</span>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">/// AddPred - Updates the topological ordering to accommodate an edge</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// to be added from SUnit X to SUnit Y.</span></div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a47144792598184237de69d6b25b35175">  519</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a47144792598184237de69d6b25b35175">ScheduleDAGTopologicalSort::AddPred</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">int</span> UpperBound, LowerBound;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  LowerBound = Node2Index[Y-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>];</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  UpperBound = Node2Index[X-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>];</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordtype">bool</span> HasLoop = <span class="keyword">false</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// Is Ord(X) &lt; Ord(Y) ?</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (LowerBound &lt; UpperBound) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// Update the topological order.</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    Visited.reset();</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    DFS(Y, UpperBound, HasLoop);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    assert(!HasLoop &amp;&amp; <span class="stringliteral">&quot;Inserted edge creates a loop!&quot;</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// Recompute topological indexes.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>(Visited, LowerBound, UpperBound);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">/// RemovePred - Updates the topological ordering to accommodate an</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/// an edge to be removed from the specified node N from the predecessors</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/// of the current node M.</span></div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">  538</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">ScheduleDAGTopologicalSort::RemovePred</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// InitDAGTopologicalSorting();</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">/// DFS - Make a DFS traversal to mark all nodes reachable from SU and mark</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/// all nodes affected by the edge insertion. These nodes will later get new</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">/// topological indexes by means of the Shift method.</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ScheduleDAGTopologicalSort::DFS(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">int</span> UpperBound,</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                                     <span class="keywordtype">bool</span> &amp;HasLoop) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  std::vector&lt;const SUnit*&gt; WorkList;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  WorkList.reserve(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size());</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  WorkList.push_back(SU);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    SU = WorkList.back();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    WorkList.pop_back();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    Visited.set(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.size()-1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &gt;= 0; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].getSUnit()-&gt;NodeNum;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">// Edges to non-SUnits are allowed but ignored (e.g. ExitSU).</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">if</span> (s &gt;= Node2Index.size())</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> (Node2Index[s] == UpperBound) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        HasLoop = <span class="keyword">true</span>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="comment">// Visit successors if not already and in affected region.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">if</span> (!Visited.test(s) &amp;&amp; Node2Index[<a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>] &lt; UpperBound) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        WorkList.push_back(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].getSUnit());</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  } <span class="keywordflow">while</span> (!WorkList.empty());</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">/// Shift - Renumber the nodes so that the topological ordering is</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">/// preserved.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ScheduleDAGTopologicalSort::Shift(<a class="code" href="classllvm_1_1BitVector.html">BitVector</a>&amp; Visited, <span class="keywordtype">int</span> LowerBound,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                       <span class="keywordtype">int</span> UpperBound) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  std::vector&lt;int&gt; L;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a> = 0;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">for</span> (i = LowerBound; i &lt;= UpperBound; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// w is node at topological index i.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordtype">int</span> w = Index2Node[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">test</a>(w)) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// Unmark.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      Visited.<a class="code" href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">reset</a>(w);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      L.push_back(w);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      shift = shift + 1;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      Allocate(w, i - shift);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; L.size(); ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    Allocate(L[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>], i - shift);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    i = i + 1;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">/// WillCreateCycle - Returns true if adding an edge to TargetSU from SU will</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">/// create a cycle. If so, it is not safe to call AddPred(TargetSU, SU).</span></div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a142388e1eb164f473d3c10b3c582d51b">  602</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a142388e1eb164f473d3c10b3c582d51b">ScheduleDAGTopologicalSort::WillCreateCycle</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *TargetSU, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// Is SU reachable from TargetSU via successor edges?</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (IsReachable(SU, TargetSU))</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::pred_iterator</a></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = TargetSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(), E = TargetSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isAssignedRegDep() &amp;&amp;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        IsReachable(SU, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit()))</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">/// IsReachable - Checks if SU is reachable from TargetSU.</span></div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#af5fef42e8e1d446cf5e185b14dd4b8af">  615</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#af5fef42e8e1d446cf5e185b14dd4b8af">ScheduleDAGTopologicalSort::IsReachable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *TargetSU) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// If insertion of the edge SU-&gt;TargetSU would create a cycle</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// then there is a path from TargetSU to SU.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordtype">int</span> UpperBound, LowerBound;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  LowerBound = Node2Index[TargetSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>];</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  UpperBound = Node2Index[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>];</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordtype">bool</span> HasLoop = <span class="keyword">false</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// Is Ord(TargetSU) &lt; Ord(SU) ?</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (LowerBound &lt; UpperBound) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    Visited.<a class="code" href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">reset</a>();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// There may be a path from TargetSU to SU. Check for it.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    DFS(TargetSU, UpperBound, HasLoop);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">return</span> HasLoop;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">/// Allocate - assign the topological index to the node n.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ScheduleDAGTopologicalSort::Allocate(<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>, <span class="keywordtype">int</span> <a class="code" href="README__ALTIVEC_8txt.html#a98586ea01a32ff5046b0868b036a1849">index</a>) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  Node2Index[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] = <a class="code" href="README__ALTIVEC_8txt.html#a98586ea01a32ff5046b0868b036a1849">index</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  Index2Node[<a class="code" href="README__ALTIVEC_8txt.html#a98586ea01a32ff5046b0868b036a1849">index</a>] = <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a254598cfb0937d0bfd9a999c27370685">ScheduleDAGTopologicalSort::</a></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a254598cfb0937d0bfd9a999c27370685">  639</a></span>&#160;<a class="code" href="classllvm_1_1ScheduleDAGTopologicalSort.html#a254598cfb0937d0bfd9a999c27370685">ScheduleDAGTopologicalSort</a>(std::vector&lt;SUnit&gt; &amp;sunits, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *exitsu)</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  : <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>(sunits), <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>(exitsu) {}</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleHazardRecognizer.html#a83a591f94a4af77da751b849c0158d2f">  642</a></span>&#160;<a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html#a83a591f94a4af77da751b849c0158d2f">ScheduleHazardRecognizer::~ScheduleHazardRecognizer</a>() {}</div><div class="ttc" id="classllvm_1_1ScheduleDAG_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html">llvm::ScheduleDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00538">ScheduleDAG.h:538</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00408">Target/README.txt:408</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1ScheduleHazardRecognizer_html_a83a591f94a4af77da751b849c0158d2f"><div class="ttname"><a href="classllvm_1_1ScheduleHazardRecognizer.html#a83a591f94a4af77da751b849c0158d2f">llvm::ScheduleHazardRecognizer::~ScheduleHazardRecognizer</a></div><div class="ttdeci">virtual ~ScheduleHazardRecognizer()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00642">ScheduleDAG.cpp:642</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_aaa4f7e2f3f5a23ecf19b98acd3c05593"><div class="ttname"><a href="classllvm_1_1SDep.html#aaa4f7e2f3f5a23ecf19b98acd3c05593">llvm::SDep::setSUnit</a></div><div class="ttdeci">void setSUnit(SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00165">ScheduleDAG.h:165</a></div></div>
<div class="ttc" id="SelectionDAGNodes_8h_html"><div class="ttname"><a href="SelectionDAGNodes_8h.html">SelectionDAGNodes.h</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a6d3233165db1e6be5c44060cd4a95461"><div class="ttname"><a href="classllvm_1_1SUnit.html#a6d3233165db1e6be5c44060cd4a95461">llvm::SUnit::removePred</a></div><div class="ttdeci">void removePred(const SDep &amp;D)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00133">ScheduleDAG.cpp:133</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ae2b43854b542de66eec6475adc48f56c"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">llvm::SUnit::Preds</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Preds</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00263">ScheduleDAG.h:263</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">llvm::SDep::Anti</a></div><div class="ttdoc">A register anti-dependedence (aka WAR). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00050">ScheduleDAG.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ad65c4633454f99f4799f2eb08d0c5052"><div class="ttname"><a href="classllvm_1_1SUnit.html#ad65c4633454f99f4799f2eb08d0c5052">llvm::SUnit::dumpAll</a></div><div class="ttdeci">void dumpAll(const ScheduleDAG *G) const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00321">ScheduleDAG.cpp:321</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a8c201d7a769bda1cd75d8d6788123068"><div class="ttname"><a href="classllvm_1_1SUnit.html#a8c201d7a769bda1cd75d8d6788123068">llvm::SUnit::isScheduled</a></div><div class="ttdeci">bool isScheduled</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00291">ScheduleDAG.h:291</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a1a6c1a29019b8f3fd988359ec5dd3d2f"><div class="ttname"><a href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">llvm::SUnit::NumSuccs</a></div><div class="ttdeci">unsigned NumSuccs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00274">ScheduleDAG.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a40c2dfbd170941dd4d20ee9b60c9d49d"><div class="ttname"><a href="classllvm_1_1SUnit.html#a40c2dfbd170941dd4d20ee9b60c9d49d">llvm::SUnit::NumSuccsLeft</a></div><div class="ttdeci">unsigned NumSuccsLeft</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00276">ScheduleDAG.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_ac087b1f634a3e5738ed056c68dbd1b00"><div class="ttname"><a href="classllvm_1_1SDep.html#ac087b1f634a3e5738ed056c68dbd1b00">llvm::SDep::isWeak</a></div><div class="ttdeci">bool isWeak() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00198">ScheduleDAG.h:198</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00430">SmallVector.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">llvm::SDep::Data</a></div><div class="ttdoc">Regular data dependence (aka true-dependence). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00049">ScheduleDAG.h:49</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a492234b10e0c5918d72a3a15a6f0fa6eafb49e6d343a4ce63c7048a222586cc9e"><div class="ttname"><a href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6eafb49e6d343a4ce63c7048a222586cc9e">llvm::cl::Required</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00087">CommandLine.h:87</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_a44c5faa549f250a26b1303eb1a3ebd47"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a44c5faa549f250a26b1303eb1a3ebd47">llvm::ScheduleDAGTopologicalSort::InitDAGTopologicalSorting</a></div><div class="ttdeci">void InitDAGTopologicalSorting()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00460">ScheduleDAG.cpp:460</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1PrintReg_html"><div class="ttname"><a href="classllvm_1_1PrintReg.html">llvm::PrintReg</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00878">TargetRegisterInfo.h:878</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">llvm::SDep::Output</a></div><div class="ttdoc">A register output-dependence (aka WAW). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00051">ScheduleDAG.h:51</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00506">Target/README.txt:506</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="ScheduleDAG_8cpp_html_affcfbbe18b295059ddd7ef8e7358c84b"><div class="ttname"><a href="ScheduleDAG_8cpp.html#affcfbbe18b295059ddd7ef8e7358c84b">StressSchedOpt</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; StressSchedOpt(&quot;stress-sched&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Stress test instruction scheduling&quot;))</div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ae75d620ee809eaf50970a833f4a3ace9"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae75d620ee809eaf50970a833f4a3ace9">llvm::SUnit::WeakSuccsLeft</a></div><div class="ttdeci">unsigned WeakSuccsLeft</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00278">ScheduleDAG.h:278</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00027">BitVector.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aca8a950a42e5a08dff888aeb505e685c"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aca8a950a42e5a08dff888aeb505e685c">llvm::tgtok::Id</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00057">TGLexer.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_af14dce27a63c0eb062c23c0ba436249c"><div class="ttname"><a href="classllvm_1_1SUnit.html#af14dce27a63c0eb062c23c0ba436249c">llvm::SUnit::setDepthToAtLeast</a></div><div class="ttdeci">void setDepthToAtLeast(unsigned NewDepth)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00213">ScheduleDAG.cpp:213</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html"><div class="ttname"><a href="classllvm_1_1SDep.html">llvm::SDep</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00045">ScheduleDAG.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a0e90fb55a364cbeedab55c95824668bd"><div class="ttname"><a href="classllvm_1_1SUnit.html#a0e90fb55a364cbeedab55c95824668bd">llvm::SUnit::setHeightToAtLeast</a></div><div class="ttdeci">void setHeightToAtLeast(unsigned NewHeight)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00224">ScheduleDAG.cpp:224</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_addb1364902bd813841491d91970ce02b"><div class="ttname"><a href="classllvm_1_1SUnit.html#addb1364902bd813841491d91970ce02b">llvm::SUnit::setDepthDirty</a></div><div class="ttdeci">void setDepthDirty()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00178">ScheduleDAG.cpp:178</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_a142388e1eb164f473d3c10b3c582d51b"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a142388e1eb164f473d3c10b3c582d51b">llvm::ScheduleDAGTopologicalSort::WillCreateCycle</a></div><div class="ttdeci">bool WillCreateCycle(SUnit *TargetSU, SUnit *SU)</div><div class="ttdoc">WillCreateCycle - Return true if addPred(TargetSU, SU) creates a cycle. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00602">ScheduleDAG.cpp:602</a></div></div>
<div class="ttc" id="namespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00882">SparseBitVector.h:882</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a20e10e20ded7655f844479a648aa0c66"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a20e10e20ded7655f844479a648aa0c66">llvm::ScheduleDAG::clearDAG</a></div><div class="ttdeci">void clearDAG()</div><div class="ttdoc">clearDAG - clear the DAG state (between regions). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00050">ScheduleDAG.cpp:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon&lt; T &gt;::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a5109693c2cdda2a4118e7d588b51bfa6"><div class="ttname"><a href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">llvm::BitVector::reset</a></div><div class="ttdeci">BitVector &amp; reset()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00275">BitVector.h:275</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a4505b88c7962025ca5a895caea130dbd"><div class="ttname"><a href="classllvm_1_1SDep.html#a4505b88c7962025ca5a895caea130dbd">llvm::SDep::getLatency</a></div><div class="ttdeci">unsigned getLatency() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00150">ScheduleDAG.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_a10a769ee13a9d9298d2c2b887dfae250"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a10a769ee13a9d9298d2c2b887dfae250">llvm::ScheduleDAGTopologicalSort::RemovePred</a></div><div class="ttdeci">void RemovePred(SUnit *M, SUnit *N)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00538">ScheduleDAG.cpp:538</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_abf89f09e76ca3bcfb207cddc821f3299"><div class="ttname"><a href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a></div><div class="ttdeci">http eax xorl edx cl sete al setne dl sall eax sall edx But that requires good bit subreg support this might be better It s an extra shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00031">Target/X86/README.txt:31</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a98586ea01a32ff5046b0868b036a1849"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a98586ea01a32ff5046b0868b036a1849">index</a></div><div class="ttdeci">splat index</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00186">README_ALTIVEC.txt:186</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a67742b87d83369cad814985a4afc83d0">llvm::SDep::Order</a></div><div class="ttdoc">Any other ordering dependency. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00052">ScheduleDAG.h:52</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html_ab16f5a81fccfe4b7f645ba5a74ffad02"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00048">MCInstrInfo.h:48</a></div></div>
<div class="ttc" id="ValueTracking_8cpp_html_a26e11e9c1ef55164b429eb9dc019f213"><div class="ttname"><a href="ValueTracking_8cpp.html#a26e11e9c1ef55164b429eb9dc019f213">MaxDepth</a></div><div class="ttdeci">const unsigned MaxDepth</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00036">ValueTracking.cpp:36</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a20b6ba858cb2bb6d8d7fa553025c1f61"><div class="ttname"><a href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00337">BitVector.h:337</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00306">SelectionDAGNodes.h:306</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a8de65d3a774ee7a23dc72e3d534e6ce6"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a8de65d3a774ee7a23dc72e3d534e6ce6">llvm::ScheduleDAG::StressSched</a></div><div class="ttdeci">bool StressSched</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00552">ScheduleDAG.h:552</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_af5fef42e8e1d446cf5e185b14dd4b8af"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#af5fef42e8e1d446cf5e185b14dd4b8af">llvm::ScheduleDAGTopologicalSort::IsReachable</a></div><div class="ttdeci">bool IsReachable(const SUnit *SU, const SUnit *TargetSU)</div><div class="ttdoc">IsReachable - Checks if SU is reachable from TargetSU. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00615">ScheduleDAG.cpp:615</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a4aa947b755365817fa095e581752a8ae"><div class="ttname"><a href="classllvm_1_1SUnit.html#a4aa947b755365817fa095e581752a8ae">llvm::SUnit::biasCriticalPath</a></div><div class="ttdeci">void biasCriticalPath()</div><div class="ttdoc">Order this node&amp;#39;s predecessor edges such that the critical path edge occurs first. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00298">ScheduleDAG.cpp:298</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a0d3253aa89a8b7441f8401f1b6609811"><div class="ttname"><a href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">llvm::SDep::getSUnit</a></div><div class="ttdeci">SUnit * getSUnit() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00160">ScheduleDAG.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_ae2ebc23ff27164ec1d375d4bac6040de"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#ae2ebc23ff27164ec1d375d4bac6040de">llvm::ScheduleDAG::ScheduleDAG</a></div><div class="ttdeci">ScheduleDAG(MachineFunction &amp;mf)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00036">ScheduleDAG.cpp:36</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a521bf68518a92483130a58680716d153"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a521bf68518a92483130a58680716d153">llvm::ScheduleDAG::EntrySU</a></div><div class="ttdeci">SUnit EntrySU</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00546">ScheduleDAG.h:546</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_ab464241184b77be167ff521aa2552e29"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#ab464241184b77be167ff521aa2552e29">llvm::ScheduleDAG::VerifyScheduledDAG</a></div><div class="ttdeci">unsigned VerifyScheduledDAG(bool isBottomUp)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00383">ScheduleDAG.cpp:383</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_af81f734d7fb268c95c1c63c399a7c4a6"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">llvm::ScheduleDAG::ExitSU</a></div><div class="ttdeci">SUnit ExitSU</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00547">ScheduleDAG.h:547</a></div></div>
<div class="ttc" id="ScheduleHazardRecognizer_8h_html"><div class="ttname"><a href="ScheduleHazardRecognizer_8h.html">ScheduleHazardRecognizer.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a418bc6d3f660325fa6d5b9fb269add62"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">llvm::ScheduleDAG::TRI</a></div><div class="ttdeci">const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00542">ScheduleDAG.h:542</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="TargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a998d6afb19cec8643f12f212ee386313"><div class="ttname"><a href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">llvm::SDep::getKind</a></div><div class="ttdeci">Kind getKind() const </div><div class="ttdoc">getKind - Return an enum value representing the kind of the dependence. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00170">ScheduleDAG.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a348590624c488b04d0f9e227e6c3960e"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">llvm::ScheduleDAG::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00541">ScheduleDAG.h:541</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a3f708b119627541f144d703a1d183202"><div class="ttname"><a href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">llvm::SUnit::NodeNum</a></div><div class="ttdeci">unsigned NodeNum</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00271">ScheduleDAG.h:271</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a5ba3791568e29a8d9214ec7dad855a56"><div class="ttname"><a href="classllvm_1_1SUnit.html#a5ba3791568e29a8d9214ec7dad855a56">llvm::SUnit::setHeightDirty</a></div><div class="ttdeci">void setHeightDirty()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00194">ScheduleDAG.cpp:194</a></div></div>
<div class="ttc" id="ScheduleDAG_8h_html"><div class="ttname"><a href="ScheduleDAG_8h.html">ScheduleDAG.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_aea91269e2e90180d147f33a0fdde6994"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#aea91269e2e90180d147f33a0fdde6994">llvm::ScheduleDAG::dumpNode</a></div><div class="ttdeci">virtual void dumpNode(const SUnit *SU) const =0</div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_af92bf49ed4846e026e68c380d74d7b15"><div class="ttname"><a href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">llvm::SUnit::addPred</a></div><div class="ttdeci">bool addPred(const SDep &amp;D, bool Required=true)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00065">ScheduleDAG.cpp:65</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_aab4a86c51e6b126c9c6ef58dbb574431"><div class="ttname"><a href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">llvm::SUnit::Succs</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Succs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00264">ScheduleDAG.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_a47144792598184237de69d6b25b35175"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a47144792598184237de69d6b25b35175">llvm::ScheduleDAGTopologicalSort::AddPred</a></div><div class="ttdeci">void AddPred(SUnit *Y, SUnit *X)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00519">ScheduleDAG.cpp:519</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a40f40bf3808799abdd4411ba209215dc"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a40f40bf3808799abdd4411ba209215dc">llvm::ScheduleDAG::~ScheduleDAG</a></div><div class="ttdeci">virtual ~ScheduleDAG()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00047">ScheduleDAG.cpp:47</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="OcamlGCPrinter_8cpp_html_a1bdbcdc4205781eefd549946d40ff378"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;,&quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a3d5aacd5fc7d6a739ce913974ed1e53d"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">llvm::ScheduleDAG::SUnits</a></div><div class="ttdeci">std::vector&lt; SUnit &gt; SUnits</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00545">ScheduleDAG.h:545</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGTopologicalSort_html_a254598cfb0937d0bfd9a999c27370685"><div class="ttname"><a href="classllvm_1_1ScheduleDAGTopologicalSort.html#a254598cfb0937d0bfd9a999c27370685">llvm::ScheduleDAGTopologicalSort::ScheduleDAGTopologicalSort</a></div><div class="ttdeci">ScheduleDAGTopologicalSort(std::vector&lt; SUnit &gt; &amp;SUnits, SUnit *ExitSU)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00639">ScheduleDAG.cpp:639</a></div></div>
<div class="ttc" id="namespacellvm_html_a6569d00d31a5d74e563e2f39f82271ab"><div class="ttname"><a href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">llvm::X</a></div><div class="ttdeci">static RegisterPass&lt; NVPTXAllocaHoisting &gt; X(&quot;alloca-hoisting&quot;,&quot;Hoisting alloca instructions in non-entry &quot;&quot;blocks to the entry block&quot;)</div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ac28b1882619718b4c6efb97899b845a1"><div class="ttname"><a href="classllvm_1_1SUnit.html#ac28b1882619718b4c6efb97899b845a1">llvm::SUnit::dump</a></div><div class="ttdeci">void dump(const ScheduleDAG *G) const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00316">ScheduleDAG.cpp:316</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html"><div class="ttname"><a href="classllvm_1_1SUnit.html">llvm::SUnit</a></div><div class="ttdoc">SUnit - Scheduling unit. This is a node in the scheduling DAG. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00249">ScheduleDAG.h:249</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a7ef138746b04be6d07091b9ba49d74da"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">llvm::SDNode::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00384">SelectionDAGNodes.h:384</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_afe3745334feafa68985dee7caa1a254f"><div class="ttname"><a href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">llvm::SDNode::getMachineOpcode</a></div><div class="ttdeci">unsigned getMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00389">SelectionDAGNodes.h:389</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:01:29 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
