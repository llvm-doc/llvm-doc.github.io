<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: MipsMCCodeEmitter.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MipsMCCodeEmitter_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MipsMCCodeEmitter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MipsMCCodeEmitter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- MipsMCCodeEmitter.cpp - Convert Mips Code to Machine Code ---------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements the MipsMCCodeEmitter class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="MipsMCCodeEmitter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   14</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;mccodeemitter&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MipsBaseInfo_8h.html">MCTargetDesc/MipsBaseInfo.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MipsFixupKinds_8h.html">MCTargetDesc/MipsFixupKinds.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MipsMCTargetDesc_8h.html">MCTargetDesc/MipsMCTargetDesc.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APFloat_8h.html">llvm/ADT/APFloat.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCCodeEmitter_8h.html">llvm/MC/MCCodeEmitter.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCExpr_8h.html">llvm/MC/MCExpr.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInst_8h.html">llvm/MC/MCInst.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrInfo_8h.html">llvm/MC/MCInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSubtargetInfo_8h.html">llvm/MC/MCSubtargetInfo.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="MipsMCCodeEmitter_8cpp.html#a68cd09032654ae05bb2a11b7c60a1cdd">   29</a></span>&#160;<span class="preprocessor">#define GET_INSTRMAP_INFO</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;MipsGenInstrInfo.inc&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span>MipsMCCodeEmitter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCCodeEmitter.html">MCCodeEmitter</a> {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  MipsMCCodeEmitter(<span class="keyword">const</span> MipsMCCodeEmitter &amp;) <a class="code" href="Compiler_8h.html#aacca75352b8e153274310c374564eb01">LLVM_DELETED_FUNCTION</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> MipsMCCodeEmitter &amp;) <a class="code" href="Compiler_8h.html#aacca75352b8e153274310c374564eb01">LLVM_DELETED_FUNCTION</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrInfo.html">MCInstrInfo</a> &amp;MCII;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="classllvm_1_1MCContext.html">MCContext</a> &amp;Ctx;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordtype">bool</span> IsLittleEndian;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">bool</span> IsMicroMips;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  MipsMCCodeEmitter(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrInfo.html">MCInstrInfo</a> &amp;mcii, <a class="code" href="classllvm_1_1MCContext.html">MCContext</a> &amp;Ctx_,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;sti, <span class="keywordtype">bool</span> IsLittle) :</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    MCII(mcii), Ctx(Ctx_), STI (sti), IsLittleEndian(IsLittle) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      IsMicroMips = STI.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#a3828eb42723147e207d44b67a8aaed3d">getFeatureBits</a>() &amp; Mips::FeatureMicroMips;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  ~MipsMCCodeEmitter() {}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">void</span> EmitByte(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    OS &lt;&lt; (char)C;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">void</span> EmitInstruction(uint64_t Val, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// Output the instruction encoding in little endian byte order.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Little-endian byte ordering:</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">//   mips32r2:   4 | 3 | 2 | 1</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">//   microMIPS:  2 | 1 | 4 | 3</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (IsLittleEndian &amp;&amp; Size == 4 &amp;&amp; IsMicroMips) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      EmitInstruction(Val&gt;&gt;16, 2, OS);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      EmitInstruction(Val, 2, OS);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; Size; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = IsLittleEndian ? <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8 : (Size - 1 - <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) * 8;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        EmitByte((Val &gt;&gt; Shift) &amp; 0xff, OS);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordtype">void</span> EncodeInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                         <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;<a class="code" href="namespacellvm_1_1AArch64.html#a5c816ea23ece51a78a235f57ffb177a9">Fixups</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// getBinaryCodeForInstr - TableGen&#39;erated function for getting the</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// binary encoding for an instruction.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  uint64_t getBinaryCodeForInstr(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// getBranchJumpOpValue - Return binary encoding of the jump</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// record the relocation and return zero.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordtype">unsigned</span> getJumpTargetOpValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// getBranchJumpOpValueMM - Return binary encoding of the microMIPS jump</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// record the relocation and return zero.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">unsigned</span> getJumpTargetOpValueMM(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <span class="comment">// getBranchTargetOpValue - Return binary encoding of the branch</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <span class="comment">// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="comment">// record the relocation and return zero.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMMCCodeEmitter_8cpp.html#ad8c0e71d19b4ff2c2adde636c076f0d5">getBranchTargetOpValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                  <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// getBranchTargetOpValue - Return binary encoding of the microMIPS branch</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// record the relocation and return zero.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">unsigned</span> getBranchTargetOpValueMM(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="comment">// getMachineOpValue - Return binary encoding of operand. If the machin</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="comment">// operand requires relocation, record the relocation and return zero.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">unsigned</span> getMachineOpValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI,<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCOperand.html">MCOperand</a> &amp;MO,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">unsigned</span> getMemEncoding(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                          <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">unsigned</span> getMemEncodingMMImm12(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">unsigned</span> getSizeExtEncoding(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">unsigned</span> getSizeInsEncoding(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                              <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// getLSAImmEncoding - Return binary encoding of LSA immediate.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">unsigned</span> getLSAImmEncoding(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInst.html">MCInst</a> &amp;MI, <span class="keywordtype">unsigned</span> OpNo,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                             <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">unsigned</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  getExprOpValue(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCExpr.html">MCExpr</a> *Expr,<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MCFixup&gt;</a> &amp;Fixups) <span class="keyword">const</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}; <span class="comment">// class MipsMCCodeEmitter</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}  <span class="comment">// namespace</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="namespacellvm.html#a035df8b452f98c2d417cc6a923469eb0">  129</a></span>&#160;<a class="code" href="classllvm_1_1MCCodeEmitter.html">MCCodeEmitter</a> *<a class="code" href="namespacellvm.html#a035df8b452f98c2d417cc6a923469eb0">llvm::createMipsMCCodeEmitterEB</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrInfo.html">MCInstrInfo</a> &amp;MCII,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCRegisterInfo.html">MCRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                               <a class="code" href="classllvm_1_1MCContext.html">MCContext</a> &amp;Ctx)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> MipsMCCodeEmitter(MCII, Ctx, STI, <span class="keyword">false</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="namespacellvm.html#a38da12fe7c49c52565168d0db5b16a1b">  137</a></span>&#160;<a class="code" href="classllvm_1_1MCCodeEmitter.html">MCCodeEmitter</a> *<a class="code" href="namespacellvm.html#a38da12fe7c49c52565168d0db5b16a1b">llvm::createMipsMCCodeEmitterEL</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrInfo.html">MCInstrInfo</a> &amp;MCII,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCRegisterInfo.html">MCRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSubtargetInfo.html">MCSubtargetInfo</a> &amp;STI,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                               <a class="code" href="classllvm_1_1MCContext.html">MCContext</a> &amp;Ctx)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> MipsMCCodeEmitter(MCII, Ctx, STI, <span class="keyword">true</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// If the D&lt;shift&gt; instruction has a shift amount that is greater</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// than 31 (checked in calling routine), lower it to a D&lt;shift&gt;32 instruction</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="MipsMCCodeEmitter_8cpp.html#ac23d02bf8c91f40857c9b136d4a1c1a1">  148</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MipsMCCodeEmitter_8cpp.html#ac23d02bf8c91f40857c9b136d4a1c1a1">LowerLargeShift</a>(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a>&amp; Inst) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  assert(Inst.<a class="code" href="classllvm_1_1MCInst.html#aa168c83cd321703fa7d10e739d48a0df">getNumOperands</a>() == 3 &amp;&amp; <span class="stringliteral">&quot;Invalid no. of operands for shift!&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  assert(Inst.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a55eeb71ac0e60e12cb37f99e984bda81">isImm</a>());</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  int64_t <a class="code" href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = Inst.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a650484333896fc7e8485cfa30f6d7ad5">getImm</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (Shift &lt;= 31)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Do nothing</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  Shift -= 32;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// saminus32</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  Inst.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a170578b62596712cf242f97ea687074b">setImm</a>(Shift);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">switch</span> (Inst.<a class="code" href="classllvm_1_1MCInst.html#a22542ca9978e4b90401edee109c4f263">getOpcode</a>()) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// Calling function is not synchronized</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected shift instruction&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> Mips::DSLL:</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    Inst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(Mips::DSLL32);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">case</span> Mips::DSRL:</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    Inst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(Mips::DSRL32);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">case</span> Mips::DSRA:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    Inst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(Mips::DSRA32);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">case</span> Mips::DROTR:</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    Inst.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>(Mips::DROTR32);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// Pick a DEXT or DINS instruction variant based on the pos and size operands</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="MipsMCCodeEmitter_8cpp.html#a3d657ca9e31d3acc17d39022bdd44612">  181</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="MipsMCCodeEmitter_8cpp.html#a3d657ca9e31d3acc17d39022bdd44612">LowerDextDins</a>(<a class="code" href="classllvm_1_1MCInst.html">MCInst</a>&amp; InstIn) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">int</span> Opcode = InstIn.<a class="code" href="classllvm_1_1MCInst.html#a22542ca9978e4b90401edee109c4f263">getOpcode</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (Opcode == Mips::DEXT)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    assert(InstIn.<a class="code" href="classllvm_1_1MCInst.html#aa168c83cd321703fa7d10e739d48a0df">getNumOperands</a>() == 4 &amp;&amp;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;           <span class="stringliteral">&quot;Invalid no. of machine operands for DEXT!&quot;</span>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// Only DEXT and DINS are possible</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    assert(InstIn.<a class="code" href="classllvm_1_1MCInst.html#aa168c83cd321703fa7d10e739d48a0df">getNumOperands</a>() == 5 &amp;&amp;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;           <span class="stringliteral">&quot;Invalid no. of machine operands for DINS!&quot;</span>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  assert(InstIn.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a55eeb71ac0e60e12cb37f99e984bda81">isImm</a>());</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  int64_t pos = InstIn.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a650484333896fc7e8485cfa30f6d7ad5">getImm</a>();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  assert(InstIn.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(3).<a class="code" href="classllvm_1_1MCOperand.html#a55eeb71ac0e60e12cb37f99e984bda81">isImm</a>());</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  int64_t <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a> = InstIn.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(3).<a class="code" href="classllvm_1_1MCOperand.html#a650484333896fc7e8485cfa30f6d7ad5">getImm</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span> (size &lt;= 32) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (pos &lt; 32)  <span class="comment">// DEXT/DINS, do nothing</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// DEXTU/DINSU</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    InstIn.<a class="code" href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">getOperand</a>(2).<a class="code" href="classllvm_1_1MCOperand.html#a170578b62596712cf242f97ea687074b">setImm</a>(pos - 32);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    InstIn.<a class="code" href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">setOpcode</a>((Opcode == Mips::DEXT) ? Mips::DEXTU : Mips::DINSU);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// DEXTM/DINSM</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  assert(pos &lt; 32 &amp;&amp; &quot;DEXT/DINS cannot have both size and pos &gt; 32<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="stringliteral">  InstIn.getOperand(3).setImm(size - 32);</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="stringliteral">  InstIn.setOpcode((Opcode == Mips::DEXT) ? Mips::DEXTM : Mips::DINSM);</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="stringliteral">  return;</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="stringliteral"></span><span class="comment"></span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/// EncodeInstruction - Emit the instruction.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/// Size the instruction with Desc.getSize().</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"></span>void MipsMCCodeEmitter::</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;EncodeInstruction(const MCInst &amp;MI, raw_ostream &amp;OS,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                  SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  // Non-pseudo instructions that get changed for direct object</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  // only based on operand values.</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  // If this list of instructions get much longer we will move</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  // the check to a function call. Until then, this is more efficient.</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  MCInst TmpInst = MI;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  switch (MI.getOpcode()) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  // If shift amount is &gt;= 32 it the inst needs to be lowered further</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  case Mips::DSLL:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  case Mips::DSRL:</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  case Mips::DSRA:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  case Mips::DROTR:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    LowerLargeShift(TmpInst);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    break;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    // Double extract instruction is chosen by pos and size operands</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  case Mips::DEXT:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  case Mips::DINS:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    LowerDextDins(TmpInst);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  unsigned long N = Fixups.size();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  uint32_t Binary = getBinaryCodeForInstr(TmpInst, Fixups);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  // Check for unimplemented opcodes.</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  // Unfortunately in MIPS both NOP and SLL will come in with Binary == 0</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  // so we have to special check for them.</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  unsigned Opcode = TmpInst.getOpcode();</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  if ((Opcode != Mips::NOP) &amp;&amp; (Opcode != Mips::SLL) &amp;&amp; !Binary)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    llvm_unreachable(&quot;unimplemented opcode in EncodeInstruction()<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="stringliteral">  if (STI.getFeatureBits() &amp; Mips::FeatureMicroMips) {</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="stringliteral">    int NewOpcode = Mips::Std2MicroMips (Opcode, Mips::Arch_micromips);</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="stringliteral">    if (NewOpcode != -1) {</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="stringliteral">      if (Fixups.size() &gt; N)</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="stringliteral">        Fixups.pop_back();</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="stringliteral">      Opcode = NewOpcode;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="stringliteral">      TmpInst.setOpcode (NewOpcode);</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="stringliteral">      Binary = getBinaryCodeForInstr(TmpInst, Fixups);</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">    }</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral">  }</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral">  const MCInstrDesc &amp;Desc = MCII.get(TmpInst.getOpcode());</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral">  // Get byte count of instruction</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">  unsigned Size = Desc.getSize();</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral">  if (!Size)</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">    llvm_unreachable(&quot;</span>Desc.getSize() returns 0<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">  EmitInstruction(Binary, Size, OS);</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral"></span><span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">/// getBranchTargetOpValue - Return binary encoding of the branch</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/// record the relocation and return zero.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>unsigned MipsMCCodeEmitter::</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;getBranchTargetOpValue(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                       SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  const MCOperand &amp;MO = MI.getOperand(OpNo);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  // If the destination is an immediate, divide by 4.</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  if (MO.isImm()) return MO.getImm() &gt;&gt; 2;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  assert(MO.isExpr() &amp;&amp;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         &quot;<a class="code" href="ARMMCCodeEmitter_8cpp.html#ad8c0e71d19b4ff2c2adde636c076f0d5">getBranchTargetOpValue</a> expects <a class="code" href="Target_2PowerPC_2README_8txt.html#a7afbd9a4b23855b37021352048555669">only</a> expressions <a class="code" href="Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> immediates<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="stringliteral">  const MCExpr *Expr = MO.getExpr();</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="stringliteral">  Fixups.push_back(MCFixup::Create(0, Expr,</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="stringliteral">                                   MCFixupKind(Mips::fixup_Mips_PC16)));</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="stringliteral">  return 0;</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="stringliteral"></span><span class="comment"></span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">/// getBranchTargetOpValue - Return binary encoding of the microMIPS branch</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/// record the relocation and return zero.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span>unsigned MipsMCCodeEmitter::</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;getBranchTargetOpValueMM(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                         SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  const MCOperand &amp;MO = MI.getOperand(OpNo);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  // If the destination is an immediate, divide by 2.</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  if (MO.isImm()) return MO.getImm() &gt;&gt; 1;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  assert(MO.isExpr() &amp;&amp;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;         &quot;getBranchTargetOpValueMM expects <a class="code" href="Target_2PowerPC_2README_8txt.html#a7afbd9a4b23855b37021352048555669">only</a> expressions <a class="code" href="Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> immediates<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral">  const MCExpr *Expr = MO.getExpr();</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">  Fixups.push_back(MCFixup::Create(0, Expr,</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">                   MCFixupKind(Mips::</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">                               fixup_MICROMIPS_PC16_S1)));</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral">  return 0;</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="stringliteral"></span><span class="comment"></span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/// getJumpTargetOpValue - Return binary encoding of the jump</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">/// target operand. If the machine operand requires relocation,</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/// record the relocation and return zero.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span>unsigned MipsMCCodeEmitter::</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;getJumpTargetOpValue(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                     SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  const MCOperand &amp;MO = MI.getOperand(OpNo);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  // If the destination is an immediate, divide by 4.</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  if (MO.isImm()) return MO.getImm()&gt;&gt;2;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  assert(MO.isExpr() &amp;&amp;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         &quot;getJumpTargetOpValue expects <a class="code" href="Target_2PowerPC_2README_8txt.html#a7afbd9a4b23855b37021352048555669">only</a> expressions <a class="code" href="Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an immediate<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="stringliteral">  const MCExpr *Expr = MO.getExpr();</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="stringliteral">  Fixups.push_back(MCFixup::Create(0, Expr,</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="stringliteral">                                   MCFixupKind(Mips::fixup_Mips_26)));</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="stringliteral">  return 0;</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="stringliteral">unsigned MipsMCCodeEmitter::</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral">getJumpTargetOpValueMM(const MCInst &amp;MI, unsigned OpNo,</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral">                       SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">  const MCOperand &amp;MO = MI.getOperand(OpNo);</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="stringliteral">  // If the destination is an immediate, divide by 2.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="stringliteral">  if (MO.isImm()) return MO.getImm() &gt;&gt; 1;</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral">  assert(MO.isExpr() &amp;&amp;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">         &quot;</span>getJumpTargetOpValueMM expects <a class="code" href="Target_2PowerPC_2README_8txt.html#a7afbd9a4b23855b37021352048555669">only</a> expressions <a class="code" href="Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a> an immediate<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="stringliteral">  const MCExpr *Expr = MO.getExpr();</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="stringliteral">  Fixups.push_back(MCFixup::Create(0, Expr,</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="stringliteral">                                   MCFixupKind(Mips::fixup_MICROMIPS_26_S1)));</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="stringliteral">  return 0;</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="stringliteral">unsigned MipsMCCodeEmitter::</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="stringliteral">getExprOpValue(const MCExpr *Expr,SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="stringliteral">  int64_t Res;</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="stringliteral">  if (Expr-&gt;EvaluateAsAbsolute(Res))</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="stringliteral">    return Res;</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="stringliteral">  MCExpr::ExprKind Kind = Expr-&gt;getKind();</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">  if (Kind == MCExpr::Constant) {</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">    return cast&lt;MCConstantExpr&gt;(Expr)-&gt;getValue();</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">  }</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">  if (Kind == MCExpr::Binary) {</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">    unsigned Res = getExprOpValue(cast&lt;MCBinaryExpr&gt;(Expr)-&gt;getLHS(), Fixups);</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="stringliteral">    Res += getExprOpValue(cast&lt;MCBinaryExpr&gt;(Expr)-&gt;getRHS(), Fixups);</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="stringliteral">    return Res;</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="stringliteral">  }</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="stringliteral">  if (Kind == MCExpr::SymbolRef) {</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="stringliteral">  Mips::Fixups FixupKind = Mips::Fixups(0);</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="stringliteral">  switch(cast&lt;MCSymbolRefExpr&gt;(Expr)-&gt;getKind()) {</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="stringliteral">  default: llvm_unreachable(&quot;</span><a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a> fixup kind!<span class="stringliteral">&quot;);</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GPOFF_HI :</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GPOFF_HI;</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GPOFF_LO :</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GPOFF_LO;</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_PAGE :</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_GOT_PAGE</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_GOT_PAGE;</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_OFST :</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_GOT_OFST</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_GOT_OFST;</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_DISP :</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_GOT_DISP</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_GOT_DISP;</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GPREL:</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GPREL16;</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_CALL:</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_CALL16</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_CALL16;</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT16:</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_GOT16</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_GOT_Global;</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT:</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_GOT16</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_GOT_Local;</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_ABS_HI:</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_HI16</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_HI16;</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_ABS_LO:</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_LO16</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_LO16;</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_TLSGD:</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_TLSGD;</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_TLSLDM:</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_TLSLDM;</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_DTPREL_HI:</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_TLS_DTPREL_HI16</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_DTPREL_HI;</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_DTPREL_LO:</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_TLS_DTPREL_LO16</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_DTPREL_LO;</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOTTPREL:</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GOTTPREL;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_TPREL_HI:</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_TLS_TPREL_HI16</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_TPREL_HI;</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_TPREL_LO:</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="stringliteral">    FixupKind = IsMicroMips ? Mips::fixup_MICROMIPS_TLS_TPREL_LO16</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="stringliteral">                            : Mips::fixup_Mips_TPREL_LO;</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_HIGHER:</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_HIGHER;</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_HIGHEST:</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_HIGHEST;</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_HI16:</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GOT_HI16;</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_GOT_LO16:</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_GOT_LO16;</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_CALL_HI16:</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_CALL_HI16;</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="stringliteral">  case MCSymbolRefExpr::VK_Mips_CALL_LO16:</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="stringliteral">    FixupKind = Mips::fixup_Mips_CALL_LO16;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="stringliteral">    break;</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="stringliteral">  } // switch</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="stringliteral">    Fixups.push_back(MCFixup::Create(0, Expr, MCFixupKind(FixupKind)));</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="stringliteral">    return 0;</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="stringliteral">  }</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="stringliteral">  return 0;</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="stringliteral">}</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="stringliteral"></span><span class="comment"></span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/// getMachineOpValue - Return binary encoding of operand. If the machine</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">/// operand requires relocation, record the relocation and return zero.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span>unsigned MipsMCCodeEmitter::</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;getMachineOpValue(const MCInst &amp;MI, const MCOperand &amp;MO,</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                  SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  if (MO.isReg()) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    unsigned Reg = MO.getReg();</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    unsigned RegNo = Ctx.getRegisterInfo()-&gt;getEncodingValue(Reg);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    return RegNo;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  } else if (MO.isImm()) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    return static_cast&lt;unsigned&gt;(MO.getImm());</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  } else if (MO.isFPImm()) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    return static_cast&lt;unsigned&gt;(APFloat(MO.getFPImm())</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        .bitcastToAPInt().getHiBits(32).getLimitedValue());</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  // MO must be an Expr.</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  assert(MO.isExpr());</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  return getExprOpValue(MO.getExpr(),Fixups);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">/// getMemEncoding - Return binary encoding of memory related operand.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">/// If the offset operand requires relocation, record the relocation.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span>unsigned</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;MipsMCCodeEmitter::getMemEncoding(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                  SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  // Base register is encoded in bits 20-16, offset is encoded in bits 15-0.</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  assert(MI.getOperand(OpNo).isReg());</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  unsigned RegBits = getMachineOpValue(MI, MI.getOperand(OpNo),Fixups) &lt;&lt; 16;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  unsigned OffBits = getMachineOpValue(MI, MI.getOperand(OpNo+1), Fixups);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  return (OffBits &amp; 0xFFFF) | RegBits;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;unsigned MipsMCCodeEmitter::</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;getMemEncodingMMImm12(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                      SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  // Base register is encoded in bits 20-16, offset is encoded in bits 11-0.</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  assert(MI.getOperand(OpNo).isReg());</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  unsigned RegBits = getMachineOpValue(MI, MI.getOperand(OpNo), Fixups) &lt;&lt; 16;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  unsigned OffBits = getMachineOpValue(MI, MI.getOperand(OpNo+1), Fixups);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  return (OffBits &amp; 0x0FFF) | RegBits;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;unsigned</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;MipsMCCodeEmitter::getSizeExtEncoding(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                      SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  assert(MI.getOperand(OpNo).isImm());</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  unsigned SizeEncoding = getMachineOpValue(MI, MI.getOperand(OpNo), Fixups);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  return SizeEncoding - 1;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;// FIXME: should be called getMSBEncoding</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;//</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;unsigned</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;MipsMCCodeEmitter::getSizeInsEncoding(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                      SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  assert(MI.getOperand(OpNo-1).isImm());</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  assert(MI.getOperand(OpNo).isImm());</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  unsigned Position = getMachineOpValue(MI, MI.getOperand(OpNo-1), Fixups);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  unsigned Size = getMachineOpValue(MI, MI.getOperand(OpNo), Fixups);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  return Position + Size - 1;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;unsigned</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;MipsMCCodeEmitter::getLSAImmEncoding(const MCInst &amp;MI, unsigned OpNo,</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                     SmallVectorImpl&lt;MCFixup&gt; &amp;Fixups) const {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  assert(MI.getOperand(OpNo).isImm());</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  // The immediate is encoded as &#39;immediate - 1&#39;.</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  return getMachineOpValue(MI, MI.getOperand(OpNo), Fixups) - 1;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;#include &quot;MipsGenMCCodeEmitter.inc<span class="stringliteral">&quot;</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral"></span></div><div class="ttc" id="MCSubtargetInfo_8h_html"><div class="ttname"><a href="MCSubtargetInfo_8h.html">MCSubtargetInfo.h</a></div></div>
<div class="ttc" id="MCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="MipsMCCodeEmitter_8cpp_html_a3d657ca9e31d3acc17d39022bdd44612"><div class="ttname"><a href="MipsMCCodeEmitter_8cpp.html#a3d657ca9e31d3acc17d39022bdd44612">LowerDextDins</a></div><div class="ttdeci">static void LowerDextDins(MCInst &amp;InstIn)</div><div class="ttdef"><b>Definition:</b> <a href="MipsMCCodeEmitter_8cpp_source.html#l00181">MipsMCCodeEmitter.cpp:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64_html_a5c816ea23ece51a78a235f57ffb177a9"><div class="ttname"><a href="namespacellvm_1_1AArch64.html#a5c816ea23ece51a78a235f57ffb177a9">llvm::AArch64::Fixups</a></div><div class="ttdeci">Fixups</div><div class="ttdef"><b>Definition:</b> <a href="AArch64FixupKinds_8h_source.html#l00022">AArch64FixupKinds.h:22</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="MipsBaseInfo_8h_html"><div class="ttname"><a href="MipsBaseInfo_8h.html">MipsBaseInfo.h</a></div></div>
<div class="ttc" id="MipsMCTargetDesc_8h_html"><div class="ttname"><a href="MipsMCTargetDesc_8h.html">MipsMCTargetDesc.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a38da12fe7c49c52565168d0db5b16a1b"><div class="ttname"><a href="namespacellvm.html#a38da12fe7c49c52565168d0db5b16a1b">llvm::createMipsMCCodeEmitterEL</a></div><div class="ttdeci">MCCodeEmitter * createMipsMCCodeEmitterEL(const MCInstrInfo &amp;MCII, const MCRegisterInfo &amp;MRI, const MCSubtargetInfo &amp;STI, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MipsMCCodeEmitter_8cpp_source.html#l00137">MipsMCCodeEmitter.cpp:137</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MCExpr_html"><div class="ttname"><a href="classllvm_1_1MCExpr.html">llvm::MCExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00031">MCExpr.h:31</a></div></div>
<div class="ttc" id="ARMMCCodeEmitter_8cpp_html_ad8c0e71d19b4ff2c2adde636c076f0d5"><div class="ttname"><a href="ARMMCCodeEmitter_8cpp.html#ad8c0e71d19b4ff2c2adde636c076f0d5">getBranchTargetOpValue</a></div><div class="ttdeci">static uint32_t getBranchTargetOpValue(const MCInst &amp;MI, unsigned OpIdx, unsigned FixupKind, SmallVectorImpl&lt; MCFixup &gt; &amp;Fixups)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMCCodeEmitter_8cpp_source.html#l00474">ARMMCCodeEmitter.cpp:474</a></div></div>
<div class="ttc" id="classllvm_1_1MCContext_html"><div class="ttname"><a href="classllvm_1_1MCContext.html">llvm::MCContext</a></div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8h_source.html#l00046">MCContext.h:46</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00506">Target/README.txt:506</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html"><div class="ttname"><a href="classllvm_1_1MCInst.html">llvm::MCInst</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00150">MCInst.h:150</a></div></div>
<div class="ttc" id="MCInstrInfo_8h_html"><div class="ttname"><a href="MCInstrInfo_8h.html">MCInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html">llvm::MCRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00135">MCRegisterInfo.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html_a55eeb71ac0e60e12cb37f99e984bda81"><div class="ttname"><a href="classllvm_1_1MCOperand.html#a55eeb71ac0e60e12cb37f99e984bda81">llvm::MCOperand::isImm</a></div><div class="ttdeci">bool isImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00057">MCInst.h:57</a></div></div>
<div class="ttc" id="MCCodeEmitter_8h_html"><div class="ttname"><a href="MCCodeEmitter_8h.html">MCCodeEmitter.h</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html_a170578b62596712cf242f97ea687074b"><div class="ttname"><a href="classllvm_1_1MCOperand.html#a170578b62596712cf242f97ea687074b">llvm::MCOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00078">MCInst.h:78</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_a7afbd9a4b23855b37021352048555669"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#a7afbd9a4b23855b37021352048555669">only</a></div><div class="ttdeci">entry mr r2 blr This could be reduced to the much andc r2 f1 stfd r1 lwz r1 extsw r2 std r1 lfd r1 fcfid f0 frsp f0 blr We could use a target dag combine to turn the lwz extsw into an lwa when the lwz has a single use Since LWA is cracked this would be a codesize win only</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00496">Target/PowerPC/README.txt:496</a></div></div>
<div class="ttc" id="classllvm_1_1MCCodeEmitter_html"><div class="ttname"><a href="classllvm_1_1MCCodeEmitter.html">llvm::MCCodeEmitter</a></div><div class="ttdoc">MCCodeEmitter - Generic instruction encoding interface. </div><div class="ttdef"><b>Definition:</b> <a href="MCCodeEmitter_8h_source.html#l00022">MCCodeEmitter.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html">llvm::MCInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00026">MCInstrInfo.h:26</a></div></div>
<div class="ttc" id="APFloat_8h_html"><div class="ttname"><a href="APFloat_8h.html">APFloat.h</a></div><div class="ttdoc">This file declares a class to represent arbitrary precision floating point values and provide a varie...</div></div>
<div class="ttc" id="MCInst_8h_html"><div class="ttname"><a href="MCInst_8h.html">MCInst.h</a></div></div>
<div class="ttc" id="MCExpr_8h_html"><div class="ttname"><a href="MCExpr_8h.html">MCExpr.h</a></div></div>
<div class="ttc" id="MCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_a3828eb42723147e207d44b67a8aaed3d"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#a3828eb42723147e207d44b67a8aaed3d">llvm::MCSubtargetInfo::getFeatureBits</a></div><div class="ttdeci">uint64_t getFeatureBits() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00067">MCSubtargetInfo.h:67</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_ae844d6ff99f067e6672e004ed7613c24"><div class="ttname"><a href="classllvm_1_1MCInst.html#ae844d6ff99f067e6672e004ed7613c24">llvm::MCInst::setOpcode</a></div><div class="ttdeci">void setOpcode(unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00157">MCInst.h:157</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="MipsMCCodeEmitter_8cpp_html_ac23d02bf8c91f40857c9b136d4a1c1a1"><div class="ttname"><a href="MipsMCCodeEmitter_8cpp.html#ac23d02bf8c91f40857c9b136d4a1c1a1">LowerLargeShift</a></div><div class="ttdeci">static void LowerLargeShift(MCInst &amp;Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MipsMCCodeEmitter_8cpp_source.html#l00148">MipsMCCodeEmitter.cpp:148</a></div></div>
<div class="ttc" id="Compiler_8h_html_aacca75352b8e153274310c374564eb01"><div class="ttname"><a href="Compiler_8h.html#aacca75352b8e153274310c374564eb01">LLVM_DELETED_FUNCTION</a></div><div class="ttdeci">#define LLVM_DELETED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00137">Compiler.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_a22542ca9978e4b90401edee109c4f263"><div class="ttname"><a href="classllvm_1_1MCInst.html#a22542ca9978e4b90401edee109c4f263">llvm::MCInst::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00158">MCInst.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html_a650484333896fc7e8485cfa30f6d7ad5"><div class="ttname"><a href="classllvm_1_1MCOperand.html#a650484333896fc7e8485cfa30f6d7ad5">llvm::MCOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00074">MCInst.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_aa168c83cd321703fa7d10e739d48a0df"><div class="ttname"><a href="classllvm_1_1MCInst.html#aa168c83cd321703fa7d10e739d48a0df">llvm::MCInst::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00165">MCInst.h:165</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html">llvm::MCSubtargetInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00029">MCSubtargetInfo.h:29</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_af9f7a898c4a757821053e38056d9383f"><div class="ttname"><a href="Target_2README_8txt.html#af9f7a898c4a757821053e38056d9383f">or</a></div><div class="ttdeci">compiles or</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00644">Target/README.txt:644</a></div></div>
<div class="ttc" id="MipsFixupKinds_8h_html"><div class="ttname"><a href="MipsFixupKinds_8h.html">MipsFixupKinds.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="namespacellvm_html_a035df8b452f98c2d417cc6a923469eb0"><div class="ttname"><a href="namespacellvm.html#a035df8b452f98c2d417cc6a923469eb0">llvm::createMipsMCCodeEmitterEB</a></div><div class="ttdeci">MCCodeEmitter * createMipsMCCodeEmitterEB(const MCInstrInfo &amp;MCII, const MCRegisterInfo &amp;MRI, const MCSubtargetInfo &amp;STI, MCContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="MipsMCCodeEmitter_8cpp_source.html#l00129">MipsMCCodeEmitter.cpp:129</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCOperand_html"><div class="ttname"><a href="classllvm_1_1MCOperand.html">llvm::MCOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00033">MCInst.h:33</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">llvm::Unknown</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1MCInst_html_a82523248f1c8145141a026cf3e57cf48"><div class="ttname"><a href="classllvm_1_1MCInst.html#a82523248f1c8145141a026cf3e57cf48">llvm::MCInst::getOperand</a></div><div class="ttdeci">const MCOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInst_8h_source.html#l00163">MCInst.h:163</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:15 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
