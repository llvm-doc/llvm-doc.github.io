<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: LinkModules.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('LinkModules_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LinkModules.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LinkModules_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- lib/Linker/LinkModules.cpp - Module Linker Implementation ----------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements the LLVM module linker.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Linker_8h.html">llvm/Linker.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="c_2Linker_8h.html">llvm-c/Linker.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Optional_8h.html">llvm/ADT/Optional.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallString_8h.html">llvm/ADT/SmallString.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TypeFinder_8h.html">llvm/IR/TypeFinder.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;cctype&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// TypeMap implementation.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;StructType*, 32&gt;</a> TypeSet;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span>TypeMapTy : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ValueMapTypeRemapper.html">ValueMapTypeRemapper</a> {<span class="comment"></span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">  /// MappedTypes - This is a mapping from a source type to a destination type</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">  /// to use.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Type*, Type*&gt;</a> MappedTypes;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">  /// SpeculativeTypes - When checking to see if two subgraphs are isomorphic,</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">  /// we speculatively add types to MappedTypes, but keep track of them here in</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">  /// case we need to roll back.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type*, 16&gt;</a> SpeculativeTypes;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">  /// SrcDefinitionsToResolve - This is a list of non-opaque structs in the</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  /// source module that are mapped to an opaque struct in the destination</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">  /// module.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;StructType*, 16&gt;</a> SrcDefinitionsToResolve;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">  /// DstResolvedOpaqueTypes - This is the set of opaque types in the</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">  /// destination modules who are getting a body from the source module.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;StructType*, 16&gt;</a> DstResolvedOpaqueTypes;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  TypeMapTy(TypeSet &amp;Set) : DstStructTypesSet(Set) {}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  TypeSet &amp;DstStructTypesSet;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">  /// addTypeMapping - Indicate that the specified type in the destination</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">  /// module is conceptually equivalent to the specified type in the source</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">  /// module.</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> addTypeMapping(<a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">  /// linkDefinedTypeBodies - Produce a body for an opaque type in the dest</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  /// module from a type definition in the source module.</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> linkDefinedTypeBodies();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  /// get - Return the mapped type to use for the specified input type from the</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  /// source module.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Type.html">Type</a> *<span class="keyword">get</span>(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<span class="keyword">get</span>(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>) {<span class="keywordflow">return</span> cast&lt;FunctionType&gt;(<span class="keyword">get</span>((<a class="code" href="classllvm_1_1Type.html">Type</a>*)<a class="code" href="classT.html">T</a>));}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">  /// dump - Dump out the type map for debugging purposes.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Type*, Type*&gt;::const_iterator</a></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MappedTypes.begin(), E = MappedTypes.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;TypeMap: &quot;</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first-&gt;dump();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second-&gt;dump();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *getImpl(<a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="classT.html">T</a>);<span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  /// remapType - Implement the ValueMapTypeRemapper interface.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1Type.html">Type</a> *remapType(<a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">get</span>(SrcTy);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">bool</span> areTypesIsomorphic(<a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;};</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keywordtype">void</span> TypeMapTy::addTypeMapping(<a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;Entry = MappedTypes[SrcTy];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (Entry) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  </div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> (DstTy == SrcTy) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    Entry = DstTy;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  </div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Check to see if these types are recursively isomorphic and establish a</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// mapping between them if so.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (!areTypesIsomorphic(DstTy, SrcTy)) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Oops, they aren&#39;t isomorphic.  Just discard this request by rolling out</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// any speculative mappings we&#39;ve established.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SpeculativeTypes.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      MappedTypes.erase(SpeculativeTypes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  SpeculativeTypes.clear();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/// areTypesIsomorphic - Recursively walk this pair of types, returning true</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/// if they are isomorphic, false if they are not.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> TypeMapTy::areTypesIsomorphic(<a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy, <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// Two types with differing kinds are clearly not isomorphic.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>() != SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// If we have an entry in the MappedTypes table, then we have our answer.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *&amp;Entry = MappedTypes[SrcTy];</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (Entry)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> Entry == DstTy;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// Two identical types are clearly isomorphic.  Remember this</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// non-speculatively.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">if</span> (DstTy == SrcTy) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    Entry = DstTy;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  </div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Okay, we have two types with identical kinds that we haven&#39;t seen before.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// If this is an opaque struct type, special case it.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *SSTy = dyn_cast&lt;StructType&gt;(SrcTy)) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// Mapping an opaque type to any struct, just keep the dest struct.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (SSTy-&gt;isOpaque()) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      Entry = DstTy;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      SpeculativeTypes.push_back(SrcTy);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Mapping a non-opaque source type to an opaque dest.  If this is the first</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// type that we&#39;re mapping onto this destination type then we succeed.  Keep</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// the dest, but fill it in later.  This doesn&#39;t need to be speculative.  If</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// this is the second (different) type that we&#39;re trying to map onto the</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// same opaque type then we fail.</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (cast&lt;StructType&gt;(DstTy)-&gt;isOpaque()) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">// We can only map one source type onto the opaque destination type.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">if</span> (!DstResolvedOpaqueTypes.insert(cast&lt;StructType&gt;(DstTy)))</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      SrcDefinitionsToResolve.push_back(SSTy);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      Entry = DstTy;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  </div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// If the number of subtypes disagree between the two types, then we fail.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>() != DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>())</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  </div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// Fail if any of the extra properties (e.g. array size) of the type disagree.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">if</span> (isa&lt;IntegerType&gt;(DstTy))</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// bitwidth disagrees.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PT = dyn_cast&lt;PointerType&gt;(DstTy)) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (PT-&gt;getAddressSpace() != cast&lt;PointerType&gt;(SrcTy)-&gt;getAddressSpace())</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    </div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = dyn_cast&lt;FunctionType&gt;(DstTy)) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;isVarArg() != cast&lt;FunctionType&gt;(SrcTy)-&gt;isVarArg())</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *DSTy = dyn_cast&lt;StructType&gt;(DstTy)) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classllvm_1_1StructType.html">StructType</a> *SSTy = cast&lt;StructType&gt;(SrcTy);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (DSTy-&gt;isLiteral() != SSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#af3a73d1eb65a9c8b2a417c34d3861a39">isLiteral</a>() ||</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        DSTy-&gt;isPacked() != SSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a883dd52cca7097874337641ca44473a0">isPacked</a>())</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *DATy = dyn_cast&lt;ArrayType&gt;(DstTy)) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (DATy-&gt;getNumElements() != cast&lt;ArrayType&gt;(SrcTy)-&gt;getNumElements())</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *DVTy = dyn_cast&lt;VectorType&gt;(DstTy)) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (DVTy-&gt;getNumElements() != cast&lt;VectorType&gt;(SrcTy)-&gt;getNumElements())</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// Otherwise, we speculate that these two types will line up and recursively</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// check the subelements.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  Entry = DstTy;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  SpeculativeTypes.push_back(SrcTy);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (!areTypesIsomorphic(DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1e2a8dc174c34596e7e8efc7ab7e08a0">getContainedType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                            SrcTy-&gt;<a class="code" href="classllvm_1_1Type.html#a1e2a8dc174c34596e7e8efc7ab7e08a0">getContainedType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)))</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  </div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// If everything seems to have lined up, then everything is great.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// linkDefinedTypeBodies - Produce a body for an opaque type in the dest</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// module from a type definition in the source module.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> TypeMapTy::linkDefinedTypeBodies() {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type*, 16&gt;</a> Elements;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;16&gt;</a> TmpName;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  </div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// Note that processing entries in this loop (calling &#39;get&#39;) can add new</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// entries to the SrcDefinitionsToResolve vector.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">while</span> (!SrcDefinitionsToResolve.empty()) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classllvm_1_1StructType.html">StructType</a> *SrcSTy = SrcDefinitionsToResolve.pop_back_val();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classllvm_1_1StructType.html">StructType</a> *DstSTy = cast&lt;StructType&gt;(MappedTypes[SrcSTy]);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    </div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// TypeMap is a many-to-one mapping, if there were multiple types that</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// provide a body for DstSTy then previous iterations of this loop may have</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// already handled it.  Just ignore this case.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!DstSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a47f8a52ece53e2e1ef08ab2d58f93c88">isOpaque</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    assert(!SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a47f8a52ece53e2e1ef08ab2d58f93c88">isOpaque</a>() &amp;&amp; <span class="stringliteral">&quot;Not resolving a definition?&quot;</span>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    </div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Map the body of the source type over to a new body for the dest type.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    Elements.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#aa2113dcf8c96c19c9a2abf786b9ad3b7">getNumElements</a>());</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Elements.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      Elements[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = getImpl(SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a2f54639fcb5162f6f51192eb1697d2ad">getElementType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    DstSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a3861d2f045e00a8114f99f751371ec68">setBody</a>(Elements, SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#a883dd52cca7097874337641ca44473a0">isPacked</a>());</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    </div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// If DstSTy has no name or has a longer name than STy, then viciously steal</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// STy&#39;s name.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (!SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#abe618a241c1fb964a24a7768c733c88e">hasName</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SrcName = SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    </div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (!DstSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#abe618a241c1fb964a24a7768c733c88e">hasName</a>() || DstSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>() &gt; SrcName.<a class="code" href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">size</a>()) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      TmpName.<a class="code" href="classllvm_1_1SmallVectorImpl.html#af622128e353515efebccad40eae495cb">insert</a>(TmpName.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), SrcName.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>(), SrcName.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>());</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      SrcSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#aae66135c154b054d4c1469497a34b04a">setName</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      DstSTy-&gt;<a class="code" href="classllvm_1_1StructType.html#aae66135c154b054d4c1469497a34b04a">setName</a>(TmpName.<a class="code" href="classllvm_1_1SmallString.html#a9926a62dd0ca26ed856052335091a54d">str</a>());</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      TmpName.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  </div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  DstResolvedOpaqueTypes.clear();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/// get - Return the mapped type to use for the specified input type from the</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/// source module.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">TypeMapTy::get</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Result = getImpl(Ty);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  </div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// If this caused a reference to any struct type, resolve it before returning.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">if</span> (!SrcDefinitionsToResolve.empty())</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    linkDefinedTypeBodies();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">/// getImpl - This is the recursive version of get().</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Type.html">Type</a> *TypeMapTy::getImpl(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// If we already have an entry for this type, return it.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> **Entry = &amp;MappedTypes[Ty];</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (*Entry) <span class="keywordflow">return</span> *Entry;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  </div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// If this is not a named struct type, then just map all of the elements and</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// then rebuild the type from inside out.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;StructType&gt;(Ty) || cast&lt;StructType&gt;(Ty)-&gt;isLiteral()) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// If there are no element types to map, then the type is itself.  This is</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// true for the anonymous {} struct, things like &#39;float&#39;, integers, etc.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>() == 0)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">return</span> *Entry = Ty;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    </div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// Remap all of the elements, keeping track of whether any of them change.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">bool</span> AnyChange = <span class="keyword">false</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type*, 4&gt;</a> ElementTypes;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    ElementTypes.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>());</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ty-&gt;<a class="code" href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">getNumContainedTypes</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      ElementTypes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = getImpl(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a1e2a8dc174c34596e7e8efc7ab7e08a0">getContainedType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      AnyChange |= ElementTypes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] != Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a1e2a8dc174c34596e7e8efc7ab7e08a0">getContainedType</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// If we found our type while recursively processing stuff, just use it.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    Entry = &amp;MappedTypes[Ty];</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (*Entry) <span class="keywordflow">return</span> *Entry;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// If all of the element types mapped directly over, then the type is usable</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// as-is.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (!AnyChange)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">return</span> *Entry = Ty;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    </div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Otherwise, rebuild a modified type.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">switch</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">getTypeID</a>()) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown derived type to remap&quot;</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa2989d3024a84b4dda9d77419b1648554">Type::ArrayTyID</a>:</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span> *Entry = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(ElementTypes[0],</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                     cast&lt;ArrayType&gt;(Ty)-&gt;getNumElements());</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa1f19f6d0e474b9dce2d0574e12baec29">Type::VectorTyID</a>: </div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">return</span> *Entry = <a class="code" href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">VectorType::get</a>(ElementTypes[0],</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                      cast&lt;VectorType&gt;(Ty)-&gt;getNumElements());</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">Type::PointerTyID</a>:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span> *Entry = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(ElementTypes[0],</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                      cast&lt;PointerType&gt;(Ty)-&gt;getAddressSpace());</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa0ec130d9ce9883b3e9c6071ee19a4b16">Type::FunctionTyID</a>:</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">return</span> *Entry = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(ElementTypes[0],</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                        <a class="code" href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">makeArrayRef</a>(ElementTypes).slice(1),</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                        cast&lt;FunctionType&gt;(Ty)-&gt;isVarArg());</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa812a573d23fbb37aacd025e2a0588156">Type::StructTyID</a>:</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// Note that this is only reached for anonymous structs.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">return</span> *Entry = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#af348d5ea83429d08ba891ca3dd0e92b2">getContext</a>(), ElementTypes,</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                      cast&lt;StructType&gt;(Ty)-&gt;isPacked());</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Otherwise, this is an unmapped named struct.  If the struct can be directly</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// mapped over, just use it as-is.  This happens in a case when the linked-in</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// module has something like:</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">//   %T = type {%T*, i32}</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">//   @GV = global %T* null</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// where T does not exist at all in the destination module.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// The other case we watch for is when the type is not in the destination</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// module, but that it has to be rebuilt because it refers to something that</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// is already mapped.  For example, if the destination module has:</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">//  %A = type { i32 }</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// and the source module has something like</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">//  %A&#39; = type { i32 }</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">//  %B = type { %A&#39;* }</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">//  @GV = global %B* null</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// then we want to create a new type: &quot;%B = type { %A*}&quot; and have it take the</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// pristine &quot;%B&quot; name from the source module.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// To determine which case this is, we have to recursively walk the type graph</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// speculating that we&#39;ll be able to reuse it unmodified.  Only if this is</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// safe would we map the entire thing over.  Because this is an optimization,</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// and is not required for the prettiness of the linked module, we just skip</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// it and always rebuild a type here.</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">StructType</a> *STy = cast&lt;StructType&gt;(Ty);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  </div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// If the type is opaque, we can just use it directly.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> (STy-&gt;isOpaque()) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// A named structure type from src module is used. Add it to the Set of</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// identified structs in the destination module.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    DstStructTypesSet.insert(STy);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> *Entry = STy;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Otherwise we create a new type and resolve its body later.  This will be</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// resolved by the top level of get().</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  SrcDefinitionsToResolve.push_back(STy);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="classllvm_1_1StructType.html">StructType</a> *DTy = <a class="code" href="classllvm_1_1StructType.html#a82648246c07eb8a33f628eea28cb988c">StructType::create</a>(STy-&gt;getContext());</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// A new identified structure type was created. Add it to the set of</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// identified structs in the destination module.</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  DstStructTypesSet.insert(DTy);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  DstResolvedOpaqueTypes.insert(DTy);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">return</span> *Entry = DTy;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">// ModuleLinker implementation.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">class </span>ModuleLinker;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  /// ValueMaterializerTy - Creates prototypes for functions that are lazily</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">  /// linked on the fly. This speeds up linking for modules with many</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">  /// lazily linked functions of which few get used.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>ValueMaterializerTy : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ValueMaterializer.html">ValueMaterializer</a> {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    TypeMapTy &amp;TypeMap;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *DstM;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    std::vector&lt;Function*&gt; &amp;LazilyLinkFunctions;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    ValueMaterializerTy(TypeMapTy &amp;TypeMap, <a class="code" href="classllvm_1_1Module.html">Module</a> *DstM,</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        std::vector&lt;Function*&gt; &amp;LazilyLinkFunctions) :</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="classllvm_1_1ValueMaterializer.html">ValueMaterializer</a>(), TypeMap(TypeMap), DstM(DstM),</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      LazilyLinkFunctions(LazilyLinkFunctions) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *materializeValueFor(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  };</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">  /// ModuleLinker - This is an implementation class for the LinkModules</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">  /// function, which is the entrypoint for this file.</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>ModuleLinker {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *DstM, *SrcM;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    </div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    TypeMapTy TypeMap; </div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    ValueMaterializerTy ValMaterializer;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    /// ValueMap - Mapping of values from what they used to be in Src, to what</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">    /// they are now in DstM.  ValueToValueMapTy is a ValueMap, which involves</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    /// some overhead due to the use of Value handles which the Linker doesn&#39;t</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    /// actually need, but this allows us to reuse the ValueMapper code.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> <a class="code" href="classllvm_1_1ValueMap.html">ValueMap</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    </div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">struct </span>AppendingVarInfo {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *NewGV;  <span class="comment">// New aggregate global in dest module.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DstInit;      <span class="comment">// Old initializer from dest module.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SrcInit;      <span class="comment">// Old initializer from src module.</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    };</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    </div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    std::vector&lt;AppendingVarInfo&gt; AppendingVars;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    </div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">unsigned</span> Mode; <span class="comment">// Mode to treat source module.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    </div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// Set of items not to link in from source.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value*, 16&gt;</a> DoNotLinkFromSource;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    </div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// Vector of functions to lazily link in.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    std::vector&lt;Function*&gt; LazilyLinkFunctions;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    </div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    std::string ErrorMsg;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    </div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    ModuleLinker(<a class="code" href="classllvm_1_1Module.html">Module</a> *dstM, TypeSet &amp;Set, <a class="code" href="classllvm_1_1Module.html">Module</a> *srcM, <span class="keywordtype">unsigned</span> <a class="code" href="README-Thumb_8txt.html#ad7bf7cc723b97ab4a518502c217ddbd7">mode</a>)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      : DstM(dstM), SrcM(srcM), TypeMap(Set),</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        ValMaterializer(TypeMap, DstM, LazilyLinkFunctions),</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        Mode(mode) { }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    </div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">bool</span> run();</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    </div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">    /// emitError - Helper method for setting a message and returning an error</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    /// code.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> emitError(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;Message) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      ErrorMsg = Message.<a class="code" href="classllvm_1_1Twine.html#aaabc8308782f695c3a2cc9dee510ab53">str</a>();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">    /// getLinkageResult - This analyzes the two global values and determines</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">    /// what the result will look like in the destination module.</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> getLinkageResult(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *Dest, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *Src,</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                          <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46aaceb55148508b6c678a9c9d4ce454007">LT</a>,</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                          <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> &amp;Vis,</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                          <span class="keywordtype">bool</span> &amp;LinkFromSrc);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">    /// getLinkedToGlobal - Given a global in the source module, return the</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">    /// global in the destination module that is being linked to, if any.</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *getLinkedToGlobal(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SrcGV) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="comment">// If the source has no name it can&#39;t link.  If it has local linkage,</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="comment">// there is no name match-up going on.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span> (!SrcGV-&gt;<a class="code" href="classllvm_1_1Value.html#a9b6d1ca60deddf2f2c25cfea671f617c">hasName</a>() || SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>())</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      </div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="comment">// Otherwise see if we have a match in the destination module&#39;s symtab.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a75391fa576679482ed9195d69101d002">getNamedValue</a>(SrcGV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>());</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">if</span> (DGV == 0) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        </div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="comment">// If we found a global with the same name in the dest module, but it has</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">// internal linkage, we are really not doing any linkage here.</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">if</span> (DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>())</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="comment">// Otherwise, we do in fact link to the destination global.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">return</span> DGV;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    </div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordtype">void</span> computeTypeMapping();</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    </div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordtype">bool</span> linkAppendingVarProto(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *DstGV, <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *SrcGV);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">bool</span> linkGlobalProto(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *SrcGV);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordtype">bool</span> linkFunctionProto(<a class="code" href="classllvm_1_1Function.html">Function</a> *SrcF);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordtype">bool</span> linkAliasProto(<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *SrcA);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordtype">bool</span> linkModuleFlagsMetadata();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    </div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">void</span> linkAppendingVarInit(<span class="keyword">const</span> AppendingVarInfo &amp;AVI);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">void</span> linkGlobalInits();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordtype">void</span> linkFunctionBody(<a class="code" href="classllvm_1_1Function.html">Function</a> *Dst, <a class="code" href="classllvm_1_1Function.html">Function</a> *Src);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">void</span> linkAliasBodies();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">void</span> linkNamedMDNodes();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  };</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">/// forceRenaming - The LLVM SymbolTable class autorenames globals that conflict</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">/// in the symbol table.  This is good for all clients except for us.  Go</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/// through the trouble to force this back.</span></div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="LinkModules_8cpp.html#a682c8b1a578622031f16f4be7766b603">  471</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="LinkModules_8cpp.html#a682c8b1a578622031f16f4be7766b603">forceRenaming</a>(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// If the global doesn&#39;t force its name or if it already has the right name,</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// there is nothing for us to do.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() || GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() == <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// If there is a conflict, rename the conflict.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *ConflictGV = M-&gt;<a class="code" href="classllvm_1_1Module.html#a75391fa576679482ed9195d69101d002">getNamedValue</a>(Name)) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(ConflictGV);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    ConflictGV-&gt;setName(Name);    <span class="comment">// This will cause ConflictGV to get renamed</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    assert(ConflictGV-&gt;getName() != Name &amp;&amp; <span class="stringliteral">&quot;forceRenaming didn&#39;t work&quot;</span>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(Name);              <span class="comment">// Force the name back</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">/// copyGVAttributes - copy additional attributes (those not needed to construct</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/// a GlobalValue) from the SrcGV to the DestGV.</span></div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">  491</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DestGV, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *SrcGV) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// Use the maximum alignment, rather than just copying the alignment of SrcGV.</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordtype">unsigned</span> Alignment = std::max(DestGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a8a69689cb8586761c6a7535a8f6618a5">getAlignment</a>(), SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a8a69689cb8586761c6a7535a8f6618a5">getAlignment</a>());</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  DestGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a96c9558e69f588728273b57eb5a1fe73">copyAttributesFrom</a>(SrcGV);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  DestGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad7523221c38891e563047ab7fc044312">setAlignment</a>(Alignment);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  </div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="LinkModules_8cpp.html#a682c8b1a578622031f16f4be7766b603">forceRenaming</a>(DestGV, SrcGV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>());</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="LinkModules_8cpp.html#a4b78d7fc04ebf150f8521ce219a684b2">  500</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LinkModules_8cpp.html#a4b78d7fc04ebf150f8521ce219a684b2">isLessConstraining</a>(<a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                               <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">if</span> (a == <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (b == <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">GlobalValue::HiddenVisibility</a>)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> (a == <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195ae1cc9a390520055573d459de25747caa">GlobalValue::ProtectedVisibility</a>)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (b == <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195ae1cc9a390520055573d459de25747caa">GlobalValue::ProtectedVisibility</a>)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *ValueMaterializerTy::materializeValueFor(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *SF = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Function.html">Function</a>&gt;(V);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!SF)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0">DF</a> = <a class="code" href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">Function::Create</a>(TypeMap.get(SF-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>()),</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                  SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), SF-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), DstM);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(DF, SF);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  LazilyLinkFunctions.push_back(SF);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0">DF</a>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">/// getLinkageResult - This analyzes the two global values and determines what</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">/// the result will look like in the destination module.  In particular, it</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">/// computes the resultant linkage type and visibility, computes whether the</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">/// global in the source should be copied over to the destination (replacing</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">/// the existing one), and computes whether this linkage is an error or not.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::getLinkageResult(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *Dest, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *Src,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                    <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46aaceb55148508b6c678a9c9d4ce454007">LT</a>,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                    <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> &amp;Vis,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                    <span class="keywordtype">bool</span> &amp;LinkFromSrc) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  assert(Dest &amp;&amp; <span class="stringliteral">&quot;Must have two globals being queried&quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  assert(!Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() &amp;&amp;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         <span class="stringliteral">&quot;If Src has internal linkage, Dest shouldn&#39;t be set!&quot;</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  </div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordtype">bool</span> SrcIsDeclaration = Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() &amp;&amp; !Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac231cdb971edd1559ebecff939fe58d9">isMaterializable</a>();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordtype">bool</span> DestIsDeclaration = Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  </div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span> (SrcIsDeclaration) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// If Src is external or if both Src &amp; Dest are external..  Just link the</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// external globals, we aren&#39;t adding anything.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa7923d9a1218e4e237f70d20efb9c647">hasDLLImportLinkage</a>()) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="comment">// If one of GVs has DLLImport linkage, result should be dllimport&#39;ed.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">if</span> (DestIsDeclaration) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        LinkFromSrc = <span class="keyword">true</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        LT = Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>()) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// If the Dest is weak, use the source linkage.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      LinkFromSrc = <span class="keyword">true</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      LT = Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      LT = Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DestIsDeclaration &amp;&amp; !Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa7923d9a1218e4e237f70d20efb9c647">hasDLLImportLinkage</a>()) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// If Dest is external but Src is not:</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    LinkFromSrc = <span class="keyword">true</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    LT = Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac291102760c543c8e045e829d57d3341">isWeakForLinker</a>()) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">// At this point we know that Dest has LinkOnce, External*, Weak, Common,</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// or DLL* linkage.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>() ||</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>() ||</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        (Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9be1da2652db0d33fae391c9b2295e4f">hasLinkOnceLinkage</a>() &amp;&amp;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         (Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa06c6c6ba76f284f62a1902a3a2b3081">hasWeakLinkage</a>() || Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a2506accca38107a6d25064c7c5c058fd">hasCommonLinkage</a>()))) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      LinkFromSrc = <span class="keyword">true</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      LT = Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      LT = Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac291102760c543c8e045e829d57d3341">isWeakForLinker</a>()) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// At this point we know that Src has External* or DLL* linkage.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>()) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      LT = Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      LinkFromSrc = <span class="keyword">true</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      LT = <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    assert((Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a0f606d92ce05aaf49a893d7a1f55da68">hasExternalLinkage</a>()  || Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa7923d9a1218e4e237f70d20efb9c647">hasDLLImportLinkage</a>() ||</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a45f5971e8ba4b70f25d856bdc8560a73">hasDLLExportLinkage</a>() || Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>()) &amp;&amp;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;           (Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a0f606d92ce05aaf49a893d7a1f55da68">hasExternalLinkage</a>()   || Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa7923d9a1218e4e237f70d20efb9c647">hasDLLImportLinkage</a>() ||</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a45f5971e8ba4b70f25d856bdc8560a73">hasDLLExportLinkage</a>()  || Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">hasExternalWeakLinkage</a>()) &amp;&amp;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;           <span class="stringliteral">&quot;Unexpected linkage type!&quot;</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> emitError(<span class="stringliteral">&quot;Linking globals named &#39;&quot;</span> + Src-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() +</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                 <span class="stringliteral">&quot;&#39;: symbol multiply defined!&quot;</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// Compute the visibility. We follow the rules in the System V Application</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// Binary Interface.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  Vis = <a class="code" href="LinkModules_8cpp.html#a4b78d7fc04ebf150f8521ce219a684b2">isLessConstraining</a>(Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>(), Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>()) ?</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    Dest-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>() : Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">/// computeTypeMapping - Loop over all of the linked values to compute type</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">/// mappings.  For example, if we link &quot;extern Foo *x&quot; and &quot;Foo *x = NULL&quot;, then</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">/// we have two struct types &#39;Foo&#39; but one got renamed when the module was</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">/// loaded into the same LLVMContext.</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ModuleLinker::computeTypeMapping() {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Incorporate globals.</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::global_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">global_begin</a>(),</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;       E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">global_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = getLinkedToGlobal(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (DGV == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    </div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (!DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">hasAppendingLinkage</a>() || !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasAppendingLinkage()) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      TypeMap.addTypeMapping(DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType());</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">continue</span>;      </div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    </div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">// Unify the element type of appending arrays.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *DAT = cast&lt;ArrayType&gt;(DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *SAT = cast&lt;ArrayType&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;getElementType());</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    TypeMap.addTypeMapping(DAT-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>(), SAT-&gt;getElementType());</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  </div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// Incorporate functions.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">begin</a>(), E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = getLinkedToGlobal(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      TypeMap.addTypeMapping(DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType());</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// Incorporate types by name, scanning all the types in the source module.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// At this point, the destination module may have a type &quot;%foo = { i32 }&quot; for</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// example.  When the source module got loaded into the same LLVMContext, if</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// it had the same type, it would have been renamed to &quot;%foo.42 = { i32 }&quot;.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="classllvm_1_1TypeFinder.html">TypeFinder</a> SrcStructTypes;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  SrcStructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a76e63ec5dc3405d799590195281313e2">run</a>(*SrcM, <span class="keyword">true</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;StructType*, 32&gt;</a> SrcStructTypesSet(SrcStructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a993aa6804b908bc6697eab2eea856606">begin</a>(),</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                                 SrcStructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a53f1f63a6766007a2c05a811c3e98990">end</a>());</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SrcStructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#aab559789cec7a6e4585a8dbad03ae294">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="classllvm_1_1StructType.html">StructType</a> *<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = SrcStructTypes[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (!ST-&gt;<a class="code" href="classllvm_1_1StructType.html#abe618a241c1fb964a24a7768c733c88e">hasName</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    </div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// Check to see if there is a dot in the name followed by a digit.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">size_t</span> DotPos = ST-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a87091ed60a621a3d430752da2996d27b">rfind</a>(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (DotPos == 0 || DotPos == <a class="code" href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">StringRef::npos</a> ||</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        ST-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a9904c6e695f8ac00208d00663040c173">back</a>() == <span class="charliteral">&#39;.&#39;</span> ||</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        !<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee">isdigit</a>(static_cast&lt;unsigned char&gt;(ST-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>()[DotPos+1])))</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    </div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// Check to see if the destination module has a struct with the prefix name.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StructType.html">StructType</a> *DST = DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a4cc253e317f0ab079b0b46ae07f481e1">getTypeByName</a>(ST-&gt;<a class="code" href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">substr</a>(0, DotPos)))</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">// Don&#39;t use it if this actually came from the source module. They&#39;re in</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">// the same LLVMContext after all. Also don&#39;t use it unless the type is</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// actually used in the destination module. This can happen in situations</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="comment">// like this:</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="comment">//      Module A                         Module B</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="comment">//      --------                         --------</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="comment">//   %Z = type { %A }                %B = type { %C.1 }</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">//   %A = type { %B.1, [7 x i8] }    %C.1 = type { i8* }</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="comment">//   %B.1 = type { %C }              %A.2 = type { %B.3, [5 x i8] }</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="comment">//   %C = type { i8* }               %B.3 = type { %C.1 }</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="comment">// When we link Module B with Module A, the &#39;%B&#39; in Module B is</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="comment">// used. However, that would then use &#39;%C.1&#39;. But when we process &#39;%C.1&#39;,</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">// we prefer to take the &#39;%C&#39; version. So we are then left with both</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">// &#39;%C.1&#39; and &#39;%C&#39; being used for the same types. This leads to some</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="comment">// variables using one type and some using the other.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">if</span> (!SrcStructTypesSet.count(DST) &amp;&amp; TypeMap.DstStructTypesSet.count(DST))</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        TypeMap.addTypeMapping(DST, ST);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// Don&#39;t bother incorporating aliases, they aren&#39;t generally typed well.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  </div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// Now that we have discovered all of the type equivalences, get a body for</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="comment">// any &#39;opaque&#39; types in the dest module that are now resolved. </span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  TypeMap.linkDefinedTypeBodies();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">/// linkAppendingVarProto - If there were any appending global variables, link</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/// them together now.  Return true on error.</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::linkAppendingVarProto(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *DstGV,</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                         <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *SrcGV) {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (!SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">hasAppendingLinkage</a>() || !DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">hasAppendingLinkage</a>())</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">return</span> emitError(<span class="stringliteral">&quot;Linking globals named &#39;&quot;</span> + SrcGV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() +</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;           <span class="stringliteral">&quot;&#39;: can only link appending global with another appending global!&quot;</span>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  </div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *DstTy = cast&lt;ArrayType&gt;(DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>());</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *SrcTy =</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    cast&lt;ArrayType&gt;(TypeMap.get(SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>()));</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *EltTy = DstTy-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>();</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  </div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// Check to see that they two arrays agree on type.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">if</span> (EltTy != SrcTy-&gt;getElementType())</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">return</span> emitError(<span class="stringliteral">&quot;Appending variables with different element types!&quot;</span>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">if</span> (DstGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>() != SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>())</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> emitError(<span class="stringliteral">&quot;Appending variables linked with different const&#39;ness!&quot;</span>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  </div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> (DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a8a69689cb8586761c6a7535a8f6618a5">getAlignment</a>() != SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a8a69689cb8586761c6a7535a8f6618a5">getAlignment</a>())</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> emitError(</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;             <span class="stringliteral">&quot;Appending variables with different alignment need to be linked!&quot;</span>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  </div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>() != SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">getVisibility</a>())</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> emitError(</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="stringliteral">&quot;Appending variables with different visibility need to be linked!&quot;</span>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keywordflow">if</span> (DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>() != SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>())</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">return</span> emitError(</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="stringliteral">&quot;Appending variables with different unnamed_addr need to be linked!&quot;</span>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a1f39ff79c40deb2abcea0592434f9855">getSection</a>() != SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a1f39ff79c40deb2abcea0592434f9855">getSection</a>())</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> emitError(</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          <span class="stringliteral">&quot;Appending variables with different section name need to be linked!&quot;</span>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  </div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  uint64_t NewSize = DstTy-&gt;<a class="code" href="classllvm_1_1ArrayType.html#a688547c04258bde2eaf6515048bf3f3b">getNumElements</a>() + SrcTy-&gt;getNumElements();</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *NewType = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(EltTy, NewSize);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  </div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// Create the new global variable.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *NG =</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(*DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>(), NewType, SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>(),</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                       DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), <span class="comment">/*init*/</span>0, <span class="comment">/*name*/</span><span class="stringliteral">&quot;&quot;</span>, DstGV,</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                       DstGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ab1b932862d7d88dae34cfd24f44847a3">getThreadLocalMode</a>(),</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                       DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1PointerType.html#a921061a57ec3cfbaf6422f09f7d79fc3">getAddressSpace</a>());</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  </div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Propagate alignment, visibility and section info.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(NG, DstGV);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  </div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  AppendingVarInfo AVI;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  AVI.NewGV = NG;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  AVI.DstInit = DstGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#aa4d95acdd770e27036d21edb3cad65e1">getInitializer</a>();</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  AVI.SrcInit = SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#aa4d95acdd770e27036d21edb3cad65e1">getInitializer</a>();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  AppendingVars.push_back(AVI);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// Replace any uses of the two global variables with uses of the new</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// global.</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  ValueMap[SrcGV] = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NG, TypeMap.get(SrcGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  DstGV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NG, DstGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  DstGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">eraseFromParent</a>();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  </div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// Track the source variable so we don&#39;t try to link it.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SrcGV);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  </div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/// linkGlobalProto - Loop through the global variables in the src module and</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">/// merge them into the dest module.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::linkGlobalProto(<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *SGV) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = getLinkedToGlobal(SGV);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">llvm::Optional&lt;GlobalValue::VisibilityTypes&gt;</a> NewVisibility;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">bool</span> HasUnnamedAddr = SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Concatenation of appending linkage variables is magic and handled later.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">hasAppendingLinkage</a>() || SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">hasAppendingLinkage</a>())</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">return</span> linkAppendingVarProto(cast&lt;GlobalVariable&gt;(DGV), SGV);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    </div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// Determine whether linkage of these two globals follows the source</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// module&#39;s definition or the destination module&#39;s definition.</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewLinkage = <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">bool</span> LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (getLinkageResult(DGV, SGV, NewLinkage, NV, LinkFromSrc))</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    NewVisibility = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    HasUnnamedAddr = HasUnnamedAddr &amp;&amp; DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// If we&#39;re not linking from the source, then keep the definition that we</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// have.</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (!LinkFromSrc) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="comment">// Special case for const propagation.</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *DGVar = dyn_cast&lt;GlobalVariable&gt;(DGV))</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">if</span> (DGVar-&gt;isDeclaration() &amp;&amp; SGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>() &amp;&amp; !DGVar-&gt;isConstant())</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          DGVar-&gt;setConstant(<span class="keyword">true</span>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="comment">// Set calculated linkage, visibility and unnamed_addr.</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(NewLinkage);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a91ebd7b5d66cc73396c43f4c056050d6">setUnnamedAddr</a>(HasUnnamedAddr);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="comment">// Make sure to remember this mapping.</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      ValueMap[SGV] = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(DGV,TypeMap.get(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      </div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="comment">// Track the source global so that we don&#39;t attempt to copy it over when </span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="comment">// processing global initializers.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SGV);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      </div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  </div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// No linking to be performed or linking from the source: simply create an</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// identical version of the symbol over in the dest module... the</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// initializer will be filled in later by LinkGlobalInits.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *NewDGV =</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(*DstM, TypeMap.get(SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>()),</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                       SGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">isConstant</a>(), SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), <span class="comment">/*init*/</span>0,</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                       SGV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), <span class="comment">/*insertbefore*/</span>0,</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                       SGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#ab1b932862d7d88dae34cfd24f44847a3">getThreadLocalMode</a>(),</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                       SGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()-&gt;<a class="code" href="classllvm_1_1PointerType.html#a921061a57ec3cfbaf6422f09f7d79fc3">getAddressSpace</a>());</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="comment">// Propagate alignment, visibility and section info.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(NewDGV, SGV);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">if</span> (NewVisibility)</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    NewDGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  NewDGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a91ebd7b5d66cc73396c43f4c056050d6">setUnnamedAddr</a>(HasUnnamedAddr);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NewDGV, DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad6fca81756b8258fe62e9071004e449e">eraseFromParent</a>();</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  </div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// Make sure to remember this mapping.</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  ValueMap[SGV] = NewDGV;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">/// linkFunctionProto - Link the function in the source module into the</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">/// destination module if needed, setting up mapping information.</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::linkFunctionProto(<a class="code" href="classllvm_1_1Function.html">Function</a> *SF) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = getLinkedToGlobal(SF);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">llvm::Optional&lt;GlobalValue::VisibilityTypes&gt;</a> NewVisibility;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordtype">bool</span> HasUnnamedAddr = SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>();</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewLinkage = <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordtype">bool</span> LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> (getLinkageResult(DGV, SF, NewLinkage, NV, LinkFromSrc))</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    NewVisibility = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    HasUnnamedAddr = HasUnnamedAddr &amp;&amp; DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">hasUnnamedAddr</a>();</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (!LinkFromSrc) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="comment">// Set calculated linkage</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(NewLinkage);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a91ebd7b5d66cc73396c43f4c056050d6">setUnnamedAddr</a>(HasUnnamedAddr);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="comment">// Make sure to remember this mapping.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      ValueMap[SF] = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(DGV, TypeMap.get(SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      </div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="comment">// Track the function from the source module so we don&#39;t attempt to remap </span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="comment">// it.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SF);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      </div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  </div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// If the function is to be lazily linked, don&#39;t create it just yet.</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// The ValueMaterializerTy will deal with creating it if it&#39;s used.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordflow">if</span> (!DGV &amp;&amp; (SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>() || SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9be1da2652db0d33fae391c9b2295e4f">hasLinkOnceLinkage</a>() ||</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;               SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">hasAvailableExternallyLinkage</a>())) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SF);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">// If there is no linkage to be performed or we are linking from the source,</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">// bring SF over.</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *NewDF = <a class="code" href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">Function::Create</a>(TypeMap.get(SF-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>()),</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                     SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), SF-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), DstM);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(NewDF, SF);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (NewVisibility)</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    NewDF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  NewDF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a91ebd7b5d66cc73396c43f4c056050d6">setUnnamedAddr</a>(HasUnnamedAddr);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Any uses of DF need to change to NewDF, with cast.</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NewDF, DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad6fca81756b8258fe62e9071004e449e">eraseFromParent</a>();</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  </div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  ValueMap[SF] = NewDF;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">/// LinkAliasProto - Set up prototypes for any aliases that come over from the</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">/// source module.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::linkAliasProto(<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *SGA) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *DGV = getLinkedToGlobal(SGA);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <a class="code" href="classllvm_1_1Optional.html">llvm::Optional&lt;GlobalValue::VisibilityTypes&gt;</a> NewVisibility;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewLinkage = <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">GlobalValue::InternalLinkage</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">GlobalValue::VisibilityTypes</a> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordtype">bool</span> LinkFromSrc = <span class="keyword">false</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (getLinkageResult(DGV, SGA, NewLinkage, NV, LinkFromSrc))</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    NewVisibility = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">NV</a>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (!LinkFromSrc) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="comment">// Set calculated linkage.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(NewLinkage);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="comment">// Make sure to remember this mapping.</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      ValueMap[SGA] = <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(DGV,TypeMap.get(SGA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      </div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="comment">// Track the alias from the source module so we don&#39;t attempt to remap it.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SGA);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      </div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  </div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// If there is no linkage to be performed or we&#39;re linking from the source,</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// bring over SGA.</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *NewDA = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a>(TypeMap.get(SGA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()),</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                       SGA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), SGA-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(),</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                       <span class="comment">/*aliasee*/</span>0, DstM);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <a class="code" href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a>(NewDA, SGA);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (NewVisibility)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    NewDA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">setVisibility</a>(*NewVisibility);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">if</span> (DGV) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">// Any uses of DGV need to change to NewDA, with cast.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NewDA, DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">getType</a>()));</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ad6fca81756b8258fe62e9071004e449e">eraseFromParent</a>();</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  </div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  ValueMap[SGA] = NewDA;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="LinkModules_8cpp.html#ae57e7cee72d0f5bf5f2e9b5160ab70ef">  928</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="LinkModules_8cpp.html#ae57e7cee72d0f5bf5f2e9b5160ab70ef">getArrayElements</a>(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Constant*&gt;</a> &amp;Dest) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordtype">unsigned</span> NumElements = cast&lt;ArrayType&gt;(C-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;getNumElements();</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumElements; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    Dest.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(C-&gt;<a class="code" href="classllvm_1_1Constant.html#a01fee21e2c679094ce5ab193369d5198">getAggregateElement</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                             </div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="keywordtype">void</span> ModuleLinker::linkAppendingVarInit(<span class="keyword">const</span> AppendingVarInfo &amp;AVI) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// Merge the initializer.</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant*, 16&gt;</a> Elements;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="LinkModules_8cpp.html#ae57e7cee72d0f5bf5f2e9b5160ab70ef">getArrayElements</a>(AVI.DstInit, Elements);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  </div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SrcInit = <a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(AVI.SrcInit, ValueMap, <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>, &amp;TypeMap, &amp;ValMaterializer);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="LinkModules_8cpp.html#ae57e7cee72d0f5bf5f2e9b5160ab70ef">getArrayElements</a>(SrcInit, Elements);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  </div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *NewType = cast&lt;ArrayType&gt;(AVI.NewGV-&gt;getType()-&gt;getElementType());</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  AVI.NewGV-&gt;setInitializer(<a class="code" href="classllvm_1_1ConstantArray.html#a0900dacdc7ad8e3ea0cc92993c7fd422">ConstantArray::get</a>(NewType, Elements));</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">/// linkGlobalInits - Update the initializers in the Dest module now that all</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">/// globals that may be referenced are in Dest.</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ModuleLinker::linkGlobalInits() {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// Loop over all of the globals in the src module, mapping them over as we go</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::const_global_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">global_begin</a>(),</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;       E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">global_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    </div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// Only process initialized GV&#39;s or ones not already in dest.</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;hasInitializer() || DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) <span class="keywordflow">continue</span>;          </div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    </div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// Grab destination global variable.</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *DGV = cast&lt;GlobalVariable&gt;(ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">// Figure out what the initializer looks like in the dest module.</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    DGV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a095f8f031d99ce3c0b25478713293dea">setInitializer</a>(<a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getInitializer(), ValueMap,</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                 <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>, &amp;TypeMap, &amp;ValMaterializer));</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">/// linkFunctionBody - Copy the source function over into the dest function and</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">/// fix up references to values.  At this point we know that Dest is an external</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">/// function, and that Src is not.</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ModuleLinker::linkFunctionBody(<a class="code" href="classllvm_1_1Function.html">Function</a> *Dst, <a class="code" href="classllvm_1_1Function.html">Function</a> *Src) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  assert(Src &amp;&amp; Dst &amp;&amp; Dst-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() &amp;&amp; !Src-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>());</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// Go through and convert function arguments over, remembering the mapping.</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> DI = Dst-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Src-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), E = Src-&gt;<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++DI) {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    DI-&gt;setName(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getName());  <span class="comment">// Copy the name over.</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// Add a mapping to our mapping.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = DI;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">if</span> (Mode == <a class="code" href="classllvm_1_1Linker.html#a6a5627804b279f35a29403fe33f0c144a968baa0652a83719a797064cf8e9be22">Linker::DestroySource</a>) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// Splice the body of the source function into the dest function.</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    Dst-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(Dst-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(), Src-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>());</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    </div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// At this point, all of the instructions and values of the function are now</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">// copied over.  The only problem is that they are still referencing values in</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// the Source function as operands.  Loop through all of the operands of the</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// functions and patch them up to point to the local versions.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Dst-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), BE = Dst-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != BE; ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), E = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="namespacellvm.html#a2a508739577bd4d545a2318f23b98b2f">RemapInstruction</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ValueMap, <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437daefa3cdbac7d37f388b9dfe0fd7c88de0">RF_IgnoreMissingEntries</a>,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                         &amp;TypeMap, &amp;ValMaterializer);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    </div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="comment">// Clone the body of the function into the dest function.</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ReturnInst*, 8&gt;</a> Returns; <span class="comment">// Ignore returns.</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="namespacellvm.html#a152b780fda073380314bbe380fc53376">CloneFunctionInto</a>(Dst, Src, ValueMap, <span class="keyword">false</span>, Returns, <span class="stringliteral">&quot;&quot;</span>, NULL,</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                      &amp;TypeMap, &amp;ValMaterializer);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  </div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// There is no need to map the arguments anymore.</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Src-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), E = Src-&gt;<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    ValueMap.<a class="code" href="classllvm_1_1ValueMap.html#ae6be28efa794d11d2b1395fa77d7ebef">erase</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  </div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">/// linkAliasBodies - Insert all of the aliases in Src into the Dest module.</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ModuleLinker::linkAliasBodies() {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::alias_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a755dbbd47c63c53cda3e93d9d608562a">alias_begin</a>(), E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a6d03597beb9097fc781a6c723cff50d6">alias_end</a>();</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">count</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Aliasee = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getAliasee()) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da4e7ea93eb7bffafeed5db26fe5e9a179">DA</a> = cast&lt;GlobalAlias&gt;(ValueMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      DA-&gt;<a class="code" href="classllvm_1_1GlobalAlias.html#ab5a6fd06a051163873fe2a0d76f0fe3a">setAliasee</a>(<a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(Aliasee, ValueMap, <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>,</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                              &amp;TypeMap, &amp;ValMaterializer));</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">/// linkNamedMDNodes - Insert all of the named MDNodes in Src into the Dest</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">/// module.</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> ModuleLinker::linkNamedMDNodes() {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *SrcModFlags = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a051a11ee593111df3097e63f648a668c">getModuleFlagsMetadata</a>();</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::const_named_metadata_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a5d052342d8cb7a6952a4c123b5385f90">named_metadata_begin</a>(),</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;       E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#ab52eefaf4892829072b70e0e2e3d88bf">named_metadata_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">// Don&#39;t link module flags here. Do them separately.</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (&amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == SrcModFlags) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *DestNMD = DstM-&gt;<a class="code" href="classllvm_1_1Module.html#ab33e5587b25f9c80f6ea5000124d1a2b">getOrInsertNamedMetadata</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getName());</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// Add Src elements into Dest node.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      DestNMD-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(<a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>), ValueMap,</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                   <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>, &amp;TypeMap, &amp;ValMaterializer));</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/// linkModuleFlagsMetadata - Merge the linker flags in Src into the Dest</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">/// module.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> ModuleLinker::linkModuleFlagsMetadata() {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// If the source module has no module flags, we are done.</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *SrcModFlags = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a051a11ee593111df3097e63f648a668c">getModuleFlagsMetadata</a>();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">if</span> (!SrcModFlags) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// If the destination module doesn&#39;t have module flags yet, then just copy</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// over the source module&#39;s flags.</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <a class="code" href="classllvm_1_1NamedMDNode.html">NamedMDNode</a> *DstModFlags = DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a421bab6b3fc0951cfaab3b10574be5fd">getOrInsertModuleFlagsMetadata</a>();</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> (DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a24a3512f374b3f29b573a223dfd13f2a">getNumOperands</a>() == 0) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = SrcModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a24a3512f374b3f29b573a223dfd13f2a">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(SrcModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acf77b1de56fc46b8a5118ff95fae1403">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="comment">// First build a map of the existing module flags and requirements.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MDString*, MDNode*&gt;</a> <a class="code" href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">Flags</a>;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;MDNode*, 16&gt;</a> Requirements;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a24a3512f374b3f29b573a223dfd13f2a">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Op = DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acf77b1de56fc46b8a5118ff95fae1403">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Behavior = cast&lt;ConstantInt&gt;(Op-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(0));</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a> = cast&lt;MDString&gt;(Op-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(1));</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (Behavior-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>() == <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293aec0586c2f89c73dcc00841aa000141bb">Module::Require</a>) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      Requirements.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;MDNode&gt;(Op-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2)));</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      Flags[<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>] = Op;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="comment">// Merge in the flags from the source module, and also collect its set of</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// requirements.</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordtype">bool</span> HasErr = <span class="keyword">false</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = SrcModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#a24a3512f374b3f29b573a223dfd13f2a">getNumOperands</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *SrcOp = SrcModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#acf77b1de56fc46b8a5118ff95fae1403">getOperand</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *SrcBehavior = cast&lt;ConstantInt&gt;(SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(0));</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a> = cast&lt;MDString&gt;(SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(1));</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *DstOp = Flags.<a class="code" href="classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">lookup</a>(ID);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordtype">unsigned</span> SrcBehaviorValue = SrcBehavior-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// If this is a requirement, add it and continue.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (SrcBehaviorValue == <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293aec0586c2f89c73dcc00841aa000141bb">Module::Require</a>) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="comment">// If the destination module does not already have this requirement, add</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="comment">// it.</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <span class="keywordflow">if</span> (Requirements.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;MDNode&gt;(SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2)))) {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(SrcOp);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// If there is no existing flag with this ID, just add it.</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (!DstOp) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      Flags[<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>] = SrcOp;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      DstModFlags-&gt;<a class="code" href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">addOperand</a>(SrcOp);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// Otherwise, perform a merge.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *DstBehavior = cast&lt;ConstantInt&gt;(DstOp-&gt;getOperand(0));</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordtype">unsigned</span> DstBehaviorValue = DstBehavior-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">getZExtValue</a>();</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">// If either flag has override behavior, handle it first.</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (DstBehaviorValue == <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">Module::Override</a>) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="comment">// Diagnose inconsistent flags which both have override behavior.</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">if</span> (SrcBehaviorValue == <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">Module::Override</a> &amp;&amp;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;          SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2) != DstOp-&gt;getOperand(2)) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        HasErr |= emitError(<span class="stringliteral">&quot;linking module flags &#39;&quot;</span> + ID-&gt;getString() +</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                            <span class="stringliteral">&quot;&#39;: IDs have conflicting override values&quot;</span>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SrcBehaviorValue == <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">Module::Override</a>) {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="comment">// Update the destination flag to that of the source.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      DstOp-&gt;replaceOperandWith(0, SrcBehavior);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      DstOp-&gt;replaceOperandWith(2, SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2));</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// Diagnose inconsistent merge behavior types.</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (SrcBehaviorValue != DstBehaviorValue) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      HasErr |= emitError(<span class="stringliteral">&quot;linking module flags &#39;&quot;</span> + ID-&gt;getString() +</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                          <span class="stringliteral">&quot;&#39;: IDs have conflicting behaviors&quot;</span>);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="comment">// Perform the merge for standard behavior types.</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">switch</span> (SrcBehaviorValue) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293aec0586c2f89c73dcc00841aa000141bb">Module::Require</a>:</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">Module::Override</a>: assert(0 &amp;&amp; <span class="stringliteral">&quot;not possible&quot;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe">Module::Error</a>: {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="comment">// Emit an error if the values differ.</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">if</span> (SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2) != DstOp-&gt;getOperand(2)) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        HasErr |= emitError(<span class="stringliteral">&quot;linking module flags &#39;&quot;</span> + ID-&gt;getString() +</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                            <span class="stringliteral">&quot;&#39;: IDs have conflicting values&quot;</span>);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      }</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131">Module::Warning</a>: {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="comment">// Emit a warning if the values differ.</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">if</span> (SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2) != DstOp-&gt;getOperand(2)) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;WARNING: linking module flags &#39;&quot;</span> &lt;&lt; ID-&gt;getString()</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;&#39;: IDs have conflicting values&quot;</span>;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a7a6b9b7ed3797ab927caf581353e935a">Module::Append</a>: {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *DstValue = cast&lt;MDNode&gt;(DstOp-&gt;getOperand(2));</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *SrcValue = cast&lt;MDNode&gt;(SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2));</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordtype">unsigned</span> NumOps = DstValue-&gt;<a class="code" href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">getNumOperands</a>() + SrcValue-&gt;getNumOperands();</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> **VP, **Values = VP = <span class="keyword">new</span> <a class="code" href="classllvm_1_1Value.html">Value</a>*[NumOps];</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = DstValue-&gt;<a class="code" href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++VP)</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        *VP = DstValue-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SrcValue-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++VP)</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        *VP = SrcValue-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      DstOp-&gt;replaceOperandWith(2, <a class="code" href="classllvm_1_1MDNode.html#ad66ceb4f77078b084e527a19baab19d6">MDNode::get</a>(DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a0e74af4b7c739f3a14e737c3042b6617">getContext</a>(),</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value*&gt;</a>(Values,</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                                                                NumOps)));</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keyword">delete</span>[] Values;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2486ec4ce4f33e42da3ad60d6e9eff4a">Module::AppendUnique</a>: {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Value*, 16&gt;</a> Elts;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *DstValue = cast&lt;MDNode&gt;(DstOp-&gt;getOperand(2));</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *SrcValue = cast&lt;MDNode&gt;(SrcOp-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2));</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = DstValue-&gt;<a class="code" href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        Elts.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(DstValue-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SrcValue-&gt;getNumOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        Elts.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(SrcValue-&gt;getOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      DstOp-&gt;replaceOperandWith(2, <a class="code" href="classllvm_1_1MDNode.html#ad66ceb4f77078b084e527a19baab19d6">MDNode::get</a>(DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a0e74af4b7c739f3a14e737c3042b6617">getContext</a>(),</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                               <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value*&gt;</a>(Elts.<a class="code" href="classllvm_1_1SetVector.html#adb13793b98ab59209a5309d26f831850">begin</a>(),</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                                                Elts.<a class="code" href="classllvm_1_1SetVector.html#affac0dc3d407ef3dee29b8bc9a4836bc">end</a>())));</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// Check all of the requirements.</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, E = Requirements.<a class="code" href="classllvm_1_1SetVector.html#a95ea0587484ef2fc182e64dfd36a62c8">size</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Requirement = Requirements[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="classllvm_1_1MDString.html">MDString</a> *Flag = cast&lt;MDString&gt;(Requirement-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(0));</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ReqValue = Requirement-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(1);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *Op = Flags[Flag];</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">if</span> (!Op || Op-&gt;<a class="code" href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">getOperand</a>(2) != ReqValue) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      HasErr |= emitError(<span class="stringliteral">&quot;linking module flags &#39;&quot;</span> + Flag-&gt;<a class="code" href="classllvm_1_1MDString.html#a1313e7e5d3792f0d96f2b485d3ca6a70">getString</a>() +</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                          <span class="stringliteral">&quot;&#39;: does not have the required value&quot;</span>);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">return</span> HasErr;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  </div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keywordtype">bool</span> ModuleLinker::run() {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  assert(DstM &amp;&amp; <span class="stringliteral">&quot;Null destination module&quot;</span>);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  assert(SrcM &amp;&amp; <span class="stringliteral">&quot;Null source module&quot;</span>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="comment">// Inherit the target data from the source module if the destination module</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="comment">// doesn&#39;t have one already.</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">if</span> (DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>().empty() &amp;&amp; !SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>().empty())</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a8f4f51786b531d4d7f6a9a3daad42f38">setDataLayout</a>(SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>());</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="comment">// Copy the target triple from the source to dest if the dest&#39;s is empty.</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">if</span> (DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>().empty() &amp;&amp; !SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>().empty())</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    DstM-&gt;<a class="code" href="classllvm_1_1Module.html#af66bad1510da8a71d20002609d3b4a25">setTargetTriple</a>(SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>());</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (!SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>().empty() &amp;&amp; !DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>().empty() &amp;&amp;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>() != DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">getDataLayout</a>())</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;WARNING: Linking two modules of different data layouts!\n&quot;</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (!SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>().empty() &amp;&amp;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>() != SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>()) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;WARNING: Linking two modules of different target triples: &quot;</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (!SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a339f163decf5f2c881937600d1e953fa">getModuleIdentifier</a>().empty())</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a339f163decf5f2c881937600d1e953fa">getModuleIdentifier</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">errs</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>() &lt;&lt; <span class="stringliteral">&quot;&#39; and &#39;&quot;</span> </div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;           &lt;&lt; DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">getTargetTriple</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// Append the module inline asm string.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">if</span> (!SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>().empty()) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (DstM-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>().empty())</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">setModuleInlineAsm</a>(SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>());</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      DstM-&gt;<a class="code" href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">setModuleInlineAsm</a>(DstM-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>()+<span class="stringliteral">&quot;\n&quot;</span>+</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                               SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>());</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// Loop over all of the linked values to compute type mappings.</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  computeTypeMapping();</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="comment">// Insert all of the globals in src into the DstM module... without linking</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment">// initializers (which could refer to functions not yet mapped over).</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::global_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">global_begin</a>(),</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;       E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">global_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (linkGlobalProto(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">// Link the functions together between the two modules, without doing function</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// bodies... this just adds external function prototypes to the DstM</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// function...  We do this so that when we begin processing function bodies,</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// all of the global values that may be referenced are available in our</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">// ValueMap.</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">begin</a>(), E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (linkFunctionProto(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="comment">// If there were any aliases, link them now.</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::alias_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a755dbbd47c63c53cda3e93d9d608562a">alias_begin</a>(),</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;       E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a6d03597beb9097fc781a6c723cff50d6">alias_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (linkAliasProto(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = AppendingVars.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    linkAppendingVarInit(AppendingVars[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  </div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// Update the initializers in the DstM module now that all globals that may</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// be referenced are in DstM.</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  linkGlobalInits();</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="comment">// Link in the function bodies that are defined in the source module into</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="comment">// DstM.</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::iterator</a> SF = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">begin</a>(), E = SrcM-&gt;<a class="code" href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">end</a>(); SF != E; ++SF) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">// Skip if not linking from source.</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span> (DoNotLinkFromSource.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">count</a>(SF)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    </div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0">DF</a> = cast&lt;Function&gt;(ValueMap[SF]);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1Function.html#af9ce8afddd8b2a3d391e4f94f28d6d8a">hasPrefixData</a>()) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="comment">// Link in the prefix data.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      DF-&gt;<a class="code" href="classllvm_1_1Function.html#a2960cc22992967e68a160de69e1ad86e">setPrefixData</a>(<a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;          SF-&gt;<a class="code" href="classllvm_1_1Function.html#a66bad625dfc062c2aa9cff35eb6ec34f">getPrefixData</a>(), ValueMap, <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>, &amp;TypeMap, &amp;ValMaterializer));</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// Skip if no body (function is external) or materialize.</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">if</span> (!SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac231cdb971edd1559ebecff939fe58d9">isMaterializable</a>())</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#acb27ae484baaedcb76238c884a39ca4f">Materialize</a>(&amp;ErrorMsg))</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    </div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    linkFunctionBody(DF, SF);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ab46ce2583f5c3eb0094d0c01921b7f71">Dematerialize</a>();</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// Resolve all uses of aliases with aliasees.</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  linkAliasBodies();</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="comment">// Remap all of the named MDNodes in Src into the DstM module. We do this</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">// after linking GlobalValues so that MDNodes that reference GlobalValues</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="comment">// are properly remapped.</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  linkNamedMDNodes();</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// Merge the module flags into the DstM module.</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (linkModuleFlagsMetadata())</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="comment">// Process vector of lazily linked in functions.</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordtype">bool</span> LinkedInAnyFunctions;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    LinkedInAnyFunctions = <span class="keyword">false</span>;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    </div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">for</span>(std::vector&lt;Function*&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LazilyLinkFunctions.begin(),</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        E = LazilyLinkFunctions.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {      </div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *SF = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">if</span> (!SF)</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0">DF</a> = cast&lt;Function&gt;(ValueMap[SF]);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1Function.html#af9ce8afddd8b2a3d391e4f94f28d6d8a">hasPrefixData</a>()) {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="comment">// Link in the prefix data.</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        DF-&gt;<a class="code" href="classllvm_1_1Function.html#a2960cc22992967e68a160de69e1ad86e">setPrefixData</a>(<a class="code" href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">MapValue</a>(SF-&gt;<a class="code" href="classllvm_1_1Function.html#a66bad625dfc062c2aa9cff35eb6ec34f">getPrefixData</a>(),</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                   ValueMap,</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                   <a class="code" href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">RF_None</a>,</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                   &amp;TypeMap,</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                                   &amp;ValMaterializer));</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <span class="comment">// Materialize if necessary.</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">if</span> (!SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ac231cdb971edd1559ebecff939fe58d9">isMaterializable</a>())</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">if</span> (SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#acb27ae484baaedcb76238c884a39ca4f">Materialize</a>(&amp;ErrorMsg))</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      </div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="comment">// Erase from vector *before* the function body is linked - linkFunctionBody could</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="comment">// invalidate I.</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      LazilyLinkFunctions.erase(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="comment">// Link in function body.</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      linkFunctionBody(DF, SF);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      SF-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#ab46ce2583f5c3eb0094d0c01921b7f71">Dematerialize</a>();</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="comment">// Set flag to indicate we may have more functions to lazily link in</span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="comment">// since we linked in a function.</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      LinkedInAnyFunctions = <span class="keyword">true</span>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    }</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  } <span class="keywordflow">while</span> (LinkedInAnyFunctions);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  </div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="comment">// Now that all of the types from the source are used, resolve any structs</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="comment">// copied over to the dest that didn&#39;t exist there.</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  TypeMap.linkDefinedTypeBodies();</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  </div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"><a class="line" href="classllvm_1_1Linker.html#ac41606810282bfaf17efc31ab5a2621e"> 1346</a></span>&#160;<a class="code" href="classllvm_1_1Linker.html#ac41606810282bfaf17efc31ab5a2621e">Linker::Linker</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) : Composite(M) {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <a class="code" href="classllvm_1_1TypeFinder.html">TypeFinder</a> StructTypes;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  StructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a76e63ec5dc3405d799590195281313e2">run</a>(*M, <span class="keyword">true</span>);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  IdentifiedStructTypes.insert(StructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a993aa6804b908bc6697eab2eea856606">begin</a>(), StructTypes.<a class="code" href="classllvm_1_1TypeFinder.html#a53f1f63a6766007a2c05a811c3e98990">end</a>());</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="classllvm_1_1Linker.html#ad9d5113b11d6344146424aa62c4a48dc"> 1352</a></span>&#160;<a class="code" href="classllvm_1_1Linker.html#ad9d5113b11d6344146424aa62c4a48dc">Linker::~Linker</a>() {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="classllvm_1_1Linker.html#afb46ddd9d15f889ff471c3d9cb88788e"> 1355</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1Linker.html#afb46ddd9d15f889ff471c3d9cb88788e">Linker::deleteModule</a>() {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keyword">delete</span> Composite;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  Composite = NULL;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"><a class="line" href="classllvm_1_1Linker.html#a3cb06dd3d8b00e3dd703c4796a6beded"> 1360</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1Linker.html#a3cb06dd3d8b00e3dd703c4796a6beded">Linker::linkInModule</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *Src, <span class="keywordtype">unsigned</span> Mode, std::string *ErrorMsg) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  ModuleLinker TheLinker(Composite, IdentifiedStructTypes, Src, Mode);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">if</span> (TheLinker.run()) {</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (ErrorMsg)</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      *ErrorMsg = TheLinker.ErrorMsg;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;}</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">// LinkModules entrypoint.</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment">/// LinkModules - This function links two modules together, with the resulting</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">/// Dest module modified to be the composite of the two input modules.  If an</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">/// error occurs, true is returned and ErrorMsg (if not null) is set to indicate</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">/// the problem.  Upon failure, the Dest module could be in a modified state,</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">/// and shouldn&#39;t be relied on to be consistent.</span></div><div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="classllvm_1_1Linker.html#a244da8c7e9789b1b675b9741bd692c63"> 1379</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1Linker.html#a244da8c7e9789b1b675b9741bd692c63">Linker::LinkModules</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *Dest, <a class="code" href="classllvm_1_1Module.html">Module</a> *Src, <span class="keywordtype">unsigned</span> Mode, </div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                         std::string *ErrorMsg) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="classllvm_1_1Linker.html">Linker</a> L(Dest);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">return</span> L.<a class="code" href="classllvm_1_1Linker.html#a3cb06dd3d8b00e3dd703c4796a6beded">linkInModule</a>(Src, Mode, ErrorMsg);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;}</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">// C API.</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"><a class="line" href="LinkModules_8cpp.html#a19c3200339374fca3f90339321acde53"> 1389</a></span>&#160;<a class="code" href="group__LLVMCCoreTypes.html#ga209de0bceb13179a973c6a45211617bd">LLVMBool</a> <a class="code" href="LinkModules_8cpp.html#a19c3200339374fca3f90339321acde53">LLVMLinkModules</a>(<a class="code" href="group__LLVMCCoreTypes.html#gad1d1bb5f901c903a0cf09c5a053c9c56">LLVMModuleRef</a> Dest, <a class="code" href="group__LLVMCCoreTypes.html#gad1d1bb5f901c903a0cf09c5a053c9c56">LLVMModuleRef</a> Src,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                         <a class="code" href="c_2Linker_8h.html#a8d63223eb351d119d15d21efcc8599fc">LLVMLinkerMode</a> Mode, <span class="keywordtype">char</span> **OutMessages) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  std::string Messages;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="group__LLVMCCoreTypes.html#ga209de0bceb13179a973c6a45211617bd">LLVMBool</a> Result = <a class="code" href="classllvm_1_1Linker.html#a244da8c7e9789b1b675b9741bd692c63">Linker::LinkModules</a>(<a class="code" href="namespacellvm.html#a8f52f7baf3c7cf6519b12ca5ea8c6690">unwrap</a>(Dest), <a class="code" href="namespacellvm.html#a8f52f7baf3c7cf6519b12ca5ea8c6690">unwrap</a>(Src),</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                                        Mode, OutMessages? &amp;Messages : 0);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">if</span> (OutMessages)</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    *OutMessages = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa53d8e382cd48b9a80e743f44d982bb81">strdup</a>(Messages.c_str());</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;}</div><div class="ttc" id="classllvm_1_1GlobalValue_html_aa242d8ab89216c14beab812e07009b2a"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa242d8ab89216c14beab812e07009b2a">llvm::GlobalValue::setVisibility</a></div><div class="ttdeci">void setVisibility(VisibilityTypes V)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00093">GlobalValue.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="namespaceSIInstrFlags_html_a607b4b0952924970b77a9c6b42898b54"><div class="ttname"><a href="namespaceSIInstrFlags.html#a607b4b0952924970b77a9c6b42898b54">SIInstrFlags::Flags</a></div><div class="ttdeci">Flags</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l00140">SIInstrInfo.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a38ea691c2eeaf3facd74d5cfb0c725b0"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00218">GlobalValue.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1MDString_html_a1313e7e5d3792f0d96f2b485d3ca6a70"><div class="ttname"><a href="classllvm_1_1MDString.html#a1313e7e5d3792f0d96f2b485d3ca6a70">llvm::MDString::getString</a></div><div class="ttdeci">StringRef getString() const </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00050">Metadata.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a8f4f51786b531d4d7f6a9a3daad42f38"><div class="ttname"><a href="classllvm_1_1Module.html#a8f4f51786b531d4d7f6a9a3daad42f38">llvm::Module::setDataLayout</a></div><div class="ttdeci">void setDataLayout(StringRef DL)</div><div class="ttdoc">Set the data layout. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00263">Module.h:263</a></div></div>
<div class="ttc" id="namespacellvm_html_ab8e34eca3b0817ef7a127913fbf6d9e4"><div class="ttname"><a href="namespacellvm.html#ab8e34eca3b0817ef7a127913fbf6d9e4">llvm::errs</a></div><div class="ttdeci">raw_ostream &amp; errs()</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00664">raw_ostream.cpp:664</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a56539d08755f423450db1305c037149e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a56539d08755f423450db1305c037149e">llvm::GlobalValue::getVisibility</a></div><div class="ttdeci">VisibilityTypes getVisibility() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00087">GlobalValue.h:87</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a96c9558e69f588728273b57eb5a1fe73"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a96c9558e69f588728273b57eb5a1fe73">llvm::GlobalValue::copyAttributesFrom</a></div><div class="ttdeci">virtual void copyAttributesFrom(const GlobalValue *Src)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00051">Globals.cpp:51</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_ab1b932862d7d88dae34cfd24f44847a3"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ab1b932862d7d88dae34cfd24f44847a3">llvm::GlobalVariable::getThreadLocalMode</a></div><div class="ttdeci">ThreadLocalMode getThreadLocalMode() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00164">GlobalVariable.h:164</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a9b6d1ca60deddf2f2c25cfea671f617c"><div class="ttname"><a href="classllvm_1_1Value.html#a9b6d1ca60deddf2f2c25cfea671f617c">llvm::Value::hasName</a></div><div class="ttdeci">bool hasName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00117">Value.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_af68d5ebdb576d7481ea2766151b875d4"><div class="ttname"><a href="classllvm_1_1StringRef.html#af68d5ebdb576d7481ea2766151b875d4">llvm::StringRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the string size. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00113">StringRef.h:113</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a47f8a52ece53e2e1ef08ab2d58f93c88"><div class="ttname"><a href="classllvm_1_1StructType.html#a47f8a52ece53e2e1ef08ab2d58f93c88">llvm::StructType::isOpaque</a></div><div class="ttdeci">bool isOpaque() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00249">DerivedTypes.h:249</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da4e7ea93eb7bffafeed5db26fe5e9a179"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da4e7ea93eb7bffafeed5db26fe5e9a179">llvm::X86II::DA</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00330">X86BaseInfo.h:330</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_afb46ddd9d15f889ff471c3d9cb88788e"><div class="ttname"><a href="classllvm_1_1Linker.html#afb46ddd9d15f889ff471c3d9cb88788e">llvm::Linker::deleteModule</a></div><div class="ttdeci">void deleteModule()</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01355">LinkModules.cpp:1355</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a8a69689cb8586761c6a7535a8f6618a5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a8a69689cb8586761c6a7535a8f6618a5">llvm::GlobalValue::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00079">GlobalValue.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00397">Function.h:397</a></div></div>
<div class="ttc" id="group__LLVMCCoreTypes_html_ga209de0bceb13179a973c6a45211617bd"><div class="ttname"><a href="group__LLVMCCoreTypes.html#ga209de0bceb13179a973c6a45211617bd">LLVMBool</a></div><div class="ttdeci">int LLVMBool</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00065">Core.h:65</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html_ade17b50e4f0b835cd9eb58dffe12a90d"><div class="ttname"><a href="classllvm_1_1MDNode.html#ade17b50e4f0b835cd9eb58dffe12a90d">llvm::MDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdoc">getNumOperands - Return number of MDNode operands. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00146">Metadata.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1NamedMDNode_html_ae917c72e5b8e15491cd0dbdd44d818f2"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#ae917c72e5b8e15491cd0dbdd44d818f2">llvm::NamedMDNode::addOperand</a></div><div class="ttdeci">void addOperand(MDNode *M)</div><div class="ttdoc">addOperand - Add metadata operand. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00551">Metadata.cpp:551</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_ab52eefaf4892829072b70e0e2e3d88bf"><div class="ttname"><a href="classllvm_1_1Module.html#ab52eefaf4892829072b70e0e2e3d88bf">llvm::Module::named_metadata_end</a></div><div class="ttdeci">named_metadata_iterator named_metadata_end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00559">Module.h:559</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a3633e6ce330dafdde67e92989ae45d5c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3633e6ce330dafdde67e92989ae45d5c">llvm::GlobalValue::hasAppendingLinkage</a></div><div class="ttdeci">bool hasAppendingLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00204">GlobalValue.h:204</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a050a395d1656e546679d8b144d951bb2"><div class="ttname"><a href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">llvm::PointerType::get</a></div><div class="ttdeci">static PointerType * get(Type *ElementType, unsigned AddressSpace)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00730">Type.cpp:730</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a87091ed60a621a3d430752da2996d27b"><div class="ttname"><a href="classllvm_1_1StringRef.html#a87091ed60a621a3d430752da2996d27b">llvm::StringRef::rfind</a></div><div class="ttdeci">size_t rfind(char C, size_t From=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00250">StringRef.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a3d0712956e53687d1894ba17b84aeffa"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3d0712956e53687d1894ba17b84aeffa">llvm::StringRef::substr</a></div><div class="ttdeci">StringRef substr(size_t Start, size_t N=npos) const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00392">StringRef.h:392</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_ab33e5587b25f9c80f6ea5000124d1a2b"><div class="ttname"><a href="classllvm_1_1Module.html#ab33e5587b25f9c80f6ea5000124d1a2b">llvm::Module::getOrInsertNamedMetadata</a></div><div class="ttdeci">NamedMDNode * getOrInsertNamedMetadata(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00295">Module.cpp:295</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdoc">Externally visible function. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00034">GlobalValue.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_af622128e353515efebccad40eae495cb"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#af622128e353515efebccad40eae495cb">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00537">SmallVector.h:537</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_af4399141c23e944cc1f75390c3cbd959"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#af4399141c23e944cc1f75390c3cbd959">llvm::GlobalValue::hasAvailableExternallyLinkage</a></div><div class="ttdeci">bool hasAvailableExternallyLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00195">GlobalValue.h:195</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa1b86c536c749111457415f25b11244ee">llvm::LibFunc::isdigit</a></div><div class="ttdoc">int isdigit(int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00338">TargetLibraryInfo.h:338</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8300ac1ef141b8a7c63c13fa9369d976"><div class="ttname"><a href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">llvm::Function::arg_end</a></div><div class="ttdeci">arg_iterator arg_end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00418">Function.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa812a573d23fbb37aacd025e2a0588156"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa812a573d23fbb37aacd025e2a0588156">llvm::Type::StructTyID</a></div><div class="ttdoc">12: Structures </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00070">Type.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a921061a57ec3cfbaf6422f09f7d79fc3"><div class="ttname"><a href="classllvm_1_1PointerType.html#a921061a57ec3cfbaf6422f09f7d79fc3">llvm::PointerType::getAddressSpace</a></div><div class="ttdeci">unsigned getAddressSpace() const </div><div class="ttdoc">Return the address space of the Pointer type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00445">DerivedTypes.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="namespacellvm_html_a8f52f7baf3c7cf6519b12ca5ea8c6690"><div class="ttname"><a href="namespacellvm.html#a8f52f7baf3c7cf6519b12ca5ea8c6690">llvm::unwrap</a></div><div class="ttdeci">LLVMContext ** unwrap(LLVMContextRef *Tys)</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00119">LLVMContext.h:119</a></div></div>
<div class="ttc" id="LinkModules_8cpp_html_a4b78d7fc04ebf150f8521ce219a684b2"><div class="ttname"><a href="LinkModules_8cpp.html#a4b78d7fc04ebf150f8521ce219a684b2">isLessConstraining</a></div><div class="ttdeci">static bool isLessConstraining(GlobalValue::VisibilityTypes a, GlobalValue::VisibilityTypes b)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l00500">LinkModules.cpp:500</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaae68df805bc15b023748c2a78b80563ff">llvm::Type::PointerTyID</a></div><div class="ttdoc">14: Pointers </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00072">Type.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_aa4d95acdd770e27036d21edb3cad65e1"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#aa4d95acdd770e27036d21edb3cad65e1">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00138">GlobalVariable.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ab46ce2583f5c3eb0094d0c01921b7f71"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ab46ce2583f5c3eb0094d0c01921b7f71">llvm::GlobalValue::Dematerialize</a></div><div class="ttdeci">void Dematerialize()</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00039">Globals.cpp:39</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa0ec130d9ce9883b3e9c6071ee19a4b16"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa0ec130d9ce9883b3e9c6071ee19a4b16">llvm::Type::FunctionTyID</a></div><div class="ttdoc">11: Functions </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00069">Type.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_affac0dc3d407ef3dee29b8bc9a4836bc"><div class="ttname"><a href="classllvm_1_1SetVector.html#affac0dc3d407ef3dee29b8bc9a4836bc">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdoc">Get an iterator to the end of the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00079">SetVector.h:79</a></div></div>
<div class="ttc" id="namespacellvm_html_a2a508739577bd4d545a2318f23b98b2f"><div class="ttname"><a href="namespacellvm.html#a2a508739577bd4d545a2318f23b98b2f">llvm::RemapInstruction</a></div><div class="ttdeci">void RemapInstruction(Instruction *I, ValueToValueMapTy &amp;VM, RemapFlags Flags=RF_None, ValueMapTypeRemapper *TypeMapper=0, ValueMaterializer *Materializer=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8cpp_source.html#l00183">ValueMapper.cpp:183</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195ae1cc9a390520055573d459de25747caa"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195ae1cc9a390520055573d459de25747caa">llvm::GlobalValue::ProtectedVisibility</a></div><div class="ttdoc">The GV is protected. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00055">GlobalValue.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a40da6cb8652ba35211cdc58b07399754"><div class="ttname"><a href="classllvm_1_1Module.html#a40da6cb8652ba35211cdc58b07399754">llvm::Module::getTargetTriple</a></div><div class="ttdeci">const std::string &amp; getTargetTriple() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00237">Module.h:237</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_a95ea0587484ef2fc182e64dfd36a62c8"><div class="ttname"><a href="classllvm_1_1SetVector.html#a95ea0587484ef2fc182e64dfd36a62c8">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00064">SetVector.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a4cc253e317f0ab079b0b46ae07f481e1"><div class="ttname"><a href="classllvm_1_1Module.html#a4cc253e317f0ab079b0b46ae07f481e1">llvm::Module::getTypeByName</a></div><div class="ttdeci">StructType * getTypeByName(StringRef Name) const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00618">Type.cpp:618</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_ac41606810282bfaf17efc31ab5a2621e"><div class="ttname"><a href="classllvm_1_1Linker.html#ac41606810282bfaf17efc31ab5a2621e">llvm::Linker::Linker</a></div><div class="ttdeci">Linker(Module *M)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01346">LinkModules.cpp:1346</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_a6a5627804b279f35a29403fe33f0c144a968baa0652a83719a797064cf8e9be22"><div class="ttname"><a href="classllvm_1_1Linker.html#a6a5627804b279f35a29403fe33f0c144a968baa0652a83719a797064cf8e9be22">llvm::Linker::DestroySource</a></div><div class="ttdef"><b>Definition:</b> <a href="Linker_8h_source.html#l00029">Linker.h:29</a></div></div>
<div class="ttc" id="namespacellvm_html_a152b780fda073380314bbe380fc53376"><div class="ttname"><a href="namespacellvm.html#a152b780fda073380314bbe380fc53376">llvm::CloneFunctionInto</a></div><div class="ttdeci">void CloneFunctionInto(Function *NewFunc, const Function *OldFunc, ValueToValueMapTy &amp;VMap, bool ModuleLevelChanges, SmallVectorImpl&lt; ReturnInst * &gt; &amp;Returns, const char *NameSuffix=&quot;&quot;, ClonedCodeInfo *CodeInfo=0, ValueMapTypeRemapper *TypeMapper=0, ValueMaterializer *Materializer=0)</div><div class="ttdef"><b>Definition:</b> <a href="CloneFunction_8cpp_source.html#l00076">CloneFunction.cpp:76</a></div></div>
<div class="ttc" id="namespacellvm_html_a2f36d3801da9bdd1ee0a8beadab83ff4"><div class="ttname"><a href="namespacellvm.html#a2f36d3801da9bdd1ee0a8beadab83ff4">llvm::MapValue</a></div><div class="ttdeci">Value * MapValue(const Value *V, ValueToValueMapTy &amp;VM, RemapFlags Flags=RF_None, ValueMapTypeRemapper *TypeMapper=0, ValueMaterializer *Materializer=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8cpp_source.html#l00027">ValueMapper.cpp:27</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html_ad66ceb4f77078b084e527a19baab19d6"><div class="ttname"><a href="classllvm_1_1MDNode.html#ad66ceb4f77078b084e527a19baab19d6">llvm::MDNode::get</a></div><div class="ttdeci">static MDNode * get(LLVMContext &amp;Context, ArrayRef&lt; Value * &gt; Vals)</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00268">Metadata.cpp:268</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293aec0586c2f89c73dcc00841aa000141bb"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293aec0586c2f89c73dcc00841aa000141bb">llvm::Module::Require</a></div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00168">Module.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html_adb91929f939ff02dbee552d32afaf4e6"><div class="ttname"><a href="classllvm_1_1MDNode.html#adb91929f939ff02dbee552d32afaf4e6">llvm::MDNode::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const LLVM_READONLY</div><div class="ttdoc">getOperand - Return specified operand. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00307">Metadata.cpp:307</a></div></div>
<div class="ttc" id="classllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00031">Optional.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a7a6b9b7ed3797ab927caf581353e935a"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a7a6b9b7ed3797ab927caf581353e935a">llvm::Module::Append</a></div><div class="ttdoc">Appends the two values, which are required to be metadata nodes. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00176">Module.h:176</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a883dd52cca7097874337641ca44473a0"><div class="ttname"><a href="classllvm_1_1StructType.html#a883dd52cca7097874337641ca44473a0">llvm::StructType::isPacked</a></div><div class="ttdeci">bool isPacked() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00241">DerivedTypes.h:241</a></div></div>
<div class="ttc" id="classllvm_1_1NamedMDNode_html"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html">llvm::NamedMDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00195">Metadata.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1Twine_html_aaabc8308782f695c3a2cc9dee510ab53"><div class="ttname"><a href="classllvm_1_1Twine.html#aaabc8308782f695c3a2cc9dee510ab53">llvm::Twine::str</a></div><div class="ttdeci">std::string str() const </div><div class="ttdoc">str - Return the twine contents as a std::string. </div><div class="ttdef"><b>Definition:</b> <a href="Twine_8cpp_source.html#l00016">Twine.cpp:16</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a2506accca38107a6d25064c7c5c058fd"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a2506accca38107a6d25064c7c5c058fd">llvm::GlobalValue::hasCommonLinkage</a></div><div class="ttdeci">bool hasCommonLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00215">GlobalValue.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="namespacellvm_html_a0448108c43f3a226744d0a4c28c989f7"><div class="ttname"><a href="namespacellvm.html#a0448108c43f3a226744d0a4c28c989f7">llvm::makeArrayRef</a></div><div class="ttdeci">ArrayRef&lt; T &gt; makeArrayRef(const T &amp;OneElt)</div><div class="ttdoc">Construct an ArrayRef from a single element. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00266">ArrayRef.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a095f8f031d99ce3c0b25478713293dea"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a095f8f031d99ce3c0b25478713293dea">llvm::GlobalVariable::setInitializer</a></div><div class="ttdeci">void setInitializer(Constant *InitVal)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00166">Globals.cpp:166</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html"><div class="ttname"><a href="classllvm_1_1StructType.html">llvm::StructType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00187">DerivedTypes.h:187</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="SmallString_8h_html"><div class="ttname"><a href="SmallString_8h.html">SmallString.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_af3a73d1eb65a9c8b2a417c34d3861a39"><div class="ttname"><a href="classllvm_1_1StructType.html#af3a73d1eb65a9c8b2a417c34d3861a39">llvm::StructType::isLiteral</a></div><div class="ttdeci">bool isLiteral() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00245">DerivedTypes.h:245</a></div></div>
<div class="ttc" id="c_2Linker_8h_html"><div class="ttname"><a href="c_2Linker_8h.html">Linker.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a168c2c073b44c41dc521120bda0b1047"><div class="ttname"><a href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">llvm::Module::setModuleInlineAsm</a></div><div class="ttdeci">void setModuleInlineAsm(StringRef Asm)</div><div class="ttdoc">Set the module-scope inline assembly blocks. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00269">Module.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00175">Value.cpp:175</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a339f163decf5f2c881937600d1e953fa"><div class="ttname"><a href="classllvm_1_1Module.html#a339f163decf5f2c881937600d1e953fa">llvm::Module::getModuleIdentifier</a></div><div class="ttdeci">const std::string &amp; getModuleIdentifier() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00228">Module.h:228</a></div></div>
<div class="ttc" id="LinkModules_8cpp_html_aba152124a90ac29a8807996558a8c697"><div class="ttname"><a href="LinkModules_8cpp.html#aba152124a90ac29a8807996558a8c697">copyGVAttributes</a></div><div class="ttdeci">static void copyGVAttributes(GlobalValue *DestGV, const GlobalValue *SrcGV)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l00491">LinkModules.cpp:491</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a6edd823ba5e4e1effc8280ca8a1194ef"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a6edd823ba5e4e1effc8280ca8a1194ef">llvm::ConstantInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const </div><div class="ttdoc">Return the zero extended value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00116">Constants.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0567b31cf5caa26522fcc2e7cadc1dde"><div class="ttname"><a href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">llvm::Module::global_begin</a></div><div class="ttdeci">global_iterator global_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00521">Module.h:521</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00102">SetVector.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af348d5ea83429d08ba891ca3dd0e92b2"><div class="ttname"><a href="classllvm_1_1Type.html#af348d5ea83429d08ba891ca3dd0e92b2">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">getContext - Return the LLVMContext in which this type was uniqued. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00128">Type.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a2ced6343b8ad006a757059554bbf9f37"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">llvm::SmallPtrSet::count</a></div><div class="ttdeci">bool count(PtrType Ptr) const </div><div class="ttdoc">count - Return true if the specified pointer is in the set. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00264">SmallPtrSet.h:264</a></div></div>
<div class="ttc" id="Mips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00349">Mips16ISelLowering.cpp:349</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195">llvm::GlobalValue::VisibilityTypes</a></div><div class="ttdeci">VisibilityTypes</div><div class="ttdoc">An enumeration for the kinds of visibility of global values. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00052">GlobalValue.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ac231cdb971edd1559ebecff939fe58d9"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ac231cdb971edd1559ebecff939fe58d9">llvm::GlobalValue::isMaterializable</a></div><div class="ttdeci">bool isMaterializable() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00030">Globals.cpp:30</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_adb13793b98ab59209a5309d26f831850"><div class="ttname"><a href="classllvm_1_1SetVector.html#adb13793b98ab59209a5309d26f831850">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Get an iterator to the beginning of the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00069">SetVector.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00361">Type.cpp:361</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html"><div class="ttname"><a href="classllvm_1_1Linker.html">llvm::Linker</a></div><div class="ttdef"><b>Definition:</b> <a href="Linker_8h_source.html#l00026">Linker.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 16 &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8e08dfcb75ff1b4b38c352bc0d9db223"><div class="ttname"><a href="classllvm_1_1Type.html#a8e08dfcb75ff1b4b38c352bc0d9db223">llvm::Type::getTypeID</a></div><div class="ttdeci">TypeID getTypeID() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00137">Type.h:137</a></div></div>
<div class="ttc" id="LinkModules_8cpp_html_a682c8b1a578622031f16f4be7766b603"><div class="ttname"><a href="LinkModules_8cpp.html#a682c8b1a578622031f16f4be7766b603">forceRenaming</a></div><div class="ttdeci">static void forceRenaming(GlobalValue *GV, StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l00471">LinkModules.cpp:471</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00239">Value.cpp:239</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00395">Function.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_a244da8c7e9789b1b675b9741bd692c63"><div class="ttname"><a href="classllvm_1_1Linker.html#a244da8c7e9789b1b675b9741bd692c63">llvm::Linker::LinkModules</a></div><div class="ttdeci">static bool LinkModules(Module *Dest, Module *Src, unsigned Mode, std::string *ErrorMsg)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01379">LinkModules.cpp:1379</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="namespacellvm_html_a77724415203930efd07d7098cb1e437daefa3cdbac7d37f388b9dfe0fd7c88de0"><div class="ttname"><a href="namespacellvm.html#a77724415203930efd07d7098cb1e437daefa3cdbac7d37f388b9dfe0fd7c88de0">llvm::RF_IgnoreMissingEntries</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8h_source.html#l00062">ValueMapper.h:62</a></div></div>
<div class="ttc" id="Linker_8h_html"><div class="ttname"><a href="Linker_8h.html">Linker.h</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a4a0abf8eb4fa5989df63172649cba99f"><div class="ttname"><a href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">llvm::StringRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00097">StringRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ac291102760c543c8e045e829d57d3341"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ac291102760c543c8e045e829d57d3341">llvm::GlobalValue::isWeakForLinker</a></div><div class="ttdeci">static bool isWeakForLinker(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00183">GlobalValue.h:183</a></div></div>
<div class="ttc" id="LinkModules_8cpp_html_ae57e7cee72d0f5bf5f2e9b5160ab70ef"><div class="ttname"><a href="LinkModules_8cpp.html#ae57e7cee72d0f5bf5f2e9b5160ab70ef">getArrayElements</a></div><div class="ttdeci">static void getArrayElements(Constant *C, SmallVectorImpl&lt; Constant * &gt; &amp;Dest)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l00928">LinkModules.cpp:928</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_a1c23e7f459a1051c48b302e7f4ff100e"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">get</a></div><div class="ttdeci">could compile rldicr blr rldicl blr we ori sldi blr sldi oris ori r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00038">Target/PowerPC/README.txt:38</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMaterializer_html"><div class="ttname"><a href="classllvm_1_1ValueMaterializer.html">llvm::ValueMaterializer</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8h_source.html#l00039">ValueMapper.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a4771bacd44b97e736b819b5d06b22dfe">llvm::Module::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00155">Module.h:155</a></div></div>
<div class="ttc" id="namespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00882">SparseBitVector.h:882</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a6d03597beb9097fc781a6c723cff50d6"><div class="ttname"><a href="classllvm_1_1Module.html#a6d03597beb9097fc781a6c723cff50d6">llvm::Module::alias_end</a></div><div class="ttdeci">alias_iterator alias_end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00544">Module.h:544</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="README-Thumb_8txt_html_ad7bf7cc723b97ab4a518502c217ddbd7"><div class="ttname"><a href="README-Thumb_8txt.html#ad7bf7cc723b97ab4a518502c217ddbd7">mode</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb mode</div><div class="ttdef"><b>Definition:</b> <a href="README-Thumb_8txt_source.html#l00005">README-Thumb.txt:5</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a1e2a8dc174c34596e7e8efc7ab7e08a0"><div class="ttname"><a href="classllvm_1_1Type.html#a1e2a8dc174c34596e7e8efc7ab7e08a0">llvm::Type::getContainedType</a></div><div class="ttdeci">Type * getContainedType(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00339">Type.h:339</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a2f54639fcb5162f6f51192eb1697d2ad"><div class="ttname"><a href="classllvm_1_1StructType.html#a2f54639fcb5162f6f51192eb1697d2ad">llvm::StructType::getElementType</a></div><div class="ttdeci">Type * getElementType(unsigned N) const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00287">DerivedTypes.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a051a11ee593111df3097e63f648a668c"><div class="ttname"><a href="classllvm_1_1Module.html#a051a11ee593111df3097e63f648a668c">llvm::Module::getModuleFlagsMetadata</a></div><div class="ttdeci">void getModuleFlagsMetadata(SmallVectorImpl&lt; ModuleFlagEntry &gt; &amp;Flags) const </div><div class="ttdoc">getModuleFlagsMetadata - Returns the module flags in the provided vector. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00315">Module.cpp:315</a></div></div>
<div class="ttc" id="LinkModules_8cpp_html_a19c3200339374fca3f90339321acde53"><div class="ttname"><a href="LinkModules_8cpp.html#a19c3200339374fca3f90339321acde53">LLVMLinkModules</a></div><div class="ttdeci">LLVMBool LLVMLinkModules(LLVMModuleRef Dest, LLVMModuleRef Src, LLVMLinkerMode Mode, char **OutMessages)</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01389">LinkModules.cpp:1389</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a45f5971e8ba4b70f25d856bdc8560a73"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a45f5971e8ba4b70f25d856bdc8560a73">llvm::GlobalValue::hasDLLExportLinkage</a></div><div class="ttdeci">bool hasDLLExportLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00213">GlobalValue.h:213</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a9904c6e695f8ac00208d00663040c173"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9904c6e695f8ac00208d00663040c173">llvm::StringRef::back</a></div><div class="ttdeci">char back() const </div><div class="ttdoc">back - Get the last character in the string. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00122">StringRef.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantArray_html_a0900dacdc7ad8e3ea0cc92993c7fd422"><div class="ttname"><a href="classllvm_1_1ConstantArray.html#a0900dacdc7ad8e3ea0cc92993c7fd422">llvm::ConstantArray::get</a></div><div class="ttdeci">static Constant * get(ArrayType *T, ArrayRef&lt; Constant * &gt; V)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00745">Constants.cpp:745</a></div></div>
<div class="ttc" id="c_2Linker_8h_html_a8d63223eb351d119d15d21efcc8599fc"><div class="ttname"><a href="c_2Linker_8h.html#a8d63223eb351d119d15d21efcc8599fc">LLVMLinkerMode</a></div><div class="ttdeci">LLVMLinkerMode</div><div class="ttdef"><b>Definition:</b> <a href="c_2Linker_8h_source.html#l00024">c/Linker.h:24</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_ae0cf03d5de37330b1eb69dd22a1d5057"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#ae0cf03d5de37330b1eb69dd22a1d5057">llvm::GlobalVariable::eraseFromParent</a></div><div class="ttdeci">virtual void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00142">Globals.cpp:142</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html_a688547c04258bde2eaf6515048bf3f3b"><div class="ttname"><a href="classllvm_1_1ArrayType.html#a688547c04258bde2eaf6515048bf3f3b">llvm::ArrayType::getNumElements</a></div><div class="ttdeci">uint64_t getNumElements() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00348">DerivedTypes.h:348</a></div></div>
<div class="ttc" id="classllvm_1_1NamedMDNode_html_acf77b1de56fc46b8a5118ff95fae1403"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#acf77b1de56fc46b8a5118ff95fae1403">llvm::NamedMDNode::getOperand</a></div><div class="ttdeci">MDNode * getOperand(unsigned i) const </div><div class="ttdoc">getOperand - Return specified operand. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00545">Metadata.cpp:545</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a01fee21e2c679094ce5ab193369d5198"><div class="ttname"><a href="classllvm_1_1Constant.html#a01fee21e2c679094ce5ab193369d5198">llvm::Constant::getAggregateElement</a></div><div class="ttdeci">Constant * getAggregateElement(unsigned Elt) const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00183">Constants.cpp:183</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad083201ba4e1f8217bdc1f1ab05bd83d"><div class="ttname"><a href="classllvm_1_1Type.html#ad083201ba4e1f8217bdc1f1ab05bd83d">llvm::Type::getNumContainedTypes</a></div><div class="ttdeci">unsigned getNumContainedTypes() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00346">Type.h:346</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a1f39ff79c40deb2abcea0592434f9855"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a1f39ff79c40deb2abcea0592434f9855">llvm::GlobalValue::getSection</a></div><div class="ttdeci">const std::string &amp; getSection() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00096">GlobalValue.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aa06c6c6ba76f284f62a1902a3a2b3081"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa06c6c6ba76f284f62a1902a3a2b3081">llvm::GlobalValue::hasWeakLinkage</a></div><div class="ttdeci">bool hasWeakLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00201">GlobalValue.h:201</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a3861d2f045e00a8114f99f751371ec68"><div class="ttname"><a href="classllvm_1_1StructType.html#a3861d2f045e00a8114f99f751371ec68">llvm::StructType::setBody</a></div><div class="ttdeci">void setBody(ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdoc">setBody - Specify a body for an opaque identified type. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00426">Type.cpp:426</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da5a78bc4e042ab2fbe041f0c29c1de4c0">llvm::X86II::DF</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00332">X86BaseInfo.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_aa985217226073a33079f1d7785a506d6"><div class="ttname"><a href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">llvm::Module::getModuleInlineAsm</a></div><div class="ttdeci">const std::string &amp; getModuleInlineAsm() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00253">Module.h:253</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa53d8e382cd48b9a80e743f44d982bb81"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa53d8e382cd48b9a80e743f44d982bb81">llvm::LibFunc::strdup</a></div><div class="ttdoc">char *strdup(const char *s1); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00547">TargetLibraryInfo.h:547</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a19b72cdd81bd792545e25466b43ac7c2"><div class="ttname"><a href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">llvm::Module::global_end</a></div><div class="ttdeci">global_iterator global_end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00523">Module.h:523</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa2989d3024a84b4dda9d77419b1648554"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa2989d3024a84b4dda9d77419b1648554">llvm::Type::ArrayTyID</a></div><div class="ttdoc">13: Arrays </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00071">Type.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a543b0415de2670670f8346a7251391af"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a543b0415de2670670f8346a7251391af">llvm::GlobalValue::hasExternalWeakLinkage</a></div><div class="ttdeci">bool hasExternalWeakLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00214">GlobalValue.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_ad9d5113b11d6344146424aa62c4a48dc"><div class="ttname"><a href="classllvm_1_1Linker.html#ad9d5113b11d6344146424aa62c4a48dc">llvm::Linker::~Linker</a></div><div class="ttdeci">~Linker()</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01352">LinkModules.cpp:1352</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a0f606d92ce05aaf49a893d7a1f55da68"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a0f606d92ce05aaf49a893d7a1f55da68">llvm::GlobalValue::hasExternalLinkage</a></div><div class="ttdeci">bool hasExternalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00194">GlobalValue.h:194</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aba93ec4079f8d709a1d5b4745310782e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01672">Constants.cpp:1672</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00218">SetVector.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a4d34a40b2667246539b80589adf2028e"><div class="ttname"><a href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">llvm::Function::getBasicBlockList</a></div><div class="ttdeci">const BasicBlockListType &amp; getBasicBlockList() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00374">Function.h:374</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap</a></div><div class="ttdoc">See the file comment. </div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00075">ValueMap.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5e9e1c0dd93557be1b4ad72860f3cbdaa1f19f6d0e474b9dce2d0574e12baec29"><div class="ttname"><a href="classllvm_1_1Type.html#a5e9e1c0dd93557be1b4ad72860f3cbdaa1f19f6d0e474b9dce2d0574e12baec29">llvm::Type::VectorTyID</a></div><div class="ttdoc">15: SIMD &amp;#39;packed&amp;#39; format, or other vector type </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00073">Type.h:73</a></div></div>
<div class="ttc" id="classllvm_1_1TypeFinder_html_a76e63ec5dc3405d799590195281313e2"><div class="ttname"><a href="classllvm_1_1TypeFinder.html#a76e63ec5dc3405d799590195281313e2">llvm::TypeFinder::run</a></div><div class="ttdeci">void run(const Module &amp;M, bool onlyNamed)</div><div class="ttdef"><b>Definition:</b> <a href="TypeFinder_8cpp_source.html#l00023">TypeFinder.cpp:23</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00405">Type.cpp:405</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a1e5bcdd5b54989be177316d68427bd18"><div class="ttname"><a href="classllvm_1_1Module.html#a1e5bcdd5b54989be177316d68427bd18">llvm::Module::getDataLayout</a></div><div class="ttdeci">const std::string &amp; getDataLayout() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00233">Module.h:233</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ad7523221c38891e563047ab7fc044312"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ad7523221c38891e563047ab7fc044312">llvm::GlobalValue::setAlignment</a></div><div class="ttdeci">void setAlignment(unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00058">Globals.cpp:58</a></div></div>
<div class="ttc" id="classllvm_1_1Linker_html_a3cb06dd3d8b00e3dd703c4796a6beded"><div class="ttname"><a href="classllvm_1_1Linker.html#a3cb06dd3d8b00e3dd703c4796a6beded">llvm::Linker::linkInModule</a></div><div class="ttdeci">bool linkInModule(Module *Src, unsigned Mode, std::string *ErrorMsg)</div><div class="ttdoc">Link Src into the composite. The source is destroyed if Mode is DestroySource and preserved if it is ...</div><div class="ttdef"><b>Definition:</b> <a href="LinkModules_8cpp_source.html#l01360">LinkModules.cpp:1360</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_abe618a241c1fb964a24a7768c733c88e"><div class="ttname"><a href="classllvm_1_1StructType.html#abe618a241c1fb964a24a7768c733c88e">llvm::StructType::hasName</a></div><div class="ttdeci">bool hasName() const </div><div class="ttdoc">hasName - Return true if this is a named struct that has a non-empty name. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00255">DerivedTypes.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a91ebd7b5d66cc73396c43f4c056050d6"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a91ebd7b5d66cc73396c43f4c056050d6">llvm::GlobalValue::setUnnamedAddr</a></div><div class="ttdeci">void setUnnamedAddr(bool Val)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00085">GlobalValue.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9141f967188383108a69cc1b8ed3c195a7eade123587a08e674f2ca72e2443771">llvm::GlobalValue::HiddenVisibility</a></div><div class="ttdoc">The GV is hidden. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00054">GlobalValue.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a421bab6b3fc0951cfaab3b10574be5fd"><div class="ttname"><a href="classllvm_1_1Module.html#a421bab6b3fc0951cfaab3b10574be5fd">llvm::Module::getOrInsertModuleFlagsMetadata</a></div><div class="ttdeci">NamedMDNode * getOrInsertModuleFlagsMetadata()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00357">Module.cpp:357</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a755dbbd47c63c53cda3e93d9d608562a"><div class="ttname"><a href="classllvm_1_1Module.html#a755dbbd47c63c53cda3e93d9d608562a">llvm::Module::alias_begin</a></div><div class="ttdeci">alias_iterator alias_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00542">Module.h:542</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html_ab5a6fd06a051163873fe2a0d76f0fe3a"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#ab5a6fd06a051163873fe2a0d76f0fe3a">llvm::GlobalAlias::setAliasee</a></div><div class="ttdeci">void setAliasee(Constant *GV)</div><div class="ttdoc">set/getAliasee - These methods retrive and set alias target. </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00225">Globals.cpp:225</a></div></div>
<div class="ttc" id="Cloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="classllvm_1_1TypeFinder_html_a53f1f63a6766007a2c05a811c3e98990"><div class="ttname"><a href="classllvm_1_1TypeFinder.html#a53f1f63a6766007a2c05a811c3e98990">llvm::TypeFinder::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="TypeFinder_8h_source.html#l00049">TypeFinder.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00217">GlobalValue.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2aba8031539d1446aff14d13c7deea69">llvm::Module::Override</a></div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00173">Module.h:173</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_afe55b235779222b867c16d3321c1cd16"><div class="ttname"><a href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">llvm::iplist::splice</a></div><div class="ttdeci">void splice(iterator where, iplist &amp;L2)</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00570">ilist.h:570</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00358">DerivedTypes.h:358</a></div></div>
<div class="ttc" id="classllvm_1_1SmallString_html_a9926a62dd0ca26ed856052335091a54d"><div class="ttname"><a href="classllvm_1_1SmallString.html#a9926a62dd0ca26ed856052335091a54d">llvm::SmallString::str</a></div><div class="ttdeci">StringRef str() const </div><div class="ttdoc">Explicit conversion to StringRef. </div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00270">SmallString.h:270</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">llvm::GlobalValue::LinkageTypes</a></div><div class="ttdeci">LinkageTypes</div><div class="ttdoc">An enumeration for the kinds of linkage for global values. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00033">GlobalValue.h:33</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a1500a3fe55cf38153aa1e0fbe7284e05"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a1500a3fe55cf38153aa1e0fbe7284e05">llvm::GlobalVariable::isConstant</a></div><div class="ttdeci">bool isConstant() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00155">GlobalVariable.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a355bc901e05417401ee44323a8595131">llvm::Module::Warning</a></div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00159">Module.h:159</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_abefbddaaaecf8d0a4eea18339fedfe94"><div class="ttname"><a href="classllvm_1_1StructType.html#abefbddaaaecf8d0a4eea18339fedfe94">llvm::StructType::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00580">Type.cpp:580</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMapTypeRemapper_html"><div class="ttname"><a href="classllvm_1_1ValueMapTypeRemapper.html">llvm::ValueMapTypeRemapper</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8h_source.html#l00027">ValueMapper.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9be1da2652db0d33fae391c9b2295e4f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9be1da2652db0d33fae391c9b2295e4f">llvm::GlobalValue::hasLinkOnceLinkage</a></div><div class="ttdeci">bool hasLinkOnceLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00198">GlobalValue.h:198</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_aae66135c154b054d4c1469497a34b04a"><div class="ttname"><a href="classllvm_1_1StructType.html#aae66135c154b054d4c1469497a34b04a">llvm::StructType::setName</a></div><div class="ttdeci">void setName(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00441">Type.cpp:441</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ad60ec7475b0ffe7fc1f68a8019780643"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ad60ec7475b0ffe7fc1f68a8019780643">llvm::GlobalValue::getType</a></div><div class="ttdeci">PointerType * getType() const </div><div class="ttdoc">getType - Global values are always pointers. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00107">GlobalValue.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_aa608a2d900dd6c15c18f4236b6548496"><div class="ttname"><a href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">llvm::Module::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00533">Module.h:533</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a7414af479a1a88b0631120a4fc681e20"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7414af479a1a88b0631120a4fc681e20">llvm::StringRef::npos</a></div><div class="ttdeci">static const size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00045">StringRef.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0a5c55e12c97b80021330fe82b642293a2486ec4ce4f33e42da3ad60d6e9eff4a"><div class="ttname"><a href="classllvm_1_1Module.html#a0a5c55e12c97b80021330fe82b642293a2486ec4ce4f33e42da3ad60d6e9eff4a">llvm::Module::AppendUnique</a></div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00181">Module.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a279174d137c1ef32aa5b627f5e06620f"><div class="ttname"><a href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">llvm::Module::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00531">Module.h:531</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a102d0ad36060677286c3aefb812e5512"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00401">SmallVector.h:401</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00679">Type.cpp:679</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_af66bad1510da8a71d20002609d3b4a25"><div class="ttname"><a href="classllvm_1_1Module.html#af66bad1510da8a71d20002609d3b4a25">llvm::Module::setTargetTriple</a></div><div class="ttdeci">void setTargetTriple(StringRef T)</div><div class="ttdoc">Set the target triple. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00266">Module.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_af9ce8afddd8b2a3d391e4f94f28d6d8a"><div class="ttname"><a href="classllvm_1_1Function.html#af9ce8afddd8b2a3d391e4f94f28d6d8a">llvm::Function::hasPrefixData</a></div><div class="ttdeci">bool hasPrefixData() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00430">Function.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca1511edd03e02d1f3dd277a3c6abf6ad5">llvm::GlobalValue::InternalLinkage</a></div><div class="ttdoc">Rename collisions when linking (static functions). </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00041">GlobalValue.h:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2a6c4724226f9ccea96d35fd4c131af8">llvm::A64CC::NV</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00046">AArch64BaseInfo.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a66bad625dfc062c2aa9cff35eb6ec34f"><div class="ttname"><a href="classllvm_1_1Function.html#a66bad625dfc062c2aa9cff35eb6ec34f">llvm::Function::getPrefixData</a></div><div class="ttdeci">Constant * getPrefixData() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00741">Function.cpp:741</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_abefc2d8baa67d6f9e49c95912cfde480"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00211">GlobalValue.h:211</a></div></div>
<div class="ttc" id="group__LLVMCCoreTypes_html_gad1d1bb5f901c903a0cf09c5a053c9c56"><div class="ttname"><a href="group__LLVMCCoreTypes.html#gad1d1bb5f901c903a0cf09c5a053c9c56">LLVMModuleRef</a></div><div class="ttdeci">struct LLVMOpaqueModule * LLVMModuleRef</div><div class="ttdef"><b>Definition:</b> <a href="Core_8h_source.html#l00080">Core.h:80</a></div></div>
<div class="ttc" id="SetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1TypeFinder_html_aab559789cec7a6e4585a8dbad03ae294"><div class="ttname"><a href="classllvm_1_1TypeFinder.html#aab559789cec7a6e4585a8dbad03ae294">llvm::TypeFinder::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="TypeFinder_8h_source.html#l00055">TypeFinder.h:55</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a668d6902e1f37328dfbbb1f75aa82fc9"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a></div><div class="ttdeci">=0.0?0.0:(a &gt; 0.0?1.0:-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00652">Target/X86/README.txt:652</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ac02b37f1016fb8ad589cf26a4e1e0b14"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ac02b37f1016fb8ad589cf26a4e1e0b14">llvm::GlobalValue::hasUnnamedAddr</a></div><div class="ttdeci">bool hasUnnamedAddr() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00084">GlobalValue.h:84</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_acfd7cc74125222a81c02b4097ed5166c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#acfd7cc74125222a81c02b4097ed5166c">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::lookup</a></div><div class="ttdeci">ValueT lookup(const KeyT &amp;Val) const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00143">DenseMap.h:143</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html_ab43657ed1abe2e2ed3a6a394f233ebd0"><div class="ttname"><a href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, unsigned NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00706">Type.cpp:706</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a82648246c07eb8a33f628eea28cb988c"><div class="ttname"><a href="classllvm_1_1StructType.html#a82648246c07eb8a33f628eea28cb988c">llvm::StructType::create</a></div><div class="ttdeci">static StructType * create(LLVMContext &amp;Context, StringRef Name)</div><div class="ttdoc">StructType::create - This creates an identified struct. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00494">Type.cpp:494</a></div></div>
<div class="ttc" id="TypeFinder_8h_html"><div class="ttname"><a href="TypeFinder_8h.html">TypeFinder.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_ad6fca81756b8258fe62e9071004e449e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#ad6fca81756b8258fe62e9071004e449e">llvm::GlobalValue::eraseFromParent</a></div><div class="ttdeci">virtual void eraseFromParent()=0</div></div>
<div class="ttc" id="classllvm_1_1TypeFinder_html_a993aa6804b908bc6697eab2eea856606"><div class="ttname"><a href="classllvm_1_1TypeFinder.html#a993aa6804b908bc6697eab2eea856606">llvm::TypeFinder::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="TypeFinder_8h_source.html#l00048">TypeFinder.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aa7923d9a1218e4e237f70d20efb9c647"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aa7923d9a1218e4e237f70d20efb9c647">llvm::GlobalValue::hasDLLImportLinkage</a></div><div class="ttdeci">bool hasDLLImportLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00212">GlobalValue.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a9e277b660236bb0318b61ab9cdf60dc7"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">llvm::StringRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00099">StringRef.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1NamedMDNode_html_a24a3512f374b3f29b573a223dfd13f2a"><div class="ttname"><a href="classllvm_1_1NamedMDNode.html#a24a3512f374b3f29b573a223dfd13f2a">llvm::NamedMDNode::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdoc">getNumOperands - Return the number of NamedMDNode operands. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00540">Metadata.cpp:540</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00039">Metadata.h:39</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_acb27ae484baaedcb76238c884a39ca4f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#acb27ae484baaedcb76238c884a39ca4f">llvm::GlobalValue::Materialize</a></div><div class="ttdeci">bool Materialize(std::string *ErrInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00036">Globals.cpp:36</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_aa2113dcf8c96c19c9a2abf786b9ad3b7"><div class="ttname"><a href="classllvm_1_1StructType.html#aa2113dcf8c96c19c9a2abf786b9ad3b7">llvm::StructType::getNumElements</a></div><div class="ttdeci">unsigned getNumElements() const </div><div class="ttdoc">Random access to the elements. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00286">DerivedTypes.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1TypeFinder_html"><div class="ttname"><a href="classllvm_1_1TypeFinder.html">llvm::TypeFinder</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeFinder_8h_source.html#l00030">TypeFinder.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a75391fa576679482ed9195d69101d002"><div class="ttname"><a href="classllvm_1_1Module.html#a75391fa576679482ed9195d69101d002">llvm::Module::getNamedValue</a></div><div class="ttdeci">GlobalValue * getNamedValue(StringRef Name) const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00111">Module.cpp:111</a></div></div>
<div class="ttc" id="Optional_8h_html"><div class="ttname"><a href="Optional_8h.html">Optional.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a5d052342d8cb7a6952a4c123b5385f90"><div class="ttname"><a href="classllvm_1_1Module.html#a5d052342d8cb7a6952a4c123b5385f90">llvm::Module::named_metadata_begin</a></div><div class="ttdeci">named_metadata_iterator named_metadata_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00554">Module.h:554</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMap_html_ae6be28efa794d11d2b1395fa77d7ebef"><div class="ttname"><a href="classllvm_1_1ValueMap.html#ae6be28efa794d11d2b1395fa77d7ebef">llvm::ValueMap::erase</a></div><div class="ttdeci">bool erase(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00147">ValueMap.h:147</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0e74af4b7c739f3a14e737c3042b6617"><div class="ttname"><a href="classllvm_1_1Module.html#a0e74af4b7c739f3a14e737c3042b6617">llvm::Module::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00249">Module.h:249</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a162a63c89ac118c8ffef75b3a892efa0"><div class="ttname"><a href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, const Twine &amp;N=&quot;&quot;, Module *M=0)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00128">Function.h:128</a></div></div>
<div class="ttc" id="namespacellvm_html_a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9"><div class="ttname"><a href="namespacellvm.html#a77724415203930efd07d7098cb1e437da89b60f3b4ad8c1e0ddb9a31b57cb13f9">llvm::RF_None</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMapper_8h_source.html#l00052">ValueMapper.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2960cc22992967e68a160de69e1ad86e"><div class="ttname"><a href="classllvm_1_1Function.html#a2960cc22992967e68a160de69e1ad86e">llvm::Function::setPrefixData</a></div><div class="ttdeci">void setPrefixData(Constant *PrefixData)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00749">Function.cpp:749</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46aaceb55148508b6c678a9c9d4ce454007"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46aaceb55148508b6c678a9c9d4ce454007">llvm::A64CC::LT</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00042">AArch64BaseInfo.h:42</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:18 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
