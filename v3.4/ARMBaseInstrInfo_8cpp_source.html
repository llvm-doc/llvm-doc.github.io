<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ARMBaseInstrInfo.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ARMBaseInstrInfo_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ARMBaseInstrInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ARMBaseInstrInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- ARMBaseInstrInfo.cpp - ARM Instruction Information ----------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the Base ARM implementation of the TargetInstrInfo class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARM_8h.html">ARM.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMBaseInstrInfo_8h.html">ARMBaseInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMBaseRegisterInfo_8h.html">ARMBaseRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMConstantPoolValue_8h.html">ARMConstantPoolValue.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMFeatures_8h.html">ARMFeatures.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMHazardRecognizer_8h.html">ARMHazardRecognizer.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMAddressingModes_8h.html">MCTargetDesc/ARMAddressingModes.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveVariables_8h.html">llvm/CodeGen/LiveVariables.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineConstantPool_8h.html">llvm/CodeGen/MachineConstantPool.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineJumpTableInfo_8h.html">llvm/CodeGen/MachineJumpTableInfo.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAGNodes_8h.html">llvm/CodeGen/SelectionDAGNodes.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmInfo_8h.html">llvm/MC/MCAsmInfo.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BranchProbability_8h.html">llvm/Support/BranchProbability.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a5d99008fb7e5cdc4774786d0743a2c4f">   40</a></span>&#160;<span class="preprocessor">#define GET_INSTRINFO_CTOR_DTOR</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;ARMGenInstrInfo.inc&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="ARMBaseInstrInfo_8cpp.html#ac0d783c80fd0f6ac590557c9d09bf5b4">EnableARM3Addr</a>(<span class="stringliteral">&quot;enable-arm-3-addr-conv&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;               <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable ARM 2-addr to 3-addr conv&quot;</span>));</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a66bb217193a5d63a232f9708683397a2">WidenVMOVS</a>(<span class="stringliteral">&quot;widen-vmovs&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;           <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Widen ARM vmovs to vmovd when possible&quot;</span>));</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a19ef99d0c38ffb09797db37080cad260">SwiftPartialUpdateClearance</a>(<span class="stringliteral">&quot;swift-partial-update-clearance&quot;</span>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;     <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(12),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;     <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Clearance before partial register updates&quot;</span>));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// ARM_MLxEntry - Record information about MLA / MLS instructions.</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html">   59</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structARM__MLxEntry.html">ARM_MLxEntry</a> {</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html#a991b049f84873e7fbad421ac46daecaf">   60</a></span>&#160;  uint16_t <a class="code" href="structARM__MLxEntry.html#a991b049f84873e7fbad421ac46daecaf">MLxOpc</a>;     <span class="comment">// MLA / MLS opcode</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html#a36874b9abb0982b40b084c448351e577">   61</a></span>&#160;  uint16_t <a class="code" href="structARM__MLxEntry.html#a36874b9abb0982b40b084c448351e577">MulOpc</a>;     <span class="comment">// Expanded multiplication opcode</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html#a5ec7e60c4b7a7a4b141714ee3c146e5b">   62</a></span>&#160;  uint16_t <a class="code" href="structARM__MLxEntry.html#a5ec7e60c4b7a7a4b141714ee3c146e5b">AddSubOpc</a>;  <span class="comment">// Expanded add / sub opcode</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html#a18e20037f489edfd5925b06e090ecaf6">   63</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structARM__MLxEntry.html#a18e20037f489edfd5925b06e090ecaf6">NegAcc</a>;         <span class="comment">// True if the acc is negated before the add / sub.</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structARM__MLxEntry.html#acf9ce13fe57b1d58d2b79dec83f6629e">   64</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structARM__MLxEntry.html#acf9ce13fe57b1d58d2b79dec83f6629e">HasLane</a>;        <span class="comment">// True if instruction has an extra &quot;lane&quot; operand.</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a97de685f215df81fe66267171364ab6b">   67</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structARM__MLxEntry.html">ARM_MLxEntry</a> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a97de685f215df81fe66267171364ab6b">ARM_MLxTable</a>[] = {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// MLxOpc,          MulOpc,           AddSubOpc,       NegAcc, HasLane</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// fp scalar ops</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  { ARM::VMLAS,       ARM::VMULS,       ARM::VADDS,      <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  { ARM::VMLSS,       ARM::VMULS,       ARM::VSUBS,      <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  { ARM::VMLAD,       ARM::VMULD,       ARM::VADDD,      <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  { ARM::VMLSD,       ARM::VMULD,       ARM::VSUBD,      <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  { ARM::VNMLAS,      ARM::VNMULS,      ARM::VSUBS,      <span class="keyword">true</span>,   <span class="keyword">false</span> },</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  { ARM::VNMLSS,      ARM::VMULS,       ARM::VSUBS,      <span class="keyword">true</span>,   <span class="keyword">false</span> },</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  { ARM::VNMLAD,      ARM::VNMULD,      ARM::VSUBD,      <span class="keyword">true</span>,   <span class="keyword">false</span> },</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  { ARM::VNMLSD,      ARM::VMULD,       ARM::VSUBD,      <span class="keyword">true</span>,   <span class="keyword">false</span> },</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// fp SIMD ops</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  { ARM::VMLAfd,      ARM::VMULfd,      ARM::VADDfd,     <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  { ARM::VMLSfd,      ARM::VMULfd,      ARM::VSUBfd,     <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  { ARM::VMLAfq,      ARM::VMULfq,      ARM::VADDfq,     <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  { ARM::VMLSfq,      ARM::VMULfq,      ARM::VSUBfq,     <span class="keyword">false</span>,  <span class="keyword">false</span> },</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  { ARM::VMLAslfd,    ARM::VMULslfd,    ARM::VADDfd,     <span class="keyword">false</span>,  <span class="keyword">true</span>  },</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  { ARM::VMLSslfd,    ARM::VMULslfd,    ARM::VSUBfd,     <span class="keyword">false</span>,  <span class="keyword">true</span>  },</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  { ARM::VMLAslfq,    ARM::VMULslfq,    ARM::VADDfq,     <span class="keyword">false</span>,  <span class="keyword">true</span>  },</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  { ARM::VMLSslfq,    ARM::VMULslfq,    ARM::VSUBfq,     <span class="keyword">false</span>,  <span class="keyword">true</span>  },</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;};</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a7e82ffc3423eb67eef1e1a43f0b75ce7">   90</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a7e82ffc3423eb67eef1e1a43f0b75ce7">ARMBaseInstrInfo::ARMBaseInstrInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMSubtarget.html">ARMSubtarget</a>&amp; STI)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  : <a class="code" href="classARMGenInstrInfo.html">ARMGenInstrInfo</a>(<a class="code" href="namespacellvm_1_1ExceptionHandling.html#a84c427e973084a9d1c7b7b9dc2bcc95daa8dc35917369fdfde68971225019ec64">ARM</a>::ADJCALLSTACKDOWN, <a class="code" href="namespacellvm_1_1ExceptionHandling.html#a84c427e973084a9d1c7b7b9dc2bcc95daa8dc35917369fdfde68971225019ec64">ARM</a>::ADJCALLSTACKUP),</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    Subtarget(STI) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(ARM_MLxTable); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (!MLxEntryMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">insert</a>(std::make_pair(ARM_MLxTable[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structARM__MLxEntry.html#a991b049f84873e7fbad421ac46daecaf">MLxOpc</a>, i)).second)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Duplicated entries?&quot;</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    MLxHazardOpcodes.<a class="code" href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(ARM_MLxTable[i].AddSubOpc);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    MLxHazardOpcodes.<a class="code" href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(ARM_MLxTable[i].MulOpc);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// Use a ScoreboardHazardRecognizer for prepass ARM scheduling. TargetInstrImpl</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">// currently defaults to no prepass hazard recognizer.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a9c01fd3652ae10236d146126f5675d6e">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a9c01fd3652ae10236d146126f5675d6e">  104</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a9c01fd3652ae10236d146126f5675d6e">CreateTargetHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *<a class="code" href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">TM</a>,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (usePreRAHazardRecognizer()) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II = TM-&gt;<a class="code" href="classllvm_1_1TargetMachine.html#a69d6715752707a83ec4cbecff60b5359">getInstrItineraryData</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1ScoreboardHazardRecognizer.html">ScoreboardHazardRecognizer</a>(II, DAG, <span class="stringliteral">&quot;pre-RA-sched&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a61c628588f6c98ca5d2d6a501f7a8a79">TargetInstrInfo::CreateTargetHazardRecognizer</a>(TM, DAG);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aa0b30db333ad5cc528fc7fcd8bf95298">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#aa0b30db333ad5cc528fc7fcd8bf95298">  114</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aa0b30db333ad5cc528fc7fcd8bf95298">CreateTargetPostRAHazardRecognizer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *II,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a> *DAG)<span class="keyword"> const </span>{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#afb0e1a4ff9f8314f2599f867178b1611">isThumb2</a>() || Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a758b007d6f5786bfa39fc58d352f6109">hasVFP2</a>())</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1ScheduleHazardRecognizer.html">ScheduleHazardRecognizer</a> *)<span class="keyword">new</span> <a class="code" href="classllvm_1_1ARMHazardRecognizer.html">ARMHazardRecognizer</a>(II, DAG);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#af838e603b174909a5a50461a21801f1b">TargetInstrInfo::CreateTargetPostRAHazardRecognizer</a>(II, DAG);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a3fca5a9f6d55a922e6c5890e1630bd0b">  122</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a3fca5a9f6d55a922e6c5890e1630bd0b">ARMBaseInstrInfo::convertToThreeAddress</a>(<a class="code" href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">MachineFunction::iterator</a> &amp;MFI,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;MBBI,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                        <a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a> *LV)<span class="keyword"> const </span>{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// FIXME: Thumb2 support.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#ac0d783c80fd0f6ac590557c9d09bf5b4">EnableARM3Addr</a>)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = MBBI;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  uint64_t TSFlags = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordtype">bool</span> isPre = <span class="keyword">false</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">switch</span> ((TSFlags &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a090893e44b7d8da1ed8e65cc6b586ae8">ARMII::IndexModeMask</a>) &gt;&gt; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618ac928721626de611c1e5c7acfd4e05f79">ARMII::IndexModeShift</a>) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ac3c83a9ce4f6ef1a90d63ebe5722b2b9abf29846376f4da85457ab5fbc9dfcc70">ARMII::IndexModePre</a>:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    isPre = <span class="keyword">true</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ac3c83a9ce4f6ef1a90d63ebe5722b2b9ab9fd312a3c788e0bd21fc94e46cf5ab2">ARMII::IndexModePost</a>:</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// Try splitting an indexed load/store to an un-indexed one plus an add/sub</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// operation.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">unsigned</span> MemOpc = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a4600f410854a2540949d8bfb93c9c348">getUnindexedOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (MemOpc == 0)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UpdateMI = NULL;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MemMI = NULL;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4">AddrMode</a> = (TSFlags &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">ARMII::AddrModeMask</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">unsigned</span> NumOps = MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">bool</span> isLoad = !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;WB = isLoad ? MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1) : MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Base = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;Offset = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps-3);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">unsigned</span> WBReg = WB.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">unsigned</span> BaseReg = Base.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">unsigned</span> OffReg = Offset.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">unsigned</span> OffImm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps-2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred = (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps-1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">switch</span> (AddrMode) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown indexed op!&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a7d9742a01ea175053d76a714474d88a6">ARMII::AddrMode2</a>: {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(OffImm) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">unsigned</span> Amt = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(OffImm);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (OffReg == 0) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#ab18b193058b463093ad2a5701710bece">ARM_AM::getSOImmVal</a>(Amt) == -1)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// Can&#39;t encode it in a so_imm operand. This transformation will</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// add more than 1 instruction. Abandon!</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      UpdateMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                         <span class="keyword">get</span>(isSub ? ARM::SUBri : ARM::ADDri), WBReg)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Amt)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Amt != 0) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239ef">ARM_AM::ShiftOpc</a> ShOpc = <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(OffImm);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordtype">unsigned</span> SOOpc = <a class="code" href="namespacellvm_1_1ARM__AM.html#a257cdd16d16d0a9d9b358b5e5a472258">ARM_AM::getSORegOpc</a>(ShOpc, Amt);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      UpdateMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                         <span class="keyword">get</span>(isSub ? ARM::SUBrsi : ARM::ADDrsi), WBReg)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(OffReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(SOOpc)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      UpdateMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                         <span class="keyword">get</span>(isSub ? ARM::SUBrr : ARM::ADDrr), WBReg)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(OffReg)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991">ARMII::AddrMode3</a> : {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(OffImm) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">unsigned</span> Amt = <a class="code" href="namespacellvm_1_1ARM__AM.html#ae82f861eface5f0da4e6a418b09e03bd">ARM_AM::getAM3Offset</a>(OffImm);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (OffReg == 0)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="comment">// Immediate is 8-bits. It&#39;s guaranteed to fit in a so_imm operand.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      UpdateMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                         <span class="keyword">get</span>(isSub ? ARM::SUBri : ARM::ADDri), WBReg)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Amt)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      UpdateMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                         <span class="keyword">get</span>(isSub ? ARM::SUBrr : ARM::ADDrr), WBReg)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(OffReg)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  std::vector&lt;MachineInstr*&gt; NewMIs;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (isPre) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (isLoad)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      MemMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                      <span class="keyword">get</span>(MemOpc), MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        .addReg(WBReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      MemMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                      <span class="keyword">get</span>(MemOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        .addReg(WBReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    NewMIs.push_back(MemMI);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    NewMIs.push_back(UpdateMI);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (isLoad)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      MemMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                      <span class="keyword">get</span>(MemOpc), MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        .addReg(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      MemMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MF, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                      <span class="keyword">get</span>(MemOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        .addReg(BaseReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Pred);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (WB.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      UpdateMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    NewMIs.push_back(UpdateMI);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    NewMIs.push_back(MemMI);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// Transfer LiveVariables states, kill / dead info.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (LV) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; <a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html">LiveVariables::VarInfo</a> &amp;VI = LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a434b7516027126339021e18d66c34864">getVarInfo</a>(Reg);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = (Reg == WBReg) ? UpdateMI : MemMI;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#abb9d34248326780608aad1a7ea2fa1d6">addVirtualRegisterDead</a>(Reg, NewMI);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>()) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> &lt; 2; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">// Look at the two new MI&#39;s in reverse order.</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewMI = NewMIs[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (!NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(Reg))</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            LV-&gt;<a class="code" href="classllvm_1_1LiveVariables.html#a9f49d5526aacaa90fbf6eb8f21503fa3">addVirtualRegisterKilled</a>(Reg, NewMI);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">if</span> (VI.<a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a2d9cf11e60a209eeb22d2086603ad432">removeKill</a>(MI))</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;              VI.<a class="code" href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">Kills</a>.push_back(NewMI);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  MFI-&gt;insert(MBBI, NewMIs[1]);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  MFI-&gt;insert(MBBI, NewMIs[0]);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">return</span> NewMIs[0];</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// Branch analysis.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af7e521440ad010ed3629ed7bbf0cc5c1">  272</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af7e521440ad010ed3629ed7bbf0cc5c1">ARMBaseInstrInfo::AnalyzeBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;TBB,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *&amp;FBB,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                <span class="keywordtype">bool</span> AllowModify)<span class="keyword"> const </span>{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  TBB = 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  FBB = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Empty blocks are easy.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Walk backwards from the end of the basic block until the branch is</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// analyzed or we give up.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(I) || I-&gt;isTerminator()) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// Flag to be raised on unanalyzeable instructions. This is useful in cases</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// where we want to clean up on the end of the basic block before we bail</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// out.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">bool</span> CantAnalyze = <span class="keyword">false</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Skip over DEBUG values and predicated nonterminators.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">while</span> (I-&gt;isDebugValue() || !I-&gt;isTerminator()) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a25ebb5d5fa4431b1a1835d0a5f4e2796">isIndirectBranchOpcode</a>(I-&gt;getOpcode()) ||</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="namespacellvm.html#a6b37f55b5ab197bb725692f21204c9bc">isJumpTableBranchOpcode</a>(I-&gt;getOpcode())) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// Indirect branches and jump tables can&#39;t be analyzed, but we still want</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="comment">// to clean up any instructions at the tail of the basic block.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      CantAnalyze = <span class="keyword">true</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(I-&gt;getOpcode())) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      TBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(I-&gt;getOpcode())) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="comment">// Bail out if we encounter multiple conditional branches.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (!Cond.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>())</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      assert(!FBB &amp;&amp; <span class="stringliteral">&quot;FBB should have been null.&quot;</span>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      FBB = TBB;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      TBB = I-&gt;getOperand(0).getMBB();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(I-&gt;getOperand(1));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(I-&gt;getOperand(2));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (I-&gt;isReturn()) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// Returns can&#39;t be analyzed, but we should run cleanup.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      CantAnalyze = !<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(I);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// We encountered other unrecognized terminator. Bail out immediately.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Cleanup code - to be run for unpredicated unconditional branches and</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">//                returns.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(I) &amp;&amp;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(I-&gt;getOpcode()) ||</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;           <a class="code" href="namespacellvm.html#a25ebb5d5fa4431b1a1835d0a5f4e2796">isIndirectBranchOpcode</a>(I-&gt;getOpcode()) ||</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;           <a class="code" href="namespacellvm.html#a6b37f55b5ab197bb725692f21204c9bc">isJumpTableBranchOpcode</a>(I-&gt;getOpcode()) ||</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;           I-&gt;isReturn())) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">// Forget any previous condition branch information - it no longer applies.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      Cond.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      FBB = 0;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// If we can modify the function, delete everything below this</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// unconditional branch.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">if</span> (AllowModify) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> DI = <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(I);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">while</span> (DI != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *InstToDelete = DI;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          ++DI;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          InstToDelete-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (CantAnalyze)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// We made it past the terminators without bailing out - we must have</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// analyzed this branch successfully.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a7c457dd5fa38d890e08f9d13d0568695">  363</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a7c457dd5fa38d890e08f9d13d0568695">ARMBaseInstrInfo::RemoveBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">while</span> (I-&gt;isDebugValue()) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>())</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(I-&gt;getOpcode()) &amp;&amp;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      !<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(I-&gt;getOpcode()))</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Remove the branch.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  I-&gt;eraseFromParent();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  I = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (I == MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>()) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">isCondBranchOpcode</a>(I-&gt;getOpcode()))</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// Remove the branch.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  I-&gt;eraseFromParent();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af9877c28008f47ddb22dd5103fb4221c">  392</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af9877c28008f47ddb22dd5103fb4221c">ARMBaseInstrInfo::InsertBranch</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *TBB,</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                               <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *FBB,</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                               <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL)<span class="keyword"> const </span>{</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordtype">int</span> BOpc   = !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>()</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    ? <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">ARM::B</a> : (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>() ? ARM::t2B : ARM::tB);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordtype">int</span> BccOpc = !AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>()</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    ? ARM::Bcc : (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>() ? ARM::t2Bcc : ARM::tBcc);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordtype">bool</span> isThumb = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">isThumbFunction</a>() || AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>();</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// Shouldn&#39;t be a fall through.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  assert(TBB &amp;&amp; <span class="stringliteral">&quot;InsertBranch must not be told to insert a fallthrough&quot;</span>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  assert((Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 2 || Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 0) &amp;&amp;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         <span class="stringliteral">&quot;ARM branch conditions have two components!&quot;</span>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (FBB == 0) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (Cond.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) { <span class="comment">// Unconditional branch?</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">if</span> (isThumb)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BccOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Cond[0].getImm()).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Cond[1].<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>());</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// Two-way conditional branch.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BccOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(TBB)</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Cond[0].getImm()).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Cond[1].<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>());</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (isThumb)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(FBB).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(&amp;MBB, DL, <span class="keyword">get</span>(BOpc)).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">addMBB</a>(FBB);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af9311056876c08a7e186b82a89c6486e">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af9311056876c08a7e186b82a89c6486e">  431</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af9311056876c08a7e186b82a89c6486e">ReverseBranchCondition</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond)<span class="keyword"> const </span>{</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)(<span class="keywordtype">int</span>)Cond[0].getImm();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  Cond[0].setImm(<a class="code" href="namespacellvm_1_1ARMCC.html#a4bd63de978510703f28cd98ea7c0ffa5">ARMCC::getOppositeCondition</a>(CC));</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">  437</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">ARMBaseInstrInfo::isPredicated</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>()) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> E = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">while</span> (++I != E &amp;&amp; I-&gt;isInsideBundle()) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordtype">int</span> PIdx = I-&gt;findFirstPredOperandIdx();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keywordflow">if</span> (PIdx != -1 &amp;&amp; I-&gt;getOperand(PIdx).getImm() != <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordtype">int</span> PIdx = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">findFirstPredOperandIdx</a>();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">return</span> PIdx != -1 &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() != <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a9800adf4989a461d0d592c3b66e25926">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a9800adf4989a461d0d592c3b66e25926">  454</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a9800adf4989a461d0d592c3b66e25926">PredicateInstruction</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Pred)<span class="keyword"> const </span>{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">unsigned</span> Opc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">isUncondBranchOpcode</a>(Opc)) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(<a class="code" href="namespacellvm.html#aea68e726ee579fec1a9a09e6c7c2509e">getMatchingCondBranchOpcode</a>(Opc)));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a>(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      .addImm(Pred[0].getImm())</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      .addReg(Pred[1].<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>());</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordtype">int</span> PIdx = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">findFirstPredOperandIdx</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">if</span> (PIdx != -1) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;PMO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    PMO.<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(Pred[0].getImm());</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">setReg</a>(Pred[1].<a class="code" href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a>());</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6b9dd790dbf38199f147cb87279a9013">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a6b9dd790dbf38199f147cb87279a9013">  476</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6b9dd790dbf38199f147cb87279a9013">SubsumesPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Pred1,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Pred2)<span class="keyword"> const </span>{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">if</span> (Pred1.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 2 || Pred2.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 2)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> CC1 = (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)Pred1[0].getImm();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> CC2 = (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)Pred2[0].getImm();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span> (CC1 == CC2)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">switch</span> (CC1) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>:</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a038249ad0a9ef6d79cc3506c96dd3c1f">ARMCC::HS</a>:</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span> CC2 == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a7ed629585c923f434528020bd892bb97">ARMCC::HI</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5b518bf08cf352b115648f7719a7f610">ARMCC::LS</a>:</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> CC2 == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a85a7716b3a259c91702bce293fb923df">ARMCC::LO</a> || CC2 == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402">ARMCC::EQ</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">ARMCC::GE</a>:</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> CC2 == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">ARMCC::GT</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371">ARMCC::LE</a>:</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> CC2 == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8">ARMCC::LT</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a38656e57fa67b381c0aa737611bcf2bb">  502</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a38656e57fa67b381c0aa737611bcf2bb">ARMBaseInstrInfo::DefinesPredicate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                    std::vector&lt;MachineOperand&gt; &amp;Pred)<span class="keyword"> const </span>{</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> ((MO.<a class="code" href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">isRegMask</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">clobbersPhysReg</a>(ARM::CPSR)) ||</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::CPSR)) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      Pred.push_back(MO);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      Found = <span class="keyword">true</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">return</span> Found;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">/// isPredicable - Return true if the specified instruction can be predicated.</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// By default, this returns true for every instruction with a</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/// PredicateOperand.</span></div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#acaf4630ad9d642377ce6e5f81f190f13">  520</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#acaf4630ad9d642377ce6e5f81f190f13">ARMBaseInstrInfo::isPredicable</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">isPredicable</a>())</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI =</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> (AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">isThumb2Function</a>()) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#acd1aa5ca74e191974caa73958cb572b1">getSubtarget</a>().<a class="code" href="classllvm_1_1ARMSubtarget.html#aa572dd9c5255192a00848201be8de3d6">restrictIT</a>())</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a25aa0d7259fa59c3558f084b880712e4">isV8EligibleForIT</a>(MI);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">// non-Thumb</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> ((MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">ARMII::DomainMask</a>) == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60">ARMII::DomainNEON</a>)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/// FIXME: Works around a gcc miscompilation with -fstrict-aliasing.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span><a class="code" href="Compiler_8h.html#ac6a5e0eb6a9944baf6ba14b640eab6e1">LLVM_ATTRIBUTE_NOINLINE</a></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7ceb44c13a5a15157d5f663fa961fb98">getNumJTEntries</a>(<span class="keyword">const</span> std::vector&lt;MachineJumpTableEntry&gt; &amp;JT,</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                <span class="keywordtype">unsigned</span> JTI);</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a7ceb44c13a5a15157d5f663fa961fb98">  542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7ceb44c13a5a15157d5f663fa961fb98">getNumJTEntries</a>(<span class="keyword">const</span> std::vector&lt;MachineJumpTableEntry&gt; &amp;JT,</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                <span class="keywordtype">unsigned</span> JTI) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  assert(JTI &lt; JT.size());</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">return</span> JT[JTI].MBBs.size();</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/// GetInstSize - Return the size of the specified MachineInstr.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">  550</a></span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">ARMBaseInstrInfo::GetInstSizeInBytes</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmInfo.html">MCAsmInfo</a> *MAI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a0183706ce035a6141db09c0479e0fb6e">getMCAsmInfo</a>();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">if</span> (MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#ae8a17b854d9787d11797d9334a22647d">getSize</a>())</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#ae8a17b854d9787d11797d9334a22647d">getSize</a>();</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// If this machine instr is an inline asm, measure it.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">ARM::INLINEASM</a>)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">return</span> getInlineAsmLength(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ad9456ef14a72da4e4def5d8747c41a09">getSymbolName</a>(), *MAI);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a509d0dea879fe37ee2c0f4154e200936">isLabel</a>())</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordtype">unsigned</span> Opc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f">TargetOpcode::IMPLICIT_DEF</a>:</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421">TargetOpcode::KILL</a>:</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ac4061808eca922630aa39fc5c6f43896">TargetOpcode::PROLOG_LABEL</a>:</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a4464c39babc8c8afe5055a25af42b548">TargetOpcode::EH_LABEL</a>:</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">TargetOpcode::DBG_VALUE</a>:</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a64abb4451596f866fd5806a865e7795e">TargetOpcode::BUNDLE</a>:</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">return</span> getInstBundleLength(MI);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">case</span> ARM::MOVi16_ga_pcrel:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">case</span> ARM::MOVTi16_ga_pcrel:</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">case</span> ARM::t2MOVi16_ga_pcrel:</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">case</span> ARM::t2MOVTi16_ga_pcrel:</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">case</span> ARM::MOVi32imm:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">case</span> ARM::t2MOVi32imm:</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span> 8;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">case</span> ARM::CONSTPOOL_ENTRY:</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// If this machine instr is a constant pool entry, its size is recorded as</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// operand #2.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">case</span> ARM::Int_eh_sjlj_longjmp:</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> 16;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">case</span> ARM::tInt_eh_sjlj_longjmp:</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> 10;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">case</span> ARM::Int_eh_sjlj_setjmp:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">case</span> ARM::Int_eh_sjlj_setjmp_nofp:</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> 20;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">case</span> ARM::tInt_eh_sjlj_setjmp:</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">case</span> ARM::t2Int_eh_sjlj_setjmp:</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">case</span> ARM::t2Int_eh_sjlj_setjmp_nofp:</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> 12;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">case</span> ARM::BR_JTr:</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">case</span> ARM::BR_JTm:</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">case</span> ARM::BR_JTadd:</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">case</span> ARM::tBR_JTr:</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">case</span> ARM::t2BR_JT:</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">case</span> ARM::t2TBB_JT:</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">case</span> ARM::t2TBH_JT: {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// These are jumptable branches, i.e. a branch followed by an inlined</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// jumptable. The size is 4 + 4 * number of entries. For TBB, each</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// entry is one byte; TBH two byte each.</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordtype">unsigned</span> EntrySize = (Opc == ARM::t2TBB_JT)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      ? 1 : ((Opc == ARM::t2TBH_JT) ? 2 : 4);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordtype">unsigned</span> NumOps = MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> JTOP =</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps - (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">isPredicable</a>() ? 3 : 2));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordtype">unsigned</span> JTI = JTOP.<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineJumpTableInfo.html">MachineJumpTableInfo</a> *MJTI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a99e93c9b5c2f41b3d601d129a6f60a6e">getJumpTableInfo</a>();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    assert(MJTI != 0);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keyword">const</span> std::vector&lt;MachineJumpTableEntry&gt; &amp;JT = MJTI-&gt;<a class="code" href="classllvm_1_1MachineJumpTableInfo.html#adebd965803507068e86d6d3d454338e9">getJumpTables</a>();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    assert(JTI &lt; JT.size());</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// Thumb instructions are 2 byte aligned, but JT entries are 4 byte</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// 4 aligned. The assembler / linker may add 2 byte padding just before</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">// the JT entries.  The size does not include this padding; the</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// constant islands pass does separate bookkeeping for it.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// FIXME: If we know the size of the function is less than (1 &lt;&lt; 16) *2</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// bytes, we can use 16-bit entries instead. Then there won&#39;t be an</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">// alignment issue.</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordtype">unsigned</span> InstSize = (Opc == ARM::tBR_JTr || Opc == ARM::t2BR_JT) ? 2 : 4;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">unsigned</span> NumEntries = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7ceb44c13a5a15157d5f663fa961fb98">getNumJTEntries</a>(JT, JTI);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">if</span> (Opc == ARM::t2TBB_JT &amp;&amp; (NumEntries &amp; 1))</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="comment">// Make sure the instruction that follows TBB is 2-byte aligned.</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// FIXME: Constant island pass should insert an &quot;ALIGN&quot; instruction</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="comment">// instead.</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      ++NumEntries;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> NumEntries * EntrySize + InstSize;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// Otherwise, pseudo-instruction sizes are zero.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="keywordtype">unsigned</span> ARMBaseInstrInfo::getInstBundleLength(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordtype">unsigned</span> Size = 0;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> E = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">while</span> (++I != E &amp;&amp; I-&gt;isInsideBundle()) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    assert(!I-&gt;isBundle() &amp;&amp; <span class="stringliteral">&quot;No nested bundle!&quot;</span>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    Size += <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">GetInstSizeInBytes</a>(&amp;*I);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">return</span> Size;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a35dd53987c8b93e87a384016981da7b5">  650</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a35dd53987c8b93e87a384016981da7b5">ARMBaseInstrInfo::copyPhysReg</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                                   <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                   <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                   <span class="keywordtype">bool</span> KillSrc)<span class="keyword"> const </span>{</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordtype">bool</span> GPRDest = ARM::GPRRegClass.contains(DestReg);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordtype">bool</span> GPRSrc = ARM::GPRRegClass.contains(SrcReg);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">if</span> (GPRDest &amp;&amp; GPRSrc) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::MOVr), DestReg)</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                    .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc))));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordtype">bool</span> SPRDest = ARM::SPRRegClass.contains(DestReg);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">bool</span> SPRSrc = ARM::SPRRegClass.contains(SrcReg);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordtype">unsigned</span> Opc = 0;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">if</span> (SPRDest &amp;&amp; SPRSrc)</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    Opc = ARM::VMOVS;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GPRDest &amp;&amp; SPRSrc)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    Opc = ARM::VMOVRS;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SPRDest &amp;&amp; GPRSrc)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    Opc = ARM::VMOVSR;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DPRRegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::QPRRegClass.contains(DestReg, SrcReg))</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    Opc = ARM::VORRq;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (Opc) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(Opc), DestReg);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (Opc == ARM::VORRq)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillSrc));</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// Handle register classes that require multiple instructions.</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">unsigned</span> BeginIdx = 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordtype">unsigned</span> SubRegs = 0;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordtype">int</span> Spacing = 1;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// Use VORRq when possible.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> (ARM::QQPRRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    Opc = ARM::VORRq;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    BeginIdx = ARM::qsub_0;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    SubRegs = 2;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::QQQQPRRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    Opc = ARM::VORRq;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    BeginIdx = ARM::qsub_0;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    SubRegs = 4;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Fall back to VMOVD.</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DPairRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    SubRegs = 2;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DTripleRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    SubRegs = 3;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DQuadRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    SubRegs = 4;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::GPRPairRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    Opc = Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#afb0e1a4ff9f8314f2599f867178b1611">isThumb2</a>() ? ARM::tMOVr : ARM::MOVr;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    BeginIdx = ARM::gsub_0;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    SubRegs = 2;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DPairSpcRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    SubRegs = 2;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    Spacing = 2;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DTripleSpcRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    SubRegs = 3;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    Spacing = 2;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::DQuadSpcRegClass.contains(DestReg, SrcReg)) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    Opc = ARM::VMOVD;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    BeginIdx = ARM::dsub_0;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    SubRegs = 4;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    Spacing = 2;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  assert(Opc &amp;&amp; <span class="stringliteral">&quot;Impossible reg-to-reg copy&quot;</span>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = &amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>();</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> Mov;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// Copy register tuples backward when the first Dest reg overlaps with SrcReg.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">if</span> (TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a4fac7ec2f43b802397b65018bda0040e">regsOverlap</a>(SrcReg, TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(DestReg, BeginIdx))) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    BeginIdx = BeginIdx + ((SubRegs - 1) * Spacing);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    Spacing = -Spacing;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;unsigned, 4&gt;</a> DstRegs;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != SubRegs; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">unsigned</span> Dst = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(DestReg, BeginIdx + <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Spacing);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">unsigned</span> Src = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(SrcReg, BeginIdx + <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> * Spacing);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    assert(Dst &amp;&amp; Src &amp;&amp; <span class="stringliteral">&quot;Bad sub-register&quot;</span>);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    assert(!DstRegs.<a class="code" href="classllvm_1_1SmallSet.html#ab28aa342862f6d16361be514fd98c22e">count</a>(Src) &amp;&amp; <span class="stringliteral">&quot;destructive vector copy&quot;</span>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    DstRegs.<a class="code" href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">insert</a>(Dst);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    Mov = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, I-&gt;getDebugLoc(), <span class="keyword">get</span>(Opc), Dst).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Src);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// VORR takes two source operands.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (Opc == ARM::VORRq)</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      Mov.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Src);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    Mov = <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(Mov);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// MOVr can set CC.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (Opc == ARM::MOVr)</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      Mov = <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(Mov);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// Add implicit super-register defs and kills to the last instruction.</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  Mov-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a39303914565c68a9ad02b159c625f0ac">addRegisterDefined</a>(DestReg, TRI);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordflow">if</span> (KillSrc)</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    Mov-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">addRegisterKilled</a>(SrcReg, TRI);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> &amp;</div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">  772</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">ARMBaseInstrInfo::AddDReg</a>(<a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> &amp;MIB, <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                          <span class="keywordtype">unsigned</span> SubIdx, <span class="keywordtype">unsigned</span> State,</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (!SubIdx)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, State);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(Reg))</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(Reg, SubIdx), State);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">return</span> MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg, State, SubIdx);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">  784</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">storeRegToStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">bool</span> isKill, <span class="keywordtype">int</span> FI,</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">if</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) DL = I-&gt;getDebugLoc();</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FI);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(<a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI),</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                            <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">MachineMemOperand::MOStore</a>,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FI),</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                            <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">switch</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>()) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> (ARM::GPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::STRi12))</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                   .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::SPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTRS))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                   .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">if</span> (ARM::DPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTRD))</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                   .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::GPRPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a79d84fa8afc06293231558d1e4de091f">hasV5TEOps</a>()) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::STRD));</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_1, 0, TRI);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          <span class="comment">// Fallback to STM instruction, which has existed since the dawn of</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          <span class="comment">// time.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::STMIA))</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                             .addFrameIndex(FI).addMemOperand(MMO));</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;          <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::gsub_1, 0, TRI);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        }</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">if</span> (ARM::DPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// Use aligned spills if the stack can be realigned.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VST1q64))</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                     .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTMQIA))</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                     .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                     .addFrameIndex(FI)</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span> (ARM::DTripleRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="comment">// Use aligned spills if the stack can be realigned.</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VST1d64TPseudo))</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                     .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTMDIA))</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                       .addFrameIndex(FI))</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_1, 0, TRI);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_2, 0, TRI);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">if</span> (ARM::QQPRRegClass.hasSubClassEq(RC) || ARM::DQuadRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <span class="comment">// FIXME: It&#39;s possible to only store part of the QQ register if the</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          <span class="comment">// spilled def has a sub-register index.</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VST1d64QPseudo))</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                     .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTMDIA))</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                       .addFrameIndex(FI))</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_1, 0, TRI);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_2, 0, TRI);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_3, 0, TRI);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">case</span> 64:</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span> (ARM::QQQQPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VSTMDIA))</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                         .addFrameIndex(FI))</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                         .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_0, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill), TRI);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_1, 0, TRI);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_2, 0, TRI);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_3, 0, TRI);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_4, 0, TRI);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_5, 0, TRI);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_6, 0, TRI);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;              <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, SrcReg, ARM::dsub_7, 0, TRI);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a2d2e6f4deb520324f1a4be87e20fe678">  920</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a2d2e6f4deb520324f1a4be87e20fe678">ARMBaseInstrInfo::isStoreToStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                     <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">case</span> ARM::STRrs:</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRs: <span class="comment">// FIXME: don&#39;t use t2STRs to access frame.</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">case</span> ARM::STRi12:</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRi12:</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordflow">case</span> ARM::tSTRspi:</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">case</span> ARM::VSTRD:</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">case</span> ARM::VSTRS:</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordflow">case</span> ARM::VST1q64:</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">case</span> ARM::VST1d64TPseudo:</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">case</span> ARM::VST1d64QPseudo:</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMQIA:</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af3d8d6235c7bc8027782455f8506e9fb">  968</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af3d8d6235c7bc8027782455f8506e9fb">ARMBaseInstrInfo::isStoreToStackSlotPostFE</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                                                    <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *<a class="code" href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>() &amp;&amp; hasStoreToStackSlot(MI, Dummy, FrameIndex);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">ARMBaseInstrInfo::</a></div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">  975</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">loadRegFromStackSlot</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB, <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                     <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">int</span> FI,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordflow">if</span> (I != MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) DL = I-&gt;getDebugLoc();</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> &amp;MFI = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">getObjectAlignment</a>(FI);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMO =</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    MF.<a class="code" href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">getMachineMemOperand</a>(</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                    <a class="code" href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">MachinePointerInfo::getFixedStack</a>(FI),</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                            <a class="code" href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">MachineMemOperand::MOLoad</a>,</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                            MFI.<a class="code" href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">getObjectSize</a>(FI),</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                            <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">switch</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">getSize</a>()) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">if</span> (ARM::GPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::LDRi12), DestReg)</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::SPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDRS), DestReg)</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (ARM::DPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDRD), DestReg)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                   .addFrameIndex(FI).addImm(0).addMemOperand(MMO));</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::GPRPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a79d84fa8afc06293231558d1e4de091f">hasV5TEOps</a>()) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::LDRD));</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(FI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="comment">// Fallback to LDM instruction, which has existed since the dawn of</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="comment">// time.</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        MIB = <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::LDMIA))</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                 .addFrameIndex(FI).addMemOperand(MMO));</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::gsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DestReg))</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (ARM::DPairRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLD1q64), DestReg)</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDMQIA), DestReg)</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                       .addFrameIndex(FI)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                       .addMemOperand(MMO));</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      }</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (ARM::DTripleRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLD1d64TPseudo), DestReg)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;          <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDMDIA))</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                         .addFrameIndex(FI)</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                         .addMemOperand(MMO));</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_2, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DestReg))</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (ARM::QQPRRegClass.hasSubClassEq(RC) || ARM::DQuadRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="keywordflow">if</span> (Align &gt;= 16 &amp;&amp; <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>().canRealignStack(MF)) {</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLD1d64QPseudo), DestReg)</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                     .addFrameIndex(FI).addImm(16)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                     .addMemOperand(MMO));</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDMDIA))</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                       .addFrameIndex(FI))</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                       .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_2, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_3, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DestReg))</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;          MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">case</span> 64:</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">if</span> (ARM::QQQQPRRegClass.hasSubClassEq(RC)) {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB =</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, DL, <span class="keyword">get</span>(ARM::VLDMDIA))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                     .addFrameIndex(FI))</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                     .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">addMemOperand</a>(MMO);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_0, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_2, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_3, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_4, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_5, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_6, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      MIB = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">AddDReg</a>(MIB, DestReg, ARM::dsub_7, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">RegState::DefineNoRead</a>, TRI);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(DestReg))</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(DestReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">RegState::ImplicitDefine</a>);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown reg class!&quot;</span>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown regclass!&quot;</span>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;}</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#abff9086798c2bcaa66812e6c574bd90d"> 1111</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#abff9086798c2bcaa66812e6c574bd90d">ARMBaseInstrInfo::isLoadFromStackSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                      <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRs:  <span class="comment">// FIXME: don&#39;t use t2LDRs to access frame.</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() &amp;&amp;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == 0 &amp;&amp;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">case</span> ARM::LDRi12:</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">case</span> ARM::tLDRspi:</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRD:</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRS:</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>() &amp;&amp;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">case</span> ARM::VLD1q64:</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">case</span> ARM::VLD1d64TPseudo:</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">case</span> ARM::VLD1d64QPseudo:</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMQIA:</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() &amp;&amp;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() == 0) {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      FrameIndex = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div><div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a7b1e6e41a5fc03ef005bcf94bb01c1e0"> 1159</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a7b1e6e41a5fc03ef005bcf94bb01c1e0">ARMBaseInstrInfo::isLoadFromStackSlotPostFE</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                             <span class="keywordtype">int</span> &amp;<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *<a class="code" href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">Dummy</a>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>() &amp;&amp; hasLoadFromStackSlot(MI, Dummy, FrameIndex);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a6a12c22fdf82f1afa6a18b9248ea8ad5"> 1165</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6a12c22fdf82f1afa6a18b9248ea8ad5">ARMBaseInstrInfo::expandPostRAPseudo</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI)<span class="keyword"> const</span>{</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// This hook gets to expand COPY instructions before they become</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// copyPhysReg() calls.  Look for VMOVS instructions that can legally be</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">// widened to VMOVD.  We prefer the VMOVD when possible because it may be</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// changed into a VORR that can go down the NEON pipeline.</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#a66bb217193a5d63a232f9708683397a2">WidenVMOVS</a> || !MI-&gt;isCopy() || Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a1c1e1ba3ea51b3604698a49939723161">isCortexA15</a>())</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// Look for a copy between even S-registers.  That is where we keep floats</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// when using NEON v2f32 instructions for f32 arithmetic.</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordtype">unsigned</span> DstRegS = MI-&gt;getOperand(0).getReg();</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keywordtype">unsigned</span> SrcRegS = MI-&gt;getOperand(1).getReg();</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (!ARM::SPRRegClass.contains(DstRegS, SrcRegS))</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = &amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>();</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keywordtype">unsigned</span> DstRegD = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(DstRegS, ARM::ssub_0,</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                              &amp;ARM::DPRRegClass);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordtype">unsigned</span> SrcRegD = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(SrcRegS, ARM::ssub_0,</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                                              &amp;ARM::DPRRegClass);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">if</span> (!DstRegD || !SrcRegD)</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="comment">// We want to widen this into a DstRegD = VMOVD SrcRegD copy.  This is only</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// legal if the COPY already defines the full DstRegD, and it isn&#39;t a</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// sub-register insertion.</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;definesRegister(DstRegD, TRI) || MI-&gt;readsRegister(DstRegD, TRI))</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// A dead copy shouldn&#39;t show up here, but reject it just in case.</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;getOperand(0).isDead())</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="comment">// All clear, widen the COPY.</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;widening:    &quot;</span> &lt;&lt; *MI);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(*MI-&gt;getParent()-&gt;getParent(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="comment">// Get rid of the old &lt;imp-def&gt; of DstRegD.  Leave it if it defines a Q-reg</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// or some other super-register.</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordtype">int</span> ImpDefIdx = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2f106e8d8dd41bc78c3bc657bd58dc72">findRegisterDefOperandIdx</a>(DstRegD);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (ImpDefIdx != -1)</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    MI-&gt;RemoveOperand(ImpDefIdx);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// Change the opcode and operands.</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  MI-&gt;setDesc(<span class="keyword">get</span>(ARM::VMOVD));</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  MI-&gt;getOperand(0).setReg(DstRegD);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  MI-&gt;getOperand(1).setReg(SrcRegD);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">// We are now reading SrcRegD instead of SrcRegS.  This may upset the</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="comment">// register scavenger and machine verifier, so we need to indicate that we</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">// are reading an undefined value from SrcRegD, but a proper value from</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// SrcRegS.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  MI-&gt;getOperand(1).setIsUndef();</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  MIB.addReg(SrcRegS, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">// SrcRegD may actually contain an unrelated value in the ssub_1</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">// sub-register.  Don&#39;t kill it.  Only kill the ssub_0 sub-register.</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;getOperand(1).isKill()) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    MI-&gt;getOperand(1).setIsKill(<span class="keyword">false</span>);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    MI-&gt;addRegisterKilled(SrcRegS, TRI, <span class="keyword">true</span>);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;replaced by: &quot;</span> &lt;&lt; *MI);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment">/// Create a copy of a const pool value. Update CPI to the new index and return</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment">/// the label UID.</span></div><div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a2c263d194af0af601f8fe37e10f1ea74"> 1234</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a2c263d194af0af601f8fe37e10f1ea74">duplicateCPV</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> &amp;CPI) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="classllvm_1_1MachineConstantPool.html">MachineConstantPool</a> *MCP = MF.<a class="code" href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">getConstantPool</a>();</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a> *AFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html">ARMFunctionInfo</a>&gt;();</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineConstantPoolEntry.html">MachineConstantPoolEntry</a> &amp;MCPE = MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#ae31743f7e04cc8706b3b29d087b6f1b2">getConstants</a>()[CPI];</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  assert(MCPE.isMachineConstantPoolEntry() &amp;&amp;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;         <span class="stringliteral">&quot;Expecting a machine constantpool entry!&quot;</span>);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a> *ACPV =</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a>*<span class="keyword">&gt;</span>(MCPE.Val.MachineCPVal);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordtype">unsigned</span> PCLabelId = AFI-&gt;<a class="code" href="classllvm_1_1ARMFunctionInfo.html#a35e5226e31619a535b692b702a2990a6">createPICLabelUId</a>();</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a> *NewCPV = 0;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="comment">// FIXME: The below assumes PIC relocation model and that the function</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// is Thumb mode (t1 or t2). PCAdjustment would be 8 for ARM mode PIC, and</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// zero for non-PIC in ARM or Thumb. The callers are all of thumb LDR</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// instructions, so that&#39;s probably OK, but is PIC always correct when</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// we get here?</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">if</span> (ACPV-&gt;isGlobalValue())</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    NewCPV = <a class="code" href="classllvm_1_1ARMConstantPoolConstant.html">ARMConstantPoolConstant</a>::</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      Create(cast&lt;ARMConstantPoolConstant&gt;(ACPV)-&gt;getGV(), PCLabelId,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;             <a class="code" href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaabad4206f41cccb7d5c78d6d642b4b35e1f">ARMCP::CPValue</a>, 4);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACPV-&gt;isExtSymbol())</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    NewCPV = <a class="code" href="classllvm_1_1ARMConstantPoolSymbol.html">ARMConstantPoolSymbol</a>::</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      Create(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(),</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;             cast&lt;ARMConstantPoolSymbol&gt;(ACPV)-&gt;getSymbol(), PCLabelId, 4);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACPV-&gt;isBlockAddress())</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    NewCPV = <a class="code" href="classllvm_1_1ARMConstantPoolConstant.html">ARMConstantPoolConstant</a>::</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      Create(cast&lt;ARMConstantPoolConstant&gt;(ACPV)-&gt;getBlockAddress(), PCLabelId,</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;             <a class="code" href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaabac6721b50294fd164c5861cb82e938e10">ARMCP::CPBlockAddress</a>, 4);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACPV-&gt;isLSDA())</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    NewCPV = <a class="code" href="classllvm_1_1ARMConstantPoolConstant.html#a42ce6739c10696336d46591fec3e12ac">ARMConstantPoolConstant::Create</a>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>(), PCLabelId,</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                                             <a class="code" href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaaba7266a79b029f9dc90109a374fe43c64f">ARMCP::CPLSDA</a>, 4);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ACPV-&gt;isMachineBasicBlock())</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    NewCPV = <a class="code" href="classllvm_1_1ARMConstantPoolMBB.html">ARMConstantPoolMBB</a>::</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      Create(MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">getContext</a>(),</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;             cast&lt;ARMConstantPoolMBB&gt;(ACPV)-&gt;getMBB(), PCLabelId, 4);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected ARM constantpool value type!!&quot;</span>);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  CPI = MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#ad9e4b5817af07b8be3f3ccf9d08df771">getConstantPoolIndex</a>(NewCPV, MCPE.getAlignment());</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">return</span> PCLabelId;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a668a990d85d825c156b84fbb732580f1">ARMBaseInstrInfo::</a></div><div class="line"><a name="l01277"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a668a990d85d825c156b84fbb732580f1"> 1277</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a668a990d85d825c156b84fbb732580f1">reMaterialize</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;              <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;              <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> SubIdx,</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Orig,</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">default</span>: {</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">CloneMachineInstr</a>(Orig);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a6ca0b91d76cb52e930c7b2b70944c5bc">substituteRegister</a>(Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), DestReg, SubIdx, TRI);</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a8d02c1e6ef20f42c10d6f4e7234efd61">insert</a>(I, MI);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">case</span> ARM::tLDRpci_pic:</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRpci_pic: {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordtype">unsigned</span> CPI = Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordtype">unsigned</span> PCLabelId = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a2c263d194af0af601f8fe37e10f1ea74">duplicateCPV</a>(MF, CPI);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, I, Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(), <span class="keyword">get</span>(Opcode),</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                      DestReg)</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#ad59a931df03c79a2ea17009ee2a2f96b">addConstantPoolIndex</a>(CPI).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(PCLabelId);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    MIB-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8187278394d92f255286f41bd7d6701a">setMemRefs</a>(Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>(), Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>());</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a7f0f76df06e615446a45a3f59114036e"> 1305</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a7f0f76df06e615446a45a3f59114036e">ARMBaseInstrInfo::duplicate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Orig, <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = <a class="code" href="classllvm_1_1TargetInstrInfo.html#aa9d962aba2d3948781454c0e85782bc7">TargetInstrInfo::duplicate</a>(Orig, MF);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">switch</span>(Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordflow">case</span> ARM::tLDRpci_pic:</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRpci_pic: {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordtype">unsigned</span> CPI = Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordtype">unsigned</span> PCLabelId = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a2c263d194af0af601f8fe37e10f1ea74">duplicateCPV</a>(MF, CPI);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aebc99c3c37896879abad49e7254a2fb8">setIndex</a>(CPI);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    Orig-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">setImm</a>(PCLabelId);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a6433e8a167a4ca274cedaf951140ae78"> 1320</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6433e8a167a4ca274cedaf951140ae78">ARMBaseInstrInfo::produceSameValue</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI0,</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI1,</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordtype">int</span> Opcode = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordflow">if</span> (Opcode == ARM::t2LDRpci ||</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      Opcode == ARM::t2LDRpci_pic ||</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      Opcode == ARM::tLDRpci ||</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      Opcode == ARM::tLDRpci_pic ||</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      Opcode == ARM::MOV_ga_dyn ||</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      Opcode == ARM::MOV_ga_pcrel ||</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      Opcode == ARM::MOV_ga_pcrel_ldr ||</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      Opcode == ARM::t2MOV_ga_dyn ||</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      Opcode == ARM::t2MOV_ga_pcrel) {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">if</span> (MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() != Opcode)</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">if</span> (MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() != MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>())</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO0 = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO1 = MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1);</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> (MO0.<a class="code" href="classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">getOffset</a>() != MO1.<a class="code" href="classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">getOffset</a>())</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">if</span> (Opcode == ARM::MOV_ga_dyn ||</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        Opcode == ARM::MOV_ga_pcrel ||</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        Opcode == ARM::MOV_ga_pcrel_ldr ||</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        Opcode == ARM::t2MOV_ga_dyn ||</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        Opcode == ARM::t2MOV_ga_pcrel)</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="comment">// Ignore the PC labels.</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="keywordflow">return</span> MO0.<a class="code" href="classllvm_1_1MachineOperand.html#a0c3a2a5a49795f8750ebd02dc0e6e11e">getGlobal</a>() == MO1.<a class="code" href="classllvm_1_1MachineOperand.html#a0c3a2a5a49795f8750ebd02dc0e6e11e">getGlobal</a>();</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineConstantPool.html">MachineConstantPool</a> *MCP = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">getConstantPool</a>();</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordtype">int</span> CPI0 = MO0.<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordtype">int</span> CPI1 = MO1.<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineConstantPoolEntry.html">MachineConstantPoolEntry</a> &amp;MCPE0 = MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#ae31743f7e04cc8706b3b29d087b6f1b2">getConstants</a>()[CPI0];</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineConstantPoolEntry.html">MachineConstantPoolEntry</a> &amp;MCPE1 = MCP-&gt;<a class="code" href="classllvm_1_1MachineConstantPool.html#ae31743f7e04cc8706b3b29d087b6f1b2">getConstants</a>()[CPI1];</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordtype">bool</span> isARMCP0 = MCPE0.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#a827e5ecd2c9756707a9702e475aa4fd4">isMachineConstantPoolEntry</a>();</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordtype">bool</span> isARMCP1 = MCPE1.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#a827e5ecd2c9756707a9702e475aa4fd4">isMachineConstantPoolEntry</a>();</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span> (isARMCP0 &amp;&amp; isARMCP1) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a> *ACPV0 =</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a>*<span class="keyword">&gt;</span>(MCPE0.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#ac005279a712a5b0912499dcb7d88b398">Val</a>.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#a5c4adcee15baa3809b6c4393307b10d7">MachineCPVal</a>);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a> *ACPV1 =</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1ARMConstantPoolValue.html">ARMConstantPoolValue</a>*<span class="keyword">&gt;</span>(MCPE1.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#ac005279a712a5b0912499dcb7d88b398">Val</a>.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#a5c4adcee15baa3809b6c4393307b10d7">MachineCPVal</a>);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">return</span> ACPV0-&gt;<a class="code" href="classllvm_1_1ARMConstantPoolValue.html#ae204089fb50ef2edd07a7d18c5c4b79f">hasSameValue</a>(ACPV1);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isARMCP0 &amp;&amp; !isARMCP1) {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">return</span> MCPE0.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#ac005279a712a5b0912499dcb7d88b398">Val</a>.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#acaa82b4be1aefa234c71323630c2e63f">ConstVal</a> == MCPE1.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#ac005279a712a5b0912499dcb7d88b398">Val</a>.<a class="code" href="classllvm_1_1MachineConstantPoolEntry.html#acaa82b4be1aefa234c71323630c2e63f">ConstVal</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Opcode == ARM::PICLDR) {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">if</span> (MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() != Opcode)</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() != MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>())</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordtype">unsigned</span> Addr0 = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordtype">unsigned</span> Addr1 = MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (Addr0 != Addr1) {</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">if</span> (!MRI ||</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;          !<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Addr0) ||</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          !<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Addr1))</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="comment">// This assumes SSA form.</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Def0 = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(Addr0);</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Def1 = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(Addr1);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// Check if the loaded value, e.g. a constantpool of a global address, are</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="comment">// the same.</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6433e8a167a4ca274cedaf951140ae78">produceSameValue</a>(Def0, Def1, MRI))</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3, e = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">// %vreg12&lt;def&gt; = PICLDR %vreg11, 0, pred:14, pred:%noreg</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO0 = MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO1 = MI1-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordflow">if</span> (!MO0.<a class="code" href="classllvm_1_1MachineOperand.html#a496e043d9f9dd3dd680919665aa7fca1">isIdenticalTo</a>(MO1))</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">return</span> MI0-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1619b14b677da32744aa52924661d290">isIdenticalTo</a>(MI1, <a class="code" href="classllvm_1_1MachineInstr.html#ab7650f958c093f7c5faf8c69dbc8c462a5f3288f908142ddad3dd5d8a95cfa364">MachineInstr::IgnoreVRegDefs</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">/// areLoadsFromSameBasePtr - This is used by the pre-regalloc scheduler to</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">/// determine if two loads are loading from the same base address. It should</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">/// only return true if the base pointers are the same and the only differences</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">/// between the two addresses is the offset. It also returns the offsets by</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">/// reference.</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">/// FIXME: remove this in favor of the MachineInstr interface once pre-RA-sched</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">/// is permanently disabled.</span></div><div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ab6fab2ceaf501129dce847deaa388d6b"> 1413</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ab6fab2ceaf501129dce847deaa388d6b">ARMBaseInstrInfo::areLoadsFromSameBasePtr</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load2,</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                               int64_t &amp;Offset1,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                               int64_t &amp;Offset2)<span class="keyword"> const </span>{</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">// Don&#39;t worry about Thumb: just ARM and Thumb2.</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a342d1000000ffc6b02074f32b9a02166">isThumb1Only</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">if</span> (!Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>() || !Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>())</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">switch</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>()) {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">case</span> ARM::LDRi12:</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="keywordflow">case</span> ARM::LDRBi12:</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">case</span> ARM::LDRD:</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keywordflow">case</span> ARM::LDRH:</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSB:</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSH:</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRD:</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRS:</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi8:</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi8:</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRDi8:</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8:</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi12:</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12:</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">switch</span> (Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>()) {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="keywordflow">case</span> ARM::LDRi12:</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keywordflow">case</span> ARM::LDRBi12:</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">case</span> ARM::LDRD:</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">case</span> ARM::LDRH:</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSB:</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSH:</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRD:</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRS:</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi8:</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi8:</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8:</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRi12:</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRBi12:</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12:</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  }</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// Check if base addresses and chain operands match.</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">if</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(0) ||</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(4))</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">// Index should be Reg0.</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">if</span> (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3) != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(3))</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// Determine the offsets.</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">if</span> (isa&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1)) &amp;&amp;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      isa&lt;ConstantSDNode&gt;(Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))) {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    Offset1 = cast&lt;ConstantSDNode&gt;(Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getSExtValue();</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    Offset2 = cast&lt;ConstantSDNode&gt;(Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(1))-&gt;getSExtValue();</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">/// shouldScheduleLoadsNear - This is a used by the pre-regalloc scheduler to</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">/// determine (in conjunction with areLoadsFromSameBasePtr) if two loads should</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">/// be scheduled togther. On some targets if two loads are loading from</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">/// addresses in the same cache line, it&#39;s better if they are scheduled</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">/// together. This function takes two integers that represent the load offsets</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">/// from the common base address. It returns true if it decides it&#39;s desirable</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">/// to schedule the two loads together. &quot;NumLoads&quot; is the number of loads that</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">/// have already been scheduled after Load1.</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">/// FIXME: remove this in favor of the MachineInstr interface once pre-RA-sched</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">/// is permanently disabled.</span></div><div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a72e850cfadc5522018e5cc1f27429232"> 1494</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a72e850cfadc5522018e5cc1f27429232">ARMBaseInstrInfo::shouldScheduleLoadsNear</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load1, <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Load2,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                                               int64_t Offset1, int64_t Offset2,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                               <span class="keywordtype">unsigned</span> NumLoads)<span class="keyword"> const </span>{</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">// Don&#39;t worry about Thumb: just ARM and Thumb2.</span></div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a342d1000000ffc6b02074f32b9a02166">isThumb1Only</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  assert(Offset2 &gt; Offset1);</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordflow">if</span> ((Offset2 - Offset1) / 8 &gt; 64)</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// Check if the machine opcodes are different. If they are different</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// then we consider them to not be of the same base address,</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// EXCEPT in the case of Thumb2 byte loads where one is LDRBi8 and the other LDRBi12.</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// In this case, they are considered to be the same because they are different</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// encoding forms of the same basic instruction.</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> ((Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>() != Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>()) &amp;&amp;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      !((Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>() == ARM::t2LDRBi8 &amp;&amp;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;         Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>() == ARM::t2LDRBi12) ||</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        (Load1-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>() == ARM::t2LDRBi12 &amp;&amp;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;         Load2-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>() == ARM::t2LDRBi8)))</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// FIXME: overly conservative?</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// Four loads in a row should be sufficient.</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">if</span> (NumLoads &gt;= 3)</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;}</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a72a76ed5a14368ed2d1811e110c0d38f"> 1524</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a72a76ed5a14368ed2d1811e110c0d38f">ARMBaseInstrInfo::isSchedulingBoundary</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB,</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// Debug info is never a scheduling boundary. It&#39;s necessary to be explicit</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="comment">// due to the special treatment of IT instructions below, otherwise a</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// dbg_value followed by an IT will result in the IT instruction being</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// considered a scheduling hazard, which is wrong. It should be the actual</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// instruction preceding the dbg_value instruction(s), just like it is</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// when debug info is not present.</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">isDebugValue</a>())</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// Terminators and labels can&#39;t be scheduled around.</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">isTerminator</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a509d0dea879fe37ee2c0f4154e200936">isLabel</a>())</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// Treat the start of the IT block as a scheduling boundary, but schedule</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="comment">// t2IT along with all instructions following it.</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// FIXME: This is a big hammer. But the alternative is to add all potential</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="comment">// true and anti dependencies to IT block instructions as implicit operands</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="comment">// to the t2IT instruction. The added compile time and complexity does not</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="comment">// seem worth it.</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">MachineBasicBlock::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="comment">// Make sure to skip any dbg_value instructions</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">while</span> (++I != MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; I-&gt;isDebugValue())</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    ;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">if</span> (I != MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; I-&gt;getOpcode() == ARM::t2IT)</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">// Don&#39;t attempt to schedule around any instruction that defines</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// a stack-oriented pointer, as it&#39;s unlikely to be profitable. This</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="comment">// saves compile time, because it doesn&#39;t require every single</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="comment">// stack slot reference to depend on the instruction that does the</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="comment">// modification.</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// Calls don&#39;t actually change the stack pointer, even if they have imp-defs.</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="comment">// No ARM calling conventions change the stack pointer. (X86 calling</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="comment">// conventions sometimes do).</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">isCall</a>() &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">definesRegister</a>(ARM::SP))</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d">ARMBaseInstrInfo::</a></div><div class="line"><a name="l01568"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d"> 1568</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d">isProfitableToIfCvt</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                    <span class="keywordtype">unsigned</span> NumCycles, <span class="keywordtype">unsigned</span> ExtraPredCycles,</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> &amp;Probability)<span class="keyword"> const </span>{</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">if</span> (!NumCycles)</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// Attempt to estimate the relative costs of predication versus branching.</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordtype">unsigned</span> UnpredCost = Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a0b51ce0ba1d578a608aefbe5cacdba58">getNumerator</a>() * NumCycles;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  UnpredCost /= Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a204d45ec8933f9df9b28f98c3990ddae">getDenominator</a>();</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  UnpredCost += 1; <span class="comment">// The branch itself</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  UnpredCost += Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#aae5edfed887fcfc8afba7a476cf430fe">getMispredictionPenalty</a>() / 10;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">return</span> (NumCycles + ExtraPredCycles) &lt;= UnpredCost;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d">ARMBaseInstrInfo::</a></div><div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a14d26364ea542332d6c4484d0bf7d909"> 1584</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d">isProfitableToIfCvt</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;TMBB,</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    <span class="keywordtype">unsigned</span> TCycles, <span class="keywordtype">unsigned</span> TExtra,</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;FMBB,</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                    <span class="keywordtype">unsigned</span> FCycles, <span class="keywordtype">unsigned</span> FExtra,</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a> &amp;Probability)<span class="keyword"> const </span>{</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordflow">if</span> (!TCycles || !FCycles)</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="comment">// Attempt to estimate the relative costs of predication versus branching.</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordtype">unsigned</span> TUnpredCost = Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a0b51ce0ba1d578a608aefbe5cacdba58">getNumerator</a>() * TCycles;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  TUnpredCost /= Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a204d45ec8933f9df9b28f98c3990ddae">getDenominator</a>();</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  uint32_t Comp = Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a204d45ec8933f9df9b28f98c3990ddae">getDenominator</a>() - Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a0b51ce0ba1d578a608aefbe5cacdba58">getNumerator</a>();</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordtype">unsigned</span> FUnpredCost = Comp * FCycles;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  FUnpredCost /= Probability.<a class="code" href="classllvm_1_1BranchProbability.html#a204d45ec8933f9df9b28f98c3990ddae">getDenominator</a>();</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordtype">unsigned</span> UnpredCost = TUnpredCost + FUnpredCost;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  UnpredCost += 1; <span class="comment">// The branch itself</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  UnpredCost += Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#aae5edfed887fcfc8afba7a476cf430fe">getMispredictionPenalty</a>() / 10;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <span class="keywordflow">return</span> (TCycles + FCycles + TExtra + FExtra) &lt;= UnpredCost;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;}</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l01608"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a6f2ca6a38cd6b1657625eb46a0e2e54b"> 1608</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a6f2ca6a38cd6b1657625eb46a0e2e54b">ARMBaseInstrInfo::isProfitableToUnpredicate</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;TMBB,</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                            <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;FMBB)<span class="keyword"> const </span>{</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="comment">// Reduce false anti-dependencies to let Swift&#39;s out-of-order execution</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="comment">// engine do its thing.</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a062502d6ef2e7be826aee6355a80d02a">isSwift</a>();</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">/// getInstrPredicate - If instruction is predicated, returns its predicate</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">/// condition, otherwise returns AL. It also returns the condition code</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">/// register by reference.</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment"></span><a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a></div><div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e"> 1619</a></span>&#160;<a class="code" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">llvm::getInstrPredicate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> &amp;PredReg) {</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keywordtype">int</span> PIdx = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">findFirstPredOperandIdx</a>();</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (PIdx == -1) {</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    PredReg = 0;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  PredReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(PIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;}</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"><a class="line" href="namespacellvm.html#aea68e726ee579fec1a9a09e6c7c2509e"> 1631</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacellvm.html#aea68e726ee579fec1a9a09e6c7c2509e">llvm::getMatchingCondBranchOpcode</a>(<span class="keywordtype">int</span> Opc) {</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (Opc == <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">ARM::B</a>)</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">return</span> ARM::Bcc;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span> (Opc == ARM::tB)</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">return</span> ARM::tBcc;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="keywordflow">if</span> (Opc == ARM::t2B)</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">return</span> ARM::t2Bcc;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown unconditional branch opcode!&quot;</span>);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">/// commuteInstruction - Handle commutable instructions.</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *</div><div class="line"><a name="l01644"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a20040085a4f150b9352bc72cfcf91f0c"> 1644</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a20040085a4f150b9352bc72cfcf91f0c">ARMBaseInstrInfo::commuteInstruction</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">bool</span> NewMI)<span class="keyword"> const </span>{</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="keywordflow">case</span> ARM::MOVCCr:</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">case</span> ARM::t2MOVCCr: {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="comment">// MOVCC can be commuted by inverting the condition.</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordtype">unsigned</span> PredReg = 0;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = <a class="code" href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">getInstrPredicate</a>(MI, PredReg);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="comment">// MOVCC AL can&#39;t be inverted. Shouldn&#39;t happen.</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">if</span> (CC == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a> || PredReg != ARM::CPSR)</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    MI = <a class="code" href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">TargetInstrInfo::commuteInstruction</a>(MI, NewMI);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> (!MI)</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">// After swapping the MOVCC operands, also invert the condition.</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">findFirstPredOperandIdx</a>())</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      .setImm(<a class="code" href="namespacellvm_1_1ARMCC.html#a4bd63de978510703f28cd98ea7c0ffa5">ARMCC::getOppositeCondition</a>(CC));</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  }</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">TargetInstrInfo::commuteInstruction</a>(MI, NewMI);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment">/// Identify instructions that can be folded into a MOVCC instruction, and</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">/// return the defining instruction.</span></div><div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#afd2f252f9fc7d4ae9a5d7ec3da07a54b"> 1668</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="ARMBaseInstrInfo_8cpp.html#afd2f252f9fc7d4ae9a5d7ec3da07a54b">canFoldIntoMOVCC</a>(<span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Reg))</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8be4959abd44b6fbd158dba0d7c315bc">hasOneNonDBGUse</a>(Reg))</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">getVRegDef</a>(Reg);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="keywordflow">if</span> (!MI)</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="comment">// MI is folded into the MOVCC by predicating it.</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">isPredicable</a>())</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="comment">// Check if MI has any non-dead defs or physreg uses. This also detects</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="comment">// predicated instructions which will be reading CPSR.</span></div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="comment">// Reject frame index operands, PEI can&#39;t handle the predicated pseudos.</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#a2a6233524fe8cf33f83fe27d3673412c">isCPI</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#af19a512f40c1e9247796ad8cee70884b">isJTI</a>())</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>())</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// MI can&#39;t have any tied operands, that would conflict with predication.</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a308e2e7bf95854b0379b9f2e229978c2">isTied</a>())</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()))</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordtype">bool</span> DontMoveAcrossStores = <span class="keyword">true</span>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a55f1c19ebb9fce7a442816eeb154174f">isSafeToMove</a>(TII, <span class="comment">/* AliasAnalysis = */</span> 0, DontMoveAcrossStores))</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;}</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a1ed0325c38b8ee49c7632594cf63ebff"> 1704</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a1ed0325c38b8ee49c7632594cf63ebff">ARMBaseInstrInfo::analyzeSelect</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                                     <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineOperand&gt;</a> &amp;Cond,</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                                     <span class="keywordtype">unsigned</span> &amp;TrueOp, <span class="keywordtype">unsigned</span> &amp;FalseOp,</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                                     <span class="keywordtype">bool</span> &amp;Optimizable)<span class="keyword"> const </span>{</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  assert((MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::MOVCCr || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2MOVCCr) &amp;&amp;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;         <span class="stringliteral">&quot;Unknown select instruction&quot;</span>);</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="comment">// MOVCC operands:</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="comment">// 0: Def.</span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  <span class="comment">// 1: True use.</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="comment">// 2: False use.</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="comment">// 3: Condition code.</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="comment">// 4: CPSR use.</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  TrueOp = 1;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  FalseOp = 2;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3));</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  Cond.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4));</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// We can always fold a def.</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  Optimizable = <span class="keyword">true</span>;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;}</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ad7fb4301e268000e3204e2364b036ba0"> 1725</a></span>&#160;<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ad7fb4301e268000e3204e2364b036ba0">ARMBaseInstrInfo::optimizeSelect</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                                               <span class="keywordtype">bool</span> PreferFalse)<span class="keyword"> const </span>{</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  assert((MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::MOVCCr || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2MOVCCr) &amp;&amp;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;         <span class="stringliteral">&quot;Unknown select instruction&quot;</span>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI = <a class="code" href="ARMBaseInstrInfo_8cpp.html#afd2f252f9fc7d4ae9a5d7ec3da07a54b">canFoldIntoMOVCC</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordtype">bool</span> Invert = !DefMI;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="keywordflow">if</span> (!DefMI)</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    DefMI = <a class="code" href="ARMBaseInstrInfo_8cpp.html#afd2f252f9fc7d4ae9a5d7ec3da07a54b">canFoldIntoMOVCC</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  <span class="keywordflow">if</span> (!DefMI)</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">// Find new register class to use.</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> FalseReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(Invert ? 2 : 1);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="keywordtype">unsigned</span>       DestReg  = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *PreviousClass = MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(FalseReg.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>());</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordflow">if</span> (!MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(DestReg, PreviousClass))</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="comment">// Create a new predicated version of DefMI.</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <span class="comment">// Rfalse is the first use.</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> NewMI = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                                      DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>(), DestReg);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="comment">// Copy all the DefMI operands, excluding its (null) predicate.</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefDesc = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = DefDesc.getNumOperands();</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e &amp;&amp; !DefDesc.OpInfo[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].isPredicate(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    NewMI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">CondCode</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordflow">if</span> (Invert)</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    NewMI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#a4bd63de978510703f28cd98ea7c0ffa5">ARMCC::getOppositeCondition</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>(CondCode)));</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    NewMI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(CondCode);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  NewMI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4));</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// DefMI is not the -S version that sets CPSR, so add an optional %noreg.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">if</span> (NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a9c33a3e76f85a3afe24a1f1dd8e21d13">hasOptionalDef</a>())</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(NewMI);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="comment">// The output register value when the predicate is false is an implicit</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">// register operand tied to the first def.</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="comment">// The tie makes the register allocator ensure the FalseReg is allocated the</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// same register as operand 0.</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  FalseReg.<a class="code" href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">setImplicit</a>();</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  NewMI.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(FalseReg);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">tieOperands</a>(0, NewMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() - 1);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="comment">// The caller will erase MI, but not DefMI.</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="keywordflow">return</span> NewMI;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;}</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">/// Map pseudo instructions that imply an &#39;S&#39; bit onto real opcodes. Whether the</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">/// instruction is encoded with an &#39;S&#39; bit is determined by the optional CPSR</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">/// def operand.</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">/// This will go away once we can teach tblgen how to set the optional CPSR def</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="comment">/// operand itself.</span></div><div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="structAddSubFlagsOpcodePair.html"> 1785</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structAddSubFlagsOpcodePair.html">AddSubFlagsOpcodePair</a> {</div><div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="structAddSubFlagsOpcodePair.html#a65b67428208731be798087be0b87598a"> 1786</a></span>&#160;  uint16_t <a class="code" href="structAddSubFlagsOpcodePair.html#a65b67428208731be798087be0b87598a">PseudoOpc</a>;</div><div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="structAddSubFlagsOpcodePair.html#a5f2e7eb5023967d238a44416d8079191"> 1787</a></span>&#160;  uint16_t <a class="code" href="structAddSubFlagsOpcodePair.html#a5f2e7eb5023967d238a44416d8079191">MachineOpc</a>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;};</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a6282aa121bbcfb3d8a25be63c0b3dc33"> 1790</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structAddSubFlagsOpcodePair.html">AddSubFlagsOpcodePair</a> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a6282aa121bbcfb3d8a25be63c0b3dc33">AddSubFlagsOpcodeMap</a>[] = {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  {ARM::ADDSri, ARM::ADDri},</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  {ARM::ADDSrr, ARM::ADDrr},</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  {ARM::ADDSrsi, ARM::ADDrsi},</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  {ARM::ADDSrsr, ARM::ADDrsr},</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  {ARM::SUBSri, ARM::SUBri},</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  {ARM::SUBSrr, ARM::SUBrr},</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  {ARM::SUBSrsi, ARM::SUBrsi},</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  {ARM::SUBSrsr, ARM::SUBrsr},</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  {ARM::RSBSri, ARM::RSBri},</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  {ARM::RSBSrsi, ARM::RSBrsi},</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  {ARM::RSBSrsr, ARM::RSBrsr},</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  {ARM::t2ADDSri, ARM::t2ADDri},</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  {ARM::t2ADDSrr, ARM::t2ADDrr},</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  {ARM::t2ADDSrs, ARM::t2ADDrs},</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  {ARM::t2SUBSri, ARM::t2SUBri},</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  {ARM::t2SUBSrr, ARM::t2SUBrr},</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  {ARM::t2SUBSrs, ARM::t2SUBrs},</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  {ARM::t2RSBSri, ARM::t2RSBri},</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  {ARM::t2RSBSrs, ARM::t2RSBrs},</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;};</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div><div class="line"><a name="l01817"></a><span class="lineno"><a class="line" href="namespacellvm.html#af38d3efc162ab4c4fc14f9220c142b91"> 1817</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm.html#af38d3efc162ab4c4fc14f9220c142b91">llvm::convertAddSubFlagsOpcode</a>(<span class="keywordtype">unsigned</span> OldOpc) {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(AddSubFlagsOpcodeMap); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (OldOpc == AddSubFlagsOpcodeMap[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].PseudoOpc)</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      <span class="keywordflow">return</span> AddSubFlagsOpcodeMap[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structAddSubFlagsOpcodePair.html#a5f2e7eb5023967d238a44416d8079191">MachineOpc</a>;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;}</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"><a class="line" href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642"> 1824</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642">llvm::emitARMRegPlusImmediate</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB,</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                               <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;MBBI, <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl,</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                               <span class="keywordtype">unsigned</span> DestReg, <span class="keywordtype">unsigned</span> BaseReg, <span class="keywordtype">int</span> NumBytes,</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                               <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> Pred, <span class="keywordtype">unsigned</span> PredReg,</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>, <span class="keywordtype">unsigned</span> MIFlags) {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordflow">if</span> (NumBytes == 0 &amp;&amp; DestReg != BaseReg) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(ARM::MOVr), DestReg)</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      .addReg(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0)</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  }</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="keywordtype">bool</span> isSub = NumBytes &lt; 0;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="keywordflow">if</span> (isSub) NumBytes = -NumBytes;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordflow">while</span> (NumBytes) {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordtype">unsigned</span> RotAmt = <a class="code" href="namespacellvm_1_1ARM__AM.html#ab08fcb6b44de3c3a6aa96988363d97e0">ARM_AM::getSOImmValRotate</a>(NumBytes);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordtype">unsigned</span> ThisVal = NumBytes &amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">ARM_AM::rotr32</a>(0xFF, RotAmt);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    assert(ThisVal &amp;&amp; <span class="stringliteral">&quot;Didn&#39;t extract field correctly&quot;</span>);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="comment">// We will handle these bits from offset, clear them.</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    NumBytes &amp;= ~ThisVal;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    assert(<a class="code" href="namespacellvm_1_1ARM__AM.html#ab18b193058b463093ad2a5701710bece">ARM_AM::getSOImmVal</a>(ThisVal) != -1 &amp;&amp; <span class="stringliteral">&quot;Bit extraction didn&#39;t work?&quot;</span>);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">// Build the new ADD / SUB.</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordtype">unsigned</span> Opc = isSub ? ARM::SUBri : ARM::ADDri;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, MBBI, dl, TII.get(Opc), DestReg)</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      .addReg(BaseReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(ThisVal)</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>((<span class="keywordtype">unsigned</span>)Pred).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PredReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(0)</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">setMIFlags</a>(MIFlags);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    BaseReg = DestReg;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;}</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e"> 1860</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e">llvm::tryFoldSPUpdateIntoPushPop</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                                      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                                      <span class="keywordtype">unsigned</span> NumBytes) {</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// This optimisation potentially adds lots of load and store</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// micro-operations, it&#39;s only really a great benefit to code-size.</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf">Attribute::MinSize</a>))</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="comment">// If only one register is pushed/popped, LLVM can use an LDR/STR</span></div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// instead. We can&#39;t modify those so make sure we&#39;re dealing with an</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="comment">// instruction we understand.</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordtype">bool</span> IsPop = <a class="code" href="namespacellvm.html#a84c8853f87c6f19f9e75130f6b05d763">isPopOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordtype">bool</span> IsPush = <a class="code" href="namespacellvm.html#a139d94c9f05d52dab00ed111ce058523">isPushOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>());</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">if</span> (!IsPush &amp;&amp; !IsPop)</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keywordtype">bool</span> IsVFPPushPop = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VSTMDDB_UPD ||</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VLDMDIA_UPD;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordtype">bool</span> IsT1PushPop = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::tPUSH ||</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                     MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::tPOP ||</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                     MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::tPOP_RET;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  assert((IsT1PushPop || (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::SP &amp;&amp;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                          MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::SP)) &amp;&amp;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;         <span class="stringliteral">&quot;trying to fold sp update into non-sp-updating push/pop&quot;</span>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="comment">// The VFP push &amp; pop act on D-registers, so we can only fold an adjustment</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="comment">// by a multiple of 8 bytes in correctly. Similarly rN is 4-bytes. Don&#39;t try</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="comment">// if this is violated.</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> (NumBytes % (IsVFPPushPop ? 8 : 4) != 0)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="comment">// ARM and Thumb2 push/pop insts have explicit &quot;sp, sp&quot; operands (+</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="comment">// pred) so the list starts at 4. Thumb1 starts after the predicate.</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;  <span class="keywordtype">int</span> RegListIdx = IsT1PushPop ? 2 : 4;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="comment">// Calculate the space we&#39;ll need in terms of registers.</span></div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  <span class="keywordtype">unsigned</span> FirstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(RegListIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="keywordtype">unsigned</span> RD0Reg, RegsNeeded;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">if</span> (IsVFPPushPop) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    RD0Reg = ARM::D0;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    RegsNeeded = NumBytes / 8;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    RD0Reg = ARM::R0;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    RegsNeeded = NumBytes / 4;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="comment">// We&#39;re going to have to strip all list operands off before</span></div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// re-adding them since the order matters, so save the existing ones</span></div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">// for later.</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;MachineOperand, 4&gt;</a> RegList;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= RegListIdx; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    RegList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a2356140507d825b629c3866b8c75b3ab">getTargetRegisterInfo</a>();</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacellvm.html#af1326f50ef96dc5653d5cadd2f9cbbf5">MCPhysReg</a> *CSRegs = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae53a385b86237b961ccc18a8701ae588">getCalleeSavedRegs</a>(&amp;MF);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="comment">// Now try to find enough space in the reglist to allocate NumBytes.</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> CurReg = FirstReg - 1; CurReg &gt;= RD0Reg &amp;&amp; RegsNeeded;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;       --CurReg) {</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">if</span> (!IsPop) {</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="comment">// Pushing any register is completely harmless, mark the</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;      <span class="comment">// register involved as undef since we don&#39;t care about it in</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <span class="comment">// the slightest.</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      RegList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(CurReg, <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                                                  <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>));</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      --RegsNeeded;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="comment">// However, we can only pop an extra register if it&#39;s not live. For</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">// registers live within the function we might clobber a return value</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="comment">// register; the other way a register can be live here is if it&#39;s</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="comment">// callee-saved.</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ab75a6192f520e98f9328bd40c28f6a05">isCalleeSavedRegister</a>(CurReg, CSRegs) ||</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6f9ffe437ab2e9369084adfe6e2a8652">computeRegisterLiveness</a>(TRI, CurReg, MI) !=</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142a092531ae27becd74d96d4a6fae76f863">MachineBasicBlock::LQR_Dead</a>) {</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="comment">// VFP pops don&#39;t allow holes in the register list, so any skip is fatal</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      <span class="comment">// for our transformation. GPR pops do, so we should just keep looking.</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordflow">if</span> (IsVFPPushPop)</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// Mark the unimportant registers as &lt;def,dead&gt; in the POP.</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    RegList.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">MachineOperand::CreateReg</a>(CurReg, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                                                <span class="keyword">true</span>));</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    --RegsNeeded;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  }</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="keywordflow">if</span> (RegsNeeded &gt; 0)</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="comment">// Finally we know we can profitably perform the optimisation so go</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="comment">// ahead: strip all existing registers off and add them back again</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="comment">// in the right order.</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= RegListIdx; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="comment">// Add the complete list back in.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(MF, &amp;*MI);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = RegList.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">addOperand</a>(RegList[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;}</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div><div class="line"><a name="l01969"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa74e4894fee993892fcd8ce9b66cc6bd"> 1969</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa74e4894fee993892fcd8ce9b66cc6bd">llvm::rewriteARMFrameIndex</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;MI, <span class="keywordtype">unsigned</span> FrameRegIdx,</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                                <span class="keywordtype">unsigned</span> FrameReg, <span class="keywordtype">int</span> &amp;Offset,</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html">ARMBaseInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4">AddrMode</a> = (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">ARMII::AddrModeMask</a>);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keywordtype">bool</span> isSub = <span class="keyword">false</span>;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="comment">// Memory operands in inline assembly always use AddrMode2.</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keywordflow">if</span> (Opcode == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">ARM::INLINEASM</a>)</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    AddrMode = <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a7d9742a01ea175053d76a714474d88a6">ARMII::AddrMode2</a>;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (Opcode == ARM::ADDri) {</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">if</span> (Offset == 0) {</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;      <span class="comment">// Turn it into a move.</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(ARM::MOVr));</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(FrameRegIdx+1);</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      Offset = 0;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      Offset = -Offset;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.get(ARM::SUBri));</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">// Common case: small offset, fits into instruction.</span></div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#ab18b193058b463093ad2a5701710bece">ARM_AM::getSOImmVal</a>(Offset) != -1) {</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="comment">// Replace the FrameIndex with sp / fp</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(Offset);</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      Offset = 0;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    }</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="comment">// Otherwise, pull as much of the immedidate into this ADDri/SUBri</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="comment">// as possible.</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordtype">unsigned</span> RotAmt = <a class="code" href="namespacellvm_1_1ARM__AM.html#ab08fcb6b44de3c3a6aa96988363d97e0">ARM_AM::getSOImmValRotate</a>(Offset);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordtype">unsigned</span> ThisImmVal = Offset &amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">ARM_AM::rotr32</a>(0xFF, RotAmt);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="comment">// We will handle these bits from offset, clear them.</span></div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    Offset &amp;= ~ThisImmVal;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="comment">// Get the properly encoded SOImmVal field.</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    assert(<a class="code" href="namespacellvm_1_1ARM__AM.html#ab18b193058b463093ad2a5701710bece">ARM_AM::getSOImmVal</a>(ThisImmVal) != -1 &amp;&amp;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;           <span class="stringliteral">&quot;Bit extraction didn&#39;t work?&quot;</span>);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx+1).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ThisImmVal);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordtype">unsigned</span> ImmIdx = 0;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordtype">int</span> InstrOffs = 0;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordtype">unsigned</span> NumBits = 0;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordtype">unsigned</span> Scale = 1;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">switch</span> (AddrMode) {</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a44874e651b75b372574cc861fee08896">ARMII::AddrMode_i12</a>: {</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      ImmIdx = FrameRegIdx + 1;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      InstrOffs = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      NumBits = 12;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a7d9742a01ea175053d76a714474d88a6">ARMII::AddrMode2</a>: {</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      ImmIdx = FrameRegIdx+2;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      InstrOffs = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>)</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        InstrOffs *= -1;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      NumBits = 12;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991">ARMII::AddrMode3</a>: {</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      ImmIdx = FrameRegIdx+2;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      InstrOffs = <a class="code" href="namespacellvm_1_1ARM__AM.html#ae82f861eface5f0da4e6a418b09e03bd">ARM_AM::getAM3Offset</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>)</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        InstrOffs *= -1;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      NumBits = 8;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">ARMII::AddrMode4</a>:</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">ARMII::AddrMode6</a>:</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="comment">// Can&#39;t fold any offset even if it&#39;s zero.</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">ARMII::AddrMode5</a>: {</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      ImmIdx = FrameRegIdx+1;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      InstrOffs = <a class="code" href="namespacellvm_1_1ARM__AM.html#a4a7164e76d0d8d5ec38ed60bddd77589">ARM_AM::getAM5Offset</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>());</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#afdacdb74974f380adc2ba5381cce6026">ARM_AM::getAM5Op</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>)</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        InstrOffs *= -1;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      NumBits = 8;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      Scale = 4;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported addressing mode!&quot;</span>);</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    }</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    Offset += InstrOffs * Scale;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    assert((Offset &amp; (Scale-1)) == 0 &amp;&amp; <span class="stringliteral">&quot;Can&#39;t encode this offset!&quot;</span>);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">if</span> (Offset &lt; 0) {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      Offset = -Offset;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      isSub = <span class="keyword">true</span>;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    }</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="comment">// Attempt to fold address comp. if opcode has offset bits</span></div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordflow">if</span> (NumBits &gt; 0) {</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="comment">// Common case: small offset, fits into instruction.</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;ImmOp = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(ImmIdx);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <span class="keywordtype">int</span> ImmedOffset = Offset / Scale;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <span class="keywordtype">unsigned</span> Mask = (1 &lt;&lt; NumBits) - 1;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)Offset &lt;= Mask * Scale) {</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        <span class="comment">// Replace the FrameIndex with sp</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FrameRegIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(FrameReg, <span class="keyword">false</span>);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        <span class="comment">// FIXME: When addrmode2 goes away, this will simplify (like the</span></div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="comment">// T2 version), as the LDR.i12 versions don&#39;t need the encoding</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="comment">// tricks for the offset value.</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordflow">if</span> (isSub) {</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;          <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a44874e651b75b372574cc861fee08896">ARMII::AddrMode_i12</a>)</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            ImmedOffset = -ImmedOffset;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            ImmedOffset |= 1 &lt;&lt; NumBits;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        }</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        ImmOp.<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ImmedOffset);</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        Offset = 0;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <span class="comment">// Otherwise, it didn&#39;t fit. Pull in what we can to simplify the immed.</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      ImmedOffset = ImmedOffset &amp; Mask;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <span class="keywordflow">if</span> (isSub) {</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <span class="keywordflow">if</span> (AddrMode == <a class="code" href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a44874e651b75b372574cc861fee08896">ARMII::AddrMode_i12</a>)</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;          ImmedOffset = -ImmedOffset;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;          ImmedOffset |= 1 &lt;&lt; NumBits;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      ImmOp.<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(ImmedOffset);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      Offset &amp;= ~(Mask*Scale);</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    }</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  }</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  Offset = (isSub) ? -Offset : Offset;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">return</span> Offset == 0;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;}</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment">/// analyzeCompare - For a comparison instruction, return the source registers</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment">/// in SrcReg and SrcReg2 if having two register operands, and the value it</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment">/// compares against in CmpValue. Return true if the comparison instruction</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="comment">/// can be analyzed.</span></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a2b718d0753e956920f0759b03cec31ce">ARMBaseInstrInfo::</a></div><div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a2b718d0753e956920f0759b03cec31ce"> 2114</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a2b718d0753e956920f0759b03cec31ce">analyzeCompare</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> &amp;SrcReg, <span class="keywordtype">unsigned</span> &amp;SrcReg2,</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;               <span class="keywordtype">int</span> &amp;CmpMask, <span class="keywordtype">int</span> &amp;CmpValue)<span class="keyword"> const </span>{</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keywordflow">case</span> ARM::CMPri:</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">case</span> ARM::t2CMPri:</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    CmpValue = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">case</span> ARM::CMPrr:</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">case</span> ARM::t2CMPrr:</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    SrcReg2 = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    CmpMask = ~0;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <span class="keywordflow">case</span> ARM::TSTri:</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="keywordflow">case</span> ARM::t2TSTri:</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    SrcReg2 = 0;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    CmpMask = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    CmpValue = 0;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  }</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;}</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="comment">/// isSuitableForMask - Identify a suitable &#39;and&#39; instruction that</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="comment">/// operates on the given source register and applies the same mask</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="comment">/// as a &#39;tst&#39; instruction. Provide a limited look-through for copies.</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">/// When successful, MI will hold the found instruction.</span></div><div class="line"><a name="l02148"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596"> 2148</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596">isSuitableForMask</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&amp;MI, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                              <span class="keywordtype">int</span> CmpMask, <span class="keywordtype">bool</span> CommonUse) {</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">case</span> ARM::ANDri:</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">case</span> ARM::t2ANDri:</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      <span class="keywordflow">if</span> (CmpMask != MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>())</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="keywordflow">if</span> (SrcReg == MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(CommonUse ? 1 : 0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">ARM::COPY</a>: {</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="comment">// Walk down one instruction which is potentially an &#39;and&#39;.</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Copy = *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">AND</a>(</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(MI)));</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <span class="keywordflow">if</span> (AND == MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      MI = <a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">AND</a>;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596">isSuitableForMask</a>(MI, Copy.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(),</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                               CmpMask, <span class="keyword">true</span>);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  }</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;}</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">/// getSwappedCondition - assume the flags are set by MI(a,b), return</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment">/// the condition code if we modify the instructions such that flags are</span></div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">/// set by MI(b,a).</span></div><div class="line"><a name="l02176"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a78f76da5e042c72f0e78b114d0e365d2"> 2176</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a78f76da5e042c72f0e78b114d0e365d2">getSwappedCondition</a>(<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>) {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402">ARMCC::EQ</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402">ARMCC::EQ</a>;</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ae08639a6e0f682daf9d9b4809ee0cf7c">ARMCC::NE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ae08639a6e0f682daf9d9b4809ee0cf7c">ARMCC::NE</a>;</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a038249ad0a9ef6d79cc3506c96dd3c1f">ARMCC::HS</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5b518bf08cf352b115648f7719a7f610">ARMCC::LS</a>;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a85a7716b3a259c91702bce293fb923df">ARMCC::LO</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a7ed629585c923f434528020bd892bb97">ARMCC::HI</a>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a7ed629585c923f434528020bd892bb97">ARMCC::HI</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a85a7716b3a259c91702bce293fb923df">ARMCC::LO</a>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5b518bf08cf352b115648f7719a7f610">ARMCC::LS</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a038249ad0a9ef6d79cc3506c96dd3c1f">ARMCC::HS</a>;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">ARMCC::GE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371">ARMCC::LE</a>;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8">ARMCC::LT</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">ARMCC::GT</a>;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">ARMCC::GT</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8">ARMCC::LT</a>;</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371">ARMCC::LE</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">ARMCC::GE</a>;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  }</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;}</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="comment">/// isRedundantFlagInstr - check whether the first instruction, whose only</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="comment">/// purpose is to update flags, can be made redundant.</span></div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="comment">/// CMPrr can be made redundant by SUBrr if the operands are the same.</span></div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="comment">/// CMPri can be made redundant by SUBri if the operands are the same.</span></div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="comment">/// This function can be extended later on.</span></div><div class="line"><a name="l02197"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a3384fe4d7439c43ce831ee300a4d522b"> 2197</a></span>&#160;<span class="comment"></span><span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a3384fe4d7439c43ce831ee300a4d522b">isRedundantFlagInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CmpI, <span class="keywordtype">unsigned</span> SrcReg,</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                                        <span class="keywordtype">unsigned</span> SrcReg2, <span class="keywordtype">int</span> ImmValue,</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                                        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *OI) {</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="keywordflow">if</span> ((CmpI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::CMPrr ||</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;       CmpI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2CMPrr) &amp;&amp;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      (OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::SUBrr ||</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;       OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2SUBrr) &amp;&amp;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      ((OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg &amp;&amp;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2) ||</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;       (OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2 &amp;&amp;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg)))</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">if</span> ((CmpI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::CMPri ||</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;       CmpI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2CMPri) &amp;&amp;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      (OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::SUBri ||</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;       OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2SUBri) &amp;&amp;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg &amp;&amp;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      OI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == ImmValue)</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;}</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">/// optimizeCompareInstr - Convert the instruction supplying the argument to the</span></div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">/// comparison into one that sets the zero bit in the flags register;</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">/// Remove a redundant Compare instruction if an earlier instruction can set the</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">/// flags in the same way as Compare.</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">/// E.g. SUBrr(r1,r2) and CMPrr(r1,r2). We also handle the case where two</span></div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment">/// operands are swapped: SUBrr(r1,r2) and CMPrr(r2,r1), by updating the</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">/// condition code of instructions which use the flags.</span></div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adef1e2c652a11005d506082dea2f0723">ARMBaseInstrInfo::</a></div><div class="line"><a name="l02228"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#adef1e2c652a11005d506082dea2f0723"> 2228</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#adef1e2c652a11005d506082dea2f0723">optimizeCompareInstr</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CmpInstr, <span class="keywordtype">unsigned</span> SrcReg, <span class="keywordtype">unsigned</span> SrcReg2,</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                     <span class="keywordtype">int</span> CmpMask, <span class="keywordtype">int</span> CmpValue,</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="comment">// Get the unique definition of SrcReg.</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a3a8e37a5bdd95e6bc921cc0855a3dbf1">getUniqueVRegDef</a>(SrcReg);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keywordflow">if</span> (!MI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// Masked compares sometimes use the same register as the corresponding &#39;and&#39;.</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">if</span> (CmpMask != ~0) {</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596">isSuitableForMask</a>(MI, SrcReg, CmpMask, <span class="keyword">false</span>) || <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI)) {</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      MI = 0;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">MachineRegisterInfo::use_iterator</a> UI = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a2f9819f230628888e3e68de292ecd602">use_begin</a>(SrcReg),</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;           UE = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ac8347c6938efe4d9a4426b92ef57851e">use_end</a>(); UI != UE; ++UI) {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordflow">if</span> (UI-&gt;getParent() != CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *PotentialAND = &amp;*UI;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596">isSuitableForMask</a>(PotentialAND, SrcReg, CmpMask, <span class="keyword">true</span>) ||</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(PotentialAND))</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        MI = PotentialAND;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      }</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      <span class="keywordflow">if</span> (!MI) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    }</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  }</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="comment">// Get ready to iterate backward from CmpInstr.</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CmpInstr, E = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                              <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="comment">// Early exit if CmpInstr is at the beginning of the BB.</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <span class="keywordflow">if</span> (I == B) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="comment">// There are two possible candidates which can be changed to set CPSR:</span></div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="comment">// One is MI, the other is a SUB instruction.</span></div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="comment">// For CMPrr(r1,r2), we are looking for SUB(r1,r2) or SUB(r2,r1).</span></div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// For CMPri(r1, CmpValue), we are looking for SUBri(r1, CmpValue).</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Sub = NULL;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="keywordflow">if</span> (SrcReg2 != 0)</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="comment">// MI is not a candidate for CMPrr.</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    MI = NULL;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() != CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>() || CmpValue != 0) {</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="comment">// Conservatively refuse to convert an instruction which isn&#39;t in the same</span></div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="comment">// BB as the comparison.</span></div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="comment">// For CMPri, we need to check Sub, thus we can&#39;t return here.</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordflow">if</span> (CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::CMPri ||</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;       CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::t2CMPri)</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      MI = NULL;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  }</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="comment">// Check that CPSR isn&#39;t set between the comparison instruction and the one we</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="comment">// want to change. At the same time, search for Sub.</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = &amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>();</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordflow">for</span> (; I != E; --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordflow">if</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">modifiesRegister</a>(ARM::CPSR, TRI) ||</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(ARM::CPSR, TRI))</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      <span class="comment">// This instruction modifies or uses CPSR after the one we want to</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <span class="comment">// change. We can&#39;t do this transformation.</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="comment">// Check whether CmpInstr can be made redundant by the current instruction.</span></div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ARMBaseInstrInfo_8cpp.html#a3384fe4d7439c43ce831ee300a4d522b">isRedundantFlagInstr</a>(CmpInstr, SrcReg, SrcReg2, CmpValue, &amp;*I)) {</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      Sub = &amp;*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    }</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">if</span> (I == B)</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="comment">// The &#39;and&#39; is below the comparison instruction.</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  }</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// Return false if no candidates exist.</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="keywordflow">if</span> (!MI &amp;&amp; !Sub)</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="comment">// The single candidate is called MI.</span></div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <span class="keywordflow">if</span> (!MI) MI = Sub;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="comment">// We can&#39;t use a predicated instruction - it doesn&#39;t always write the flags.</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI))</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">case</span> ARM::RSBrr:</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <span class="keywordflow">case</span> ARM::RSBri:</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <span class="keywordflow">case</span> ARM::RSCrr:</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="keywordflow">case</span> ARM::RSCri:</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">case</span> ARM::ADDrr:</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">case</span> ARM::ADDri:</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">case</span> ARM::ADCrr:</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">case</span> ARM::ADCri:</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">case</span> ARM::SUBrr:</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="keywordflow">case</span> ARM::SUBri:</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordflow">case</span> ARM::SBCrr:</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="keywordflow">case</span> ARM::SBCri:</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">case</span> ARM::t2RSBri:</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">case</span> ARM::t2ADDrr:</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  <span class="keywordflow">case</span> ARM::t2ADDri:</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keywordflow">case</span> ARM::t2ADCrr:</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="keywordflow">case</span> ARM::t2ADCri:</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordflow">case</span> ARM::t2SUBrr:</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordflow">case</span> ARM::t2SUBri:</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">case</span> ARM::t2SBCrr:</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordflow">case</span> ARM::t2SBCri:</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">case</span> ARM::ANDrr:</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">case</span> ARM::ANDri:</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="keywordflow">case</span> ARM::t2ANDrr:</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="keywordflow">case</span> ARM::t2ANDri:</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">case</span> ARM::ORRrr:</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  <span class="keywordflow">case</span> ARM::ORRri:</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <span class="keywordflow">case</span> ARM::t2ORRrr:</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="keywordflow">case</span> ARM::t2ORRri:</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <span class="keywordflow">case</span> ARM::EORrr:</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">case</span> ARM::EORri:</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">case</span> ARM::t2EORrr:</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordflow">case</span> ARM::t2EORri: {</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="comment">// Scan forward for the use of CPSR</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="comment">// When checking against MI: if it&#39;s a conditional code requires</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <span class="comment">// checking of V bit, then this is not safe to do.</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="comment">// It is safe to remove CmpInstr if CPSR is redefined or killed.</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="comment">// If we are done with the basic block, we need to check whether CPSR is</span></div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="comment">// live-out.</span></div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;MachineOperand*, ARMCC::CondCodes&gt;</a>, 4&gt;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        OperandsToUpdate;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="keywordtype">bool</span> isSafe = <span class="keyword">false</span>;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    I = CmpInstr;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    E = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">while</span> (!isSafe &amp;&amp; ++I != E) {</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;Instr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> IO = 0, EO = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>();</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;           !isSafe &amp;&amp; IO != EO; ++IO) {</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(IO);</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">isRegMask</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">clobbersPhysReg</a>(ARM::CPSR)) {</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;          isSafe = <span class="keyword">true</span>;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        }</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != ARM::CPSR)</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) {</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;          isSafe = <span class="keyword">true</span>;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        }</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="comment">// Condition code is after the operand before CPSR except for VSELs.</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        <span class="keywordtype">bool</span> IsInstrVSel = <span class="keyword">true</span>;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <span class="keywordflow">switch</span> (Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;          IsInstrVSel = <span class="keyword">false</span>;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;          CC = (<a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a>)Instr.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(IO - 1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        <span class="keywordflow">case</span> ARM::VSELEQD:</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <span class="keywordflow">case</span> ARM::VSELEQS:</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;          CC = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402">ARMCC::EQ</a>;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <span class="keywordflow">case</span> ARM::VSELGTD:</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        <span class="keywordflow">case</span> ARM::VSELGTS:</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;          CC = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">ARMCC::GT</a>;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="keywordflow">case</span> ARM::VSELGED:</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="keywordflow">case</span> ARM::VSELGES:</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;          CC = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">ARMCC::GE</a>;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="keywordflow">case</span> ARM::VSELVSS:</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="keywordflow">case</span> ARM::VSELVSD:</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;          CC = <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6abe109952a13e776b7b978e02e4f33427">ARMCC::VS</a>;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        }</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        <span class="keywordflow">if</span> (Sub) {</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;          <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">ARMCC::CondCodes</a> NewCC = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a78f76da5e042c72f0e78b114d0e365d2">getSwappedCondition</a>(CC);</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;          <span class="keywordflow">if</span> (NewCC == <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">ARMCC::AL</a>)</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;          <span class="comment">// If we have SUB(r1, r2) and CMP(r2, r1), the condition code based</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;          <span class="comment">// on CMP needs to be updated to be based on SUB.</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;          <span class="comment">// Push the condition code operands to OperandsToUpdate.</span></div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;          <span class="comment">// If it is safe to remove CmpInstr, the condition code of these</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;          <span class="comment">// operands will be modified.</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;          <span class="keywordflow">if</span> (SrcReg2 != 0 &amp;&amp; Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg2 &amp;&amp;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;              Sub-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == SrcReg) {</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            <span class="comment">// VSel doesn&#39;t support condition code update.</span></div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            <span class="keywordflow">if</span> (IsInstrVSel)</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;            OperandsToUpdate.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                std::make_pair(&amp;((*I).getOperand(IO - 1)), NewCC));</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;          }</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;          <span class="keywordflow">switch</span> (CC) {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;          <span class="keywordflow">default</span>:</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            <span class="comment">// CPSR can be used multiple times, we should continue.</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6abe109952a13e776b7b978e02e4f33427">ARMCC::VS</a>:</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ad2c4e3875c38c36df4848049d50cc28d">ARMCC::VC</a>:</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">ARMCC::GE</a>:</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8">ARMCC::LT</a>:</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">ARMCC::GT</a>:</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371">ARMCC::LE</a>:</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;          }</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      }</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    }</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="comment">// If CPSR is not killed nor re-defined, we should check whether it is</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="comment">// live-out. If it is live-out, do not optimize.</span></div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordflow">if</span> (!isSafe) {</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB = CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">MachineBasicBlock::succ_iterator</a> SI = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(),</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;               SE = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); SI != SE; ++SI)</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="keywordflow">if</span> ((*SI)-&gt;isLiveIn(ARM::CPSR))</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    }</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="comment">// Toggle the optional operand to CPSR.</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(5).<a class="code" href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">setReg</a>(ARM::CPSR);</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(5).<a class="code" href="classllvm_1_1MachineOperand.html#aed8d139ece631812f972a8cc074adc55">setIsDef</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    assert(!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI) &amp;&amp; <span class="stringliteral">&quot;Can&#39;t use flags from predicated instruction&quot;</span>);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    CmpInstr-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <span class="comment">// Modify the condition code of operands in OperandsToUpdate.</span></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <span class="comment">// Since we have SUB(r1, r2) and CMP(r2, r1), the condition code needs to</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="comment">// be changed from r2 &gt; r1 to r1 &lt; r2, from r2 &lt; r1 to r1 &gt; r2, etc.</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = OperandsToUpdate.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      OperandsToUpdate[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first-&gt;setImm(OperandsToUpdate[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second);</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;  }</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  }</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;}</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;</div><div class="line"><a name="l02462"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ad4671e176ed51a20fd0ceb8090b37284"> 2462</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ad4671e176ed51a20fd0ceb8090b37284">ARMBaseInstrInfo::FoldImmediate</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMI,</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                                     <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                                     <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="comment">// Fold large immediates into add, sub, or, xor.</span></div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordtype">unsigned</span> DefOpc = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">if</span> (DefOpc != ARM::t2MOVi32imm &amp;&amp; DefOpc != ARM::MOVi32imm)</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keywordflow">if</span> (!DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">isImm</a>())</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="comment">// Could be t2MOVi32imm &lt;ga:xx&gt;</span></div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <span class="keywordflow">if</span> (!MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8be4959abd44b6fbd158dba0d7c315bc">hasOneNonDBGUse</a>(Reg))</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefMCID = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keywordflow">if</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#ab05d1cccbb3eb5ac5a66e703f969528d">hasOptionalDef</a>()) {</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordtype">unsigned</span> NumOps = DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps-1);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::CPSR &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>())</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      <span class="comment">// If DefMI defines CPSR and it is not dead, it&#39;s obviously not safe</span></div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <span class="comment">// to delete DefMI.</span></div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  }</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordflow">if</span> (UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#ab05d1cccbb3eb5ac5a66e703f969528d">hasOptionalDef</a>()) {</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <span class="keywordtype">unsigned</span> NumOps = UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordflow">if</span> (UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(NumOps-1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() == ARM::CPSR)</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="comment">// If the instruction sets the flag, do not attempt this optimization</span></div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="comment">// since it may change the semantics of the code.</span></div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  }</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordtype">unsigned</span> UseOpc = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordtype">unsigned</span> NewUseOpc = 0;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  uint32_t ImmVal = (uint32_t)DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  uint32_t SOImmValV1 = 0, SOImmValV2 = 0;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="keywordtype">bool</span> Commute = <span class="keyword">false</span>;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">switch</span> (UseOpc) {</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="keywordflow">case</span> ARM::SUBrr:</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">case</span> ARM::ADDrr:</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keywordflow">case</span> ARM::ORRrr:</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="keywordflow">case</span> ARM::EORrr:</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  <span class="keywordflow">case</span> ARM::t2SUBrr:</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;  <span class="keywordflow">case</span> ARM::t2ADDrr:</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="keywordflow">case</span> ARM::t2ORRrr:</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <span class="keywordflow">case</span> ARM::t2EORrr: {</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    Commute = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>() != <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keywordflow">switch</span> (UseOpc) {</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordflow">case</span> ARM::SUBrr: {</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="keywordflow">if</span> (Commute)</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      ImmVal = -ImmVal;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      NewUseOpc = ARM::SUBri;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="comment">// Fallthrough</span></div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    }</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="keywordflow">case</span> ARM::ADDrr:</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">case</span> ARM::ORRrr:</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">case</span> ARM::EORrr: {</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARM__AM.html#ac229bc1c730b34dff4b13afbe7747e22">ARM_AM::isSOImmTwoPartVal</a>(ImmVal))</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      SOImmValV1 = (uint32_t)<a class="code" href="namespacellvm_1_1ARM__AM.html#aa03349ec4911cc288087cef87cf769a3">ARM_AM::getSOImmTwoPartFirst</a>(ImmVal);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      SOImmValV2 = (uint32_t)<a class="code" href="namespacellvm_1_1ARM__AM.html#a1496354674d090593303959f68cf7bd7">ARM_AM::getSOImmTwoPartSecond</a>(ImmVal);</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      <span class="keywordflow">switch</span> (UseOpc) {</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <span class="keywordflow">case</span> ARM::ADDrr: NewUseOpc = ARM::ADDri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;      <span class="keywordflow">case</span> ARM::ORRrr: NewUseOpc = ARM::ORRri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="keywordflow">case</span> ARM::EORrr: NewUseOpc = ARM::EORri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      }</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    }</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">case</span> ARM::t2SUBrr: {</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <span class="keywordflow">if</span> (Commute)</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      ImmVal = -ImmVal;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      NewUseOpc = ARM::t2SUBri;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;      <span class="comment">// Fallthrough</span></div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    }</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">case</span> ARM::t2ADDrr:</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">case</span> ARM::t2ORRrr:</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordflow">case</span> ARM::t2EORrr: {</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARM__AM.html#ae3a823dd187d5c292f18a4fcfffde3a3">ARM_AM::isT2SOImmTwoPartVal</a>(ImmVal))</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      SOImmValV1 = (uint32_t)<a class="code" href="namespacellvm_1_1ARM__AM.html#acce36a59bdda59a266d2f2bfeaa7a9b6">ARM_AM::getT2SOImmTwoPartFirst</a>(ImmVal);</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      SOImmValV2 = (uint32_t)<a class="code" href="namespacellvm_1_1ARM__AM.html#ab22f00415be45367a9341ccab9018b0a">ARM_AM::getT2SOImmTwoPartSecond</a>(ImmVal);</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      <span class="keywordflow">switch</span> (UseOpc) {</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;      <span class="keywordflow">case</span> ARM::t2ADDrr: NewUseOpc = ARM::t2ADDri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      <span class="keywordflow">case</span> ARM::t2ORRrr: NewUseOpc = ARM::t2ORRri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <span class="keywordflow">case</span> ARM::t2EORrr: NewUseOpc = ARM::t2EORri; <span class="keywordflow">break</span>;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      }</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    }</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    }</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  }</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  }</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordtype">unsigned</span> OpIdx = Commute ? 2 : 1;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordtype">unsigned</span> Reg1 = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="keywordtype">bool</span> isKill = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OpIdx).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <span class="keywordtype">unsigned</span> NewReg = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(Reg));</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <a class="code" href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">AddDefaultCC</a>(<a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(),</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                                      UseMI, UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                                      <span class="keyword">get</span>(NewUseOpc), NewReg)</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(Reg1, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(isKill))</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                              .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(SOImmValV1)));</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(NewUseOpc));</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">setReg</a>(NewReg);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">setIsKill</a>();</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(SOImmValV2);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">eraseFromParent</a>();</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;}</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div><div class="line"><a name="l02578"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a6629ec6bb6d754c9fc7132f69a6a45ea"> 2578</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a6629ec6bb6d754c9fc7132f69a6a45ea">getNumMicroOpsSwiftLdSt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI) {</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordflow">default</span>: {</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordtype">int</span> UOps = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">getNumMicroOps</a>(Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>());</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    assert(UOps &gt;= 0 &amp;&amp; <span class="stringliteral">&quot;bad # UOps&quot;</span>);</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <span class="keywordflow">return</span> UOps;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  }</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordflow">case</span> ARM::LDRBrs:</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">case</span> ARM::STRrs:</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keywordflow">case</span> ARM::STRBrs: {</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        (ShImm == 0 ||</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;         ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  }</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <span class="keywordflow">case</span> ARM::LDRH:</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">case</span> ARM::STRH: {</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        (ShImm == 0 ||</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;         ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  }</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSB:</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSH:</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>) ? 3:2;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSB_POST:</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSH_POST: {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">return</span> (Rt == Rm) ? 4 : 3;</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  }</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">case</span> ARM::LDR_PRE_REG:</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <span class="keywordflow">case</span> ARM::LDRB_PRE_REG: {</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">if</span> (Rt == Rm)</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        (ShImm == 0 ||</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;         ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  }</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <span class="keywordflow">case</span> ARM::STR_PRE_REG:</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keywordflow">case</span> ARM::STRB_PRE_REG: {</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        (ShImm == 0 ||</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;         ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  }</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keywordflow">case</span> ARM::LDRH_PRE:</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">case</span> ARM::STRH_PRE: {</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <span class="keywordflow">if</span> (!Rm)</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;      <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="keywordflow">if</span> (Rt == Rm)</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;      <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>)</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      ? 3 : 2;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  }</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="keywordflow">case</span> ARM::LDR_POST_REG:</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="keywordflow">case</span> ARM::LDRB_POST_REG:</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="keywordflow">case</span> ARM::LDRH_POST: {</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">return</span> (Rt == Rm) ? 3 : 2;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  }</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keywordflow">case</span> ARM::LDR_PRE_IMM:</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  <span class="keywordflow">case</span> ARM::LDRB_PRE_IMM:</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="keywordflow">case</span> ARM::LDR_POST_IMM:</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="keywordflow">case</span> ARM::LDRB_POST_IMM:</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keywordflow">case</span> ARM::STRB_POST_IMM:</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordflow">case</span> ARM::STRB_POST_REG:</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  <span class="keywordflow">case</span> ARM::STRB_PRE_IMM:</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <span class="keywordflow">case</span> ARM::STRH_POST:</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">case</span> ARM::STR_POST_IMM:</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  <span class="keywordflow">case</span> ARM::STR_POST_REG:</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <span class="keywordflow">case</span> ARM::STR_PRE_IMM:</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSB_PRE:</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordflow">case</span> ARM::LDRSH_PRE: {</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keywordflow">if</span> (Rm == 0)</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordflow">if</span> (Rt == Rm)</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;      <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        (ShImm == 0 ||</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;         ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;          <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  }</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  <span class="keywordflow">case</span> ARM::LDRD: {</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordtype">unsigned</span> Rn = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">if</span> (Rm)</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>) ?4:3;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="keywordflow">return</span> (Rt == Rn) ? 3 : 2;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  }</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="keywordflow">case</span> ARM::STRD: {</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">if</span> (Rm)</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>) ?4:3;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  }</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <span class="keywordflow">case</span> ARM::LDRD_POST:</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRD_POST:</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <span class="keywordflow">case</span> ARM::STRD_POST:</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRD_POST:</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="keywordflow">case</span> ARM::LDRD_PRE: {</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <span class="keywordtype">unsigned</span> Rn = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keywordflow">if</span> (Rm)</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(5).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>) ?5:4;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="keywordflow">return</span> (Rt == Rn) ? 4 : 3;</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  }</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRD_PRE: {</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordtype">unsigned</span> Rn = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">return</span> (Rt == Rn) ? 4 : 3;</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  }</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordflow">case</span> ARM::STRD_PRE: {</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <span class="keywordtype">unsigned</span> Rm = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(4).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">if</span> (Rm)</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">ARM_AM::getAM3Op</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(5).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>()) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>) ?5:4;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  }</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRD_PRE:</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDR_POST:</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRB_POST:</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRB_PRE:</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi12:</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBi8:</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBpci:</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBs:</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRH_POST:</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRH_PRE:</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSBT:</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSB_POST:</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSB_PRE:</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSH_POST:</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSH_PRE:</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi12:</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHi8:</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHpci:</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRSHs:</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDRDi8: {</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordtype">unsigned</span> Rt = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordtype">unsigned</span> Rn = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">return</span> (Rt == Rn) ? 3 : 2;</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  }</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRB_POST:</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRB_PRE:</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRBs:</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRDi8:</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRH_POST:</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRH_PRE:</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRHs:</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <span class="keywordflow">case</span> ARM::t2STR_POST:</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">case</span> ARM::t2STR_PRE:</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;  <span class="keywordflow">case</span> ARM::t2STRs:</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  }</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;}</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment">// Return the number of 32-bit words loaded by LDM or stored by STM. If this</span></div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="comment">// can&#39;t be easily determined return 0 (missing MachineMemOperand).</span></div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;<span class="comment">// FIXME: The current MachineInstr design does not support relying on machine</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;<span class="comment">// mem operands to determine the width of a memory access. Instead, we expect</span></div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="comment">// the target to provide this information based on the instruction opcode and</span></div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;<span class="comment">// operands. However, using MachineMemOperand is a the best solution now for</span></div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="comment">// two reasons:</span></div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="comment">// 1) getNumMicroOps tries to infer LDM memory width from the total number of MI</span></div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="comment">// operands. This is much more dangerous than using the MachineMemOperand</span></div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="comment">// sizes because CodeGen passes can insert/remove optional machine operands. In</span></div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="comment">// fact, it&#39;s totally incorrect for preRA passes and appears to be wrong for</span></div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="comment">// postRA passes as well.</span></div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">// 2) getNumLDMAddresses is only used by the scheduling machine model and any</span></div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">// machine model that calls this should handle the unknown (zero size) case.</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">// Long term, we should require a target hook that verifies MachineMemOperand</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="comment">// sizes during MC lowering. That target hook should be local to MC lowering</span></div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="comment">// because we can&#39;t ensure that it is aware of other MI forms. Doing this will</span></div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;<span class="comment">// ensure that MachineMemOperands are correctly propagated through all passes.</span></div><div class="line"><a name="l02823"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a3a817fefcff152330fc8a08abf4d13f6"> 2823</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a3a817fefcff152330fc8a08abf4d13f6">ARMBaseInstrInfo::getNumLDMAddresses</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="keywordtype">unsigned</span> Size = 0;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineMemOperand.html">MachineInstr::mmo_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>(),</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;         E = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">memoperands_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    Size += (*I)-&gt;getSize();</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  }</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;  <span class="keywordflow">return</span> Size / 4;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;}</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l02833"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a212c0ddf63f28039bf73a4fbb46490ac"> 2833</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a212c0ddf63f28039bf73a4fbb46490ac">ARMBaseInstrInfo::getNumMicroOps</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <span class="keywordflow">if</span> (!ItinData || ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>())</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;Desc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5ada3eb06ada644390db065d37b3fd87ac">Class</a> = Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keywordtype">int</span> ItinUOps = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">getNumMicroOps</a>(Class);</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <span class="keywordflow">if</span> (ItinUOps &gt;= 0) {</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="keywordflow">if</span> (Subtarget.isSwift() &amp;&amp; (Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#ad526db981cdc3361585a92b6bba42137">mayLoad</a>() || Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a7146d8440bad26a32a80ae4362298783">mayStore</a>()))</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a6629ec6bb6d754c9fc7132f69a6a45ea">getNumMicroOpsSwiftLdSt</a>(ItinData, MI);</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="keywordflow">return</span> ItinUOps;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  }</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordtype">unsigned</span> Opc = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;  <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unexpected multi-uops instruction!&quot;</span>);</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMQIA:</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMQIA:</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <span class="comment">// The number of uOps for load / store multiple are determined by the number</span></div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <span class="comment">// registers.</span></div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <span class="comment">// On Cortex-A8, each pair of register loads / stores can be scheduled on the</span></div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  <span class="comment">// same cycle. The scheduling for the first load / store must be done</span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  <span class="comment">// separately by assuming the address is not 64-bit aligned.</span></div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  <span class="comment">// On Cortex-A9, the formula is simply (#reg / 2) + (#reg % 2). If the address</span></div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="comment">// is not 64-bit aligned, then AGU would take an extra cycle.  For VFP / NEON</span></div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="comment">// load / store multiple, the formula is (#reg / 2) + (#reg % 2) + 1.</span></div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDIA:</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDIA_UPD:</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDDB_UPD:</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSIA:</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSIA_UPD:</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSDB_UPD:</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDIA:</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDIA_UPD:</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDDB_UPD:</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSIA:</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSIA_UPD:</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSDB_UPD: {</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordtype">unsigned</span> NumRegs = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() - Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>();</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">return</span> (NumRegs / 2) + (NumRegs % 2) + 1;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  }</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA_RET:</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA:</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDA:</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDB:</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIB:</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA_UPD:</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDA_UPD:</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDB_UPD:</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIB_UPD:</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordflow">case</span> ARM::STMIA:</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <span class="keywordflow">case</span> ARM::STMDA:</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keywordflow">case</span> ARM::STMDB:</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="keywordflow">case</span> ARM::STMIB:</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">case</span> ARM::STMIA_UPD:</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="keywordflow">case</span> ARM::STMDA_UPD:</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="keywordflow">case</span> ARM::STMDB_UPD:</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="keywordflow">case</span> ARM::STMIB_UPD:</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="keywordflow">case</span> ARM::tLDMIA:</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">case</span> ARM::tLDMIA_UPD:</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  <span class="keywordflow">case</span> ARM::tSTMIA_UPD:</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;  <span class="keywordflow">case</span> ARM::tPOP_RET:</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;  <span class="keywordflow">case</span> ARM::tPOP:</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <span class="keywordflow">case</span> ARM::tPUSH:</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA_RET:</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA:</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMDB:</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA_UPD:</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMDB_UPD:</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMIA:</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMDB:</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMIA_UPD:</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMDB_UPD: {</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <span class="keywordtype">unsigned</span> NumRegs = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() - Desc.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() + 1;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="keywordflow">if</span> (Subtarget.isSwift()) {</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <span class="keywordtype">int</span> UOps = 1 + NumRegs;  <span class="comment">// One for address computation, one for each ld / st.</span></div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      <span class="keywordflow">switch</span> (Opc) {</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      <span class="keywordflow">case</span> ARM::VLDMDIA_UPD:</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <span class="keywordflow">case</span> ARM::VLDMDDB_UPD:</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      <span class="keywordflow">case</span> ARM::VLDMSIA_UPD:</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      <span class="keywordflow">case</span> ARM::VLDMSDB_UPD:</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <span class="keywordflow">case</span> ARM::VSTMDIA_UPD:</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;      <span class="keywordflow">case</span> ARM::VSTMDDB_UPD:</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <span class="keywordflow">case</span> ARM::VSTMSIA_UPD:</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;      <span class="keywordflow">case</span> ARM::VSTMSDB_UPD:</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      <span class="keywordflow">case</span> ARM::LDMIA_UPD:</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;      <span class="keywordflow">case</span> ARM::LDMDA_UPD:</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;      <span class="keywordflow">case</span> ARM::LDMDB_UPD:</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      <span class="keywordflow">case</span> ARM::LDMIB_UPD:</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      <span class="keywordflow">case</span> ARM::STMIA_UPD:</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;      <span class="keywordflow">case</span> ARM::STMDA_UPD:</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <span class="keywordflow">case</span> ARM::STMDB_UPD:</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;      <span class="keywordflow">case</span> ARM::STMIB_UPD:</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <span class="keywordflow">case</span> ARM::tLDMIA_UPD:</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      <span class="keywordflow">case</span> ARM::tSTMIA_UPD:</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;      <span class="keywordflow">case</span> ARM::t2LDMIA_UPD:</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      <span class="keywordflow">case</span> ARM::t2LDMDB_UPD:</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;      <span class="keywordflow">case</span> ARM::t2STMIA_UPD:</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      <span class="keywordflow">case</span> ARM::t2STMDB_UPD:</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;        ++UOps; <span class="comment">// One for base register writeback.</span></div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      <span class="keywordflow">case</span> ARM::LDMIA_RET:</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      <span class="keywordflow">case</span> ARM::tPOP_RET:</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      <span class="keywordflow">case</span> ARM::t2LDMIA_RET:</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        UOps += 2; <span class="comment">// One for base reg wb, one for write to pc.</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      }</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;      <span class="keywordflow">return</span> UOps;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isCortexA8()) {</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      <span class="keywordflow">if</span> (NumRegs &lt; 4)</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <span class="comment">// 4 registers would be issued: 2, 2.</span></div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      <span class="comment">// 5 registers would be issued: 2, 2, 1.</span></div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      <span class="keywordtype">int</span> A8UOps = (NumRegs / 2);</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;      <span class="keywordflow">if</span> (NumRegs % 2)</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        ++A8UOps;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      <span class="keywordflow">return</span> A8UOps;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift()) {</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      <span class="keywordtype">int</span> A9UOps = (NumRegs / 2);</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;      <span class="comment">// If there are odd number of registers or if it&#39;s not 64-bit aligned,</span></div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;      <span class="comment">// then it takes an extra AGU (Address Generation Unit) cycle.</span></div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;      <span class="keywordflow">if</span> ((NumRegs % 2) ||</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;          !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>() ||</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;          (*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getAlignment() &lt; 8)</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        ++A9UOps;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <span class="keywordflow">return</span> A9UOps;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      <span class="comment">// Assume the worst.</span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;      <span class="keywordflow">return</span> NumRegs;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    }</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  }</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  }</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;}</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;ARMBaseInstrInfo::getVLDMDefCycle(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefMCID,</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                                  <span class="keywordtype">unsigned</span> DefClass,</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                                  <span class="keywordtype">unsigned</span> DefIdx, <span class="keywordtype">unsigned</span> DefAlign)<span class="keyword"> const </span>{</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;  <span class="keywordtype">int</span> RegNo = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(DefIdx+1) - DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() + 1;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">if</span> (RegNo &lt;= 0)</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="comment">// Def is the address writeback.</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefClass, DefIdx);</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keywordtype">int</span> DefCycle;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA8()) {</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="comment">// (regno / 2) + (regno % 2) + 1</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    DefCycle = RegNo / 2 + 1;</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">if</span> (RegNo % 2)</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      ++DefCycle;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift()) {</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    DefCycle = RegNo;</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <span class="keywordtype">bool</span> isSLoad = <span class="keyword">false</span>;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">switch</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">case</span> ARM::VLDMSIA:</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <span class="keywordflow">case</span> ARM::VLDMSIA_UPD:</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">case</span> ARM::VLDMSDB_UPD:</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      isSLoad = <span class="keyword">true</span>;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    }</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    <span class="comment">// If there are odd number of &#39;S&#39; registers or if it&#39;s not 64-bit aligned,</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="comment">// then it takes an extra cycle.</span></div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keywordflow">if</span> ((isSLoad &amp;&amp; (RegNo % 2)) || DefAlign &lt; 8)</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      ++DefCycle;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="comment">// Assume the worst.</span></div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    DefCycle = RegNo + 2;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  }</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">return</span> DefCycle;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;}</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;ARMBaseInstrInfo::getLDMDefCycle(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefMCID,</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                                 <span class="keywordtype">unsigned</span> DefClass,</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                                 <span class="keywordtype">unsigned</span> DefIdx, <span class="keywordtype">unsigned</span> DefAlign)<span class="keyword"> const </span>{</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  <span class="keywordtype">int</span> RegNo = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(DefIdx+1) - DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() + 1;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordflow">if</span> (RegNo &lt;= 0)</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="comment">// Def is the address writeback.</span></div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefClass, DefIdx);</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordtype">int</span> DefCycle;</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA8()) {</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="comment">// 4 registers would be issued: 1, 2, 1.</span></div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="comment">// 5 registers would be issued: 1, 2, 2.</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    DefCycle = RegNo / 2;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    <span class="keywordflow">if</span> (DefCycle &lt; 1)</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      DefCycle = 1;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="comment">// Result latency is issue cycle + 2: E2.</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    DefCycle += 2;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift()) {</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    DefCycle = (RegNo / 2);</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="comment">// If there are odd number of registers or if it&#39;s not 64-bit aligned,</span></div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <span class="comment">// then it takes an extra AGU (Address Generation Unit) cycle.</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="keywordflow">if</span> ((RegNo % 2) || DefAlign &lt; 8)</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      ++DefCycle;</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="comment">// Result latency is AGU cycles + 2.</span></div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    DefCycle += 2;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="comment">// Assume the worst.</span></div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    DefCycle = RegNo + 2;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  }</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">return</span> DefCycle;</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;}</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;ARMBaseInstrInfo::getVSTMUseCycle(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID,</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                                  <span class="keywordtype">unsigned</span> UseClass,</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                                  <span class="keywordtype">unsigned</span> UseIdx, <span class="keywordtype">unsigned</span> UseAlign)<span class="keyword"> const </span>{</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  <span class="keywordtype">int</span> RegNo = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(UseIdx+1) - UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() + 1;</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <span class="keywordflow">if</span> (RegNo &lt;= 0)</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(UseClass, UseIdx);</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  <span class="keywordtype">int</span> UseCycle;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA8()) {</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <span class="comment">// (regno / 2) + (regno % 2) + 1</span></div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    UseCycle = RegNo / 2 + 1;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">if</span> (RegNo % 2)</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;      ++UseCycle;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift()) {</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    UseCycle = RegNo;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordtype">bool</span> isSStore = <span class="keyword">false</span>;</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <span class="keywordflow">switch</span> (UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <span class="keywordflow">case</span> ARM::VSTMSIA:</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <span class="keywordflow">case</span> ARM::VSTMSIA_UPD:</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">case</span> ARM::VSTMSDB_UPD:</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      isSStore = <span class="keyword">true</span>;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    }</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="comment">// If there are odd number of &#39;S&#39; registers or if it&#39;s not 64-bit aligned,</span></div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="comment">// then it takes an extra cycle.</span></div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="keywordflow">if</span> ((isSStore &amp;&amp; (RegNo % 2)) || UseAlign &lt; 8)</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;      ++UseCycle;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="comment">// Assume the worst.</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    UseCycle = RegNo + 2;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  }</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  <span class="keywordflow">return</span> UseCycle;</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;}</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;ARMBaseInstrInfo::getSTMUseCycle(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID,</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                                 <span class="keywordtype">unsigned</span> UseClass,</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                                 <span class="keywordtype">unsigned</span> UseIdx, <span class="keywordtype">unsigned</span> UseAlign)<span class="keyword"> const </span>{</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <span class="keywordtype">int</span> RegNo = (<a class="code" href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)(UseIdx+1) - UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>() + 1;</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  <span class="keywordflow">if</span> (RegNo &lt;= 0)</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(UseClass, UseIdx);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <span class="keywordtype">int</span> UseCycle;</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA8()) {</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    UseCycle = RegNo / 2;</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    <span class="keywordflow">if</span> (UseCycle &lt; 2)</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      UseCycle = 2;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <span class="comment">// Read in E3.</span></div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    UseCycle += 2;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift()) {</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    UseCycle = (RegNo / 2);</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    <span class="comment">// If there are odd number of registers or if it&#39;s not 64-bit aligned,</span></div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="comment">// then it takes an extra AGU (Address Generation Unit) cycle.</span></div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    <span class="keywordflow">if</span> ((RegNo % 2) || UseAlign &lt; 8)</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      ++UseCycle;</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="comment">// Assume the worst.</span></div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    UseCycle = 1;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  }</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  <span class="keywordflow">return</span> UseCycle;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;}</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">ARMBaseInstrInfo::getOperandLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefMCID,</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;                                    <span class="keywordtype">unsigned</span> DefIdx, <span class="keywordtype">unsigned</span> DefAlign,</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID,</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                                    <span class="keywordtype">unsigned</span> UseIdx, <span class="keywordtype">unsigned</span> UseAlign)<span class="keyword"> const </span>{</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <span class="keywordtype">unsigned</span> DefClass = DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="keywordtype">unsigned</span> UseClass = UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keywordflow">if</span> (DefIdx &lt; DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a9d472a8ee447cef18a71beb229d4d252">getNumDefs</a>() &amp;&amp; UseIdx &lt; UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>())</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a45115dfc94158799abfd99917a879a65">getOperandLatency</a>(DefClass, DefIdx, UseClass, UseIdx);</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;  <span class="comment">// This may be a def / use of a variable_ops instruction, the operand</span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="comment">// latency might be determinable dynamically. Let the target try to</span></div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  <span class="comment">// figure it out.</span></div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  <span class="keywordtype">int</span> DefCycle = -1;</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  <span class="keywordtype">bool</span> LdmBypass = <span class="keyword">false</span>;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordflow">switch</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    DefCycle = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefClass, DefIdx);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDIA:</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDIA_UPD:</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMDDB_UPD:</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSIA:</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSIA_UPD:</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMSDB_UPD:</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    DefCycle = getVLDMDefCycle(ItinData, DefMCID, DefClass, DefIdx, DefAlign);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA_RET:</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA:</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDA:</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDB:</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIB:</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIA_UPD:</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDA_UPD:</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  <span class="keywordflow">case</span> ARM::LDMDB_UPD:</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <span class="keywordflow">case</span> ARM::LDMIB_UPD:</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  <span class="keywordflow">case</span> ARM::tLDMIA:</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  <span class="keywordflow">case</span> ARM::tLDMIA_UPD:</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <span class="keywordflow">case</span> ARM::tPUSH:</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA_RET:</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA:</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMDB:</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMIA_UPD:</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  <span class="keywordflow">case</span> ARM::t2LDMDB_UPD:</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    LdmBypass = 1;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    DefCycle = getLDMDefCycle(ItinData, DefMCID, DefClass, DefIdx, DefAlign);</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  }</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  <span class="keywordflow">if</span> (DefCycle == -1)</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <span class="comment">// We can&#39;t seem to determine the result latency of the def, assume it&#39;s 2.</span></div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    DefCycle = 2;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <span class="keywordtype">int</span> UseCycle = -1;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  <span class="keywordflow">switch</span> (UseMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    UseCycle = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(UseClass, UseIdx);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDIA:</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDIA_UPD:</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMDDB_UPD:</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSIA:</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSIA_UPD:</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMSDB_UPD:</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    UseCycle = getVSTMUseCycle(ItinData, UseMCID, UseClass, UseIdx, UseAlign);</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  <span class="keywordflow">case</span> ARM::STMIA:</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">case</span> ARM::STMDA:</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  <span class="keywordflow">case</span> ARM::STMDB:</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <span class="keywordflow">case</span> ARM::STMIB:</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordflow">case</span> ARM::STMIA_UPD:</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;  <span class="keywordflow">case</span> ARM::STMDA_UPD:</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;  <span class="keywordflow">case</span> ARM::STMDB_UPD:</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  <span class="keywordflow">case</span> ARM::STMIB_UPD:</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  <span class="keywordflow">case</span> ARM::tSTMIA_UPD:</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="keywordflow">case</span> ARM::tPOP_RET:</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <span class="keywordflow">case</span> ARM::tPOP:</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMIA:</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMDB:</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMIA_UPD:</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <span class="keywordflow">case</span> ARM::t2STMDB_UPD:</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    UseCycle = getSTMUseCycle(ItinData, UseMCID, UseClass, UseIdx, UseAlign);</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  }</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  <span class="keywordflow">if</span> (UseCycle == -1)</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="comment">// Assume it&#39;s read in the first stage.</span></div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    UseCycle = 1;</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;  UseCycle = DefCycle - UseCycle + 1;</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="keywordflow">if</span> (UseCycle &gt; 0) {</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="keywordflow">if</span> (LdmBypass) {</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;      <span class="comment">// It&#39;s a variable_ops instruction so we can&#39;t use DefIdx here. Just use</span></div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      <span class="comment">// first def operand.</span></div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;      <span class="keywordflow">if</span> (ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a13d07bf96aa7ae1faa20263f8d10979b">hasPipelineForwarding</a>(DefClass, DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>()-1,</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                                          UseClass, UseIdx))</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        --UseCycle;</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a13d07bf96aa7ae1faa20263f8d10979b">hasPipelineForwarding</a>(DefClass, DefIdx,</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                                               UseClass, UseIdx)) {</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;      --UseCycle;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    }</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;  }</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  <span class="keywordflow">return</span> UseCycle;</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;}</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;</div><div class="line"><a name="l03233"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a69905d1272d640d4bd54212ab54beaa0"> 3233</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="ARMBaseInstrInfo_8cpp.html#a69905d1272d640d4bd54212ab54beaa0">getBundledDefMI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI,</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                           <span class="keywordtype">unsigned</span> &amp;DefIdx, <span class="keywordtype">unsigned</span> &amp;Dist) {</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  Dist = 0;</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">MachineBasicBlock::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> II =</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a>(I.getInstrIterator());</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  assert(II-&gt;isInsideBundle() &amp;&amp; <span class="stringliteral">&quot;Empty bundle?&quot;</span>);</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  <span class="keywordtype">int</span> Idx = -1;</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  <span class="keywordflow">while</span> (II-&gt;isInsideBundle()) {</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    Idx = II-&gt;findRegisterDefOperandIdx(Reg, <span class="keyword">false</span>, <span class="keyword">true</span>, TRI);</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordflow">if</span> (Idx != -1)</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    --II;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    ++Dist;</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;  }</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  assert(Idx != -1 &amp;&amp; <span class="stringliteral">&quot;Cannot find bundled definition!&quot;</span>);</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  DefIdx = Idx;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  <span class="keywordflow">return</span> II;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;}</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;</div><div class="line"><a name="l03257"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a069e150acc88aaa0d93efc5a11b14de3"> 3257</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="ARMBaseInstrInfo_8cpp.html#a069e150acc88aaa0d93efc5a11b14de3">getBundledUseMI</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI,</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>,</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                                           <span class="keywordtype">unsigned</span> &amp;UseIdx, <span class="keywordtype">unsigned</span> &amp;Dist) {</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  Dist = 0;</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> II = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>; ++II;</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  assert(II-&gt;isInsideBundle() &amp;&amp; <span class="stringliteral">&quot;Empty bundle?&quot;</span>);</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> E = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="comment">// FIXME: This doesn&#39;t properly handle multiple uses.</span></div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keywordtype">int</span> Idx = -1;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;  <span class="keywordflow">while</span> (II != E &amp;&amp; II-&gt;isInsideBundle()) {</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    Idx = II-&gt;findRegisterUseOperandIdx(Reg, <span class="keyword">false</span>, TRI);</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="keywordflow">if</span> (Idx != -1)</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="keywordflow">if</span> (II-&gt;getOpcode() != ARM::t2IT)</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;      ++Dist;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    ++II;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  }</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <span class="keywordflow">if</span> (Idx == -1) {</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    Dist = 0;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  }</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  UseIdx = Idx;</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  <span class="keywordflow">return</span> II;</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;}</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="comment">/// Return the number of cycles to add to (or subtract from) the static</span></div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="comment">/// itinerary based on the def opcode and alignment. The caller will ensure that</span></div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">/// adjusted latency is at least one cycle.</span></div><div class="line"><a name="l03289"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a7e65c85fd74449f473f541542825cdd8"> 3289</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7e65c85fd74449f473f541542825cdd8">adjustDefLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ARMSubtarget.html">ARMSubtarget</a> &amp;Subtarget,</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI,</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> *DefMCID, <span class="keywordtype">unsigned</span> DefAlign) {</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  <span class="keywordtype">int</span> Adjust = 0;</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a384e5e5cd4fab5d3c1645e2c2d22093f">isCortexA8</a>() || Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#ab2510f9dc252cd95daa6ca819e23167e">isLikeA9</a>()) {</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="comment">// FIXME: Shifter op hack: no shift (i.e. [r +/- r]) or [r + r &lt;&lt; 2]</span></div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="comment">// variants are one cycle cheaper.</span></div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="keywordflow">switch</span> (DefMCID-&gt;<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keywordflow">case</span> ARM::LDRBrs: {</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;      <span class="keywordtype">unsigned</span> ShOpVal = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;      <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;      <span class="keywordflow">if</span> (ShImm == 0 ||</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;          (ShImm == 2 &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>))</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        --Adjust;</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    }</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRs:</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRBs:</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRHs:</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRSHs: {</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      <span class="comment">// Thumb2 mode: lsl only.</span></div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0 || ShAmt == 2)</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        --Adjust;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    }</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    }</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#a062502d6ef2e7be826aee6355a80d02a">isSwift</a>()) {</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="comment">// FIXME: Properly handle all of the latency adjustments for address</span></div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    <span class="comment">// writeback.</span></div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="keywordflow">switch</span> (DefMCID-&gt;<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="keywordflow">case</span> ARM::LDRBrs: {</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      <span class="keywordtype">unsigned</span> ShOpVal = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;      <span class="keywordtype">bool</span> isSub = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">ARM_AM::getAM2Op</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">ARM_AM::sub</a>;</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;          (ShImm == 0 ||</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;           ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;            <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>)))</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;        Adjust -= 2;</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isSub &amp;&amp;</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;               ShImm == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa25f26a9f4d00c9ac425953111519c041">ARM_AM::lsr</a>)</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;        --Adjust;</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    }</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRs:</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRBs:</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRHs:</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRSHs: {</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      <span class="comment">// Thumb2 mode: lsl only.</span></div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0 || ShAmt == 1 || ShAmt == 2 || ShAmt == 3)</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;        Adjust -= 2;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    }</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    }</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  }</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="keywordflow">if</span> (DefAlign &lt; 8 &amp;&amp; Subtarget.<a class="code" href="classllvm_1_1ARMSubtarget.html#ab2510f9dc252cd95daa6ca819e23167e">isLikeA9</a>()) {</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">switch</span> (DefMCID-&gt;<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8:</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16:</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32:</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64:</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8wb_fixed:</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16wb_fixed:</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32wb_fixed:</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64wb_fixed:</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8wb_register:</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16wb_register:</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32wb_register:</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64wb_register:</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8:</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16:</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32:</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8:</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16:</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32:</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8wb_fixed:</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16wb_fixed:</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32wb_fixed:</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8wb_fixed:</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16wb_fixed:</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32wb_fixed:</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8wb_register:</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16wb_register:</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32wb_register:</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8wb_register:</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16wb_register:</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32wb_register:</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d8:</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d16:</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d32:</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64T:</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d8_UPD:</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d16_UPD:</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d32_UPD:</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64Twb_fixed:</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64Twb_register:</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q8_UPD:</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q16_UPD:</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q32_UPD:</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d8:</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d16:</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d32:</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64Q:</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d8_UPD:</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d16_UPD:</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d32_UPD:</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64Qwb_fixed:</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64Qwb_register:</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q8_UPD:</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q16_UPD:</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q32_UPD:</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8:</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16:</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32:</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8wb_fixed:</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16wb_fixed:</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32wb_fixed:</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8wb_register:</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16wb_register:</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32wb_register:</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8:</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16:</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32:</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8wb_fixed:</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16wb_fixed:</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32wb_fixed:</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8wb_register:</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16wb_register:</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32wb_register:</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd8:</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd16:</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd32:</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd8_UPD:</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd16_UPD:</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd32_UPD:</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd8:</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd16:</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd32:</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd8_UPD:</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd16_UPD:</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNd32_UPD:</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd8:</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd16:</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd32:</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq16:</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq32:</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd8_UPD:</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd16_UPD:</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd32_UPD:</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq16_UPD:</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq32_UPD:</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd8:</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd16:</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd32:</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq16:</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq32:</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd8_UPD:</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd16_UPD:</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd32_UPD:</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq16_UPD:</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq32_UPD:</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      <span class="comment">// If the address is not 64-bit aligned, the latencies of these</span></div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;      <span class="comment">// instructions increases by one.</span></div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;      ++Adjust;</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    }</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  }</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <span class="keywordflow">return</span> Adjust;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;}</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03470"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db"> 3470</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">ARMBaseInstrInfo::getOperandLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefIdx,</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMI,</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;                                    <span class="keywordtype">unsigned</span> UseIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="comment">// No operand latency. The caller may fall back to getInstrLatency.</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="keywordflow">if</span> (!ItinData || ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>())</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;DefMO = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(DefIdx);</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = DefMO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> *DefMCID = &amp;DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> *UseMCID = &amp;UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="keywordtype">unsigned</span> DefAdj = 0;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="keywordflow">if</span> (DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>()) {</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    DefMI = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a69905d1272d640d4bd54212ab54beaa0">getBundledDefMI</a>(&amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>(), DefMI, Reg, DefIdx, DefAdj);</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    DefMCID = &amp;DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  }</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="keywordflow">if</span> (DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a100d59f6313d76435a54425d3d11bf99">isCopyLike</a>() || DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a4a81bce0636d52246dbf2170201cd4f2">isInsertSubreg</a>() ||</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;      DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#afd3c04beba982703c5a4df17ca3180cc">isRegSequence</a>() || DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0e15c0325463fc62bd16ccd9ec2b9ec5">isImplicitDef</a>()) {</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  }</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <span class="keywordtype">unsigned</span> UseAdj = 0;</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  <span class="keywordflow">if</span> (UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>()) {</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <span class="keywordtype">unsigned</span> NewUseIdx;</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *NewUseMI = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a069e150acc88aaa0d93efc5a11b14de3">getBundledUseMI</a>(&amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>(), UseMI,</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;                                                   Reg, NewUseIdx, UseAdj);</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="keywordflow">if</span> (!NewUseMI)</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    UseMI = NewUseMI;</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    UseIdx = NewUseIdx;</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    UseMCID = &amp;UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  }</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <span class="keywordflow">if</span> (Reg == ARM::CPSR) {</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="keywordflow">if</span> (DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ARMISD.html#a2e41e02d8e1c0ff6c5a48860e87476b9a6b4121a8201ef54013a43cce7972b532">ARM::FMSTAT</a>) {</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      <span class="comment">// fpscr -&gt; cpsr stalls over 20 cycles on A8 (and earlier?)</span></div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      <span class="keywordflow">return</span> Subtarget.isLikeA9() ? 1 : 20;</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;    }</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <span class="comment">// CPSR set and branch can be paired in the same cycle.</span></div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <span class="keywordflow">if</span> (UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">isBranch</a>())</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <span class="comment">// Otherwise it takes the instruction latency (generally one).</span></div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="keywordtype">unsigned</span> Latency = getInstrLatency(ItinData, DefMI);</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="comment">// For Thumb2 and -Os, prefer scheduling CPSR setting instruction close to</span></div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="comment">// its uses. Instructions which are otherwise scheduled between them may</span></div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="comment">// incur a code size penalty (not able to use the CPSR setting 16-bit</span></div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="comment">// instructions).</span></div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="keywordflow">if</span> (Latency &gt; 0 &amp;&amp; Subtarget.isThumb2()) {</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;      <span class="keywordflow">if</span> (MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;            hasAttribute(AttributeSet::FunctionIndex,</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;                         <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">Attribute::OptimizeForSize</a>))</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;        --Latency;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    }</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  }</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  <span class="keywordflow">if</span> (DefMO.<a class="code" href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">isImplicit</a>() || UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(UseIdx).<a class="code" href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">isImplicit</a>())</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <span class="keywordtype">unsigned</span> DefAlign = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>()</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    ? (*DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getAlignment() : 0;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <span class="keywordtype">unsigned</span> UseAlign = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>()</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    ? (*UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getAlignment() : 0;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  <span class="comment">// Get the itinerary&#39;s latency if possible, and handle variable_ops.</span></div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <span class="keywordtype">int</span> Latency = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">getOperandLatency</a>(ItinData, *DefMCID, DefIdx, DefAlign,</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                                  *UseMCID, UseIdx, UseAlign);</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <span class="comment">// Unable to find operand latency. The caller may resort to getInstrLatency.</span></div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  <span class="keywordflow">if</span> (Latency &lt; 0)</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  <span class="comment">// Adjust for IT block position.</span></div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  <span class="keywordtype">int</span> Adj = DefAdj + UseAdj;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;  <span class="comment">// Adjust for dynamic def-side opcode variants not captured by the itinerary.</span></div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  Adj += <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7e65c85fd74449f473f541542825cdd8">adjustDefLatency</a>(Subtarget, DefMI, DefMCID, DefAlign);</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <span class="keywordflow">if</span> (Adj &gt;= 0 || (<span class="keywordtype">int</span>)Latency &gt; -Adj) {</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="keywordflow">return</span> Latency + Adj;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  }</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <span class="comment">// Return the itinerary latency, which may be zero but not less than zero.</span></div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;}</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;<span class="keywordtype">int</span></div><div class="line"><a name="l03561"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a475f0f63ab4761155f2c44be9a5b847c"> 3561</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">ARMBaseInstrInfo::getOperandLatency</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;                                    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *DefNode, <span class="keywordtype">unsigned</span> DefIdx,</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;                                    <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *UseNode, <span class="keywordtype">unsigned</span> UseIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="keywordflow">if</span> (!DefNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>())</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;DefMCID = <span class="keyword">get</span>(DefNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>());</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;  <span class="keywordflow">if</span> (isZeroCost(DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">Opcode</a>))</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  <span class="keywordflow">if</span> (!ItinData || ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>())</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <span class="keywordflow">return</span> DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#ad526db981cdc3361585a92b6bba42137">mayLoad</a>() ? 3 : 1;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  <span class="keywordflow">if</span> (!UseNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>()) {</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <span class="keywordtype">int</span> Latency = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>(), DefIdx);</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">if</span> (Subtarget.isLikeA9() || Subtarget.isSwift())</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;      <span class="keywordflow">return</span> Latency &lt;= 2 ? 1 : Latency - 1;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      <span class="keywordflow">return</span> Latency &lt;= 3 ? 1 : Latency - 2;</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  }</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;UseMCID = <span class="keyword">get</span>(UseNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>());</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *DefMN = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a>&gt;(DefNode);</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <span class="keywordtype">unsigned</span> DefAlign = !DefMN-&gt;<a class="code" href="classllvm_1_1MachineSDNode.html#ac724c74559a159fd319e39c3a62442db">memoperands_empty</a>()</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    ? (*DefMN-&gt;<a class="code" href="classllvm_1_1MachineSDNode.html#aa5952f8e3095c74ddc3730866123c115">memoperands_begin</a>())-&gt;getAlignment() : 0;</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a> *UseMN = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1MachineSDNode.html">MachineSDNode</a>&gt;(UseNode);</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="keywordtype">unsigned</span> UseAlign = !UseMN-&gt;<a class="code" href="classllvm_1_1MachineSDNode.html#ac724c74559a159fd319e39c3a62442db">memoperands_empty</a>()</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    ? (*UseMN-&gt;<a class="code" href="classllvm_1_1MachineSDNode.html#aa5952f8e3095c74ddc3730866123c115">memoperands_begin</a>())-&gt;getAlignment() : 0;</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <span class="keywordtype">int</span> Latency = <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">getOperandLatency</a>(ItinData, DefMCID, DefIdx, DefAlign,</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;                                  UseMCID, UseIdx, UseAlign);</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;  <span class="keywordflow">if</span> (Latency &gt; 1 &amp;&amp;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;      (Subtarget.isCortexA8() || Subtarget.isLikeA9())) {</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <span class="comment">// FIXME: Shifter op hack: no shift (i.e. [r +/- r]) or [r + r &lt;&lt; 2]</span></div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;    <span class="comment">// variants are one cycle cheaper.</span></div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="keywordflow">switch</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    <span class="keywordflow">case</span> ARM::LDRBrs: {</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;      <span class="keywordtype">unsigned</span> ShOpVal =</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        cast&lt;ConstantSDNode&gt;(DefNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2))-&gt;getZExtValue();</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;      <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;      <span class="keywordflow">if</span> (ShImm == 0 ||</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;          (ShImm == 2 &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>))</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        --Latency;</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    }</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRs:</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRBs:</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRHs:</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRSHs: {</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;      <span class="comment">// Thumb2 mode: lsl only.</span></div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;      <span class="keywordtype">unsigned</span> ShAmt =</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        cast&lt;ConstantSDNode&gt;(DefNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2))-&gt;getZExtValue();</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;      <span class="keywordflow">if</span> (ShAmt == 0 || ShAmt == 2)</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;        --Latency;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    }</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    }</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DefIdx == 0 &amp;&amp; Latency &gt; 2 &amp;&amp; Subtarget.isSwift()) {</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <span class="comment">// FIXME: Properly handle all of the latency adjustments for address</span></div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    <span class="comment">// writeback.</span></div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <span class="keywordflow">switch</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;    <span class="keywordflow">case</span> ARM::LDRrs:</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    <span class="keywordflow">case</span> ARM::LDRBrs: {</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;      <span class="keywordtype">unsigned</span> ShOpVal =</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;        cast&lt;ConstantSDNode&gt;(DefNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">getOperand</a>(2))-&gt;getZExtValue();</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;      <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">ARM_AM::getAM2Offset</a>(ShOpVal);</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;      <span class="keywordflow">if</span> (ShImm == 0 ||</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;          ((ShImm == 1 || ShImm == 2 || ShImm == 3) &amp;&amp;</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;           <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>))</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;        Latency -= 2;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ShImm == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">ARM_AM::getAM2ShiftOpc</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa25f26a9f4d00c9ac425953111519c041">ARM_AM::lsr</a>)</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        --Latency;</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    }</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRs:</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRBs:</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRHs:</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">case</span> ARM::t2LDRSHs: {</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      <span class="comment">// Thumb2 mode: lsl 0-3 only.</span></div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      Latency -= 2;</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    }</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    }</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  }</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="keywordflow">if</span> (DefAlign &lt; 8 &amp;&amp; Subtarget.isLikeA9())</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    <span class="keywordflow">switch</span> (DefMCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">getOpcode</a>()) {</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8:</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16:</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32:</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64:</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8wb_register:</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16wb_register:</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32wb_register:</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64wb_register:</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q8wb_fixed:</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q16wb_fixed:</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q32wb_fixed:</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1q64wb_fixed:</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8:</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16:</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32:</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8Pseudo:</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16Pseudo:</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32Pseudo:</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8wb_fixed:</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16wb_fixed:</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32wb_fixed:</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8PseudoWB_fixed:</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16PseudoWB_fixed:</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32PseudoWB_fixed:</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d8wb_register:</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d16wb_register:</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2d32wb_register:</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q8PseudoWB_register:</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q16PseudoWB_register:</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2q32PseudoWB_register:</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d8Pseudo:</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d16Pseudo:</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d32Pseudo:</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64TPseudo:</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d8Pseudo_UPD:</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d16Pseudo_UPD:</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3d32Pseudo_UPD:</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q8Pseudo_UPD:</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q16Pseudo_UPD:</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q32Pseudo_UPD:</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q8oddPseudo:</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q16oddPseudo:</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q32oddPseudo:</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q8oddPseudo_UPD:</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q16oddPseudo_UPD:</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    <span class="keywordflow">case</span> ARM::VLD3q32oddPseudo_UPD:</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d8Pseudo:</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d16Pseudo:</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d32Pseudo:</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1d64QPseudo:</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d8Pseudo_UPD:</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d16Pseudo_UPD:</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4d32Pseudo_UPD:</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q8Pseudo_UPD:</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q16Pseudo_UPD:</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q32Pseudo_UPD:</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q8oddPseudo:</div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q16oddPseudo:</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q32oddPseudo:</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q8oddPseudo_UPD:</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q16oddPseudo_UPD:</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4q32oddPseudo_UPD:</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8:</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16:</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32:</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8wb_fixed:</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16wb_fixed:</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32wb_fixed:</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq8wb_register:</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq16wb_register:</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1DUPq32wb_register:</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8:</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16:</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32:</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8wb_fixed:</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16wb_fixed:</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32wb_fixed:</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd8wb_register:</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd16wb_register:</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2DUPd32wb_register:</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd8Pseudo:</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd16Pseudo:</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd32Pseudo:</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd8Pseudo_UPD:</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd16Pseudo_UPD:</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4DUPd32Pseudo_UPD:</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq8Pseudo:</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq16Pseudo:</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq32Pseudo:</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq8Pseudo_UPD:</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq16Pseudo_UPD:</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="keywordflow">case</span> ARM::VLD1LNq32Pseudo_UPD:</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd8Pseudo:</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd16Pseudo:</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd32Pseudo:</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq16Pseudo:</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq32Pseudo:</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd8Pseudo_UPD:</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd16Pseudo_UPD:</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNd32Pseudo_UPD:</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq16Pseudo_UPD:</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <span class="keywordflow">case</span> ARM::VLD2LNq32Pseudo_UPD:</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd8Pseudo:</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd16Pseudo:</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd32Pseudo:</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq16Pseudo:</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq32Pseudo:</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd8Pseudo_UPD:</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd16Pseudo_UPD:</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNd32Pseudo_UPD:</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq16Pseudo_UPD:</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keywordflow">case</span> ARM::VLD4LNq32Pseudo_UPD:</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;      <span class="comment">// If the address is not 64-bit aligned, the latencies of these</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;      <span class="comment">// instructions increases by one.</span></div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;      ++Latency;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    }</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;}</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;<span class="keywordtype">unsigned</span> ARMBaseInstrInfo::getPredicationCost(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;   <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a100d59f6313d76435a54425d3d11bf99">isCopyLike</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a4a81bce0636d52246dbf2170201cd4f2">isInsertSubreg</a>() ||</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#afd3c04beba982703c5a4df17ca3180cc">isRegSequence</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0e15c0325463fc62bd16ccd9ec2b9ec5">isImplicitDef</a>())</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>())</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <span class="keywordflow">if</span> (MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a7981f38e296fd86b0cea036317fc1fcd">isCall</a>() || MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a8bdc3698f42abe362d81c8c02b397a34">hasImplicitDefOfPhysReg</a>(ARM::CPSR)) {</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="comment">// When predicated, CPSR is an additional source operand for CPSR updating</span></div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="comment">// instructions, this apparently increases their latencies.</span></div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  }</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;}</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;<span class="keywordtype">unsigned</span> ARMBaseInstrInfo::getInstrLatency(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;                                           <span class="keywordtype">unsigned</span> *PredCost)<span class="keyword"> const </span>{</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a100d59f6313d76435a54425d3d11bf99">isCopyLike</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a4a81bce0636d52246dbf2170201cd4f2">isInsertSubreg</a>() ||</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#afd3c04beba982703c5a4df17ca3180cc">isRegSequence</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a0e15c0325463fc62bd16ccd9ec2b9ec5">isImplicitDef</a>())</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="comment">// An instruction scheduler typically runs on unbundled instructions, however</span></div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  <span class="comment">// other passes may query the latency of a bundled instruction.</span></div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">isBundle</a>()) {</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    <span class="keywordtype">unsigned</span> Latency = 0;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MachineBasicBlock::const_instr_iterator</a> E = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">instr_end</a>();</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <span class="keywordflow">while</span> (++I != E &amp;&amp; I-&gt;isInsideBundle()) {</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;      <span class="keywordflow">if</span> (I-&gt;getOpcode() != ARM::t2IT)</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;        Latency += getInstrLatency(ItinData, I, PredCost);</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    }</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  }</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>();</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <span class="keywordflow">if</span> (PredCost &amp;&amp; (MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a7981f38e296fd86b0cea036317fc1fcd">isCall</a>() || MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a8bdc3698f42abe362d81c8c02b397a34">hasImplicitDefOfPhysReg</a>(ARM::CPSR))) {</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="comment">// When predicated, CPSR is an additional source operand for CPSR updating</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="comment">// instructions, this apparently increases their latencies.</span></div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    *PredCost = 1;</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  }</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="comment">// Be sure to call getStageLatency for an empty itinerary in case it has a</span></div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  <span class="comment">// valid MinLatency property.</span></div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  <span class="keywordflow">if</span> (!ItinData)</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>() ? 3 : 1;</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5ada3eb06ada644390db065d37b3fd87ac">Class</a> = MCID.<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// For instructions with variable uops, use uops as latency.</span></div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <span class="keywordflow">if</span> (!ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>() &amp;&amp; ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">getNumMicroOps</a>(Class) &lt; 0)</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a212c0ddf63f28039bf73a4fbb46490ac">getNumMicroOps</a>(ItinData, MI);</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;  <span class="comment">// For the common case, fall back on the itinerary&#39;s latency.</span></div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;  <span class="keywordtype">unsigned</span> Latency = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#afebdc4db0458f10f63da9d70c8fc355c">getStageLatency</a>(Class);</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  <span class="comment">// Adjust for dynamic def-side opcode variants not captured by the itinerary.</span></div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="keywordtype">unsigned</span> DefAlign = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>()</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    ? (*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getAlignment() : 0;</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="keywordtype">int</span> Adj = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a7e65c85fd74449f473f541542825cdd8">adjustDefLatency</a>(Subtarget, MI, &amp;MCID, DefAlign);</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <span class="keywordflow">if</span> (Adj &gt;= 0 || (<span class="keywordtype">int</span>)Latency &gt; -Adj) {</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <span class="keywordflow">return</span> Latency + Adj;</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;  }</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <span class="keywordflow">return</span> Latency;</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;}</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;<span class="keywordtype">int</span> ARMBaseInstrInfo::getInstrLatency(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;                                      <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *Node)<span class="keyword"> const </span>{</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="keywordflow">if</span> (!Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">isMachineOpcode</a>())</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;  <span class="keywordflow">if</span> (!ItinData || ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>())</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = Node-&gt;<a class="code" href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">getMachineOpcode</a>();</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    <span class="keywordflow">return</span> ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#afebdc4db0458f10f63da9d70c8fc355c">getStageLatency</a>(<span class="keyword">get</span>(Opcode).getSchedClass());</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="keywordflow">case</span> ARM::VLDMQIA:</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="keywordflow">case</span> ARM::VSTMQIA:</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  }</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;}</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="keywordtype">bool</span> ARMBaseInstrInfo::</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;hasHighOperandLatency(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a>,</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefIdx,</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *UseMI, <span class="keywordtype">unsigned</span> UseIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <span class="keywordtype">unsigned</span> DDomain = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">ARMII::DomainMask</a>;</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  <span class="keywordtype">unsigned</span> UDomain = UseMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">ARMII::DomainMask</a>;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA8() &amp;&amp;</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      (DDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">ARMII::DomainVFP</a> || UDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">ARMII::DomainVFP</a>))</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <span class="comment">// CortexA8 VFP instructions are not pipelined.</span></div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;  <span class="comment">// Hoist VFP / NEON instructions with 4 or higher latency.</span></div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <span class="keywordtype">int</span> Latency = computeOperandLatency(ItinData, DefMI, DefIdx, UseMI, UseIdx);</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  <span class="keywordflow">if</span> (Latency &lt; 0)</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    Latency = getInstrLatency(ItinData, DefMI);</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <span class="keywordflow">if</span> (Latency &lt;= 3)</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;  <span class="keywordflow">return</span> DDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">ARMII::DomainVFP</a> || DDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60">ARMII::DomainNEON</a> ||</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;         UDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">ARMII::DomainVFP</a> || UDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60">ARMII::DomainNEON</a>;</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;}</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;<span class="keywordtype">bool</span> ARMBaseInstrInfo::</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;hasLowDefLatency(<span class="keyword">const</span> <a class="code" href="classllvm_1_1InstrItineraryData.html">InstrItineraryData</a> *ItinData,</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DefMI, <span class="keywordtype">unsigned</span> DefIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="keywordflow">if</span> (!ItinData || ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">isEmpty</a>())</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="keywordtype">unsigned</span> DDomain = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">ARMII::DomainMask</a>;</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <span class="keywordflow">if</span> (DDomain == <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a97f18b4a92c5fb6c0a355460b38972f7">ARMII::DomainGeneral</a>) {</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <span class="keywordtype">unsigned</span> DefClass = DefMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">getSchedClass</a>();</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordtype">int</span> DefCycle = ItinData-&gt;<a class="code" href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">getOperandCycle</a>(DefClass, DefIdx);</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <span class="keywordflow">return</span> (DefCycle != -1 &amp;&amp; DefCycle &lt;= 2);</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  }</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;}</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;<span class="keywordtype">bool</span> ARMBaseInstrInfo::verifyInstruction(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;                                         <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> &amp;ErrInfo)<span class="keyword"> const </span>{</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af38d3efc162ab4c4fc14f9220c142b91">convertAddSubFlagsOpcode</a>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>())) {</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    ErrInfo = <span class="stringliteral">&quot;Pseudo flag setting opcodes only exist in Selection DAG&quot;</span>;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  }</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;}</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l03907"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ac7fe4651af293002937fbfcb61ddd28e"> 3907</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a077805003085f226c324aa660f324b77">ARMBaseInstrInfo::isFpMLxInstruction</a>(<span class="keywordtype">unsigned</span> Opcode, <span class="keywordtype">unsigned</span> &amp;MulOpc,</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;                                     <span class="keywordtype">unsigned</span> &amp;AddSubOpc,</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;                                     <span class="keywordtype">bool</span> &amp;NegAcc, <span class="keywordtype">bool</span> &amp;HasLane)<span class="keyword"> const </span>{</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;unsigned, unsigned&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = MLxEntryMap.find(Opcode);</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;  <span class="keywordflow">if</span> (I == MLxEntryMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">end</a>())</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;  <span class="keyword">const</span> <a class="code" href="structARM__MLxEntry.html">ARM_MLxEntry</a> &amp;Entry = ARM_MLxTable[I-&gt;second];</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;  MulOpc = Entry.<a class="code" href="structARM__MLxEntry.html#a36874b9abb0982b40b084c448351e577">MulOpc</a>;</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  AddSubOpc = Entry.<a class="code" href="structARM__MLxEntry.html#a5ec7e60c4b7a7a4b141714ee3c146e5b">AddSubOpc</a>;</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;  NegAcc = Entry.<a class="code" href="structARM__MLxEntry.html#a18e20037f489edfd5925b06e090ecaf6">NegAcc</a>;</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  HasLane = Entry.<a class="code" href="structARM__MLxEntry.html#acf9ce13fe57b1d58d2b79dec83f6629e">HasLane</a>;</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;}</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;<span class="comment">// Execution domains.</span></div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;<span class="comment">// Some instructions go down the NEON pipeline, some go down the VFP pipeline,</span></div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;<span class="comment">// and some can go down both.  The vmov instructions go down the VFP pipeline,</span></div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;<span class="comment">// but they can be changed to vorr equivalents that are executed by the NEON</span></div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;<span class="comment">// pipeline.</span></div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="comment">// We use the following execution domain numbering:</span></div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03933"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429"> 3933</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429">ARMExeDomain</a> {</div><div class="line"><a name="l03934"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429afbe482a8b25c7219e7cf97a031e42eb0"> 3934</a></span>&#160;  <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429afbe482a8b25c7219e7cf97a031e42eb0">ExeGeneric</a> = 0,</div><div class="line"><a name="l03935"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01"> 3935</a></span>&#160;  <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a> = 1,</div><div class="line"><a name="l03936"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2"> 3936</a></span>&#160;  <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a> = 2</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;};</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;<span class="comment">// Also see ARMInstrFormats.td and Domain* enums in ARMBaseInfo.h</span></div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;std::pair&lt;uint16_t, uint16_t&gt;</div><div class="line"><a name="l03942"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a278c93c1960c02f4498f108ece45d7c6"> 3942</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a278c93c1960c02f4498f108ece45d7c6">ARMBaseInstrInfo::getExecutionDomain</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;  <span class="comment">// VMOVD, VMOVRS and VMOVSR are VFP instructions, but can be changed to NEON</span></div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  <span class="comment">// if they are not predicated.</span></div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VMOVD &amp;&amp; !<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI))</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a>, (1&lt;&lt;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a>) | (1&lt;&lt;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>));</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  <span class="comment">// CortexA9 is particularly picky about mixing the two and wants these</span></div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;  <span class="comment">// converted.</span></div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  <span class="keywordflow">if</span> (Subtarget.isCortexA9() &amp;&amp; !<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI) &amp;&amp;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;      (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VMOVRS ||</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;       MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VMOVSR ||</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;       MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == ARM::VMOVS))</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a>, (1&lt;&lt;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a>) | (1&lt;&lt;<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>));</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  <span class="comment">// No other instructions can be swizzled, so just determine their domain.</span></div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;  <span class="keywordtype">unsigned</span> Domain = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">TSFlags</a> &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">ARMII::DomainMask</a>;</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  <span class="keywordflow">if</span> (Domain &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60">ARMII::DomainNEON</a>)</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>, 0);</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;  <span class="comment">// Certain instructions can go either way on Cortex-A8.</span></div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;  <span class="comment">// Treat them as NEON instructions.</span></div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  <span class="keywordflow">if</span> ((Domain &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a23ab698d5fa355a202fb1f18b173f811">ARMII::DomainNEONA8</a>) &amp;&amp; Subtarget.isCortexA8())</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>, 0);</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  <span class="keywordflow">if</span> (Domain &amp; <a class="code" href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">ARMII::DomainVFP</a>)</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a>, 0);</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;  <span class="keywordflow">return</span> std::make_pair(<a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429afbe482a8b25c7219e7cf97a031e42eb0">ExeGeneric</a>, 0);</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;}</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;</div><div class="line"><a name="l03973"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5"> 3973</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI,</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;                                            <span class="keywordtype">unsigned</span> SReg, <span class="keywordtype">unsigned</span> &amp;Lane) {</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;  <span class="keywordtype">unsigned</span> DReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(SReg, ARM::ssub_0, &amp;ARM::DPRRegClass);</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  Lane = 0;</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;  <span class="keywordflow">if</span> (DReg != ARM::NoRegister)</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;   <span class="keywordflow">return</span> DReg;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  Lane = 1;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;  DReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(SReg, ARM::ssub_1, &amp;ARM::DPRRegClass);</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  assert(DReg &amp;&amp; <span class="stringliteral">&quot;S-register with no D super-register?&quot;</span>);</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <span class="keywordflow">return</span> DReg;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;}</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;<span class="comment">/// getImplicitSPRUseForDPRUse - Given a use of a DPR register and lane,</span></div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;<span class="comment">/// set ImplicitSReg to a register number that must be marked as implicit-use or</span></div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;<span class="comment">/// zero if no register needs to be defined as implicit-use.</span></div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;<span class="comment">/// If the function cannot determine if an SPR should be marked implicit use or</span></div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;<span class="comment">/// not, it returns false.</span></div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;<span class="comment">/// This function handles cases where an instruction is being modified from taking</span></div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;<span class="comment">/// an SPR to a DPR[Lane]. A use of the DPR is being added, which may conflict</span></div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;<span class="comment">/// with an earlier def of an SPR corresponding to DPR[Lane^1] (i.e. the other</span></div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;<span class="comment">/// lane of the DPR).</span></div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;<span class="comment">/// If the other SPR is defined, an implicit-use of it should be added. Else,</span></div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;<span class="comment">/// (including the case where the DPR itself is defined), it should not.</span></div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l04003"></a><span class="lineno"><a class="line" href="ARMBaseInstrInfo_8cpp.html#adf27cb591f496a632979c8ac607baf8c"> 4003</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#adf27cb591f496a632979c8ac607baf8c">getImplicitSPRUseForDPRUse</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI,</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;                                       <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;                                       <span class="keywordtype">unsigned</span> DReg, <span class="keywordtype">unsigned</span> Lane,</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;                                       <span class="keywordtype">unsigned</span> &amp;ImplicitSReg) {</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  <span class="comment">// If the DPR is defined or used already, the other SPR lane will be chained</span></div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;  <span class="comment">// correctly, so there is nothing to be done.</span></div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">definesRegister</a>(DReg, TRI) || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(DReg, TRI)) {</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    ImplicitSReg = 0;</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  }</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <span class="comment">// Otherwise we need to go searching to see if the SPR is set explicitly.</span></div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  ImplicitSReg = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">getSubReg</a>(DReg,</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                                (Lane &amp; 1) ? ARM::ssub_0 : ARM::ssub_1);</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142">MachineBasicBlock::LivenessQueryResult</a> LQR =</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6f9ffe437ab2e9369084adfe6e2a8652">computeRegisterLiveness</a>(TRI, ImplicitSReg, MI);</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;  <span class="keywordflow">if</span> (LQR == <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8">MachineBasicBlock::LQR_Live</a>)</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LQR == <a class="code" href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068">MachineBasicBlock::LQR_Unknown</a>)</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  <span class="comment">// If the register is known not to be live, there is no need to add an</span></div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  <span class="comment">// implicit-use.</span></div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;  ImplicitSReg = 0;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;}</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l04032"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#aaed0effffa1cd7a0da7e544a115f9333"> 4032</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aaed0effffa1cd7a0da7e544a115f9333">ARMBaseInstrInfo::setExecutionDomain</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI, <span class="keywordtype">unsigned</span> Domain)<span class="keyword"> const </span>{</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;  <span class="keywordtype">unsigned</span> DstReg, SrcReg, DReg;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;  <span class="keywordtype">unsigned</span> Lane;</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;  <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> MIB(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>);</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI = &amp;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">getRegisterInfo</a>();</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  <span class="keywordflow">switch</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;cannot handle opcode!&quot;</span>);</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="keywordflow">case</span> ARM::VMOVD:</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      <span class="keywordflow">if</span> (Domain != <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>)</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;      <span class="comment">// Zap the predicate operands.</span></div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;      assert(!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI) &amp;&amp; <span class="stringliteral">&quot;Cannot predicate a VORRd&quot;</span>);</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      <span class="comment">// Source instruction is %DDst = VMOVD %DSrc, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;      DstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;      SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1);</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;      <span class="comment">// Change to a %DDst = VORRd %DSrc, %DSrc, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(ARM::VORRd));</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB.addReg(DstReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                        .addReg(SrcReg)</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                        .addReg(SrcReg));</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    <span class="keywordflow">case</span> ARM::VMOVRS:</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <span class="keywordflow">if</span> (Domain != <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>)</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      assert(!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI) &amp;&amp; <span class="stringliteral">&quot;Cannot predicate a VGETLN&quot;</span>);</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;      <span class="comment">// Source instruction is %RDst = VMOVRS %SSrc, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;      DstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;      SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1);</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;      DReg = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a>(TRI, SrcReg, Lane);</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      <span class="comment">// Convert to %RDst = VGETLNi32 %DSrc, Lane, 14, %noreg (; imps)</span></div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      <span class="comment">// Note that DSrc has been widened and the other lane may be undef, which</span></div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;      <span class="comment">// contaminates the entire register.</span></div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(ARM::VGETLNi32));</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB.addReg(DstReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;                        .addReg(DReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">RegState::Undef</a>)</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;                        .addImm(Lane));</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      <span class="comment">// The old source should be an implicit use, otherwise we might think it</span></div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;      <span class="comment">// was dead before here.</span></div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;      MIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    <span class="keywordflow">case</span> ARM::VMOVSR: {</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;      <span class="keywordflow">if</span> (Domain != <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>)</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;      assert(!<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">isPredicated</a>(MI) &amp;&amp; <span class="stringliteral">&quot;Cannot predicate a VSETLN&quot;</span>);</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;      <span class="comment">// Source instruction is %SDst = VMOVSR %RSrc, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;      DstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;      SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;      DReg = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a>(TRI, DstReg, Lane);</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;      <span class="keywordtype">unsigned</span> ImplicitSReg;</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#adf27cb591f496a632979c8ac607baf8c">getImplicitSPRUseForDPRUse</a>(TRI, MI, DReg, Lane, ImplicitSReg))</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1);</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;      <span class="comment">// Convert to %DDst = VSETLNi32 %DDst, %RSrc, Lane, 14, %noreg (; imps)</span></div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;      <span class="comment">// Again DDst may be undefined at the beginning of this instruction.</span></div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(ARM::VSETLNi32));</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;      MIB.addReg(DReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;         .addReg(DReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(DReg, TRI)))</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;         .addReg(SrcReg)</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;         .addImm(Lane);</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;      <span class="comment">// The narrower destination must be marked as set to keep previous chains</span></div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;      <span class="comment">// in place.</span></div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;      MIB.addReg(DstReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;      <span class="keywordflow">if</span> (ImplicitSReg != 0)</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;        MIB.addReg(ImplicitSReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    }</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="keywordflow">case</span> ARM::VMOVS: {</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;      <span class="keywordflow">if</span> (Domain != <a class="code" href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a>)</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;      <span class="comment">// Source instruction is %SDst = VMOVS %SSrc, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;      DstReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;      SrcReg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;      <span class="keywordtype">unsigned</span> DstLane = 0, SrcLane = 0, DDst, DSrc;</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;      DDst = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a>(TRI, DstReg, DstLane);</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;      DSrc = <a class="code" href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a>(TRI, SrcReg, SrcLane);</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;      <span class="keywordtype">unsigned</span> ImplicitSReg;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#adf27cb591f496a632979c8ac607baf8c">getImplicitSPRUseForDPRUse</a>(TRI, MI, DSrc, SrcLane, ImplicitSReg))</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">getDesc</a>().<a class="code" href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">RemoveOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1);</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;      <span class="keywordflow">if</span> (DSrc == DDst) {</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;        <span class="comment">// Destination can be:</span></div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        <span class="comment">//     %DDst = VDUPLN32d %DDst, Lane, 14, %noreg (; implicits)</span></div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;        MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(ARM::VDUPLN32d));</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        MIB.addReg(DDst, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>)</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;           .addReg(DDst, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(DDst, TRI)))</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;           .addImm(SrcLane);</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;        <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;        <span class="comment">// Neither the source or the destination are naturally represented any</span></div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;        <span class="comment">// more, so add them in manually.</span></div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;        MIB.addReg(DstReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a> | <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        MIB.addReg(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;        <span class="keywordflow">if</span> (ImplicitSReg != 0)</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;          MIB.addReg(ImplicitSReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      }</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;      <span class="comment">// In general there&#39;s no single instruction that can perform an S &lt;-&gt; S</span></div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      <span class="comment">// move in NEON space, but a pair of VEXT instructions *can* do the</span></div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;      <span class="comment">// job. It turns out that the VEXTs needed will only use DSrc once, with</span></div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;      <span class="comment">// the position based purely on the combination of lane-0 and lane-1</span></div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;      <span class="comment">// involved. For example</span></div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;      <span class="comment">//     vmov s0, s2 -&gt; vext.32 d0, d0, d1, #1  vext.32 d0, d0, d0, #1</span></div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      <span class="comment">//     vmov s1, s3 -&gt; vext.32 d0, d1, d0, #1  vext.32 d0, d0, d0, #1</span></div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;      <span class="comment">//     vmov s0, s3 -&gt; vext.32 d0, d0, d0, #1  vext.32 d0, d1, d0, #1</span></div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;      <span class="comment">//     vmov s1, s2 -&gt; vext.32 d0, d0, d0, #1  vext.32 d0, d0, d1, #1</span></div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;      <span class="comment">// Pattern of the MachineInstrs is:</span></div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      <span class="comment">//     %DDst = VEXTd32 %DSrc1, %DSrc2, Lane, 14, %noreg (;implicits)</span></div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;      <a class="code" href="classllvm_1_1MachineInstrBuilder.html">MachineInstrBuilder</a> NewMIB;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      NewMIB = <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>(),</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;                       <span class="keyword">get</span>(ARM::VEXTd32), DDst);</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;      <span class="comment">// On the first instruction, both DSrc and DDst may be &lt;undef&gt; if present.</span></div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;      <span class="comment">// Specifically when the original instruction didn&#39;t have them as an</span></div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;      <span class="comment">// &lt;imp-use&gt;.</span></div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;      <span class="keywordtype">unsigned</span> CurReg = SrcLane == 1 &amp;&amp; DstLane == 1 ? DSrc : DDst;</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;      <span class="keywordtype">bool</span> CurUndef = !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(CurReg, TRI);</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;      NewMIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(CurReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(CurUndef));</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;      CurReg = SrcLane == 0 &amp;&amp; DstLane == 0 ? DSrc : DDst;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;      CurUndef = !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(CurReg, TRI);</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;      NewMIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(CurReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(CurUndef));</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;      NewMIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(1);</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(NewMIB);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;      <span class="keywordflow">if</span> (SrcLane == DstLane)</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;        NewMIB.<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(<span class="keyword">get</span>(ARM::VEXTd32));</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;      MIB.addReg(DDst, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a>);</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;      <span class="comment">// On the second instruction, DDst has definitely been defined above, so</span></div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;      <span class="comment">// it is not &lt;undef&gt;. DSrc, if present, can be &lt;undef&gt; as above.</span></div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;      CurReg = SrcLane == 1 &amp;&amp; DstLane == 0 ? DSrc : DDst;</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;      CurUndef = CurReg == DSrc &amp;&amp; !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(CurReg, TRI);</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;      MIB.addReg(CurReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(CurUndef));</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;      CurReg = SrcLane == 0 &amp;&amp; DstLane == 1 ? DSrc : DDst;</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;      CurUndef = CurReg == DSrc &amp;&amp; !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">readsRegister</a>(CurReg, TRI);</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;      MIB.addReg(CurReg, <a class="code" href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">getUndefRegState</a>(CurUndef));</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;      MIB.addImm(1);</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;      <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(MIB);</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;      <span class="keywordflow">if</span> (SrcLane != DstLane)</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;        MIB.addReg(SrcReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;      <span class="comment">// As before, the original destination is no longer represented, add it</span></div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      <span class="comment">// implicitly.</span></div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;      MIB.addReg(DstReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">RegState::Define</a> | <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;      <span class="keywordflow">if</span> (ImplicitSReg != 0)</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        MIB.addReg(ImplicitSReg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">RegState::Implicit</a>);</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;    }</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  }</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;}</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;<span class="comment">// Partial register updates</span></div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;<span class="comment">// Swift renames NEON registers with 64-bit granularity.  That means any</span></div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;<span class="comment">// instruction writing an S-reg implicitly reads the containing D-reg.  The</span></div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;<span class="comment">// problem is mostly avoided by translating f32 operations to v2f32 operations</span></div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;<span class="comment">// on D-registers, but f32 loads are still a problem.</span></div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;<span class="comment">// These instructions can load an f32 into a NEON register:</span></div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;<span class="comment">// VLDRS - Only writes S, partial D update.</span></div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;<span class="comment">// VLD1LNd32 - Writes all D-regs, explicit partial D update, 2 uops.</span></div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;<span class="comment">// VLD1DUPd32 - Writes all D-regs, no partial reg update, 2 uops.</span></div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;<span class="comment">// FCONSTD can be used as a dependency-breaking instruction.</span></div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af2434d76ef277359db5599e3549b691d">ARMBaseInstrInfo::</a></div><div class="line"><a name="l04238"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#af2434d76ef277359db5599e3549b691d"> 4238</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#af2434d76ef277359db5599e3549b691d">getPartialRegUpdateClearance</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI,</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;                             <span class="keywordtype">unsigned</span> OpNum,</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMBaseInstrInfo_8cpp.html#a19ef99d0c38ffb09797db37080cad260">SwiftPartialUpdateClearance</a> ||</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      !(Subtarget.isSwift() || Subtarget.isCortexA15()))</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  assert(TRI &amp;&amp; <span class="stringliteral">&quot;Need TRI instance&quot;</span>);</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OpNum);</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;  <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>())</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  <span class="keywordtype">int</span> UseOp = -1;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;  <span class="keywordflow">switch</span>(MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>()) {</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <span class="comment">// Normal instructions writing only an S-register.</span></div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  <span class="keywordflow">case</span> ARM::VLDRS:</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <span class="keywordflow">case</span> ARM::FCONSTS:</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVSR:</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVv8i8:</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVv4i16:</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVv2i32:</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVv2f32:</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  <span class="keywordflow">case</span> ARM::VMOVv1i64:</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    UseOp = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae165b2f9fc3cfab734c7a4c4d61044ce">findRegisterUseOperandIdx</a>(Reg, <span class="keyword">false</span>, TRI);</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    <span class="comment">// Explicitly reads the dependency.</span></div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <span class="keywordflow">case</span> ARM::VLD1LNd32:</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    UseOp = 3;</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;  }</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="comment">// If this instruction actually reads a value from Reg, there is no unwanted</span></div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <span class="comment">// dependency.</span></div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;  <span class="keywordflow">if</span> (UseOp != -1 &amp;&amp; MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(UseOp).<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>())</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <span class="comment">// We must be able to clobber the whole D-reg.</span></div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">TargetRegisterInfo::isVirtualRegister</a>(Reg)) {</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="comment">// Virtual register must be a foo:ssub_0&lt;def,undef&gt; operand.</span></div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">getSubReg</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab129767be66f47c04b9b807292120bf3">readsVirtualRegister</a>(Reg))</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARM::SPRRegClass.contains(Reg)) {</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <span class="comment">// Physical register: MI must define the full D-reg.</span></div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <span class="keywordtype">unsigned</span> DReg = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">getMatchingSuperReg</a>(Reg, ARM::ssub_0,</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;                                             &amp;ARM::DPRRegClass);</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    <span class="keywordflow">if</span> (!DReg || !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">definesRegister</a>(DReg, TRI))</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;  }</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;  <span class="comment">// MI has an unwanted D-register dependency.</span></div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;  <span class="comment">// Avoid defs in the previous N instructrions.</span></div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="ARMBaseInstrInfo_8cpp.html#a19ef99d0c38ffb09797db37080cad260">SwiftPartialUpdateClearance</a>;</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;}</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;<span class="comment">// Break a partial register dependency after getPartialRegUpdateClearance</span></div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;<span class="comment">// returned non-zero.</span></div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a0debe027a783e78a5f39b947544af5dd">ARMBaseInstrInfo::</a></div><div class="line"><a name="l04300"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#a0debe027a783e78a5f39b947544af5dd"> 4300</a></span>&#160;<a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#a0debe027a783e78a5f39b947544af5dd">breakPartialRegDependency</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MI,</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;                          <span class="keywordtype">unsigned</span> OpNum,</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;  assert(MI &amp;&amp; OpNum &lt; MI-&gt;getDesc().getNumDefs() &amp;&amp; <span class="stringliteral">&quot;OpNum is not a def&quot;</span>);</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;  assert(TRI &amp;&amp; <span class="stringliteral">&quot;Need TRI instance&quot;</span>);</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;getOperand(OpNum);</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  assert(<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(Reg) &amp;&amp;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;         <span class="stringliteral">&quot;Can&#39;t break virtual register dependencies.&quot;</span>);</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  <span class="keywordtype">unsigned</span> DReg = <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <span class="comment">// If MI defines an S-reg, find the corresponding D super-register.</span></div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;  <span class="keywordflow">if</span> (ARM::SPRRegClass.contains(Reg)) {</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    DReg = ARM::D0 + (Reg - ARM::S0) / 2;</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    assert(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#ab473cdc9fb7554bc7375f20d76561e8e">isSuperRegister</a>(Reg, DReg) &amp;&amp; <span class="stringliteral">&quot;Register enums broken&quot;</span>);</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;  }</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;  assert(ARM::DPRRegClass.contains(DReg) &amp;&amp; <span class="stringliteral">&quot;Can only break D-reg deps&quot;</span>);</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;  assert(MI-&gt;definesRegister(DReg, TRI) &amp;&amp; <span class="stringliteral">&quot;MI doesn&#39;t clobber full D-reg&quot;</span>);</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  <span class="comment">// FIXME: In some cases, VLDRS can be changed to a VLD1DUPd32 which defines</span></div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  <span class="comment">// the full D-register by loading the same value to both lanes.  The</span></div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;  <span class="comment">// instruction is micro-coded with 2 uops, so don&#39;t do this until we can</span></div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  <span class="comment">// properly schedule micro-coded instructions.  The dispatcher stalls cause</span></div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;  <span class="comment">// too big regressions.</span></div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;  <span class="comment">// Insert the dependency-breaking FCONSTD before MI.</span></div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;  <span class="comment">// 96 is the encoding of 0.5, but the actual value doesn&#39;t matter here.</span></div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;  <a class="code" href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">AddDefaultPred</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MI-&gt;getParent(), <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, MI-&gt;getDebugLoc(),</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;                         <span class="keyword">get</span>(ARM::FCONSTD), DReg).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(96));</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">addRegisterKilled</a>(DReg, TRI, <span class="keyword">true</span>);</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;}</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;</div><div class="line"><a name="l04334"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#ac714982de3cf34a16018a1f48346b46d"> 4334</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#ac714982de3cf34a16018a1f48346b46d">ARMBaseInstrInfo::hasNOP</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;  <span class="keywordflow">return</span> (Subtarget.getFeatureBits() &amp; ARM::HasV6T2Ops) != 0;</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;}</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;</div><div class="line"><a name="l04338"></a><span class="lineno"><a class="line" href="classllvm_1_1ARMBaseInstrInfo.html#aae231619c97165f218132704f3ba84cf"> 4338</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1ARMBaseInstrInfo.html#aae231619c97165f218132704f3ba84cf">ARMBaseInstrInfo::isSwiftFastImmShift</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MI)<span class="keyword"> const </span>{</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &lt; 4)</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;  <span class="keywordtype">unsigned</span> ShOpVal = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(3).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;  <span class="keywordtype">unsigned</span> ShImm = <a class="code" href="namespacellvm_1_1ARM__AM.html#a6c300abe1e4b9fda1a3eb6630eb99cd5">ARM_AM::getSORegOffset</a>(ShOpVal);</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;  <span class="comment">// Swift supports faster shifts for: lsl 2, lsl 1, and lsr 1.</span></div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;  <span class="keywordflow">if</span> ((ShImm == 1 &amp;&amp; <a class="code" href="namespacellvm_1_1ARM__AM.html#a3c0892ca13564f7da976c5defe746fcf">ARM_AM::getSORegShOp</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa25f26a9f4d00c9ac425953111519c041">ARM_AM::lsr</a>) ||</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      ((ShImm == 1 || ShImm == 2) &amp;&amp;</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;       <a class="code" href="namespacellvm_1_1ARM__AM.html#a3c0892ca13564f7da976c5defe746fcf">ARM_AM::getSORegShOp</a>(ShOpVal) == <a class="code" href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">ARM_AM::lsl</a>))</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;}</div><div class="ttc" id="classllvm_1_1TargetInstrInfo_html_aa9d962aba2d3948781454c0e85782bc7"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aa9d962aba2d3948781454c0e85782bc7">llvm::TargetInstrInfo::duplicate</a></div><div class="ttdeci">virtual MachineInstr * duplicate(MachineInstr *Orig, MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00328">TargetInstrInfo.cpp:328</a></div></div>
<div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">AND</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01588">X86ISelDAGToDAG.cpp:1588</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html">llvm::ScheduleDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00538">ScheduleDAG.h:538</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPoolEntry_html_a5c4adcee15baa3809b6c4393307b10d7"><div class="ttname"><a href="classllvm_1_1MachineConstantPoolEntry.html#a5c4adcee15baa3809b6c4393307b10d7">llvm::MachineConstantPoolEntry::MachineCPVal</a></div><div class="ttdeci">MachineConstantPoolValue * MachineCPVal</div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00080">MachineConstantPool.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a40a5d6e03f5bfd15839355a7c39ab3a0"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a40a5d6e03f5bfd15839355a7c39ab3a0">llvm::MachineOperand::isImplicit</a></div><div class="ttdeci">bool isImplicit() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00279">MachineOperand.h:279</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af702eee696ab1ffa7fe57113786b794a"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af702eee696ab1ffa7fe57113786b794a">llvm::ARMBaseInstrInfo::storeRegToStackSlot</a></div><div class="ttdeci">virtual void storeRegToStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned SrcReg, bool isKill, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00784">ARMBaseInstrInfo.cpp:784</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82fa7d12be6206e5b0026c71bbcd5cb76494">llvm::MachineMemOperand::MOLoad</a></div><div class="ttdoc">The memory access reads data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00093">MachineMemOperand.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a6b9dd790dbf38199f147cb87279a9013"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a6b9dd790dbf38199f147cb87279a9013">llvm::ARMBaseInstrInfo::SubsumesPredicate</a></div><div class="ttdeci">virtual bool SubsumesPredicate(const SmallVectorImpl&lt; MachineOperand &gt; &amp;Pred1, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Pred2) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00476">ARMBaseInstrInfo.cpp:476</a></div></div>
<div class="ttc" id="MachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPool_html"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html">llvm::MachineConstantPool</a></div><div class="ttdoc">The machine constant pool. </div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00134">MachineConstantPool.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a120d548151541463831d22519eb9b82faed357b1367bc90a56fefa4d1b0e17374">llvm::MachineMemOperand::MOStore</a></div><div class="ttdoc">The memory access writes data. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00095">MachineMemOperand.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0c3a2a5a49795f8750ebd02dc0e6e11e"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0c3a2a5a49795f8750ebd02dc0e6e11e">llvm::MachineOperand::getGlobal</a></div><div class="ttdeci">const GlobalValue * getGlobal() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00428">MachineOperand.h:428</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a19ef99d0c38ffb09797db37080cad260"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a19ef99d0c38ffb09797db37080cad260">SwiftPartialUpdateClearance</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; SwiftPartialUpdateClearance(&quot;swift-partial-update-clearance&quot;, cl::Hidden, cl::init(12), cl::desc(&quot;Clearance before partial register updates&quot;))</div></div>
<div class="ttc" id="classllvm_1_1Function_html_a2da53ac53516a3f16191f4c8a8eaa3e5"><div class="ttname"><a href="classllvm_1_1Function.html#a2da53ac53516a3f16191f4c8a8eaa3e5">llvm::Function::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00167">Function.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html"><div class="ttname"><a href="classllvm_1_1LiveVariables.html">llvm::LiveVariables</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00046">LiveVariables.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acae72f6ab1071b7ec87b741a8bef582b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acae72f6ab1071b7ec87b741a8bef582b">llvm::MachineBasicBlock::instr_end</a></div><div class="ttdeci">instr_iterator instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00229">MachineBasicBlock.h:229</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ae82f861eface5f0da4e6a418b09e03bd"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ae82f861eface5f0da4e6a418b09e03bd">llvm::ARM_AM::getAM3Offset</a></div><div class="ttdeci">static unsigned char getAM3Offset(unsigned AM3Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00447">ARMAddressingModes.h:447</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTXISD_html_a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645"><div class="ttname"><a href="namespacellvm_1_1NVPTXISD.html#a594ac167d52343b1fe4cec37bb7dc31ca7cff9cc4a40fe2b19129ee8e9b0ec645">llvm::NVPTXISD::Dummy</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTXISelLowering_8h_source.html#l00053">NVPTXISelLowering.h:53</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a797ac100c6615ff181c03a3c35c7378f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a797ac100c6615ff181c03a3c35c7378f">llvm::MachineInstr::isBranch</a></div><div class="ttdeci">bool isBranch(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00374">MachineInstr.h:374</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_aae5edfed887fcfc8afba7a476cf430fe"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#aae5edfed887fcfc8afba7a476cf430fe">llvm::ARMSubtarget::getMispredictionPenalty</a></div><div class="ttdeci">unsigned getMispredictionPenalty() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8cpp_source.html#l00309">ARMSubtarget.cpp:309</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="structllvm_1_1LiveVariables_1_1VarInfo_html_a2d9cf11e60a209eeb22d2086603ad432"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a2d9cf11e60a209eeb22d2086603ad432">llvm::LiveVariables::VarInfo::removeKill</a></div><div class="ttdeci">bool removeKill(MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00094">LiveVariables.h:94</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a76f5f9f36bbd9f03c844c5b565f239ef"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239ef">llvm::ARM_AM::ShiftOpc</a></div><div class="ttdeci">ShiftOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00027">ARMAddressingModes.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a44874e651b75b372574cc861fee08896"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a44874e651b75b372574cc861fee08896">llvm::ARMII::AddrMode_i12</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00251">ARMBaseInfo.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7db02b21d284294b8d9369803fe1c13b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">llvm::MachineOperand::ChangeToRegister</a></div><div class="ttdeci">void ChangeToRegister(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isDebug=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00129">MachineInstr.cpp:129</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a069e150acc88aaa0d93efc5a11b14de3"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a069e150acc88aaa0d93efc5a11b14de3">getBundledUseMI</a></div><div class="ttdeci">static const MachineInstr * getBundledUseMI(const TargetRegisterInfo *TRI, const MachineInstr *MI, unsigned Reg, unsigned &amp;UseIdx, unsigned &amp;Dist)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03257">ARMBaseInstrInfo.cpp:3257</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a2b5a3ba5d3a4090be8c4cd5850d5e9dd"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a2b5a3ba5d3a4090be8c4cd5850d5e9dd">llvm::InstrItineraryData::getNumMicroOps</a></div><div class="ttdeci">int getNumMicroOps(unsigned ItinClassIndx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00242">MCInstrItineraries.h:242</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af3d8d6235c7bc8027782455f8506e9fb"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af3d8d6235c7bc8027782455f8506e9fb">llvm::ARMBaseInstrInfo::isStoreToStackSlotPostFE</a></div><div class="ttdeci">virtual unsigned isStoreToStackSlotPostFE(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00968">ARMBaseInstrInfo.cpp:968</a></div></div>
<div class="ttc" id="ARMMachineFunctionInfo_8h_html"><div class="ttname"><a href="ARMMachineFunctionInfo_8h.html">ARMMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a384e5e5cd4fab5d3c1645e2c2d22093f"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a384e5e5cd4fab5d3c1645e2c2d22093f">llvm::ARMSubtarget::isCortexA8</a></div><div class="ttdeci">bool isCortexA8() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00254">ARMSubtarget.h:254</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a9d472a8ee447cef18a71beb229d4d252"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a9d472a8ee447cef18a71beb229d4d252">llvm::MCInstrDesc::getNumDefs</a></div><div class="ttdeci">unsigned getNumDefs() const </div><div class="ttdoc">Return the number of MachineOperands that are register definitions. Register definitions always occur...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00198">MCInstrDesc.h:198</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a76c3c7e3d4f11b4cfad37fc0449c9635"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">unsigned createVirtualRegister(const TargetRegisterClass *RegClass)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00104">MachineRegisterInfo.cpp:104</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a3e943d975799a4c55333c54eac1a7991">llvm::ARMII::AddrMode3</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00238">ARMBaseInfo.h:238</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a257cdd16d16d0a9d9b358b5e5a472258"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a257cdd16d16d0a9d9b358b5e5a472258">llvm::ARM_AM::getSORegOpc</a></div><div class="ttdeci">static unsigned getSORegOpc(ShiftOpc ShOp, unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00112">ARMAddressingModes.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_ab05d1cccbb3eb5ac5a66e703f969528d"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ab05d1cccbb3eb5ac5a66e703f969528d">llvm::MCInstrDesc::hasOptionalDef</a></div><div class="ttdeci">bool hasOptionalDef() const </div><div class="ttdoc">Set if this instruction has an optional definition, e.g. ARM instructions which can set condition cod...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00215">MCInstrDesc.h:215</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a212c0ddf63f28039bf73a4fbb46490ac"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a212c0ddf63f28039bf73a4fbb46490ac">llvm::ARMBaseInstrInfo::getNumMicroOps</a></div><div class="ttdeci">virtual unsigned getNumMicroOps(const InstrItineraryData *ItinData, const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02833">ARMBaseInstrInfo.cpp:2833</a></div></div>
<div class="ttc" id="namespacellvm_1_1SystemZISD_html_a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510"><div class="ttname"><a href="namespacellvm_1_1SystemZISD.html#a9a3c050e4bfe8d0d09d74c979f5bb121a68ace50a32835aa0562cf8f9694ba510">llvm::SystemZISD::TM</a></div><div class="ttdef"><b>Definition:</b> <a href="SystemZISelLowering_8h_source.html#l00060">SystemZISelLowering.h:60</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a7146d8440bad26a32a80ae4362298783"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a7146d8440bad26a32a80ae4362298783">llvm::MCInstrDesc::mayStore</a></div><div class="ttdeci">bool mayStore() const </div><div class="ttdoc">Return true if this instruction could possibly modify memory. Instructions with this flag set are not...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00376">MCInstrDesc.h:376</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aac36edc9860bf2e7660f86928836fc63"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aac36edc9860bf2e7660f86928836fc63">llvm::MachineFunction::getMachineMemOperand</a></div><div class="ttdeci">MachineMemOperand * getMachineMemOperand(MachinePointerInfo PtrInfo, unsigned f, uint64_t s, unsigned base_alignment, const MDNode *TBAAInfo=0, const MDNode *Ranges=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00224">MachineFunction.cpp:224</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolValue_html"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolValue.html">llvm::ARMConstantPoolValue</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00052">ARMConstantPoolValue.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aed8d139ece631812f972a8cc074adc55"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aed8d139ece631812f972a8cc074adc55">llvm::MachineOperand::setIsDef</a></div><div class="ttdeci">void setIsDef(bool Val=true)</div><div class="ttdoc">Change a def to a use, or a use to a def. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00091">MachineInstr.cpp:91</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aa5f0eb2aad4a731d5d5133b8cb5e0a98"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">llvm::MachineInstr::mayStore</a></div><div class="ttdeci">bool mayStore(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00479">MachineInstr.h:479</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a72a76ed5a14368ed2d1811e110c0d38f"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a72a76ed5a14368ed2d1811e110c0d38f">llvm::ARMBaseInstrInfo::isSchedulingBoundary</a></div><div class="ttdeci">virtual bool isSchedulingBoundary(const MachineInstr *MI, const MachineBasicBlock *MBB, const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01524">ARMBaseInstrInfo.cpp:1524</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a196420aa839c2b21f42c4bf5c36df437"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00284">MachineOperand.h:284</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a9c01fd3652ae10236d146126f5675d6e"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a9c01fd3652ae10236d146126f5675d6e">llvm::ARMBaseInstrInfo::CreateTargetHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetHazardRecognizer(const TargetMachine *TM, const ScheduleDAG *DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00104">ARMBaseInstrInfo.cpp:104</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae62c5ea35b71f9020caa94340bc78f37"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ae62c5ea35b71f9020caa94340bc78f37">llvm::TargetRegisterInfo::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a72e850cfadc5522018e5cc1f27429232"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a72e850cfadc5522018e5cc1f27429232">llvm::ARMBaseInstrInfo::shouldScheduleLoadsNear</a></div><div class="ttdeci">virtual bool shouldScheduleLoadsNear(SDNode *Load1, SDNode *Load2, int64_t Offset1, int64_t Offset2, unsigned NumLoads) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01494">ARMBaseInstrInfo.cpp:1494</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a33a0d1999c0408a2ca70902db420c596"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a33a0d1999c0408a2ca70902db420c596">isSuitableForMask</a></div><div class="ttdeci">static bool isSuitableForMask(MachineInstr *&amp;MI, unsigned SrcReg, int CmpMask, bool CommonUse)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02148">ARMBaseInstrInfo.cpp:2148</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af7e521440ad010ed3629ed7bbf0cc5c1"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af7e521440ad010ed3629ed7bbf0cc5c1">llvm::ARMBaseInstrInfo::AnalyzeBranch</a></div><div class="ttdeci">virtual bool AnalyzeBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *&amp;TBB, MachineBasicBlock *&amp;FBB, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, bool AllowModify=false) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00272">ARMBaseInstrInfo.cpp:272</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a308e2e7bf95854b0379b9f2e229978c2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a308e2e7bf95854b0379b9f2e229978c2">llvm::MachineOperand::isTied</a></div><div class="ttdeci">bool isTied() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00309">MachineOperand.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a65917695d9792adaf44d85541df98de2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a65917695d9792adaf44d85541df98de2">llvm::MachineInstr::isPredicable</a></div><div class="ttdeci">bool isPredicable(QueryType Type=AllInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00404">MachineInstr.h:404</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab129767be66f47c04b9b807292120bf3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab129767be66f47c04b9b807292120bf3">llvm::MachineInstr::readsVirtualRegister</a></div><div class="ttdeci">bool readsVirtualRegister(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00731">MachineInstr.h:731</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00278">MachineBasicBlock.h:278</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa0fec8ba6f4a4dc758b725205985eee99">llvm::RegState::Implicit</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00032">MachineInstrBuilder.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_af838e603b174909a5a50461a21801f1b"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#af838e603b174909a5a50461a21801f1b">llvm::TargetInstrInfo::CreateTargetPostRAHazardRecognizer</a></div><div class="ttdeci">virtual ScheduleHazardRecognizer * CreateTargetPostRAHazardRecognizer(const InstrItineraryData *, const ScheduleDAG *DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00605">TargetInstrInfo.cpp:605</a></div></div>
<div class="ttc" id="classllvm_1_1BranchProbability_html_a0b51ce0ba1d578a608aefbe5cacdba58"><div class="ttname"><a href="classllvm_1_1BranchProbability.html#a0b51ce0ba1d578a608aefbe5cacdba58">llvm::BranchProbability::getNumerator</a></div><div class="ttdeci">uint32_t getNumerator() const </div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00041">BranchProbability.h:41</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a8faff5770ac9abcc38b6a74380aeeec5"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a8faff5770ac9abcc38b6a74380aeeec5">getCorrespondingDRegAndLane</a></div><div class="ttdeci">static unsigned getCorrespondingDRegAndLane(const TargetRegisterInfo *TRI, unsigned SReg, unsigned &amp;Lane)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03973">ARMBaseInstrInfo.cpp:3973</a></div></div>
<div class="ttc" id="namespacellvm_html_af1326f50ef96dc5653d5cadd2f9cbbf5"><div class="ttname"><a href="namespacellvm.html#af1326f50ef96dc5653d5cadd2f9cbbf5">llvm::MCPhysReg</a></div><div class="ttdeci">uint16_t MCPhysReg</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00027">MCRegisterInfo.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6f9ffe437ab2e9369084adfe6e2a8652"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a6f9ffe437ab2e9369084adfe6e2a8652">llvm::MachineBasicBlock::computeRegisterLiveness</a></div><div class="ttdeci">LivenessQueryResult computeRegisterLiveness(const TargetRegisterInfo *TRI, unsigned Reg, MachineInstr *MI, unsigned Neighborhood=10)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01144">MachineBasicBlock.cpp:1144</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8h_html"><div class="ttname"><a href="ARMBaseInstrInfo_8h.html">ARMBaseInstrInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a4f1d9a9a0660bc80837984980c7ba402">llvm::ARMCC::EQ</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00030">ARMBaseInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a7b1e6e41a5fc03ef005bcf94bb01c1e0"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a7b1e6e41a5fc03ef005bcf94bb01c1e0">llvm::ARMBaseInstrInfo::isLoadFromStackSlotPostFE</a></div><div class="ttdeci">virtual unsigned isLoadFromStackSlotPostFE(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01159">ARMBaseInstrInfo.cpp:1159</a></div></div>
<div class="ttc" id="SelectionDAGNodes_8h_html"><div class="ttname"><a href="SelectionDAGNodes_8h.html">SelectionDAGNodes.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a803a7424877fd049679b9aa2f07597b5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a803a7424877fd049679b9aa2f07597b5">llvm::MachineInstr::getDesc</a></div><div class="ttdeci">const MCInstrDesc &amp; getDesc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00257">MachineInstr.h:257</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aa68427c1132a2d221976f7fb33892dbb"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aa68427c1132a2d221976f7fb33892dbb">llvm::ARMBaseInstrInfo::GetInstSizeInBytes</a></div><div class="ttdeci">virtual unsigned GetInstSizeInBytes(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00550">ARMBaseInstrInfo.cpp:550</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a79d84fa8afc06293231558d1e4de091f"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a79d84fa8afc06293231558d1e4de091f">llvm::ARMSubtarget::hasV5TEOps</a></div><div class="ttdeci">bool hasV5TEOps() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00246">ARMSubtarget.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad9456ef14a72da4e4def5d8747c41a09"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad9456ef14a72da4e4def5d8747c41a09">llvm::MachineOperand::getSymbolName</a></div><div class="ttdeci">const char * getSymbolName() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00452">MachineOperand.h:452</a></div></div>
<div class="ttc" id="MCAsmInfo_8h_html"><div class="ttname"><a href="MCAsmInfo_8h.html">MCAsmInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_ae898a405bf69c3021cd998257390494e"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#ae898a405bf69c3021cd998257390494e">llvm::ARMFunctionInfo::isThumbFunction</a></div><div class="ttdeci">bool isThumbFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00140">ARMMachineFunctionInfo.h:140</a></div></div>
<div class="ttc" id="structllvm_1_1LiveVariables_1_1VarInfo_html"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html">llvm::LiveVariables::VarInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00079">LiveVariables.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a836c27481205f56e708fe0c15538d5ff"><div class="ttname"><a href="classllvm_1_1SDNode.html#a836c27481205f56e708fe0c15538d5ff">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00554">SelectionDAGNodes.h:554</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00373">MachineOperand.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8afbad4e5ed543b4325115bdb3aff2f8d9">llvm::TargetOpcode::COPY</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00086">TargetOpcodes.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a46e0fcca2366f30d5e35b3d7dcb9c65f"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a46e0fcca2366f30d5e35b3d7dcb9c65f">llvm::MCInstrDesc::TSFlags</a></div><div class="ttdeci">uint64_t TSFlags</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00145">MCInstrDesc.h:145</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a342d1000000ffc6b02074f32b9a02166"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a342d1000000ffc6b02074f32b9a02166">llvm::ARMSubtarget::isThumb1Only</a></div><div class="ttdeci">bool isThumb1Only() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00320">ARMSubtarget.h:320</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cda41a13f3ce88ed84e63003e32b18c1235">llvm::ARM_AM::sub</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00037">ARMAddressingModes.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a9dbb177d004cae6c3474b6aadc8ae07e">llvm::ARMII::AddrMode4</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00239">ARMBaseInfo.h:239</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCP_html_ad7299e03746a8bdbbff1d3aaf03eaaabac6721b50294fd164c5861cb82e938e10"><div class="ttname"><a href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaabac6721b50294fd164c5861cb82e938e10">llvm::ARMCP::CPBlockAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00034">ARMConstantPoolValue.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a35e5226e31619a535b692b702a2990a6"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a35e5226e31619a535b692b702a2990a6">llvm::ARMFunctionInfo::createPICLabelUId</a></div><div class="ttdeci">unsigned createPICLabelUId()</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00201">ARMMachineFunctionInfo.h:201</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a668a990d85d825c156b84fbb732580f1"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a668a990d85d825c156b84fbb732580f1">llvm::ARMBaseInstrInfo::reMaterialize</a></div><div class="ttdeci">virtual void reMaterialize(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MI, unsigned DestReg, unsigned SubIdx, const MachineInstr *Orig, const TargetRegisterInfo &amp;TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01277">ARMBaseInstrInfo.cpp:1277</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_adef1e2c652a11005d506082dea2f0723"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#adef1e2c652a11005d506082dea2f0723">llvm::ARMBaseInstrInfo::optimizeCompareInstr</a></div><div class="ttdeci">virtual bool optimizeCompareInstr(MachineInstr *CmpInstr, unsigned SrcReg, unsigned SrcReg2, int CmpMask, int CmpValue, const MachineRegisterInfo *MRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02228">ARMBaseInstrInfo.cpp:2228</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a090893e44b7d8da1ed8e65cc6b586ae8"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a090893e44b7d8da1ed8e65cc6b586ae8">llvm::ARMII::IndexModeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00331">ARMBaseInfo.h:331</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aea36f6665e4992da1874625d5f00e1c1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">llvm::MachineInstr::isTerminator</a></div><div class="ttdeci">bool isTerminator(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00366">MachineInstr.h:366</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a9716711ecfa12e9b08bf9bca20b52429afbe482a8b25c7219e7cf97a031e42eb0"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429afbe482a8b25c7219e7cf97a031e42eb0">ExeGeneric</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03934">ARMBaseInstrInfo.cpp:3934</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_adf27cb591f496a632979c8ac607baf8c"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#adf27cb591f496a632979c8ac607baf8c">getImplicitSPRUseForDPRUse</a></div><div class="ttdeci">static bool getImplicitSPRUseForDPRUse(const TargetRegisterInfo *TRI, MachineInstr *MI, unsigned DReg, unsigned Lane, unsigned &amp;ImplicitSReg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04003">ARMBaseInstrInfo.cpp:4003</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa833922eca2ad0eab70573ba1f5fba9af">llvm::RegState::ImplicitDefine</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00040">MachineInstrBuilder.h:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ab08fcb6b44de3c3a6aa96988363d97e0"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ab08fcb6b44de3c3a6aa96988363d97e0">llvm::ARM_AM::getSOImmValRotate</a></div><div class="ttdeci">static unsigned getSOImmValRotate(unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00137">ARMAddressingModes.h:137</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_aa572dd9c5255192a00848201be8de3d6"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#aa572dd9c5255192a00848201be8de3d6">llvm::ARMSubtarget::restrictIT</a></div><div class="ttdeci">bool restrictIT() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00334">ARMSubtarget.h:334</a></div></div>
<div class="ttc" id="structllvm_1_1MachinePointerInfo_html_acb492206d94d8f8179f797d4c7966ba9"><div class="ttname"><a href="structllvm_1_1MachinePointerInfo.html#acb492206d94d8f8179f797d4c7966ba9">llvm::MachinePointerInfo::getFixedStack</a></div><div class="ttdeci">static MachinePointerInfo getFixedStack(int FI, int64_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00404">MachineInstr.cpp:404</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ae53a385b86237b961ccc18a8701ae588"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ae53a385b86237b961ccc18a8701ae588">llvm::TargetRegisterInfo::getCalleeSavedRegs</a></div><div class="ttdeci">virtual const MCPhysReg * getCalleeSavedRegs(const MachineFunction *MF=0) const =0</div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a6d968947f2037095847dd5721335f6a6"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a6d968947f2037095847dd5721335f6a6">llvm::ARM_AM::rotr32</a></div><div class="ttdeci">static unsigned rotr32(unsigned Val, unsigned Amt)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00086">ARMAddressingModes.h:86</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0fecec4134a451feb93566a8a0a75ae1">llvm::ARMII::DomainVFP</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00426">ARMBaseInfo.h:426</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a35dd53987c8b93e87a384016981da7b5"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a35dd53987c8b93e87a384016981da7b5">llvm::ARMBaseInstrInfo::copyPhysReg</a></div><div class="ttdeci">virtual void copyPhysReg(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator I, DebugLoc DL, unsigned DestReg, unsigned SrcReg, bool KillSrc) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00650">ARMBaseInstrInfo.cpp:650</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1MachineJumpTableInfo_html_adebd965803507068e86d6d3d454338e9"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html#adebd965803507068e86d6d3d454338e9">llvm::MachineJumpTableInfo::getJumpTables</a></div><div class="ttdeci">const std::vector&lt; MachineJumpTableEntry &gt; &amp; getJumpTables() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00099">MachineJumpTableInfo.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_af19a512f40c1e9247796ad8cee70884b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#af19a512f40c1e9247796ad8cee70884b">llvm::MachineOperand::isJTI</a></div><div class="ttdeci">bool isJTI() const </div><div class="ttdoc">isJTI - Tests if this is a MO_JumpTableIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00240">MachineOperand.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_ae220352610e3badb61763dcbae9b7a6f"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#ae220352610e3badb61763dcbae9b7a6f">llvm::TargetRegisterClass::getSize</a></div><div class="ttdeci">unsigned getSize() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00087">TargetRegisterInfo.h:87</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00549">Target/README.txt:549</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_ac7fed7cb7bb03c7ace7c3b36a1f9d108"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#ac7fed7cb7bb03c7ace7c3b36a1f9d108">llvm::InstrItineraryData::getOperandCycle</a></div><div class="ttdeci">int getOperandCycle(unsigned ItinClassIndx, unsigned OperandIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00180">MCInstrItineraries.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="namespacellvm_html_abf7336821a22d9da733af010b2f39089"><div class="ttname"><a href="namespacellvm.html#abf7336821a22d9da733af010b2f39089">llvm::AddDefaultPred</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultPred(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00324">ARMBaseInstrInfo.h:324</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daab502f975742e9bff6d6dd7b49439b806">llvm::RegState::Undef</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00035">MachineInstrBuilder.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ac8347c6938efe4d9a4426b92ef57851e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ac8347c6938efe4d9a4426b92ef57851e">llvm::MachineRegisterInfo::use_end</a></div><div class="ttdeci">static use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00260">MachineRegisterInfo.h:260</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a4464c39babc8c8afe5055a25af42b548"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a4464c39babc8c8afe5055a25af42b548">llvm::TargetOpcode::EH_LABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00029">TargetOpcodes.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MachineSDNode_html_aa5952f8e3095c74ddc3730866123c115"><div class="ttname"><a href="classllvm_1_1MachineSDNode.html#aa5952f8e3095c74ddc3730866123c115">llvm::MachineSDNode::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01799">SelectionDAGNodes.h:1799</a></div></div>
<div class="ttc" id="MachineConstantPool_8h_html"><div class="ttname"><a href="MachineConstantPool_8h.html">MachineConstantPool.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6abe109952a13e776b7b978e02e4f33427"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6abe109952a13e776b7b978e02e4f33427">llvm::ARMCC::VS</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00036">ARMBaseInfo.h:36</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a2356140507d825b629c3866b8c75b3ab"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a2356140507d825b629c3866b8c75b3ab">llvm::MachineRegisterInfo::getTargetRegisterInfo</a></div><div class="ttdeci">const TargetRegisterInfo * getTargetRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00127">MachineRegisterInfo.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a18124eff2d5106b9bf041f948a1912cc"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a18124eff2d5106b9bf041f948a1912cc">llvm::MachineOperand::CreateReg</a></div><div class="ttdeci">static MachineOperand CreateReg(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isEarlyClobber=false, unsigned SubReg=0, bool isDebug=false, bool isInternalRead=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00560">MachineOperand.h:560</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a0183706ce035a6141db09c0479e0fb6e"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a0183706ce035a6141db09c0479e0fb6e">llvm::TargetMachine::getMCAsmInfo</a></div><div class="ttdeci">const MCAsmInfo * getMCAsmInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00127">Target/TargetMachine.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ad7fb4301e268000e3204e2364b036ba0"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ad7fb4301e268000e3204e2364b036ba0">llvm::ARMBaseInstrInfo::optimizeSelect</a></div><div class="ttdeci">virtual MachineInstr * optimizeSelect(MachineInstr *MI, bool) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01725">ARMBaseInstrInfo.cpp:1725</a></div></div>
<div class="ttc" id="ARMFeatures_8h_html"><div class="ttname"><a href="ARMFeatures_8h.html">ARMFeatures.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2ac18ceda9f2857fea2e5cc4e8bf4ff5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2ac18ceda9f2857fea2e5cc4e8bf4ff5">llvm::MachineOperand::isImm</a></div><div class="ttdeci">bool isImm() const </div><div class="ttdoc">isImm - Tests if this is a MO_Immediate operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00226">MachineOperand.h:226</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a7981f38e296fd86b0cea036317fc1fcd"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a7981f38e296fd86b0cea036317fc1fcd">llvm::MCInstrDesc::isCall</a></div><div class="ttdeci">bool isCall() const </div><div class="ttdoc">Return true if the instruction is a call. </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00232">MCInstrDesc.h:232</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a7d9742a01ea175053d76a714474d88a6"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a7d9742a01ea175053d76a714474d88a6">llvm::ARMII::AddrMode2</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00237">ARMBaseInfo.h:237</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad8198d6d83af9410d867136e33fbf4b2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const </div><div class="ttdoc">isReg - Tests if this is a MO_Register operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a10e708480cdc97c951368e06c13eac92"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a10e708480cdc97c951368e06c13eac92">llvm::MachineOperand::setImplicit</a></div><div class="ttdeci">void setImplicit(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00362">MachineOperand.h:362</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac2421adbb9996e1b15f03a8abb6c70a8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac2421adbb9996e1b15f03a8abb6c70a8">llvm::MachineInstr::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00846">MachineInstr.cpp:846</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2b48451e9cc8433ed5f8ee30462cc96e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">llvm::MachineInstr::mayLoad</a></div><div class="ttdeci">bool mayLoad(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00465">MachineInstr.h:465</a></div></div>
<div class="ttc" id="namespacellvm_html_aa74e4894fee993892fcd8ce9b66cc6bd"><div class="ttname"><a href="namespacellvm.html#aa74e4894fee993892fcd8ce9b66cc6bd">llvm::rewriteARMFrameIndex</a></div><div class="ttdeci">bool rewriteARMFrameIndex(MachineInstr &amp;MI, unsigned FrameRegIdx, unsigned FrameReg, int &amp;Offset, const ARMBaseInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01969">ARMBaseInstrInfo.cpp:1969</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ab3904d3601dbe52865d5f2e33a06d80d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00342">MachineRegisterInfo.h:342</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af2434d76ef277359db5599e3549b691d"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af2434d76ef277359db5599e3549b691d">llvm::ARMBaseInstrInfo::getPartialRegUpdateClearance</a></div><div class="ttdeci">unsigned getPartialRegUpdateClearance(const MachineInstr *, unsigned, const TargetRegisterInfo *) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04238">ARMBaseInstrInfo.cpp:4238</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_aefba5f2af370add1bc8aaceedf7878ef"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">llvm::MachineBasicBlock::succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00249">MachineBasicBlock.h:249</a></div></div>
<div class="ttc" id="classllvm_1_1MachineSDNode_html_ac724c74559a159fd319e39c3a62442db"><div class="ttname"><a href="classllvm_1_1MachineSDNode.html#ac724c74559a159fd319e39c3a62442db">llvm::MachineSDNode::memoperands_empty</a></div><div class="ttdeci">bool memoperands_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01801">SelectionDAGNodes.h:1801</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aebc99c3c37896879abad49e7254a2fb8"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aebc99c3c37896879abad49e7254a2fb8">llvm::MachineOperand::setIndex</a></div><div class="ttdeci">void setIndex(int Idx)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00500">MachineOperand.h:500</a></div></div>
<div class="ttc" id="namespacellvm_html_a0c287a0a3e811d36352812b8a7d5425e"><div class="ttname"><a href="namespacellvm.html#a0c287a0a3e811d36352812b8a7d5425e">llvm::tryFoldSPUpdateIntoPushPop</a></div><div class="ttdeci">bool tryFoldSPUpdateIntoPushPop(MachineFunction &amp;MF, MachineInstr *MI, unsigned NumBytes)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01860">ARMBaseInstrInfo.cpp:1860</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="classARMGenInstrInfo_html"><div class="ttname"><a href="classARMGenInstrInfo.html">ARMGenInstrInfo</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html">llvm::ARMBaseInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00030">ARMBaseInstrInfo.h:30</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a7ed629585c923f434528020bd892bb97"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a7ed629585c923f434528020bd892bb97">llvm::ARMCC::HI</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00038">ARMBaseInfo.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a560919c1929f18364551547b0ecc2d98"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a560919c1929f18364551547b0ecc2d98">llvm::ARMBaseInstrInfo::isPredicated</a></div><div class="ttdeci">bool isPredicated(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00437">ARMBaseInstrInfo.cpp:437</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a69d6715752707a83ec4cbecff60b5359"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a69d6715752707a83ec4cbecff60b5359">llvm::TargetMachine::getInstrItineraryData</a></div><div class="ttdeci">virtual const InstrItineraryData * getInstrItineraryData() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00155">Target/TargetMachine.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a96db53f04326f6421725b16e4ee7a596">llvm::ARMII::DomainMask</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00424">ARMBaseInfo.h:424</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110ae35d57f3c020672748fcc95607348986">llvm::ISD::INLINEASM</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00513">ISDOpcodes.h:513</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_acce36a59bdda59a266d2f2bfeaa7a9b6"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#acce36a59bdda59a266d2f2bfeaa7a9b6">llvm::ARM_AM::getT2SOImmTwoPartFirst</a></div><div class="ttdeci">static unsigned getT2SOImmTwoPartFirst(unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00362">ARMAddressingModes.h:362</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a23ab698d5fa355a202fb1f18b173f811"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a23ab698d5fa355a202fb1f18b173f811">llvm::ARMII::DomainNEONA8</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00428">ARMBaseInfo.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2a6233524fe8cf33f83fe27d3673412c"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2a6233524fe8cf33f83fe27d3673412c">llvm::MachineOperand::isCPI</a></div><div class="ttdeci">bool isCPI() const </div><div class="ttdoc">isCPI - Tests if this is a MO_ConstantPoolIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00236">MachineOperand.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a5b518bf08cf352b115648f7719a7f610"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5b518bf08cf352b115648f7719a7f610">llvm::ARMCC::LS</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00039">ARMBaseInfo.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a077805003085f226c324aa660f324b77"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a077805003085f226c324aa660f324b77">llvm::ARMBaseInstrInfo::isFpMLxInstruction</a></div><div class="ttdeci">bool isFpMLxInstruction(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00300">ARMBaseInstrInfo.h:300</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a001a88e1d71c2e11ccd57efe75da4af3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a001a88e1d71c2e11ccd57efe75da4af3">llvm::MachineInstr::RemoveOperand</a></div><div class="ttdeci">void RemoveOperand(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00717">MachineInstr.cpp:717</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa21b508be8c212bdb0b28d734ab0ddb8"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00289">MachineOperand.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a19a1a901f757893c5ddac81e3ce867dc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">llvm::MachineInstr::definesRegister</a></div><div class="ttdeci">bool definesRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00753">MachineInstr.h:753</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a78f76da5e042c72f0e78b114d0e365d2"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a78f76da5e042c72f0e78b114d0e365d2">getSwappedCondition</a></div><div class="ttdeci">static ARMCC::CondCodes getSwappedCondition(ARMCC::CondCodes CC)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02176">ARMBaseInstrInfo.cpp:2176</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab0d5ec413fa43a1e470dafb6cafda9b5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const </div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00234">MachineOperand.h:234</a></div></div>
<div class="ttc" id="namespacellvm_html_a370ed0e0f2bb66d17cd13f84be54e867"><div class="ttname"><a href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">llvm::array_lengthof</a></div><div class="ttdeci">size_t array_lengthof(T(&amp;)[N])</div><div class="ttdoc">Find the length of an array. </div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00250">STLExtras.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8b64b30189b85c9dd54292b7d1d08a70"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8b64b30189b85c9dd54292b7d1d08a70">llvm::MachineInstr::readsRegister</a></div><div class="ttdeci">bool readsRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00724">MachineInstr.h:724</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a5c36456408da4afa0fa2f60a9da88ddb"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a5c36456408da4afa0fa2f60a9da88ddb">llvm::TargetInstrInfo::commuteInstruction</a></div><div class="ttdeci">virtual MachineInstr * commuteInstruction(MachineInstr *MI, bool NewMI=false) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00119">TargetInstrInfo.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_ac2112296600ed4c01c2554d6dfb79f4c"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#ac2112296600ed4c01c2554d6dfb79f4c">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">unsigned getMatchingSuperReg(unsigned Reg, unsigned SubIdx, const TargetRegisterClass *RC) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00457">TargetRegisterInfo.h:457</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a6433e8a167a4ca274cedaf951140ae78"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a6433e8a167a4ca274cedaf951140ae78">llvm::ARMBaseInstrInfo::produceSameValue</a></div><div class="ttdeci">virtual bool produceSameValue(const MachineInstr *MI0, const MachineInstr *MI1, const MachineRegisterInfo *MRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01320">ARMBaseInstrInfo.cpp:1320</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a802d63db44042a459a19b9f89b5b470c">llvm::ARMCC::GE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00040">ARMBaseInfo.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a99e93c9b5c2f41b3d601d129a6f60a6e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a99e93c9b5c2f41b3d601d129a6f60a6e">llvm::MachineFunction::getJumpTableInfo</a></div><div class="ttdeci">const MachineJumpTableInfo * getJumpTableInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00181">MachineFunction.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a100d59f6313d76435a54425d3d11bf99"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a100d59f6313d76435a54425d3d11bf99">llvm::MachineInstr::isCopyLike</a></div><div class="ttdeci">bool isCopyLike() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00678">MachineInstr.h:678</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a6629ec6bb6d754c9fc7132f69a6a45ea"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a6629ec6bb6d754c9fc7132f69a6a45ea">getNumMicroOpsSwiftLdSt</a></div><div class="ttdeci">static unsigned getNumMicroOpsSwiftLdSt(const InstrItineraryData *ItinData, const MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02578">ARMBaseInstrInfo.cpp:2578</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html">llvm::InstrItineraryData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00111">MCInstrItineraries.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_a8d8348060ccdeeba13fb8bc651dfbf82"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a8d8348060ccdeeba13fb8bc651dfbf82">llvm::SmallSet::insert</a></div><div class="ttdeci">bool insert(const T &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00059">SmallSet.h:59</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPoolEntry_html"><div class="ttname"><a href="classllvm_1_1MachineConstantPoolEntry.html">llvm::MachineConstantPoolEntry</a></div><div class="ttdoc">An entry in a MachineConstantPool. </div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00075">MachineConstantPool.h:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_ac3c3cf58d6d631af6a172457304d3d07"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ac3c3cf58d6d631af6a172457304d3d07">llvm::ISD::CondCode</a></div><div class="ttdeci">CondCode</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00719">ISDOpcodes.h:719</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a97de685f215df81fe66267171364ab6b"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a97de685f215df81fe66267171364ab6b">ARM_MLxTable</a></div><div class="ttdeci">static const ARM_MLxEntry ARM_MLxTable[]</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00067">ARMBaseInstrInfo.cpp:67</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html"><div class="ttname"><a href="structARM__MLxEntry.html">ARM_MLxEntry</a></div><div class="ttdoc">ARM_MLxEntry - Record information about MLA / MLS instructions. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00059">ARMBaseInstrInfo.cpp:59</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a7c457dd5fa38d890e08f9d13d0568695"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a7c457dd5fa38d890e08f9d13d0568695">llvm::ARMBaseInstrInfo::RemoveBranch</a></div><div class="ttdeci">virtual unsigned RemoveBranch(MachineBasicBlock &amp;MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00363">ARMBaseInstrInfo.cpp:363</a></div></div>
<div class="ttc" id="BranchProbability_8h_html"><div class="ttname"><a href="BranchProbability_8h.html">BranchProbability.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5ada3eb06ada644390db065d37b3fd87ac"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5ada3eb06ada644390db065d37b3fd87ac">llvm::tgtok::Class</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="namespacellvm_html_aa3a1f79eb5e89f41ad5a3d8e9b2a367a"><div class="ttname"><a href="namespacellvm.html#aa3a1f79eb5e89f41ad5a3d8e9b2a367a">llvm::getUndefRegState</a></div><div class="ttdeci">unsigned getUndefRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00395">MachineInstrBuilder.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a4312b4757ac75bf9be905acfeefd6838"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(unsigned Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00052">MachineRegisterInfo.cpp:52</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1MachineJumpTableInfo_html"><div class="ttname"><a href="classllvm_1_1MachineJumpTableInfo.html">llvm::MachineJumpTableInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineJumpTableInfo_8h_source.html#l00042">MachineJumpTableInfo.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPoolEntry_html_a827e5ecd2c9756707a9702e475aa4fd4"><div class="ttname"><a href="classllvm_1_1MachineConstantPoolEntry.html#a827e5ecd2c9756707a9702e475aa4fd4">llvm::MachineConstantPoolEntry::isMachineConstantPoolEntry</a></div><div class="ttdeci">bool isMachineConstantPoolEntry() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00100">MachineConstantPool.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa7e43fc5b201a1cc5b2b0f1f72963dd2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">llvm::MachineOperand::ChangeToImmediate</a></div><div class="ttdeci">void ChangeToImmediate(int64_t ImmVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00112">MachineInstr.cpp:112</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html">llvm::ARMSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00031">ARMSubtarget.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1BranchProbability_html"><div class="ttname"><a href="classllvm_1_1BranchProbability.html">llvm::BranchProbability</a></div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00025">BranchProbability.h:25</a></div></div>
<div class="ttc" id="namespacellvm_html_a0e6336a1dd23986cd15023ea0aae5269"><div class="ttname"><a href="namespacellvm.html#a0e6336a1dd23986cd15023ea0aae5269">llvm::isCondBranchOpcode</a></div><div class="ttdeci">static bool isCondBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00350">ARMBaseInstrInfo.h:350</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPoolEntry_html_acaa82b4be1aefa234c71323630c2e63f"><div class="ttname"><a href="classllvm_1_1MachineConstantPoolEntry.html#acaa82b4be1aefa234c71323630c2e63f">llvm::MachineConstantPoolEntry::ConstVal</a></div><div class="ttdeci">const Constant * ConstVal</div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00079">MachineConstantPool.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1e1d26226c627cf3dcf3c191b85e7d7d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">llvm::MachineInstr::isDebugValue</a></div><div class="ttdeci">bool isDebugValue() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00639">MachineInstr.h:639</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmInfo_html"><div class="ttname"><a href="classllvm_1_1MCAsmInfo.html">llvm::MCAsmInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAsmInfo_8h_source.html#l00042">MCAsmInfo.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a0e15c0325463fc62bd16ccd9ec2b9ec5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0e15c0325463fc62bd16ccd9ec2b9ec5">llvm::MachineInstr::isImplicitDef</a></div><div class="ttdeci">bool isImplicitDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00650">MachineInstr.h:650</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8d6268ac5d00f510ade10bd1865d9829"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8d6268ac5d00f510ade10bd1865d9829">llvm::MachineInstr::memoperands_end</a></div><div class="ttdeci">mmo_iterator memoperands_end() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00292">MachineInstr.h:292</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a4a81bce0636d52246dbf2170201cd4f2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a4a81bce0636d52246dbf2170201cd4f2">llvm::MachineInstr::isInsertSubreg</a></div><div class="ttdeci">bool isInsertSubreg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00657">MachineInstr.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a944a1a1574cf3b42c917bd8442b5399f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a944a1a1574cf3b42c917bd8442b5399f">llvm::MachineInstr::isBundle</a></div><div class="ttdeci">bool isBundle() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00666">MachineInstr.h:666</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a3fca5a9f6d55a922e6c5890e1630bd0b"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a3fca5a9f6d55a922e6c5890e1630bd0b">llvm::ARMBaseInstrInfo::convertToThreeAddress</a></div><div class="ttdeci">virtual MachineInstr * convertToThreeAddress(MachineFunction::iterator &amp;MFI, MachineBasicBlock::iterator &amp;MBBI, LiveVariables *LV) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00122">ARMBaseInstrInfo.cpp:122</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a2d2e6f4deb520324f1a4be87e20fe678"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a2d2e6f4deb520324f1a4be87e20fe678">llvm::ARMBaseInstrInfo::isStoreToStackSlot</a></div><div class="ttdeci">virtual unsigned isStoreToStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00920">ARMBaseInstrInfo.cpp:920</a></div></div>
<div class="ttc" id="namespacellvm_html_ab75a6192f520e98f9328bd40c28f6a05"><div class="ttname"><a href="namespacellvm.html#ab75a6192f520e98f9328bd40c28f6a05">llvm::isCalleeSavedRegister</a></div><div class="ttdeci">static bool isCalleeSavedRegister(unsigned Reg, const MCPhysReg *CSRegs)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseRegisterInfo_8h_source.html#l00075">ARMBaseRegisterInfo.h:75</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html_a991b049f84873e7fbad421ac46daecaf"><div class="ttname"><a href="structARM__MLxEntry.html#a991b049f84873e7fbad421ac46daecaf">ARM_MLxEntry::MLxOpc</a></div><div class="ttdeci">uint16_t MLxOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00060">ARMBaseInstrInfo.cpp:60</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a278c93c1960c02f4498f108ece45d7c6"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a278c93c1960c02f4498f108ece45d7c6">llvm::ARMBaseInstrInfo::getExecutionDomain</a></div><div class="ttdeci">std::pair&lt; uint16_t, uint16_t &gt; getExecutionDomain(const MachineInstr *MI) const </div><div class="ttdoc">VFP/NEON execution domains. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03942">ARMBaseInstrInfo.cpp:3942</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a7f0f76df06e615446a45a3f59114036e"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a7f0f76df06e615446a45a3f59114036e">llvm::ARMBaseInstrInfo::duplicate</a></div><div class="ttdeci">MachineInstr * duplicate(MachineInstr *Orig, MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01305">ARMBaseInstrInfo.cpp:1305</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a4fac7ec2f43b802397b65018bda0040e"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a4fac7ec2f43b802397b65018bda0040e">llvm::TargetRegisterInfo::regsOverlap</a></div><div class="ttdeci">bool regsOverlap(unsigned regA, unsigned regB) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00394">TargetRegisterInfo.h:394</a></div></div>
<div class="ttc" id="GlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ScheduleHazardRecognizer.html">llvm::ScheduleHazardRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleHazardRecognizer_8h_source.html#l00025">ScheduleHazardRecognizer.h:25</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618ac928721626de611c1e5c7acfd4e05f79"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618ac928721626de611c1e5c7acfd4e05f79">llvm::ARMII::IndexModeShift</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00330">ARMBaseInfo.h:330</a></div></div>
<div class="ttc" id="MachineJumpTableInfo_8h_html"><div class="ttname"><a href="MachineJumpTableInfo_8h.html">MachineJumpTableInfo.h</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a15d6a46113ff3279d6a41d41c6f57e01">ExeVFP</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03935">ARMBaseInstrInfo.cpp:3935</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aa0b30db333ad5cc528fc7fcd8bf95298"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aa0b30db333ad5cc528fc7fcd8bf95298">llvm::ARMBaseInstrInfo::CreateTargetPostRAHazardRecognizer</a></div><div class="ttdeci">ScheduleHazardRecognizer * CreateTargetPostRAHazardRecognizer(const InstrItineraryData *II, const ScheduleDAG *DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00114">ARMBaseInstrInfo.cpp:114</a></div></div>
<div class="ttc" id="structAddSubFlagsOpcodePair_html_a5f2e7eb5023967d238a44416d8079191"><div class="ttname"><a href="structAddSubFlagsOpcodePair.html#a5f2e7eb5023967d238a44416d8079191">AddSubFlagsOpcodePair::MachineOpc</a></div><div class="ttdeci">uint16_t MachineOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01787">ARMBaseInstrInfo.cpp:1787</a></div></div>
<div class="ttc" id="namespacellvm_html_aee7a1f8a965c68c02b5628e9b261197e"><div class="ttname"><a href="namespacellvm.html#aee7a1f8a965c68c02b5628e9b261197e">llvm::getInstrPredicate</a></div><div class="ttdeci">ARMCC::CondCodes getInstrPredicate(const MachineInstr *MI, unsigned &amp;PredReg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01619">ARMBaseInstrInfo.cpp:1619</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a4a7164e76d0d8d5ec38ed60bddd77589"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a4a7164e76d0d8d5ec38ed60bddd77589">llvm::ARM_AM::getAM5Offset</a></div><div class="ttdeci">static unsigned char getAM5Offset(unsigned AM5Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00496">ARMAddressingModes.h:496</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a1496354674d090593303959f68cf7bd7"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a1496354674d090593303959f68cf7bd7">llvm::ARM_AM::getSOImmTwoPartSecond</a></div><div class="ttdeci">static unsigned getSOImmTwoPartSecond(unsigned V)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00207">ARMAddressingModes.h:207</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a20040085a4f150b9352bc72cfcf91f0c"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a20040085a4f150b9352bc72cfcf91f0c">llvm::ARMBaseInstrInfo::commuteInstruction</a></div><div class="ttdeci">MachineInstr * commuteInstruction(MachineInstr *, bool=false) const </div><div class="ttdoc">commuteInstruction - Handle commutable instructions. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01644">ARMBaseInstrInfo.cpp:1644</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ab6fab2ceaf501129dce847deaa388d6b"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ab6fab2ceaf501129dce847deaa388d6b">llvm::ARMBaseInstrInfo::areLoadsFromSameBasePtr</a></div><div class="ttdeci">virtual bool areLoadsFromSameBasePtr(SDNode *Load1, SDNode *Load2, int64_t &amp;Offset1, int64_t &amp;Offset2) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01413">ARMBaseInstrInfo.cpp:1413</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6ae08639a6e0f682daf9d9b4809ee0cf7c"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ae08639a6e0f682daf9d9b4809ee0cf7c">llvm::ARMCC::NE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00031">ARMBaseInfo.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a2b718d0753e956920f0759b03cec31ce"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a2b718d0753e956920f0759b03cec31ce">llvm::ARMBaseInstrInfo::analyzeCompare</a></div><div class="ttdeci">virtual bool analyzeCompare(const MachineInstr *MI, unsigned &amp;SrcReg, unsigned &amp;SrcReg2, int &amp;CmpMask, int &amp;CmpValue) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02114">ARMBaseInstrInfo.cpp:2114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00031">SmallSet.h:31</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_af77f29dbf27c325e25aae091aba01c2a"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af77f29dbf27c325e25aae091aba01c2a">llvm::MCRegisterInfo::getSubReg</a></div><div class="ttdeci">unsigned getSubReg(unsigned Reg, unsigned Idx) const </div><div class="ttdoc">Returns the physical register number of sub-register &quot;Index&quot; for physical register RegNo...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8cpp_source.html#l00026">MCRegisterInfo.cpp:26</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a66bb217193a5d63a232f9708683397a2"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a66bb217193a5d63a232f9708683397a2">WidenVMOVS</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; WidenVMOVS(&quot;widen-vmovs&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Widen ARM vmovs to vmovd when possible&quot;))</div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_ae8a17b854d9787d11797d9334a22647d"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ae8a17b854d9787d11797d9334a22647d">llvm::MCInstrDesc::getSize</a></div><div class="ttdeci">unsigned getSize() const </div><div class="ttdoc">Return the number of bytes in the encoding of this instruction, or zero if the encoding size cannot b...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00576">MCInstrDesc.h:576</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efaafeb1424944dafbde8a990bce1f5bd84">llvm::ARM_AM::lsl</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00030">ARMAddressingModes.h:30</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="namespacellvm_html_a6b37f55b5ab197bb725692f21204c9bc"><div class="ttname"><a href="namespacellvm.html#a6b37f55b5ab197bb725692f21204c9bc">llvm::isJumpTableBranchOpcode</a></div><div class="ttdeci">static bool isJumpTableBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00355">ARMBaseInstrInfo.h:355</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_afebdc4db0458f10f63da9d70c8fc355c"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#afebdc4db0458f10f63da9d70c8fc355c">llvm::InstrItineraryData::getStageLatency</a></div><div class="ttdeci">unsigned getStageLatency(unsigned ItinClassIndx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00161">MCInstrItineraries.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolValue_html_ae204089fb50ef2edd07a7d18c5c4b79f"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolValue.html#ae204089fb50ef2edd07a7d18c5c4b79f">llvm::ARMConstantPoolValue::hasSameValue</a></div><div class="ttdeci">virtual bool hasSameValue(ARMConstantPoolValue *ACPV)</div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8cpp_source.html#l00075">ARMConstantPoolValue.cpp:75</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ab22f00415be45367a9341ccab9018b0a"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ab22f00415be45367a9341ccab9018b0a">llvm::ARM_AM::getT2SOImmTwoPartSecond</a></div><div class="ttdeci">static unsigned getT2SOImmTwoPartSecond(unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00379">ARMAddressingModes.h:379</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142a092531ae27becd74d96d4a6fae76f863"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142a092531ae27becd74d96d4a6fae76f863">llvm::MachineBasicBlock::LQR_Dead</a></div><div class="ttdoc">Register is known to be dead. </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00590">MachineBasicBlock.h:590</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aabc17a35420fd0015b8cc5e6e51112fc"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aabc17a35420fd0015b8cc5e6e51112fc">llvm::MachineInstrBuilder::setMIFlags</a></div><div class="ttdeci">const MachineInstrBuilder &amp; setMIFlags(unsigned Flags) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00181">MachineInstrBuilder.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a6f2ca6a38cd6b1657625eb46a0e2e54b"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a6f2ca6a38cd6b1657625eb46a0e2e54b">llvm::ARMBaseInstrInfo::isProfitableToUnpredicate</a></div><div class="ttdeci">virtual bool isProfitableToUnpredicate(MachineBasicBlock &amp;TMBB, MachineBasicBlock &amp;FMBB) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01608">ARMBaseInstrInfo.cpp:1608</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2feaa1c69335c6b9028076cd68c7a5f5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2feaa1c69335c6b9028076cd68c7a5f5">llvm::MachineOperand::setImm</a></div><div class="ttdeci">void setImm(int64_t immVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00488">MachineOperand.h:488</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad9320d8b806f769d2779acf321a41ca2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00297">MachineInstr.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a1c1e1ba3ea51b3604698a49939723161"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a1c1e1ba3ea51b3604698a49939723161">llvm::ARMSubtarget::isCortexA15</a></div><div class="ttdeci">bool isCortexA15() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00256">ARMSubtarget.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a321e37d79af8b4287f8a1dcf9aff9c01"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a321e37d79af8b4287f8a1dcf9aff9c01">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT &gt;, KeyT, ValueT, KeyInfoT &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00057">DenseMap.h:57</a></div></div>
<div class="ttc" id="namespacellvm_html_af38d3efc162ab4c4fc14f9220c142b91"><div class="ttname"><a href="namespacellvm.html#af38d3efc162ab4c4fc14f9220c142b91">llvm::convertAddSubFlagsOpcode</a></div><div class="ttdeci">unsigned convertAddSubFlagsOpcode(unsigned OldOpc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01817">ARMBaseInstrInfo.cpp:1817</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ae73de4f077ea9862af9611652396202b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ae73de4f077ea9862af9611652396202b">llvm::MachineOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00445">MachineOperand.h:445</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a3384fe4d7439c43ce831ee300a4d522b"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a3384fe4d7439c43ce831ee300a4d522b">isRedundantFlagInstr</a></div><div class="ttdeci">static bool isRedundantFlagInstr(MachineInstr *CmpI, unsigned SrcReg, unsigned SrcReg2, int ImmValue, MachineInstr *OI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02197">ARMBaseInstrInfo.cpp:2197</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_aa460158a4019a4043faf6ea76344cbd5"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa460158a4019a4043faf6ea76344cbd5">llvm::MachineFunction::getConstantPool</a></div><div class="ttdeci">MachineConstantPool * getConstantPool()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00192">MachineFunction.h:192</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a509d0dea879fe37ee2c0f4154e200936"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a509d0dea879fe37ee2c0f4154e200936">llvm::MachineInstr::isLabel</a></div><div class="ttdeci">bool isLabel() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00628">MachineInstr.h:628</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142">llvm::MachineBasicBlock::LivenessQueryResult</a></div><div class="ttdeci">LivenessQueryResult</div><div class="ttdoc">Possible outcome of a register liveness query to computeRegisterLiveness() </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00586">MachineBasicBlock.h:586</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142accc15fa5c7a27d461dc9a884cc9a2dc8">llvm::MachineBasicBlock::LQR_Live</a></div><div class="ttdoc">Register is known to be live. </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00587">MachineBasicBlock.h:587</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6321b189ea8fd5058663f8a87d6c23e9"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">llvm::MachineBasicBlock::succ_begin</a></div><div class="ttdeci">succ_iterator succ_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00276">MachineBasicBlock.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPoolEntry_html_ac005279a712a5b0912499dcb7d88b398"><div class="ttname"><a href="classllvm_1_1MachineConstantPoolEntry.html#ac005279a712a5b0912499dcb7d88b398">llvm::MachineConstantPoolEntry::Val</a></div><div class="ttdeci">union llvm::MachineConstantPoolEntry::@29 Val</div><div class="ttdoc">The constant itself. </div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aca37b55b20f45c96067bac1d4f1dcb7f"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aca37b55b20f45c96067bac1d4f1dcb7f">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00264">MachineOperand.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html_a434b7516027126339021e18d66c34864"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a434b7516027126339021e18d66c34864">llvm::LiveVariables::getVarInfo</a></div><div class="ttdeci">VarInfo &amp; getVarInfo(unsigned RegIdx)</div><div class="ttdoc">getVarInfo - Get (possibly creating) a VarInfo object for the given vreg. </div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8cpp_source.html#l00085">LiveVariables.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a69905d1272d640d4bd54212ab54beaa0"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a69905d1272d640d4bd54212ab54beaa0">getBundledDefMI</a></div><div class="ttdeci">static const MachineInstr * getBundledDefMI(const TargetRegisterInfo *TRI, const MachineInstr *MI, unsigned Reg, unsigned &amp;DefIdx, unsigned &amp;Dist)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03233">ARMBaseInstrInfo.cpp:3233</a></div></div>
<div class="ttc" id="namespacellvm_html_a402aa8ec2571af98e3b5871721c6f642"><div class="ttname"><a href="namespacellvm.html#a402aa8ec2571af98e3b5871721c6f642">llvm::emitARMRegPlusImmediate</a></div><div class="ttdeci">void emitARMRegPlusImmediate(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator &amp;MBBI, DebugLoc dl, unsigned DestReg, unsigned BaseReg, int NumBytes, ARMCC::CondCodes Pred, unsigned PredReg, const ARMBaseInstrInfo &amp;TII, unsigned MIFlags=0)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01824">ARMBaseInstrInfo.cpp:1824</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a64abb4451596f866fd5806a865e7795e"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a64abb4451596f866fd5806a865e7795e">llvm::TargetOpcode::BUNDLE</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00091">TargetOpcodes.h:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a59df2d2242b1477e41d1d160980ed371">llvm::ARMCC::LE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00043">ARMBaseInfo.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8a82683fccdef8a5ef772ef03277aee7"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8a82683fccdef8a5ef772ef03277aee7">llvm::MachineOperand::setIsKill</a></div><div class="ttdeci">void setIsKill(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00367">MachineOperand.h:367</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a2c5eddfba64e7a44deba1b5a0d45a017"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a2c5eddfba64e7a44deba1b5a0d45a017">llvm::MachineOperand::isRegMask</a></div><div class="ttdeci">bool isRegMask() const </div><div class="ttdoc">isRegMask - Tests if this is a MO_RegisterMask operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00248">MachineOperand.h:248</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a084170c688db518f99a4a7aed9cc84a0"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a084170c688db518f99a4a7aed9cc84a0">llvm::MCInstrDesc::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">Return the opcode number for this descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00181">MCInstrDesc.h:181</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ac4061808eca922630aa39fc5c6f43896"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ac4061808eca922630aa39fc5c6f43896">llvm::TargetOpcode::PROLOG_LABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00028">TargetOpcodes.h:28</a></div></div>
<div class="ttc" id="structllvm_1_1LiveVariables_1_1VarInfo_html_a65c816771eca7465f5e3e0bb6624ad88"><div class="ttname"><a href="structllvm_1_1LiveVariables_1_1VarInfo.html#a65c816771eca7465f5e3e0bb6624ad88">llvm::LiveVariables::VarInfo::Kills</a></div><div class="ttdeci">std::vector&lt; MachineInstr * &gt; Kills</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00089">LiveVariables.h:89</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a7edbe05a2e247803ae6b4675def6a640"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a7edbe05a2e247803ae6b4675def6a640">llvm::ARM_AM::getAM2Op</a></div><div class="ttdeci">static AddrOpc getAM2Op(unsigned AM2Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00416">ARMAddressingModes.h:416</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a699a66e504b48fdeff124e82f6c61917"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a699a66e504b48fdeff124e82f6c61917">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00153">DenseMap.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolConstant_html"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolConstant.html">llvm::ARMConstantPoolConstant</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00135">ARMConstantPoolValue.h:135</a></div></div>
<div class="ttc" id="namespacellvm_html_a8b9edb9ece6ca4b10c73ae93a487c600"><div class="ttname"><a href="namespacellvm.html#a8b9edb9ece6ca4b10c73ae93a487c600">llvm::AddDefaultCC</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; AddDefaultCC(const MachineInstrBuilder &amp;MIB)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00329">ARMBaseInstrInfo.h:329</a></div></div>
<div class="ttc" id="namespacellvm_html_a25ebb5d5fa4431b1a1835d0a5f4e2796"><div class="ttname"><a href="namespacellvm.html#a25ebb5d5fa4431b1a1835d0a5f4e2796">llvm::isIndirectBranchOpcode</a></div><div class="ttdeci">static bool isIndirectBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00361">ARMBaseInstrInfo.h:361</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a6a12c22fdf82f1afa6a18b9248ea8ad5"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a6a12c22fdf82f1afa6a18b9248ea8ad5">llvm::ARMBaseInstrInfo::expandPostRAPseudo</a></div><div class="ttdeci">virtual bool expandPostRAPseudo(MachineBasicBlock::iterator MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01165">ARMBaseInstrInfo.cpp:1165</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a0f4e17fd43419980264bba50ce572d60">llvm::ARMII::DomainNEON</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00427">ARMBaseInfo.h:427</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_adb19e2a68e21ee2ce55be54e3fbb025d"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#adb19e2a68e21ee2ce55be54e3fbb025d">llvm::ARMBaseInstrInfo::isProfitableToIfCvt</a></div><div class="ttdeci">virtual bool isProfitableToIfCvt(MachineBasicBlock &amp;MBB, unsigned NumCycles, unsigned ExtraPredCycles, const BranchProbability &amp;Probability) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01568">ARMBaseInstrInfo.cpp:1568</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a9716711ecfa12e9b08bf9bca20b52429"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429">ARMExeDomain</a></div><div class="ttdeci">ARMExeDomain</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03933">ARMBaseInstrInfo.cpp:3933</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a062502d6ef2e7be826aee6355a80d02a"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a062502d6ef2e7be826aee6355a80d02a">llvm::ARMSubtarget::isSwift</a></div><div class="ttdeci">bool isSwift() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00257">ARMSubtarget.h:257</a></div></div>
<div class="ttc" id="namespacellvm_html_abbf5784629864b659e702b4861bc3b1e"><div class="ttname"><a href="namespacellvm.html#abbf5784629864b659e702b4861bc3b1e">llvm::isUncondBranchOpcode</a></div><div class="ttdeci">static bool isUncondBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00345">ARMBaseInstrInfo.h:345</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a4600f410854a2540949d8bfb93c9c348"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a4600f410854a2540949d8bfb93c9c348">llvm::ARMBaseInstrInfo::getUnindexedOpcode</a></div><div class="ttdeci">virtual unsigned getUnindexedOpcode(unsigned Opc) const =0</div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1ecb35298bc4d1fe03997959e1210c87"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00984">MachineInstr.h:984</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a6ca0b91d76cb52e930c7b2b70944c5bc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a6ca0b91d76cb52e930c7b2b70944c5bc">llvm::MachineInstr::substituteRegister</a></div><div class="ttdeci">void substituteRegister(unsigned FromReg, unsigned ToReg, unsigned SubIdx, const TargetRegisterInfo &amp;RegInfo)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01202">MachineInstr.cpp:1202</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a8388bb748b26edbdb8bb5d5ab6f16853">llvm::ARMII::AddrMode6</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00241">ARMBaseInfo.h:241</a></div></div>
<div class="ttc" id="ARMHazardRecognizer_8h_html"><div class="ttname"><a href="ARMHazardRecognizer_8h.html">ARMHazardRecognizer.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1619b14b677da32744aa52924661d290"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1619b14b677da32744aa52924661d290">llvm::MachineInstr::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineInstr *Other, MICheckType Check=CheckDefs) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00773">MachineInstr.cpp:773</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a9800adf4989a461d0d592c3b66e25926"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a9800adf4989a461d0d592c3b66e25926">llvm::ARMBaseInstrInfo::PredicateInstruction</a></div><div class="ttdeci">virtual bool PredicateInstruction(MachineInstr *MI, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Pred) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00454">ARMBaseInstrInfo.cpp:454</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a7502a7e824795b89d0e7f1dcaaf5f65a"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a7502a7e824795b89d0e7f1dcaaf5f65a">llvm::ARM_AM::getAM2Offset</a></div><div class="ttdeci">static unsigned getAM2Offset(unsigned AM2Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00413">ARMAddressingModes.h:413</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolSymbol_html"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolSymbol.html">llvm::ARMConstantPoolSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00188">ARMConstantPoolValue.h:188</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_addb6fc7e52f4fd59156260c2531298a4"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#addb6fc7e52f4fd59156260c2531298a4">llvm::ARMBaseInstrInfo::loadRegFromStackSlot</a></div><div class="ttdeci">virtual void loadRegFromStackSlot(MachineBasicBlock &amp;MBB, MachineBasicBlock::iterator MBBI, unsigned DestReg, int FrameIndex, const TargetRegisterClass *RC, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00975">ARMBaseInstrInfo.cpp:975</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4a0209ae669364c237e24dbc0c4df6036e">llvm::ARMII::AddrMode5</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00240">ARMBaseInfo.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac485421b5fcb9454ea64e74f6396a810"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac485421b5fcb9454ea64e74f6396a810">llvm::MachineFunction::CloneMachineInstr</a></div><div class="ttdeci">MachineInstr * CloneMachineInstr(const MachineInstr *Orig)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00184">MachineFunction.cpp:184</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6">llvm::ARMCC::CondCodes</a></div><div class="ttdeci">CondCodes</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00029">ARMBaseInfo.h:29</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a2c263d194af0af601f8fe37e10f1ea74"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a2c263d194af0af601f8fe37e10f1ea74">duplicateCPV</a></div><div class="ttdeci">static unsigned duplicateCPV(MachineFunction &amp;MF, unsigned &amp;CPI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01234">ARMBaseInstrInfo.cpp:1234</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a85a7716b3a259c91702bce293fb923df"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a85a7716b3a259c91702bce293fb923df">llvm::ARMCC::LO</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00033">ARMBaseInfo.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea2ac83e0612ce8f8d69651cd529061feb">llvm::Attribute::OptimizeForSize</a></div><div class="ttdoc">opt_size </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00091">Attributes.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_ae146d6827dae2ff77fc65b7fd319dbb8"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#ae146d6827dae2ff77fc65b7fd319dbb8">llvm::MachineFrameInfo::getObjectAlignment</a></div><div class="ttdeci">unsigned getObjectAlignment(int ObjectIdx) const </div><div class="ttdoc">getObjectAlignment - Return the alignment of the specified stack object. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00361">MachineFrameInfo.h:361</a></div></div>
<div class="ttc" id="structAddSubFlagsOpcodePair_html"><div class="ttname"><a href="structAddSubFlagsOpcodePair.html">AddSubFlagsOpcodePair</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01785">ARMBaseInstrInfo.cpp:1785</a></div></div>
<div class="ttc" id="Compiler_8h_html_ac6a5e0eb6a9944baf6ba14b640eab6e1"><div class="ttname"><a href="Compiler_8h.html#ac6a5e0eb6a9944baf6ba14b640eab6e1">LLVM_ATTRIBUTE_NOINLINE</a></div><div class="ttdeci">#define LLVM_ATTRIBUTE_NOINLINE</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00254">Compiler.h:254</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab7650f958c093f7c5faf8c69dbc8c462a5f3288f908142ddad3dd5d8a95cfa364"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab7650f958c093f7c5faf8c69dbc8c462a5f3288f908142ddad3dd5d8a95cfa364">llvm::MachineInstr::IgnoreVRegDefs</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00591">MachineInstr.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1MachineSDNode_html"><div class="ttname"><a href="classllvm_1_1MachineSDNode.html">llvm::MachineSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01781">SelectionDAGNodes.h:1781</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af9877c28008f47ddb22dd5103fb4221c"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af9877c28008f47ddb22dd5103fb4221c">llvm::ARMBaseInstrInfo::InsertBranch</a></div><div class="ttdeci">virtual unsigned InsertBranch(MachineBasicBlock &amp;MBB, MachineBasicBlock *TBB, MachineBasicBlock *FBB, const SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, DebugLoc DL) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00392">ARMBaseInstrInfo.cpp:392</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8de7d5cf38939044471c6ee60a01a3df"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00274">MachineOperand.h:274</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a3de0a03c0721e0683934a37868f6a421">llvm::TargetOpcode::KILL</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00035">TargetOpcodes.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1ExceptionHandling_html_a84c427e973084a9d1c7b7b9dc2bcc95daa8dc35917369fdfde68971225019ec64"><div class="ttname"><a href="namespacellvm_1_1ExceptionHandling.html#a84c427e973084a9d1c7b7b9dc2bcc95daa8dc35917369fdfde68971225019ec64">llvm::ExceptionHandling::ARM</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAsmInfo_8h_source.html#l00033">MCAsmInfo.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aae231619c97165f218132704f3ba84cf"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aae231619c97165f218132704f3ba84cf">llvm::ARMBaseInstrInfo::isSwiftFastImmShift</a></div><div class="ttdeci">bool isSwiftFastImmShift(const MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04338">ARMBaseInstrInfo.cpp:4338</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a038249ad0a9ef6d79cc3506c96dd3c1f"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a038249ad0a9ef6d79cc3506c96dd3c1f">llvm::ARMCC::HS</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00032">ARMBaseInfo.h:32</a></div></div>
<div class="ttc" id="LiveVariables_8h_html"><div class="ttname"><a href="LiveVariables_8h.html">LiveVariables.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_a758b007d6f5786bfa39fc58d352f6109"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#a758b007d6f5786bfa39fc58d352f6109">llvm::ARMSubtarget::hasVFP2</a></div><div class="ttdeci">bool hasVFP2() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00264">ARMSubtarget.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_ad526db981cdc3361585a92b6bba42137"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#ad526db981cdc3361585a92b6bba42137">llvm::MCInstrDesc::mayLoad</a></div><div class="ttdeci">bool mayLoad() const </div><div class="ttdoc">Return true if this instruction could possibly read memory. Instructions with this flag set are not n...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00367">MCInstrDesc.h:367</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ae165b2f9fc3cfab734c7a4c4d61044ce"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae165b2f9fc3cfab734c7a4c4d61044ce">llvm::MachineInstr::findRegisterUseOperandIdx</a></div><div class="ttdeci">int findRegisterUseOperandIdx(unsigned Reg, bool isKill=false, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01000">MachineInstr.cpp:1000</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00306">SelectionDAGNodes.h:306</a></div></div>
<div class="ttc" id="namespacellvm_html_a139d94c9f05d52dab00ed111ce058523"><div class="ttname"><a href="namespacellvm.html#a139d94c9f05d52dab00ed111ce058523">llvm::isPushOpcode</a></div><div class="ttdeci">static bool isPushOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00371">ARMBaseInstrInfo.h:371</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ac229bc1c730b34dff4b13afbe7747e22"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ac229bc1c730b34dff4b13afbe7747e22">llvm::ARM_AM::isSOImmTwoPartVal</a></div><div class="ttdeci">static bool isSOImmTwoPartVal(unsigned V)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00188">ARMAddressingModes.h:188</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolMBB_html"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolMBB.html">llvm::ARMConstantPoolMBB</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00223">ARMConstantPoolValue.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a626648c4c0b3a79d0128473f3b72b88d"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00104">MachineInstrBuilder.h:104</a></div></div>
<div class="ttc" id="ARM_8h_html"><div class="ttname"><a href="ARM_8h.html">ARM.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_adcb5f001406dc2b45024dd582c444e6d"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#adcb5f001406dc2b45024dd582c444e6d">llvm::MCInstrDesc::Opcode</a></div><div class="ttdeci">unsigned short Opcode</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00139">MCInstrDesc.h:139</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad5bef9f5be828b62f053b3017eb9dbdb"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad5bef9f5be828b62f053b3017eb9dbdb">llvm::MachineOperand::clobbersPhysReg</a></div><div class="ttdeci">static bool clobbersPhysReg(const uint32_t *RegMask, unsigned PhysReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00461">MachineOperand.h:461</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a1ed0325c38b8ee49c7632594cf63ebff"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a1ed0325c38b8ee49c7632594cf63ebff">llvm::ARMBaseInstrInfo::analyzeSelect</a></div><div class="ttdeci">virtual bool analyzeSelect(const MachineInstr *MI, SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond, unsigned &amp;TrueOp, unsigned &amp;FalseOp, bool &amp;Optimizable) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01704">ARMBaseInstrInfo.cpp:1704</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html_a5ec7e60c4b7a7a4b141714ee3c146e5b"><div class="ttname"><a href="structARM__MLxEntry.html#a5ec7e60c4b7a7a4b141714ee3c146e5b">ARM_MLxEntry::AddSubOpc</a></div><div class="ttdeci">uint16_t AddSubOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00062">ARMBaseInstrInfo.cpp:62</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_af9311056876c08a7e186b82a89c6486e"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#af9311056876c08a7e186b82a89c6486e">llvm::ARMBaseInstrInfo::ReverseBranchCondition</a></div><div class="ttdeci">virtual bool ReverseBranchCondition(SmallVectorImpl&lt; MachineOperand &gt; &amp;Cond) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00431">ARMBaseInstrInfo.cpp:431</a></div></div>
<div class="ttc" id="namespacellvm_html_aea68e726ee579fec1a9a09e6c7c2509e"><div class="ttname"><a href="namespacellvm.html#aea68e726ee579fec1a9a09e6c7c2509e">llvm::getMatchingCondBranchOpcode</a></div><div class="ttdeci">int getMatchingCondBranchOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01631">ARMBaseInstrInfo.cpp:1631</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCP_html_ad7299e03746a8bdbbff1d3aaf03eaaaba7266a79b029f9dc90109a374fe43c64f"><div class="ttname"><a href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaaba7266a79b029f9dc90109a374fe43c64f">llvm::ARMCP::CPLSDA</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00035">ARMConstantPoolValue.h:35</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a7e65c85fd74449f473f541542825cdd8"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a7e65c85fd74449f473f541542825cdd8">adjustDefLatency</a></div><div class="ttdeci">static int adjustDefLatency(const ARMSubtarget &amp;Subtarget, const MachineInstr *DefMI, const MCInstrDesc *DefMCID, unsigned DefAlign)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03289">ARMBaseInstrInfo.cpp:3289</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html_acf9ce13fe57b1d58d2b79dec83f6629e"><div class="ttname"><a href="structARM__MLxEntry.html#acf9ce13fe57b1d58d2b79dec83f6629e">ARM_MLxEntry::HasLane</a></div><div class="ttdeci">bool HasLane</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00064">ARMBaseInstrInfo.cpp:64</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ace99f086a3cd38c7477a8f038dae7ff4"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ace99f086a3cd38c7477a8f038dae7ff4">llvm::ARMII::AddrMode</a></div><div class="ttdeci">AddrMode</div><div class="ttdoc">ARM Addressing Modes. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00234">ARMBaseInfo.h:234</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a83e19c6a7832194e6bd7b8603a74ee7e"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a83e19c6a7832194e6bd7b8603a74ee7e">llvm::ARM_AM::getAM3Op</a></div><div class="ttdeci">static AddrOpc getAM3Op(unsigned AM3Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00450">ARMAddressingModes.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a55f1c19ebb9fce7a442816eeb154174f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a55f1c19ebb9fce7a442816eeb154174f">llvm::MachineInstr::isSafeToMove</a></div><div class="ttdeci">bool isSafeToMove(const TargetInstrInfo *TII, AliasAnalysis *AA, bool &amp;SawStore) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01228">MachineInstr.cpp:1228</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ae016d4c093fae29a0299228102e55cf4"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae016d4c093fae29a0299228102e55cf4">llvm::MachineInstr::findFirstPredOperandIdx</a></div><div class="ttdeci">int findFirstPredOperandIdx() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01082">MachineInstr.cpp:1082</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a3a8e37a5bdd95e6bc921cc0855a3dbf1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a3a8e37a5bdd95e6bc921cc0855a3dbf1">llvm::MachineRegisterInfo::getUniqueVRegDef</a></div><div class="ttdeci">MachineInstr * getUniqueVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00319">MachineRegisterInfo.cpp:319</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a45115dfc94158799abfd99917a879a65"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a45115dfc94158799abfd99917a879a65">llvm::InstrItineraryData::getOperandLatency</a></div><div class="ttdeci">int getOperandLatency(unsigned DefClass, unsigned DefIdx, unsigned UseClass, unsigned UseIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00218">MCInstrItineraries.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a61c628588f6c98ca5d2d6a501f7a8a79"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a61c628588f6c98ca5d2d6a501f7a8a79">llvm::TargetInstrInfo::CreateTargetHazardRecognizer</a></div><div class="ttdeci">virtual ScheduleHazardRecognizer * CreateTargetHazardRecognizer(const TargetMachine *TM, const ScheduleDAG *DAG) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00589">TargetInstrInfo.cpp:589</a></div></div>
<div class="ttc" id="structAddSubFlagsOpcodePair_html_a65b67428208731be798087be0b87598a"><div class="ttname"><a href="structAddSubFlagsOpcodePair.html#a65b67428208731be798087be0b87598a">AddSubFlagsOpcodePair::PseudoOpc</a></div><div class="ttdeci">uint16_t PseudoOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01786">ARMBaseInstrInfo.cpp:1786</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ab18b193058b463093ad2a5701710bece"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ab18b193058b463093ad2a5701710bece">llvm::ARM_AM::getSOImmVal</a></div><div class="ttdeci">static int getSOImmVal(unsigned Arg)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00171">ARMAddressingModes.h:171</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a7e82ffc3423eb67eef1e1a43f0b75ce7"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a7e82ffc3423eb67eef1e1a43f0b75ce7">llvm::ARMBaseInstrInfo::ARMBaseInstrInfo</a></div><div class="ttdeci">ARMBaseInstrInfo(const ARMSubtarget &amp;STI)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00090">ARMBaseInstrInfo.cpp:90</a></div></div>
<div class="ttc" id="classllvm_1_1ScoreboardHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ScoreboardHazardRecognizer.html">llvm::ScoreboardHazardRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="ScoreboardHazardRecognizer_8h_source.html#l00030">ScoreboardHazardRecognizer.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSet_html_ab28aa342862f6d16361be514fd98c22e"><div class="ttname"><a href="classllvm_1_1SmallSet.html#ab28aa342862f6d16361be514fd98c22e">llvm::SmallSet::count</a></div><div class="ttdeci">bool count(const T &amp;V) const </div><div class="ttdoc">count - Return true if the element is in the set. </div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00048">SmallSet.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a8bdc3698f42abe362d81c8c02b397a34"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a8bdc3698f42abe362d81c8c02b397a34">llvm::MCInstrDesc::hasImplicitDefOfPhysReg</a></div><div class="ttdeci">bool hasImplicitDefOfPhysReg(unsigned Reg, const MCRegisterInfo *MRI=0) const </div><div class="ttdoc">Return true if this instruction implicitly defines the specified physical register. </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00546">MCInstrDesc.h:546</a></div></div>
<div class="ttc" id="namespacellvm_html_a84c8853f87c6f19f9e75130f6b05d763"><div class="ttname"><a href="namespacellvm.html#a84c8853f87c6f19f9e75130f6b05d763">llvm::isPopOpcode</a></div><div class="ttdeci">static bool isPopOpcode(int Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00365">ARMBaseInstrInfo.h:365</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_ab473cdc9fb7554bc7375f20d76561e8e"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#ab473cdc9fb7554bc7375f20d76561e8e">llvm::MCRegisterInfo::isSuperRegister</a></div><div class="ttdeci">bool isSuperRegister(unsigned RegA, unsigned RegB) const </div><div class="ttdoc">Returns true if RegB is a super-register of RegA. </div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00468">MCRegisterInfo.h:468</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html_a18e20037f489edfd5925b06e090ecaf6"><div class="ttname"><a href="structARM__MLxEntry.html#a18e20037f489edfd5925b06e090ecaf6">ARM_MLxEntry::NegAcc</a></div><div class="ttdeci">bool NegAcc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00063">ARMBaseInstrInfo.cpp:63</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_afd2f252f9fc7d4ae9a5d7ec3da07a54b"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#afd2f252f9fc7d4ae9a5d7ec3da07a54b">canFoldIntoMOVCC</a></div><div class="ttdeci">static MachineInstr * canFoldIntoMOVCC(unsigned Reg, const MachineRegisterInfo &amp;MRI, const TargetInstrInfo *TII)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01668">ARMBaseInstrInfo.cpp:1668</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a654b11787ac7c4344084d98bea7cf626"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">llvm::MachineBasicBlock::const_iterator</a></div><div class="ttdeci">bundle_iterator&lt; const MachineInstr, const_instr_iterator &gt; const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00214">MachineBasicBlock.h:214</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618aeda154c828d692cd52ca6cce8765f9ae">llvm::ARMII::AddrModeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00325">ARMBaseInfo.h:325</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a055858b14215864ed367a8db6c19d6f6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">llvm::TargetRegisterInfo::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00280">TargetRegisterInfo.h:280</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_a4bd63de978510703f28cd98ea7c0ffa5"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#a4bd63de978510703f28cd98ea7c0ffa5">llvm::ARMCC::getOppositeCondition</a></div><div class="ttdeci">static CondCodes getOppositeCondition(CondCodes CC)</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00047">ARMBaseInfo.h:47</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a6282aa121bbcfb3d8a25be63c0b3dc33"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a6282aa121bbcfb3d8a25be63c0b3dc33">AddSubFlagsOpcodeMap</a></div><div class="ttdeci">static const AddSubFlagsOpcodePair AddSubFlagsOpcodeMap[]</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01790">ARMBaseInstrInfo.cpp:1790</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a61ecbe20e0dc248b415cd7731d517da1"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a61ecbe20e0dc248b415cd7731d517da1">llvm::MCInstrDesc::getSchedClass</a></div><div class="ttdeci">unsigned getSchedClass() const </div><div class="ttdoc">Return the scheduling class for this instruction. The scheduling class is an index into the InstrItin...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00570">MCInstrDesc.h:570</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a5f1f4297ecf2dafb48ff1cb0597faea8">llvm::ARMCC::LT</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00041">ARMBaseInfo.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac9485ae7d6fedd71ad4460f72c799c98"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00422">MachineOperand.h:422</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a603f8f8d2c9d8de6762092830cf82b13"><div class="ttname"><a href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">llvm::Function::hasFnAttribute</a></div><div class="ttdeci">bool hasFnAttribute(Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the function has the attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00200">Function.h:200</a></div></div>
<div class="ttc" id="classllvm_1_1BranchProbability_html_a204d45ec8933f9df9b28f98c3990ddae"><div class="ttname"><a href="classllvm_1_1BranchProbability.html#a204d45ec8933f9df9b28f98c3990ddae">llvm::BranchProbability::getDenominator</a></div><div class="ttdeci">uint32_t getDenominator() const </div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00042">BranchProbability.h:42</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a9716711ecfa12e9b08bf9bca20b52429a38642eed189597cd4b0c90fe46f2bcd2">ExeNEON</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03936">ARMBaseInstrInfo.cpp:3936</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_afb0e1a4ff9f8314f2599f867178b1611"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#afb0e1a4ff9f8314f2599f867178b1611">llvm::ARMSubtarget::isThumb2</a></div><div class="ttdeci">bool isThumb2() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00321">ARMSubtarget.h:321</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a76f5f9f36bbd9f03c844c5b565f239efa25f26a9f4d00c9ac425953111519c041"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a76f5f9f36bbd9f03c844c5b565f239efa25f26a9f4d00c9ac425953111519c041">llvm::ARM_AM::lsr</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00031">ARMAddressingModes.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af0288e181965a5ff9f0c7a75201fd142af64367be349b6e7672de902ebecae068">llvm::MachineBasicBlock::LQR_Unknown</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00591">MachineBasicBlock.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a2f9819f230628888e3e68de292ecd602"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a2f9819f230628888e3e68de292ecd602">llvm::MachineRegisterInfo::use_begin</a></div><div class="ttdeci">use_iterator use_begin(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00257">MachineRegisterInfo.h:257</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8a5a91c23866687baf221ce86ff6fde01f">llvm::TargetOpcode::IMPLICIT_DEF</a></div><div class="ttdoc">IMPLICIT_DEF - This is the MachineInstr-level equivalent of undef. </div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00052">TargetOpcodes.h:52</a></div></div>
<div class="ttc" id="ARMBaseRegisterInfo_8h_html"><div class="ttname"><a href="ARMBaseRegisterInfo_8h.html">ARMBaseRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html">llvm::ARMFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00027">ARMMachineFunctionInfo.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a3a817fefcff152330fc8a08abf4d13f6"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a3a817fefcff152330fc8a08abf4d13f6">llvm::ARMBaseInstrInfo::getNumLDMAddresses</a></div><div class="ttdeci">unsigned getNumLDMAddresses(const MachineInstr *MI) const </div><div class="ttdoc">Get the number of addresses by LDM or VLDM or zero for unknown. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02823">ARMBaseInstrInfo.cpp:2823</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a57bf9ee7219097ff0f98da23a3b3b782"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00269">MachineOperand.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html_abb9d34248326780608aad1a7ea2fa1d6"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#abb9d34248326780608aad1a7ea2fa1d6">llvm::LiveVariables::addVirtualRegisterDead</a></div><div class="ttdeci">void addVirtualRegisterDead(unsigned IncomingReg, MachineInstr *MI, bool AddIfNotFound=false)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00234">LiveVariables.h:234</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a8be4959abd44b6fbd158dba0d7c315bc"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8be4959abd44b6fbd158dba0d7c315bc">llvm::MachineRegisterInfo::hasOneNonDBGUse</a></div><div class="ttdeci">bool hasOneNonDBGUse(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00327">MachineRegisterInfo.cpp:327</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac3c83a9ce4f6ef1a90d63ebe5722b2b9ab9fd312a3c788e0bd21fc94e46cf5ab2"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac3c83a9ce4f6ef1a90d63ebe5722b2b9ab9fd312a3c788e0bd21fc94e46cf5ab2">llvm::ARMII::IndexModePost</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00229">ARMBaseInfo.h:229</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ace020af050937ea3b758ed0f2c07af50">llvm::ARMCC::GT</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00042">ARMBaseInfo.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a13d07bf96aa7ae1faa20263f8d10979b"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a13d07bf96aa7ae1faa20263f8d10979b">llvm::InstrItineraryData::hasPipelineForwarding</a></div><div class="ttdeci">bool hasPipelineForwarding(unsigned DefClass, unsigned DefIdx, unsigned UseClass, unsigned UseIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00197">MCInstrItineraries.h:197</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a624a062754a09d3787614d8627096705"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a624a062754a09d3787614d8627096705">llvm::MachineOperand::setReg</a></div><div class="ttdeci">void setReg(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00049">MachineInstr.cpp:49</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_ad59a931df03c79a2ea17009ee2a2f96b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#ad59a931df03c79a2ea17009ee2a2f96b">llvm::MachineInstrBuilder::addConstantPoolIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addConstantPoolIndex(unsigned Idx, int Offset=0, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00109">MachineInstrBuilder.h:109</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">llvm::TargetOpcode::DBG_VALUE</a></div><div class="ttdoc">DBG_VALUE - a mapping of the llvm.dbg.value intrinsic. </div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00069">TargetOpcodes.h:69</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a384beeba0ba566bd452979f538197559"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a384beeba0ba566bd452979f538197559">llvm::MachineInstrBuilder::addMemOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMemOperand(MachineMemOperand *MMO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00154">MachineInstrBuilder.h:154</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac4de5f228c299d7c4b7de72a4a6dd28c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">llvm::MachineInstr::isCall</a></div><div class="ttdeci">bool isCall(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00349">MachineInstr.h:349</a></div></div>
<div class="ttc" id="AArch64Disassembler_8cpp_html_a30bccd0ebacd9892c243f7bd520e4aa0"><div class="ttname"><a href="AArch64Disassembler_8cpp.html#a30bccd0ebacd9892c243f7bd520e4aa0">getReg</a></div><div class="ttdeci">static unsigned getReg(const void *D, unsigned RC, unsigned RegNo)</div><div class="ttdef"><b>Definition:</b> <a href="AArch64Disassembler_8cpp_source.html#l00299">AArch64Disassembler.cpp:299</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2f106e8d8dd41bc78c3bc657bd58dc72"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2f106e8d8dd41bc78c3bc657bd58dc72">llvm::MachineInstr::findRegisterDefOperandIdx</a></div><div class="ttdeci">int findRegisterDefOperandIdx(unsigned Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01053">MachineInstr.cpp:1053</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6a8b2ef77967dee1220cc6ee5aee595e11">llvm::ARMCC::AL</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00044">ARMBaseInfo.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a8d02c1e6ef20f42c10d6f4e7234efd61"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a8d02c1e6ef20f42c10d6f4e7234efd61">llvm::MachineBasicBlock::insert</a></div><div class="ttdeci">instr_iterator insert(instr_iterator I, MachineInstr *M)</div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aaed0effffa1cd7a0da7e544a115f9333"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aaed0effffa1cd7a0da7e544a115f9333">llvm::ARMBaseInstrInfo::setExecutionDomain</a></div><div class="ttdeci">void setExecutionDomain(MachineInstr *MI, unsigned Domain) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04032">ARMBaseInstrInfo.cpp:4032</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCC_html_ac8391dd6b8083baa870dee5142ff22b6ad2c4e3875c38c36df4848049d50cc28d"><div class="ttname"><a href="namespacellvm_1_1ARMCC.html#ac8391dd6b8083baa870dee5142ff22b6ad2c4e3875c38c36df4848049d50cc28d">llvm::ARMCC::VC</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00037">ARMBaseInfo.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMISD_html_a2e41e02d8e1c0ff6c5a48860e87476b9a6b4121a8201ef54013a43cce7972b532"><div class="ttname"><a href="namespacellvm_1_1ARMISD.html#a2e41e02d8e1c0ff6c5a48860e87476b9a6b4121a8201ef54013a43cce7972b532">llvm::ARMISD::FMSTAT</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMISelLowering_8h_source.html#l00064">ARMISelLowering.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html">llvm::MachineInstrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00045">MachineInstrBuilder.h:45</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_afdacdb74974f380adc2ba5381cce6026"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#afdacdb74974f380adc2ba5381cce6026">llvm::ARM_AM::getAM5Op</a></div><div class="ttdeci">static AddrOpc getAM5Op(unsigned AM5Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00499">ARMAddressingModes.h:499</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a38656e57fa67b381c0aa737611bcf2bb"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a38656e57fa67b381c0aa737611bcf2bb">llvm::ARMBaseInstrInfo::DefinesPredicate</a></div><div class="ttdeci">virtual bool DefinesPredicate(MachineInstr *MI, std::vector&lt; MachineOperand &gt; &amp;Pred) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00502">ARMBaseInstrInfo.cpp:502</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_abf69f92f1977440a4e443a26baeb73c0"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#abf69f92f1977440a4e443a26baeb73c0">llvm::MachineRegisterInfo::getVRegDef</a></div><div class="ttdeci">MachineInstr * getVRegDef(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00308">MachineRegisterInfo.cpp:308</a></div></div>
<div class="ttc" id="ARMConstantPoolValue_8h_html"><div class="ttname"><a href="ARMConstantPoolValue_8h.html">ARMConstantPoolValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a0debe027a783e78a5f39b947544af5dd"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a0debe027a783e78a5f39b947544af5dd">llvm::ARMBaseInstrInfo::breakPartialRegDependency</a></div><div class="ttdeci">void breakPartialRegDependency(MachineBasicBlock::iterator, unsigned, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04300">ARMBaseInstrInfo.cpp:4300</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1ARMHazardRecognizer_html"><div class="ttname"><a href="classllvm_1_1ARMHazardRecognizer.html">llvm::ARMHazardRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMHazardRecognizer_8h_source.html#l00030">ARMHazardRecognizer.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1ARMSubtarget_html_ab2510f9dc252cd95daa6ca819e23167e"><div class="ttname"><a href="classllvm_1_1ARMSubtarget.html#ab2510f9dc252cd95daa6ca819e23167e">llvm::ARMSubtarget::isLikeA9</a></div><div class="ttdeci">bool isLikeA9() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMSubtarget_8h_source.html#l00259">ARMSubtarget.h:259</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_a7ceb44c13a5a15157d5f663fa961fb98"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#a7ceb44c13a5a15157d5f663fa961fb98">getNumJTEntries</a></div><div class="ttdeci">static LLVM_ATTRIBUTE_NOINLINE unsigned getNumJTEntries(const std::vector&lt; MachineJumpTableEntry &gt; &amp;JT, unsigned JTI)</div><div class="ttdoc">FIXME: Works around a gcc miscompilation with -fstrict-aliasing. </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00542">ARMBaseInstrInfo.cpp:542</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_aee1f052b080c3ebf61813c50dda26408"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#aee1f052b080c3ebf61813c50dda26408">llvm::ARM_AM::getAM2ShiftOpc</a></div><div class="ttdeci">static ShiftOpc getAM2ShiftOpc(unsigned AM2Opc)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00419">ARMAddressingModes.h:419</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_aead1976618a69142c927e6abe9b307f5"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#aead1976618a69142c927e6abe9b307f5">llvm::ARMBaseInstrInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const ARMBaseRegisterInfo &amp; getRegisterInfo() const =0</div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a6c300abe1e4b9fda1a3eb6630eb99cd5"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a6c300abe1e4b9fda1a3eb6630eb99cd5">llvm::ARM_AM::getSORegOffset</a></div><div class="ttdeci">static unsigned getSORegOffset(unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00115">ARMAddressingModes.h:115</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac72254fc483383a9ba6e47578d93d618a97f18b4a92c5fb6c0a355460b38972f7"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac72254fc483383a9ba6e47578d93d618a97f18b4a92c5fb6c0a355460b38972f7">llvm::ARMII::DomainGeneral</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00425">ARMBaseInfo.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_aa1ec82398ade62414be35d8431c0a33b"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#aa1ec82398ade62414be35d8431c0a33b">llvm::MachineInstrBuilder::addMBB</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addMBB(MachineBasicBlock *MBB, unsigned char TargetFlags=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00098">MachineInstrBuilder.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html_a55194ec3a1e49d04eab64e993e614246"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html#a55194ec3a1e49d04eab64e993e614246">llvm::MCInstrDesc::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdoc">Return the number of declared MachineOperands for this MachineInstruction. Note that variadic (isVari...</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00190">MCInstrDesc.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_acaf4630ad9d642377ce6e5f81f190f13"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#acaf4630ad9d642377ce6e5f81f190f13">llvm::ARMBaseInstrInfo::isPredicable</a></div><div class="ttdeci">virtual bool isPredicable(MachineInstr *MI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00520">ARMBaseInstrInfo.cpp:520</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a34ab07c56acf0fe7f68a6da0d514bec7"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a34ab07c56acf0fe7f68a6da0d514bec7">llvm::MachineInstrBuilder::addOperand</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addOperand(const MachineOperand &amp;MO) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00166">MachineInstrBuilder.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a340712de3e78fec11c338735cab17df7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a340712de3e78fec11c338735cab17df7">llvm::MachineFunction::iterator</a></div><div class="ttdeci">BasicBlockListType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00303">MachineFunction.h:303</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a39303914565c68a9ad02b159c625f0ac"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a39303914565c68a9ad02b159c625f0ac">llvm::MachineInstr::addRegisterDefined</a></div><div class="ttdeci">void addRegisterDefined(unsigned Reg, const TargetRegisterInfo *RegInfo=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01760">MachineInstr.cpp:1760</a></div></div>
<div class="ttc" id="namespacellvm_html_a7923e3e207de8bc1d0d6a5091316ddde"><div class="ttname"><a href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a></div><div class="ttdeci">ItTy prior(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00167">STLExtras.h:167</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMII_html_ac3c83a9ce4f6ef1a90d63ebe5722b2b9abf29846376f4da85457ab5fbc9dfcc70"><div class="ttname"><a href="namespacellvm_1_1ARMII.html#ac3c83a9ce4f6ef1a90d63ebe5722b2b9abf29846376f4da85457ab5fbc9dfcc70">llvm::ARMII::IndexModePre</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00228">ARMBaseInfo.h:228</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_acd1aa5ca74e191974caa73958cb572b1"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#acd1aa5ca74e191974caa73958cb572b1">llvm::ARMBaseInstrInfo::getSubtarget</a></div><div class="ttdeci">const ARMSubtarget &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8h_source.html#l00050">ARMBaseInstrInfo.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ab8fd10f439804d8d7872bc1389653fce"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ab8fd10f439804d8d7872bc1389653fce">llvm::MachineInstr::addRegisterKilled</a></div><div class="ttdeci">bool addRegisterKilled(unsigned IncomingReg, const TargetRegisterInfo *RegInfo, bool AddIfNotFound=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01635">MachineInstr.cpp:1635</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPool_html_ae31743f7e04cc8706b3b29d087b6f1b2"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html#ae31743f7e04cc8706b3b29d087b6f1b2">llvm::MachineConstantPool::getConstants</a></div><div class="ttdeci">const std::vector&lt; MachineConstantPoolEntry &gt; &amp; getConstants() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineConstantPool_8h_source.html#l00161">MachineConstantPool.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_abff9086798c2bcaa66812e6c574bd90d"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#abff9086798c2bcaa66812e6c574bd90d">llvm::ARMBaseInstrInfo::isLoadFromStackSlot</a></div><div class="ttdeci">virtual unsigned isLoadFromStackSlot(const MachineInstr *MI, int &amp;FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l01111">ARMBaseInstrInfo.cpp:1111</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_html_a25aa0d7259fa59c3558f084b880712e4"><div class="ttname"><a href="namespacellvm.html#a25aa0d7259fa59c3558f084b880712e4">llvm::isV8EligibleForIT</a></div><div class="ttdeci">bool isV8EligibleForIT(InstrType *Instr, int BLXOperandIndex=0)</div><div class="ttdef"><b>Definition:</b> <a href="ARMFeatures_8h_source.html#l00022">ARMFeatures.h:22</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0e4e5eef3cc7c47acbb753b9d3872348"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00326">MachineOperand.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a9c33a3e76f85a3afe24a1f1dd8e21d13"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a9c33a3e76f85a3afe24a1f1dd8e21d13">llvm::MachineInstr::hasOptionalDef</a></div><div class="ttdeci">bool hasOptionalDef(QueryType Type=IgnoreBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00334">MachineInstr.h:334</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a496e043d9f9dd3dd680919665aa7fca1"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a496e043d9f9dd3dd680919665aa7fca1">llvm::MachineOperand::isIdenticalTo</a></div><div class="ttdeci">bool isIdenticalTo(const MachineOperand &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00170">MachineInstr.cpp:170</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_afd3c04beba982703c5a4df17ca3180cc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#afd3c04beba982703c5a4df17ca3180cc">llvm::MachineInstr::isRegSequence</a></div><div class="ttdeci">bool isRegSequence() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00663">MachineInstr.h:663</a></div></div>
<div class="ttc" id="classllvm_1_1ARMFunctionInfo_html_a07c23410c7430f86085eadea31db3ee2"><div class="ttname"><a href="classllvm_1_1ARMFunctionInfo.html#a07c23410c7430f86085eadea31db3ee2">llvm::ARMFunctionInfo::isThumb2Function</a></div><div class="ttdeci">bool isThumb2Function() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachineFunctionInfo_8h_source.html#l00142">ARMMachineFunctionInfo.h:142</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_ae3a823dd187d5c292f18a4fcfffde3a3"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#ae3a823dd187d5c292f18a4fcfffde3a3">llvm::ARM_AM::isT2SOImmTwoPartVal</a></div><div class="ttdeci">static bool isT2SOImmTwoPartVal(unsigned Imm)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00335">ARMAddressingModes.h:335</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMCP_html_ad7299e03746a8bdbbff1d3aaf03eaaabad4206f41cccb7d5c78d6d642b4b35e1f"><div class="ttname"><a href="namespacellvm_1_1ARMCP.html#ad7299e03746a8bdbbff1d3aaf03eaaabad4206f41cccb7d5c78d6d642b4b35e1f">llvm::ARMCP::CPValue</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8h_source.html#l00032">ARMConstantPoolValue.h:32</a></div></div>
<div class="ttc" id="structARM__MLxEntry_html_a36874b9abb0982b40b084c448351e577"><div class="ttname"><a href="structARM__MLxEntry.html#a36874b9abb0982b40b084c448351e577">ARM_MLxEntry::MulOpc</a></div><div class="ttdeci">uint16_t MulOpc</div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00061">ARMBaseInstrInfo.cpp:61</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_aa03349ec4911cc288087cef87cf769a3"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#aa03349ec4911cc288087cef87cf769a3">llvm::ARM_AM::getSOImmTwoPartFirst</a></div><div class="ttdeci">static unsigned getSOImmTwoPartFirst(unsigned V)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00201">ARMAddressingModes.h:201</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__iterator.html">llvm::MachineRegisterInfo::defusechain_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00204">MachineRegisterInfo.h:204</a></div></div>
<div class="ttc" id="classllvm_1_1InstrItineraryData_html_a714827e35583b7e5e55f8bcce441c2cb"><div class="ttname"><a href="classllvm_1_1InstrItineraryData.html#a714827e35583b7e5e55f8bcce441c2cb">llvm::InstrItineraryData::isEmpty</a></div><div class="ttdeci">bool isEmpty() const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrItineraries_8h_source.html#l00132">MCInstrItineraries.h:132</a></div></div>
<div class="ttc" id="ARMAddressingModes_8h_html"><div class="ttname"><a href="ARMAddressingModes_8h.html">ARMAddressingModes.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a8187278394d92f255286f41bd7d6701a"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a8187278394d92f255286f41bd7d6701a">llvm::MachineInstr::setMemRefs</a></div><div class="ttdeci">void setMemRefs(mmo_iterator NewMemRefs, mmo_iterator NewMemRefsEnd)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01003">MachineInstr.h:1003</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa72c17e2ff2d5af62a30e56ac152aa8d5">llvm::RegState::Define</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00031">MachineInstrBuilder.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_a669f02b480507a0b4305cffbdee1e7db"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#a669f02b480507a0b4305cffbdee1e7db">llvm::ARMBaseInstrInfo::getOperandLatency</a></div><div class="ttdeci">virtual int getOperandLatency(const InstrItineraryData *ItinData, const MachineInstr *DefMI, unsigned DefIdx, const MachineInstr *UseMI, unsigned UseIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l03470">ARMBaseInstrInfo.cpp:3470</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a43386af65581b8de506f3b57ba6c05b0"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a43386af65581b8de506f3b57ba6c05b0">llvm::MachineFrameInfo::getObjectSize</a></div><div class="ttdeci">int64_t getObjectSize(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00347">MachineFrameInfo.h:347</a></div></div>
<div class="ttc" id="classllvm_1_1ARMConstantPoolConstant_html_a42ce6739c10696336d46591fec3e12ac"><div class="ttname"><a href="classllvm_1_1ARMConstantPoolConstant.html#a42ce6739c10696336d46591fec3e12ac">llvm::ARMConstantPoolConstant::Create</a></div><div class="ttdeci">static ARMConstantPoolConstant * Create(const Constant *C, unsigned ID)</div><div class="ttdef"><b>Definition:</b> <a href="ARMConstantPoolValue_8cpp_source.html#l00127">ARMConstantPoolValue.cpp:127</a></div></div>
<div class="ttc" id="classllvm_1_1MachineConstantPool_html_ad9e4b5817af07b8be3f3ccf9d08df771"><div class="ttname"><a href="classllvm_1_1MachineConstantPool.html#ad9e4b5817af07b8be3f3ccf9d08df771">llvm::MachineConstantPool::getConstantPoolIndex</a></div><div class="ttdeci">unsigned getConstantPoolIndex(const Constant *C, unsigned Alignment)</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00865">MachineFunction.cpp:865</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abbf52e5d5823c0724fe7b8385d3157d9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abbf52e5d5823c0724fe7b8385d3157d9">llvm::MachineInstr::modifiesRegister</a></div><div class="ttdeci">bool modifiesRegister(unsigned Reg, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00760">MachineInstr.h:760</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ab6c13295692da4a356c2e62ba6910b2a"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ab6c13295692da4a356c2e62ba6910b2a">llvm::ARMBaseInstrInfo::AddDReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; AddDReg(MachineInstrBuilder &amp;MIB, unsigned Reg, unsigned SubIdx, unsigned State, const TargetRegisterInfo *TRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l00772">ARMBaseInstrInfo.cpp:772</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ad4671e176ed51a20fd0ceb8090b37284"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ad4671e176ed51a20fd0ceb8090b37284">llvm::ARMBaseInstrInfo::FoldImmediate</a></div><div class="ttdeci">virtual bool FoldImmediate(MachineInstr *UseMI, MachineInstr *DefMI, unsigned Reg, MachineRegisterInfo *MRI) const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l02462">ARMBaseInstrInfo.cpp:2462</a></div></div>
<div class="ttc" id="classllvm_1_1LiveVariables_html_a9f49d5526aacaa90fbf6eb8f21503fa3"><div class="ttname"><a href="classllvm_1_1LiveVariables.html#a9f49d5526aacaa90fbf6eb8f21503fa3">llvm::LiveVariables::addVirtualRegisterKilled</a></div><div class="ttdeci">void addVirtualRegisterKilled(unsigned IncomingReg, MachineInstr *MI, bool AddIfNotFound=false)</div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00198">LiveVariables.h:198</a></div></div>
<div class="ttc" id="ARMBaseInstrInfo_8cpp_html_ac0d783c80fd0f6ac590557c9d09bf5b4"><div class="ttname"><a href="ARMBaseInstrInfo_8cpp.html#ac0d783c80fd0f6ac590557c9d09bf5b4">EnableARM3Addr</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableARM3Addr(&quot;enable-arm-3-addr-conv&quot;, cl::Hidden, cl::desc(&quot;Enable ARM 2-addr to 3-addr conv&quot;))</div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_a7ef138746b04be6d07091b9ba49d74da"><div class="ttname"><a href="classllvm_1_1SDNode.html#a7ef138746b04be6d07091b9ba49d74da">llvm::SDNode::isMachineOpcode</a></div><div class="ttdeci">bool isMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00384">SelectionDAGNodes.h:384</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__AM_html_a3c0892ca13564f7da976c5defe746fcf"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a3c0892ca13564f7da976c5defe746fcf">llvm::ARM_AM::getSORegShOp</a></div><div class="ttdeci">static ShiftOpc getSORegShOp(unsigned Op)</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00118">ARMAddressingModes.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1SDNode_html_afe3745334feafa68985dee7caa1a254f"><div class="ttname"><a href="classllvm_1_1SDNode.html#afe3745334feafa68985dee7caa1a254f">llvm::SDNode::getMachineOpcode</a></div><div class="ttdeci">unsigned getMachineOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00389">SelectionDAGNodes.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1ARMBaseInstrInfo_html_ac714982de3cf34a16018a1f48346b46d"><div class="ttname"><a href="classllvm_1_1ARMBaseInstrInfo.html#ac714982de3cf34a16018a1f48346b46d">llvm::ARMBaseInstrInfo::hasNOP</a></div><div class="ttdeci">bool hasNOP() const </div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInstrInfo_8cpp_source.html#l04334">ARMBaseInstrInfo.cpp:4334</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abb87c1c9d9046e29211e9875e27ceef9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdoc">Access to memory operands of the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00291">MachineInstr.h:291</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daadb3c6bd94c0588ae581c154972651bfd">llvm::RegState::DefineNoRead</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00039">MachineInstrBuilder.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aa37e31e5df481d2f8a6f9f022886cf5e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa37e31e5df481d2f8a6f9f022886cf5e">llvm::MachineInstr::tieOperands</a></div><div class="ttdeci">void tieOperands(unsigned DefIdx, unsigned UseIdx)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01112">MachineInstr.cpp:1112</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea490ee0eef953b867ec5f39859c6a03bf">llvm::Attribute::MinSize</a></div><div class="ttdoc">Function must be optimized for size first. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00077">Attributes.h:77</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:05 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
