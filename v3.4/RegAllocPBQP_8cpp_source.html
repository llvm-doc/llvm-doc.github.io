<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: RegAllocPBQP.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('RegAllocPBQP_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RegAllocPBQP.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RegAllocPBQP_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------ RegAllocPBQP.cpp ---- PBQP Register Allocator -------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains a Partitioned Boolean Quadratic Programming (PBQP) based</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// register allocator for LLVM. This allocator works by constructing a PBQP</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// problem representing the register allocation problem under consideration,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// solving this using a PBQP solver, and mapping the solution back to a</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// register assignment. If any variables are selected for spilling then spill</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// code is inserted and the process repeated.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// The PBQP solver (pbqp.c) provided for this allocator uses a heuristic tuned</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// for register allocation. For more information on PBQP for register</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// allocation, see the following papers:</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//   (1) Hames, L. and Scholz, B. 2006. Nearly optimal register allocation with</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//   PBQP. In Proceedings of the 7th Joint Modular Languages Conference</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//   (JMLC&#39;06). LNCS, vol. 4228. Springer, New York, NY, USA. 346-361.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//   (2) Scholz, B., Eckstein, E. 2002. Register allocation for irregular</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//   architectures. In Proceedings of the Joint Conference on Languages,</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//   Compilers and Tools for Embedded Systems (LCTES&#39;02), ACM Press, New York,</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//   NY, USA, 139-148.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="RegAllocPBQP_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   32</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;regalloc&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegAllocPBQP_8h.html">llvm/CodeGen/RegAllocPBQP.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterCoalescer_8h.html">RegisterCoalescer.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Spiller_8h.html">Spiller.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OwningPtr_8h.html">llvm/ADT/OwningPtr.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CalcSpillWeights_8h.html">llvm/CodeGen/CalcSpillWeights.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervalAnalysis_8h.html">llvm/CodeGen/LiveIntervalAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveRangeEdit_8h.html">llvm/CodeGen/LiveRangeEdit.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveStackAnalysis_8h.html">llvm/CodeGen/LiveStackAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBlockFrequencyInfo_8h.html">llvm/CodeGen/MachineBlockFrequencyInfo.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Graph_8h.html">llvm/CodeGen/PBQP/Graph.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="HeuristicSolver_8h.html">llvm/CodeGen/PBQP/HeuristicSolver.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Briggs_8h.html">llvm/CodeGen/PBQP/Heuristics/Briggs.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegAllocRegistry_8h.html">llvm/CodeGen/RegAllocRegistry.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtRegMap_8h.html">llvm/CodeGen/VirtRegMap.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1RegisterRegAlloc.html">RegisterRegAlloc</a></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="RegAllocPBQP_8cpp.html#acf74f162f54a8481d974416c3ef4caba">registerPBQPRepAlloc</a>(<span class="stringliteral">&quot;pbqp&quot;</span>, <span class="stringliteral">&quot;PBQP register allocator&quot;</span>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                       <a class="code" href="namespacellvm.html#a9d7aa3c609702698164de3c77384bb10">createDefaultPBQPRegisterAllocator</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="RegAllocPBQP_8cpp.html#a6e2bd69e93b33a3646cc86239e4ca575">pbqpCoalescing</a>(<span class="stringliteral">&quot;pbqp-coalescing&quot;</span>,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Attempt coalescing during PBQP register allocation.&quot;</span>),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<a class="code" href="RegAllocPBQP_8cpp.html#a764c1c06c3d03a19a94dfecb527d077e">pbqpDumpGraphs</a>(<span class="stringliteral">&quot;pbqp-dump-graphs&quot;</span>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;               <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Dump graphs for each function/round in the compilation unit.&quot;</span>),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;               <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/// PBQP based allocators solve the register allocation problem by mapping</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// register allocation problems to Partitioned Boolean Quadratic</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// Programming problems.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span><span class="keyword">class </span>RegAllocPBQP : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a> {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  /// Construct a PBQP register allocator.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span>  RegAllocPBQP(<a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPBuilder&gt;</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <span class="keywordtype">char</span> *cPassID=0)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(ID), builder(b.take()), customPassID(cPassID) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="namespacellvm.html#aa68a1c0afe039658609beebc96121f39">initializeSlotIndexesPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="namespacellvm.html#aea2ef5e4ec532aa42606902e9001f712">initializeLiveIntervalsPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="namespacellvm.html#a7aeb11cd960ff18ae0b12e678dfcae57">initializeLiveStacksPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacellvm.html#a49962b01687c86f2c8bcf37a9037ff85">initializeVirtRegMapPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  /// Return the pass name.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* getPassName()<span class="keyword"> const </span>{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PBQP Register Allocator&quot;</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">  /// PBQP analysis usage.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;au) <span class="keyword">const</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /// Perform register allocation</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">typedef</span> std::map&lt;const LiveInterval*, unsigned&gt; LI2NodeMap;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">typedef</span> std::vector&lt;const LiveInterval*&gt; Node2LIMap;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">typedef</span> std::vector&lt;unsigned&gt; AllowedSet;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">typedef</span> std::vector&lt;AllowedSet&gt; AllowedSetMap;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">typedef</span> std::pair&lt;unsigned, unsigned&gt; RegPair;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keyword">typedef</span> std::map&lt;RegPair, PBQP::PBQPNum&gt; CoalesceMap;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">typedef</span> std::set&lt;unsigned&gt; RegSet;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPBuilder&gt;</a> builder;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">char</span> *customPassID;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *mf;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *tm;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *tri;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *tii;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *mri;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *mbfi;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;Spiller&gt;</a> spiller;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *lis;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a> *lss;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *vrm;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  RegSet vregsToAlloc, emptyIntervalVRegs;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  /// \brief Finds the initial set of vreg intervals to allocate.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> findVRegIntervalsToAlloc();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// \brief Given a solved PBQP problem maps this solution back to a register</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// assignment.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> mapPBQPToRegAlloc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PBQPRAProblem.html">PBQPRAProblem</a> &amp;<a class="code" href="CodeGen_2README_8txt.html#a3fef6e4a83d2d619d46298f2ea45ca6d">problem</a>,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classPBQP_1_1Solution.html">PBQP::Solution</a> &amp;solution);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// \brief Postprocessing before final spilling. Sets basic block &quot;live in&quot;</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// variables.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> finalizeAlloc() <span class="keyword">const</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;};</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">RegAllocPBQP::ID</a> = 0;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;} <span class="comment">// End anonymous namespace.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPRAProblem.html#a3e09679f959de2790be78d8a7c688704">  160</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PBQPRAProblem.html#a3e09679f959de2790be78d8a7c688704">PBQPRAProblem::getVRegForNode</a>(<a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  Node2VReg::const_iterator vregItr = node2VReg.find(node);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  assert(vregItr != node2VReg.end() &amp;&amp; <span class="stringliteral">&quot;No vreg for node.&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> vregItr-&gt;second;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">  166</a></span>&#160;<a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> <a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">PBQPRAProblem::getNodeForVReg</a>(<span class="keywordtype">unsigned</span> vreg)<span class="keyword"> const </span>{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">VReg2Node::const_iterator</a> nodeItr = vreg2Node.find(vreg);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  assert(nodeItr != vreg2Node.end() &amp;&amp; <span class="stringliteral">&quot;No node for vreg.&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> nodeItr-&gt;second;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a>&amp;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">  174</a></span>&#160;  <a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">PBQPRAProblem::getAllowedSet</a>(<span class="keywordtype">unsigned</span> vreg)<span class="keyword"> const </span>{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classllvm_1_1DenseMapIterator.html">AllowedSetMap::const_iterator</a> allowedSetItr = allowedSets.find(vreg);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  assert(allowedSetItr != allowedSets.end() &amp;&amp; <span class="stringliteral">&quot;No pregs for vreg.&quot;</span>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">AllowedSet</a> &amp;allowedSet = allowedSetItr-&gt;second;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> allowedSet;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPRAProblem.html#ad7ee099b5d4aff936bf698060a9d4c6d">  181</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PBQPRAProblem.html#ad7ee099b5d4aff936bf698060a9d4c6d">PBQPRAProblem::getPRegForOption</a>(<span class="keywordtype">unsigned</span> vreg, <span class="keywordtype">unsigned</span> option)<span class="keyword"> const </span>{</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  assert(isPRegOption(vreg, option) &amp;&amp; <span class="stringliteral">&quot;Not a preg option.&quot;</span>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">AllowedSet</a>&amp; allowedSet = getAllowedSet(vreg);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  assert(option &lt;= allowedSet.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; <span class="stringliteral">&quot;Option outside allowed set.&quot;</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> allowedSet[option - 1];</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPBuilder.html#a99af7cdad6dcbabea984ae488de1fe90">  189</a></span>&#160;<a class="code" href="classllvm_1_1PBQPRAProblem.html">PBQPRAProblem</a> *<a class="code" href="classllvm_1_1PBQPBuilder.html#a99af7cdad6dcbabea984ae488de1fe90">PBQPBuilder::build</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *mf, <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *lis,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *mbfi,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PBQPBuilder.html#aec995b59d665b4035f6af53063102ea6">RegSet</a> &amp;vregs) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *LIS = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>*<span class="keyword">&gt;</span>(lis);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> *mri = &amp;mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *tri = mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPRAProblem&gt;</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>(<span class="keyword">new</span> <a class="code" href="classllvm_1_1PBQPRAProblem.html">PBQPRAProblem</a>());</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classPBQP_1_1Graph.html">PBQP::Graph</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a806885525dd4f77e8ef4f8b6bad2902d">g</a> = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">getGraph</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="classllvm_1_1PBQPBuilder.html#aec995b59d665b4035f6af53063102ea6">RegSet</a> pregs;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// Collect the set of preg intervals, record that they&#39;re used in the MF.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = 1, e = tri-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a56e9a625f708912164f16c178ceb97d7">getNumRegs</a>(); <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> != e; ++<a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (mri-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#afef4b73d23e882692f002b5e85f1edcb">def_empty</a>(<a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>))</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    pregs.insert(<a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    mri-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">setPhysRegUsed</a>(<a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// Iterate over vregs.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">for</span> (RegSet::const_iterator vregItr = vregs.begin(), vregEnd = vregs.end();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;       vregItr != vregEnd; ++vregItr) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">unsigned</span> vreg = *vregItr;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *trc = mri-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">getRegClass</a>(vreg);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *vregLI = &amp;LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">getInterval</a>(vreg);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// Record any overlaps with regmask operands.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> regMaskOverlaps;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a044210fc5bff20b7f2a6814b877891ca">checkRegMaskInterference</a>(*vregLI, regMaskOverlaps);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Compute an initial allowed set for the current vreg.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">typedef</span> std::vector&lt;unsigned&gt; VRAllowed;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    VRAllowed vrAllowed;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;uint16_t&gt;</a> rawOrder = trc-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a28bee324946322e5b0663f50a4029779">getRawAllocationOrder</a>(*mf);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != rawOrder.<a class="code" href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordtype">unsigned</span> preg = rawOrder[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">if</span> (mri-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(preg))</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// vregLI crosses a regmask operand that clobbers preg.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">if</span> (!regMaskOverlaps.<a class="code" href="classllvm_1_1BitVector.html#ab98dc2f3e8a9cc96774d153f79527e9a">empty</a>() &amp;&amp; !regMaskOverlaps.<a class="code" href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">test</a>(preg))</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="comment">// vregLI overlaps fixed regunit interference.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordtype">bool</span> Interference = <span class="keyword">false</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(preg, tri); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#abccd358b92366e5284e7e674e86b241f">isValid</a>(); ++Units) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (vregLI-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a1ee341130300e56248229610462773ae">overlaps</a>(LIS-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">getRegUnit</a>(*Units))) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          Interference = <span class="keyword">true</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">if</span> (Interference)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="comment">// preg is usable for this virtual register.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      vrAllowed.push_back(preg);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// Construct the node.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a> =</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      g.<a class="code" href="classPBQP_1_1Graph.html#a65697ca3805ebd130075a70e7efba1e7">addNode</a>(<a class="code" href="classPBQP_1_1Vector.html">PBQP::Vector</a>(vrAllowed.size() + 1, 0));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Record the mapping and allowed set in the problem.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#aa3606c3b9ace83d5c88805920ec06f7f">recordVReg</a>(vreg, node, vrAllowed.begin(), vrAllowed.end());</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a> spillCost = (vregLI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> != 0.0) ?</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        vregLI-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> : std::numeric_limits&lt;PBQP::PBQPNum&gt;::min();</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    addSpillCosts(g.<a class="code" href="classPBQP_1_1Graph.html#ab3fbbf9df71e9c2654e7e80806e03e90">getNodeCosts</a>(node), spillCost);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">for</span> (RegSet::const_iterator vr1Itr = vregs.begin(), vrEnd = vregs.end();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;         vr1Itr != vrEnd; ++vr1Itr) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">unsigned</span> vr1 = *vr1Itr;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;l1 = lis-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">getInterval</a>(vr1);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr1Allowed = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">getAllowedSet</a>(vr1);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">for</span> (RegSet::const_iterator vr2Itr = <a class="code" href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a>(vr1Itr);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;         vr2Itr != vrEnd; ++vr2Itr) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordtype">unsigned</span> vr2 = *vr2Itr;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;l2 = lis-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">getInterval</a>(vr2);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr2Allowed = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">getAllowedSet</a>(vr2);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      assert(!l2.<a class="code" href="classllvm_1_1LiveRange.html#abfed19760ab95747976edc7862a35807">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Empty interval in vreg set?&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">if</span> (l1.<a class="code" href="classllvm_1_1LiveRange.html#a1ee341130300e56248229610462773ae">overlaps</a>(l2)) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="classPBQP_1_1Graph.html#ae60c519ec2e4b5f51f340b3ecc97fbe4">PBQP::Graph::EdgeId</a> edge =</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          g.<a class="code" href="classPBQP_1_1Graph.html#a0754a5bc0071b9129968a8cecf2095e8">addEdge</a>(p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">getNodeForVReg</a>(vr1), p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">getNodeForVReg</a>(vr2),</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <a class="code" href="LiveRegMatrix_8cpp.html#a8989acb71bd355e02bcf3a930b5e54ea">PBQP::Matrix</a>(vr1Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()+1, vr2Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()+1, 0));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        addInterferenceCosts(g.<a class="code" href="classPBQP_1_1Graph.html#a8794d42ab7b5cfbf8e9aa6fdd60abfa8">getEdgeCosts</a>(edge), vr1Allowed, vr2Allowed, tri);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">return</span> p.<a class="code" href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">take</a>();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keywordtype">void</span> PBQPBuilder::addSpillCosts(<a class="code" href="classPBQP_1_1Vector.html">PBQP::Vector</a> &amp;costVec,</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                <a class="code" href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a> spillCost) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  costVec[0] = spillCost;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">void</span> PBQPBuilder::addInterferenceCosts(</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                    <a class="code" href="classPBQP_1_1Matrix.html">PBQP::Matrix</a> &amp;costMat,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr1Allowed,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr2Allowed,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *tri) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  assert(costMat.<a class="code" href="classPBQP_1_1Matrix.html#aef97f8816fe8c90957aa77650e201f28">getRows</a>() == vr1Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1 &amp;&amp; <span class="stringliteral">&quot;Matrix height mismatch.&quot;</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  assert(costMat.<a class="code" href="classPBQP_1_1Matrix.html#a65dba0196c9167f83bd94ad1cb1ca275">getCols</a>() == vr2Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1 &amp;&amp; <span class="stringliteral">&quot;Matrix width mismatch.&quot;</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != vr1Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">unsigned</span> preg1 = vr1Allowed[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != vr2Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordtype">unsigned</span> preg2 = vr2Allowed[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span> (tri-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a4fac7ec2f43b802397b65018bda0040e">regsOverlap</a>(preg1, preg2)) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        costMat[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1][<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> + 1] = std::numeric_limits&lt;PBQP::PBQPNum&gt;::infinity();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="classllvm_1_1PBQPBuilderWithCoalescing.html#a1f9fb879c5703e247e6da95ac457e00f">  313</a></span>&#160;<a class="code" href="classllvm_1_1PBQPRAProblem.html">PBQPRAProblem</a> *<a class="code" href="classllvm_1_1PBQPBuilderWithCoalescing.html#a1f9fb879c5703e247e6da95ac457e00f">PBQPBuilderWithCoalescing::build</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *mf,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *lis,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *mbfi,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1PBQPBuilder.html#aec995b59d665b4035f6af53063102ea6">RegSet</a> &amp;vregs) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPRAProblem&gt;</a> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>(<a class="code" href="classllvm_1_1PBQPBuilder.html#a99af7cdad6dcbabea984ae488de1fe90">PBQPBuilder::build</a>(mf, lis, mbfi, vregs));</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classPBQP_1_1Graph.html">PBQP::Graph</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a806885525dd4f77e8ef4f8b6bad2902d">g</a> = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">getGraph</a>();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> &amp;tm = mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>();</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classllvm_1_1CoalescerPair.html">CoalescerPair</a> cp(*tm.<a class="code" href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">getRegisterInfo</a>());</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// Scan the machine function and add a coalescing cost whenever CoalescerPair</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// gives the Ok.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">MachineFunction::const_iterator</a> mbbItr = mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">begin</a>(),</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                       mbbEnd = mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">end</a>();</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;       mbbItr != mbbEnd; ++mbbItr) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *mbb = &amp;*mbbItr;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">MachineBasicBlock::const_iterator</a> miItr = mbb-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>(),</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                           miEnd = mbb-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         miItr != miEnd; ++miItr) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *mi = &amp;*miItr;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">if</span> (!cp.setRegisters(mi)) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">continue</span>; <span class="comment">// Not coalescable.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (cp.getSrcReg() == cp.getDstReg()) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">continue</span>; <span class="comment">// Already coalesced.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordtype">unsigned</span> dst = cp.getDstReg(),</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;               src = cp.getSrcReg();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> copyFactor = 0.5; <span class="comment">// Cost of copy relative to load. Current</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="comment">// value plucked randomly out of the air.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a> cBenefit =</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        copyFactor * <a class="code" href="classllvm_1_1LiveIntervals.html#a68d96b3b379a471c71a2000078a274c4">LiveIntervals::getSpillWeight</a>(<span class="keyword">false</span>, <span class="keyword">true</span>,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                   mbfi-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#acc5325cdcfb5ee2601e17646fac5b66c">getBlockFreq</a>(mbb));</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">if</span> (cp.isPhys()) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">if</span> (!mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a017c4ebe5112a2521ee37dfe1e78236c">isAllocatable</a>(dst)) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;allowed = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">getAllowedSet</a>(src);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordtype">unsigned</span> pregOpt = 0;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">while</span> (pregOpt &lt; allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &amp;&amp; allowed[pregOpt] != dst) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          ++pregOpt;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (pregOpt &lt; allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>()) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          ++pregOpt; <span class="comment">// +1 to account for spill option.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          <a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a> = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">getNodeForVReg</a>(src);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          addPhysRegCoalesce(g.<a class="code" href="classPBQP_1_1Graph.html#ab3fbbf9df71e9c2654e7e80806e03e90">getNodeCosts</a>(node), pregOpt, cBenefit);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> *allowed1 = &amp;p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">getAllowedSet</a>(dst);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> *allowed2 = &amp;p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">getAllowedSet</a>(src);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> node1 = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">getNodeForVReg</a>(dst);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a> node2 = p-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">getNodeForVReg</a>(src);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="classPBQP_1_1Graph.html#ae60c519ec2e4b5f51f340b3ecc97fbe4">PBQP::Graph::EdgeId</a> edge = g.<a class="code" href="classPBQP_1_1Graph.html#a1a97b2ff8afb036174fbaaa8581f5aef">findEdge</a>(node1, node2);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span> (edge == g.<a class="code" href="classPBQP_1_1Graph.html#ad80f3bb4ddb28a703db0d6c4a34007c7">invalidEdgeId</a>()) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          edge = g.<a class="code" href="classPBQP_1_1Graph.html#a0754a5bc0071b9129968a8cecf2095e8">addEdge</a>(node1, node2, <a class="code" href="classPBQP_1_1Matrix.html">PBQP::Matrix</a>(allowed1-&gt;<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                                      allowed2-&gt;<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1,</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                                      0));</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          <span class="keywordflow">if</span> (g.<a class="code" href="classPBQP_1_1Graph.html#a8988d38517cc6e17a63864e139d39d03">getEdgeNode1</a>(edge) == node2) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(node1, node2);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(allowed1, allowed2);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        addVirtRegCoalesce(g.<a class="code" href="classPBQP_1_1Graph.html#a8794d42ab7b5cfbf8e9aa6fdd60abfa8">getEdgeCosts</a>(edge), *allowed1, *allowed2,</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                           cBenefit);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">return</span> p.<a class="code" href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">take</a>();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keywordtype">void</span> PBQPBuilderWithCoalescing::addPhysRegCoalesce(<a class="code" href="classPBQP_1_1Vector.html">PBQP::Vector</a> &amp;costVec,</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                                   <span class="keywordtype">unsigned</span> pregOption,</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                   <a class="code" href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a> benefit) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  costVec[pregOption] += -benefit;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">void</span> PBQPBuilderWithCoalescing::addVirtRegCoalesce(</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                    <a class="code" href="classPBQP_1_1Matrix.html">PBQP::Matrix</a> &amp;costMat,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr1Allowed,</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">PBQPRAProblem::AllowedSet</a> &amp;vr2Allowed,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                    <a class="code" href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a> benefit) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  assert(costMat.<a class="code" href="classPBQP_1_1Matrix.html#aef97f8816fe8c90957aa77650e201f28">getRows</a>() == vr1Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1 &amp;&amp; <span class="stringliteral">&quot;Size mismatch.&quot;</span>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  assert(costMat.<a class="code" href="classPBQP_1_1Matrix.html#a65dba0196c9167f83bd94ad1cb1ca275">getCols</a>() == vr2Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() + 1 &amp;&amp; <span class="stringliteral">&quot;Size mismatch.&quot;</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != vr1Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">unsigned</span> preg1 = vr1Allowed[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0; <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != vr2Allowed.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordtype">unsigned</span> preg2 = vr2Allowed[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>];</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">if</span> (preg1 == preg2) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        costMat[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1][<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> + 1] += -benefit;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="keywordtype">void</span> RegAllocPBQP::getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;au)<span class="keyword"> const </span>{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>&gt;();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>&gt;();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>&gt;();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>&gt;();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">//au.addRequiredID(SplitCriticalEdgesID);</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (customPassID)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a053677ebc731b47a534f841b11b5cf0c">addRequiredID</a>(*customPassID);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a>&gt;();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1LiveStacks.html">LiveStacks</a>&gt;();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>&gt;();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a>&gt;();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a>&gt;();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>&gt;();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a>&gt;();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  au.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a>&gt;();</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#aa1eece37d175f86a6f4808c0c167f13b">MachineFunctionPass::getAnalysisUsage</a>(au);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keywordtype">void</span> RegAllocPBQP::findVRegIntervalsToAlloc() {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Iterate over all live ranges.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = mri-&gt;getNumVirtRegs(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = <a class="code" href="classllvm_1_1TargetRegisterInfo.html#a70cd177cd3198c912817a21f373b5651">TargetRegisterInfo::index2VirtReg</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (mri-&gt;reg_nodbg_empty(Reg))</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li = &amp;lis-&gt;getInterval(Reg);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// If this live interval is non-empty we will use pbqp to allocate it.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// Empty intervals we allocate in a simple post-processing stage in</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// finalizeAlloc.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (!li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#abfed19760ab95747976edc7862a35807">empty</a>()) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      vregsToAlloc.insert(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      emptyIntervalVRegs.insert(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keywordtype">bool</span> RegAllocPBQP::mapPBQPToRegAlloc(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PBQPRAProblem.html">PBQPRAProblem</a> &amp;<a class="code" href="CodeGen_2README_8txt.html#a3fef6e4a83d2d619d46298f2ea45ca6d">problem</a>,</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classPBQP_1_1Solution.html">PBQP::Solution</a> &amp;solution) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">// Set to true if we have any spills</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordtype">bool</span> anotherRoundNeeded = <span class="keyword">false</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// Clear the existing allocation.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  vrm-&gt;clearAllVirt();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keyword">const</span> <a class="code" href="classPBQP_1_1Graph.html">PBQP::Graph</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a806885525dd4f77e8ef4f8b6bad2902d">g</a> = problem.<a class="code" href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">getGraph</a>();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Iterate over the nodes mapping the PBQP solution to a register</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// assignment.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classPBQP_1_1Graph_1_1NodeItr.html">PBQP::Graph::NodeItr</a> nodeItr = g.<a class="code" href="classPBQP_1_1Graph.html#a6c603c2210fc33551de4805fd2afecc2">nodesBegin</a>(),</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                            nodeEnd = g.<a class="code" href="classPBQP_1_1Graph.html#a62a22a4d09ca603d4a3f7e5ec28939ff">nodesEnd</a>();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;       nodeItr != nodeEnd; ++nodeItr) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordtype">unsigned</span> vreg = problem.<a class="code" href="classllvm_1_1PBQPRAProblem.html#a3e09679f959de2790be78d8a7c688704">getVRegForNode</a>(*nodeItr);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordtype">unsigned</span> alloc = solution.<a class="code" href="classPBQP_1_1Solution.html#a46434741a42fc1616a7280ded5348764">getSelection</a>(*nodeItr);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (problem.<a class="code" href="classllvm_1_1PBQPRAProblem.html#ace90cbc433958481ac27123d0bd743db">isPRegOption</a>(vreg, alloc)) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordtype">unsigned</span> preg = problem.<a class="code" href="classllvm_1_1PBQPRAProblem.html#ad7ee099b5d4aff936bf698060a9d4c6d">getPRegForOption</a>(vreg, alloc);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;VREG &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PrintReg.html">PrintReg</a>(vreg, tri) &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            &lt;&lt; tri-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a2546a53db9bdb717a20f9786b1c06137">getName</a>(preg) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      assert(preg != 0 &amp;&amp; <span class="stringliteral">&quot;Invalid preg selected.&quot;</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      vrm-&gt;assignVirt2Phys(vreg, preg);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (problem.<a class="code" href="classllvm_1_1PBQPRAProblem.html#a8c6db4b5eef55beaf28beefb80b7e973">isSpillOption</a>(vreg, alloc)) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      vregsToAlloc.erase(vreg);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> newSpills;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <a class="code" href="classllvm_1_1LiveRangeEdit.html">LiveRangeEdit</a> LRE(&amp;lis-&gt;getInterval(vreg), newSpills, *mf, *lis, vrm);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      spiller-&gt;spill(LRE);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;VREG &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1PrintReg.html">PrintReg</a>(vreg, tri) &lt;&lt; <span class="stringliteral">&quot; -&gt; SPILLED (Cost: &quot;</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                   &lt;&lt; LRE.getParent().weight &lt;&lt; <span class="stringliteral">&quot;, New vregs: &quot;</span>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="comment">// Copy any newly inserted live intervals into the list of regs to</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="comment">// allocate.</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveRangeEdit.html#a18cd05add1459bf6825fa35f2aca3a3d">LiveRangeEdit::iterator</a> itr = LRE.begin(), <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> = LRE.<a class="code" href="classllvm_1_1sys_1_1path_1_1const__iterator.html#a8a503d1cbee10d1b8c8f5ac2a03b90df">end</a>();</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;           itr != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++itr) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li = lis-&gt;getInterval(*itr);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        assert(!li.<a class="code" href="classllvm_1_1LiveRange.html#abfed19760ab95747976edc7862a35807">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Empty spill range.&quot;</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="classllvm_1_1PrintReg.html">PrintReg</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>, tri) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        vregsToAlloc.insert(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="comment">// We need another round if spill intervals were added.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      anotherRoundNeeded |= !LRE.empty();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown allocation option.&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">return</span> !anotherRoundNeeded;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keywordtype">void</span> RegAllocPBQP::finalizeAlloc()<span class="keyword"> const </span>{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// First allocate registers for the empty intervals.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">for</span> (RegSet::const_iterator</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         itr = emptyIntervalVRegs.begin(), <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a> = emptyIntervalVRegs.<a class="code" href="classllvm_1_1sys_1_1path_1_1const__iterator.html#a8a503d1cbee10d1b8c8f5ac2a03b90df">end</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;         itr != <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>; ++itr) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li = &amp;lis-&gt;getInterval(*itr);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">unsigned</span> physReg = mri-&gt;getSimpleHint(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (physReg == 0) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *liRC = mri-&gt;getRegClass(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      physReg = liRC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a28bee324946322e5b0663f50a4029779">getRawAllocationOrder</a>(*mf).<a class="code" href="classllvm_1_1ArrayRef.html#acffda5d90e734243696448a1818c04bc">front</a>();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    vrm-&gt;assignVirt2Phys(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>, physReg);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="keywordtype">bool</span> RegAllocPBQP::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  mf = &amp;MF;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  tm = &amp;mf-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  tri = tm-&gt;getRegisterInfo();</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  tii = tm-&gt;getInstrInfo();</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  mri = &amp;mf-&gt;getRegInfo();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  lis = &amp;getAnalysis&lt;LiveIntervals&gt;();</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  lss = &amp;getAnalysis&lt;LiveStacks&gt;();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  mbfi = &amp;getAnalysis&lt;MachineBlockFrequencyInfo&gt;();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="namespacellvm.html#ae57ce04872f7f974e2f996946aedef83">calculateSpillWeightsAndHints</a>(*lis, MF, getAnalysis&lt;MachineLoopInfo&gt;(),</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                *mbfi);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  vrm = &amp;getAnalysis&lt;VirtRegMap&gt;();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  spiller.reset(<a class="code" href="namespacellvm.html#abc755629d1844132f222498e5c454d9b">createInlineSpiller</a>(*<span class="keyword">this</span>, MF, *vrm));</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  mri-&gt;freezeReservedRegs(MF);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;PBQP Register Allocating for &quot;</span> &lt;&lt; mf-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Allocator main loop:</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// * Map current regalloc problem to a PBQP problem</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// * Solve the PBQP problem</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// * Map the solution back to a register allocation</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// * Spill if necessary</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// This process is continued till no more spills are generated.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// Find the vreg intervals in need of allocation.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  findVRegIntervalsToAlloc();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a>* func = mf-&gt;getFunction();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  std::string fqn =</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    func-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a339f163decf5f2c881937600d1e953fa">getModuleIdentifier</a>() + <span class="stringliteral">&quot;.&quot;</span> +</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    func-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">str</a>();</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// If there are non-empty intervals allocate them using pbqp.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (!vregsToAlloc.empty()) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordtype">bool</span> pbqpAllocComplete = <span class="keyword">false</span>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">round</a> = 0;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">while</span> (!pbqpAllocComplete) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  PBQP Regalloc round &quot;</span> &lt;&lt; round &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPRAProblem&gt;</a> <a class="code" href="CodeGen_2README_8txt.html#a3fef6e4a83d2d619d46298f2ea45ca6d">problem</a>(</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        builder-&gt;build(mf, lis, mbfi, vregsToAlloc));</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="RegAllocPBQP_8cpp.html#a764c1c06c3d03a19a94dfecb527d077e">pbqpDumpGraphs</a>) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        std::ostringstream rs;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        rs &lt;&lt; <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">round</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        std::string graphFileName(fqn + <span class="stringliteral">&quot;.&quot;</span> + rs.str() + <span class="stringliteral">&quot;.pbqpgraph&quot;</span>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        std::string <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="classllvm_1_1raw__fd__ostream.html">raw_fd_ostream</a> os(graphFileName.c_str(), <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Dumping graph for round &quot;</span> &lt;&lt; round &lt;&lt; <span class="stringliteral">&quot; to \&quot;&quot;</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;              &lt;&lt; graphFileName &lt;&lt; <span class="stringliteral">&quot;\&quot;\n&quot;</span>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        problem-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">getGraph</a>().<a class="code" href="classPBQP_1_1Graph.html#a8ea3a126c7ea2384526924c444ac276b">dump</a>(os);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <a class="code" href="classPBQP_1_1Solution.html">PBQP::Solution</a> solution =</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="classPBQP_1_1HeuristicSolver.html#ab645b8d1126b11d228c67dbc9ff2915f">PBQP::HeuristicSolver&lt;PBQP::Heuristics::Briggs&gt;::solve</a>(</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          problem-&gt;<a class="code" href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">getGraph</a>());</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      pbqpAllocComplete = mapPBQPToRegAlloc(*problem, solution);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      ++<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">round</a>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// Finalise allocation, allocate empty ranges.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  finalizeAlloc();</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  vregsToAlloc.clear();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  emptyIntervalVRegs.clear();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Post alloc VirtRegMap:\n&quot;</span> &lt;&lt; *vrm &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8d964848557a94bbfa87c4950843b575">  626</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>* <a class="code" href="namespacellvm.html#a8d964848557a94bbfa87c4950843b575">llvm::createPBQPRegisterAllocator</a>(</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                           <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPBuilder&gt;</a> &amp;builder,</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                           <span class="keywordtype">char</span> *customPassID) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> RegAllocPBQP(builder, customPassID);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9d7aa3c609702698164de3c77384bb10">  632</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>* <a class="code" href="namespacellvm.html#a9d7aa3c609702698164de3c77384bb10">llvm::createDefaultPBQPRegisterAllocator</a>() {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;PBQPBuilder&gt;</a> Builder;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="RegAllocPBQP_8cpp.html#a6e2bd69e93b33a3646cc86239e4ca575">pbqpCoalescing</a>)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    Builder.<a class="code" href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">reset</a>(<span class="keyword">new</span> <a class="code" href="classllvm_1_1PBQPBuilderWithCoalescing.html">PBQPBuilderWithCoalescing</a>());</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    Builder.<a class="code" href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">reset</a>(<span class="keyword">new</span> <a class="code" href="classllvm_1_1PBQPBuilder.html">PBQPBuilder</a>());</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a8d964848557a94bbfa87c4950843b575">createPBQPRegisterAllocator</a>(Builder);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#undef DEBUG_TYPE</span></div><div class="ttc" id="classllvm_1_1LiveIntervals_html_a68d96b3b379a471c71a2000078a274c4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a68d96b3b379a471c71a2000078a274c4">llvm::LiveIntervals::getSpillWeight</a></div><div class="ttdeci">static float getSpillWeight(bool isDef, bool isUse, BlockFrequency freq)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8cpp_source.html#l00623">LiveIntervalAnalysis.cpp:623</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_ad7ee099b5d4aff936bf698060a9d4c6d"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#ad7ee099b5d4aff936bf698060a9d4c6d">llvm::PBQPRAProblem::getPRegForOption</a></div><div class="ttdeci">unsigned getPRegForOption(unsigned vreg, unsigned option) const </div><div class="ttdoc">Get PReg for option. </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00181">RegAllocPBQP.cpp:181</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a3fef6e4a83d2d619d46298f2ea45ca6d"><div class="ttname"><a href="CodeGen_2README_8txt.html#a3fef6e4a83d2d619d46298f2ea45ca6d">problem</a></div><div class="ttdeci">Common register allocation spilling problem</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00005">CodeGen/README.txt:5</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a8102e337f77143271ef8ccd4ea2546b3"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8102e337f77143271ef8ccd4ea2546b3">llvm::MachineRegisterInfo::setPhysRegUsed</a></div><div class="ttdeci">void setPhysRegUsed(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00434">MachineRegisterInfo.h:434</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a82bd4f4b721c049035c0d86cc261eadd"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a></div><div class="ttdeci">alloca&lt; 16 x float &gt;, align 16%tmp2=alloca&lt; 16 x float &gt;, align 16 store&lt; 16 x float &gt;%A,&lt; 16 x float &gt; *%tmp%s=bitcast&lt; 16 x float &gt; *%tmp to i8 *%s2=bitcast&lt; 16 x float &gt; *%tmp2 to i8 *call void @llvm.memcpy.i64(i8 *%s, i8 *%s2, i64 64, i32 16)%R=load&lt; 16 x float &gt; *%tmp2 ret&lt; 16 x float &gt;%R}declare void @llvm.memcpy.i64(i8 *nocapture, i8 *nocapture, i64, i32) nounwind which compiles to:_foo:subl $140,%esp movaps%xmm3, 112(%esp) movaps%xmm2, 96(%esp) movaps%xmm1, 80(%esp) movaps%xmm0, 64(%esp) movl 60(%esp),%eax movl%eax, 124(%esp) movl 56(%esp),%eax movl%eax, 120(%esp) movl 52(%esp),%eax&lt; many many more 32-bit copies &gt; movaps(%esp),%xmm0 movaps 16(%esp),%xmm1 movaps 32(%esp),%xmm2 movaps 48(%esp),%xmm3 addl $140,%esp ret On Nehalem, it may even be cheaper to just use movups when unaligned than to fall back to lower-granularity chunks.Implement processor-specific optimizations for parity with GCC on these processors.GCC does two optimizations:1.ix86_pad_returns inserts a noop before ret instructions if immediately preceded by a conditional branch or is the target of a jump.2.ix86_avoid_jump_misspredicts inserts noops in cases where a 16-byte block of code contains more than 3 branches.The first one is done for all AMDs, Core2, and&quot;Generic&quot;The second one is done for:Atom, Pentium Pro, all AMDs, Pentium 4, Nocona, Core 2, and&quot;Generic&quot;Testcase:int x(int a){return(a &amp;0xf0)&gt;&gt;4 tmp</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01572">Target/X86/README.txt:1572</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_ad80f3bb4ddb28a703db0d6c4a34007c7"><div class="ttname"><a href="classPBQP_1_1Graph.html#ad80f3bb4ddb28a703db0d6c4a34007c7">PBQP::Graph::invalidEdgeId</a></div><div class="ttdeci">EdgeId invalidEdgeId() const </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00343">Graph.h:343</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00035">PassRegistry.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a4ec9ddf8db4481c798f557e8af82693f"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">llvm::LiveInterval::reg</a></div><div class="ttdeci">const unsigned reg</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00532">LiveInterval.h:532</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_abccd358b92366e5284e7e674e86b241f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#abccd358b92366e5284e7e674e86b241f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const </div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end. </div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00217">MCRegisterInfo.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a9d017af749f76484cb9aec9ff6e4330c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a9d017af749f76484cb9aec9ff6e4330c">llvm::MachineFunction::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00317">MachineFunction.h:317</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_ab3fbbf9df71e9c2654e7e80806e03e90"><div class="ttname"><a href="classPBQP_1_1Graph.html#ab3fbbf9df71e9c2654e7e80806e03e90">PBQP::Graph::getNodeCosts</a></div><div class="ttdeci">Vector &amp; getNodeCosts(NodeId nId)</div><div class="ttdoc">Get a node&amp;#39;s cost vector. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00239">Graph.h:239</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a70cd177cd3198c912817a21f373b5651"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a70cd177cd3198c912817a21f373b5651">llvm::TargetRegisterInfo::index2VirtReg</a></div><div class="ttdeci">static unsigned index2VirtReg(unsigned Index)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00301">TargetRegisterInfo.h:301</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab0789854909cf47f640a85fa2bac29c7"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab0789854909cf47f640a85fa2bac29c7">llvm::MachineFunction::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00315">MachineFunction.h:315</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_acffda5d90e734243696448a1818c04bc"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#acffda5d90e734243696448a1818c04bc">llvm::ArrayRef::front</a></div><div class="ttdeci">const T &amp; front() const </div><div class="ttdoc">front - Get the first element. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00112">ArrayRef.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_aa3606c3b9ace83d5c88805920ec06f7f"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#aa3606c3b9ace83d5c88805920ec06f7f">llvm::PBQPRAProblem::recordVReg</a></div><div class="ttdeci">void recordVReg(unsigned vreg, PBQP::Graph::NodeId nodeId, AllowedRegsItr arBegin, AllowedRegsItr arEnd)</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00055">RegAllocPBQP.h:55</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a62a22a4d09ca603d4a3f7e5ec28939ff"><div class="ttname"><a href="classPBQP_1_1Graph.html#a62a22a4d09ca603d4a3f7e5ec28939ff">PBQP::Graph::nodesEnd</a></div><div class="ttdeci">NodeItr nodesEnd() const </div><div class="ttdoc">End iterator for node set. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00295">Graph.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00528">LiveInterval.h:528</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a8988d38517cc6e17a63864e139d39d03"><div class="ttname"><a href="classPBQP_1_1Graph.html#a8988d38517cc6e17a63864e139d39d03">PBQP::Graph::getEdgeNode1</a></div><div class="ttdeci">NodeId getEdgeNode1(EdgeId eId)</div><div class="ttdoc">Get the first node connected to this edge. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00320">Graph.h:320</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_ae60c519ec2e4b5f51f340b3ecc97fbe4"><div class="ttname"><a href="classPBQP_1_1Graph.html#ae60c519ec2e4b5f51f340b3ecc97fbe4">PBQP::Graph::EdgeId</a></div><div class="ttdeci">unsigned EdgeId</div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00033">Graph.h:33</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html_ae426d4bb8423d239ab8647d23b7ab150"><div class="ttname"><a href="classllvm_1_1OwningPtr.html#ae426d4bb8423d239ab8647d23b7ab150">llvm::OwningPtr::take</a></div><div class="ttdeci">T * take()</div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00060">OwningPtr.h:60</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00030">MachineBlockFrequencyInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ab02cb6f4884b5c788efb97b6741dccaf"><div class="ttname"><a href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const </div><div class="ttdoc">str - Get the contents as an std::string. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00181">StringRef.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00489">MCRegisterInfo.h:489</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPBuilderWithCoalescing_html_a1f9fb879c5703e247e6da95ac457e00f"><div class="ttname"><a href="classllvm_1_1PBQPBuilderWithCoalescing.html#a1f9fb879c5703e247e6da95ac457e00f">llvm::PBQPBuilderWithCoalescing::build</a></div><div class="ttdeci">virtual PBQPRAProblem * build(MachineFunction *mf, const LiveIntervals *lis, const MachineBlockFrequencyInfo *mbfi, const RegSet &amp;vregs)</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00313">RegAllocPBQP.cpp:313</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPBuilderWithCoalescing_html"><div class="ttname"><a href="classllvm_1_1PBQPBuilderWithCoalescing.html">llvm::PBQPBuilderWithCoalescing</a></div><div class="ttdoc">Extended builder which adds coalescing constraints to a problem. </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00140">RegAllocPBQP.h:140</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">llvm::Intrinsic::round</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02430">Intrinsics.h:2430</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="namespacellvm_html_ae57ce04872f7f974e2f996946aedef83"><div class="ttname"><a href="namespacellvm.html#ae57ce04872f7f974e2f996946aedef83">llvm::calculateSpillWeightsAndHints</a></div><div class="ttdeci">void calculateSpillWeightsAndHints(LiveIntervals &amp;LIS, MachineFunction &amp;MF, const MachineLoopInfo &amp;MLI, const MachineBlockFrequencyInfo &amp;MBFI, VirtRegAuxInfo::NormalizingFn norm=normalizeSpillWeight)</div><div class="ttdoc">Compute spill weights and allocation hints for all virtual register live intervals. </div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00025">CalcSpillWeights.cpp:25</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_adf965591a9facde12a3fedd4175b1837"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#adf965591a9facde12a3fedd4175b1837">llvm::PBQPRAProblem::getGraph</a></div><div class="ttdeci">PBQP::Graph &amp; getGraph()</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00044">RegAllocPBQP.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a044210fc5bff20b7f2a6814b877891ca"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a044210fc5bff20b7f2a6814b877891ca">llvm::LiveIntervals::checkRegMaskInterference</a></div><div class="ttdeci">bool checkRegMaskInterference(LiveInterval &amp;LI, BitVector &amp;UsableRegs)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8cpp_source.html#l00647">LiveIntervalAnalysis.cpp:647</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_abfed19760ab95747976edc7862a35807"><div class="ttname"><a href="classllvm_1_1LiveRange.html#abfed19760ab95747976edc7862a35807">llvm::LiveRange::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00311">LiveInterval.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBlockFrequencyInfo_html_acc5325cdcfb5ee2601e17646fac5b66c"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#acc5325cdcfb5ee2601e17646fac5b66c">llvm::MachineBlockFrequencyInfo::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const MachineBasicBlock *MBB) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8cpp_source.html#l00054">MachineBlockFrequencyInfo.cpp:54</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="RegAllocPBQP_8h_html"><div class="ttname"><a href="RegAllocPBQP_8h.html">RegAllocPBQP.h</a></div></div>
<div class="ttc" id="LiveRegMatrix_8cpp_html_a8989acb71bd355e02bcf3a930b5e54ea"><div class="ttname"><a href="LiveRegMatrix_8cpp.html#a8989acb71bd355e02bcf3a930b5e54ea">Matrix</a></div><div class="ttdeci">Live Register Matrix</div><div class="ttdef"><b>Definition:</b> <a href="LiveRegMatrix_8cpp_source.html#l00036">LiveRegMatrix.cpp:36</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_1_1NodeItr_html"><div class="ttname"><a href="classPBQP_1_1Graph_1_1NodeItr.html">PBQP::Graph::NodeItr</a></div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00155">Graph.h:155</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00049">LiveIntervalAnalysis.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a65697ca3805ebd130075a70e7efba1e7"><div class="ttname"><a href="classPBQP_1_1Graph.html#a65697ca3805ebd130075a70e7efba1e7">PBQP::Graph::addNode</a></div><div class="ttdeci">NodeId addNode(const Vector &amp;costs)</div><div class="ttdoc">Add a node with the given costs. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00213">Graph.h:213</a></div></div>
<div class="ttc" id="RegAllocRegistry_8h_html"><div class="ttname"><a href="RegAllocRegistry_8h.html">RegAllocRegistry.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00032">MachineFunctionPass.h:32</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1CoalescerPair_html"><div class="ttname"><a href="classllvm_1_1CoalescerPair.html">llvm::CoalescerPair</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterCoalescer_8h_source.html#l00028">RegisterCoalescer.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_a28bee324946322e5b0663f50a4029779"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a28bee324946322e5b0663f50a4029779">llvm::TargetRegisterClass::getRawAllocationOrder</a></div><div class="ttdeci">ArrayRef&lt; MCPhysReg &gt; getRawAllocationOrder(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00194">TargetRegisterInfo.h:194</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_ab3904d3601dbe52865d5f2e33a06d80d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab3904d3601dbe52865d5f2e33a06d80d">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(unsigned Reg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00342">MachineRegisterInfo.h:342</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRangeEdit_html_a18cd05add1459bf6825fa35f2aca3a3d"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html#a18cd05add1459bf6825fa35f2aca3a3d">llvm::LiveRangeEdit::iterator</a></div><div class="ttdeci">SmallVectorImpl&lt; unsigned &gt;::const_iterator iterator</div><div class="ttdoc">Iterator for accessing the new registers added by this edit. </div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00136">LiveRangeEdit.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a339f163decf5f2c881937600d1e953fa"><div class="ttname"><a href="classllvm_1_1Module.html#a339f163decf5f2c881937600d1e953fa">llvm::Module::getModuleIdentifier</a></div><div class="ttdeci">const std::string &amp; getModuleIdentifier() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00228">Module.h:228</a></div></div>
<div class="ttc" id="classPBQP_1_1Matrix_html_aef97f8816fe8c90957aa77650e201f28"><div class="ttname"><a href="classPBQP_1_1Matrix.html#aef97f8816fe8c90957aa77650e201f28">PBQP::Matrix::getRows</a></div><div class="ttdeci">unsigned getRows() const </div><div class="ttdoc">Return the number of rows in this matrix. </div><div class="ttdef"><b>Definition:</b> <a href="Math_8h_source.html#l00146">Math.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1PrintReg_html"><div class="ttname"><a href="classllvm_1_1PrintReg.html">llvm::PrintReg</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00878">TargetRegisterInfo.h:878</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_a56e9a625f708912164f16c178ceb97d7"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a56e9a625f708912164f16c178ceb97d7">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const </div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00359">MCRegisterInfo.h:359</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPBuilder_html_aec995b59d665b4035f6af53063102ea6"><div class="ttname"><a href="classllvm_1_1PBQPBuilder.html#aec995b59d665b4035f6af53063102ea6">llvm::PBQPBuilder::RegSet</a></div><div class="ttdeci">std::set&lt; unsigned &gt; RegSet</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00116">RegAllocPBQP.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1SlotIndexes_html"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html">llvm::SlotIndexes</a></div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00334">SlotIndexes.h:334</a></div></div>
<div class="ttc" id="classPBQP_1_1Solution_html_a46434741a42fc1616a7280ded5348764"><div class="ttname"><a href="classPBQP_1_1Solution.html#a46434741a42fc1616a7280ded5348764">PBQP::Solution::getSelection</a></div><div class="ttdeci">unsigned getSelection(Graph::NodeId nodeId) const </div><div class="ttdoc">Get a node&amp;#39;s selection. </div><div class="ttdef"><b>Definition:</b> <a href="Solution_8h_source.html#l00082">Solution.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html">llvm::PBQPRAProblem</a></div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00039">RegAllocPBQP.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPBuilder_html"><div class="ttname"><a href="classllvm_1_1PBQPBuilder.html">llvm::PBQPBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00110">RegAllocPBQP.h:110</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a1a97b2ff8afb036174fbaaa8581f5aef"><div class="ttname"><a href="classPBQP_1_1Graph.html#a1a97b2ff8afb036174fbaaa8581f5aef">PBQP::Graph::findEdge</a></div><div class="ttdeci">EdgeId findEdge(NodeId n1Id, NodeId n2Id)</div><div class="ttdoc">Get the edge connecting two nodes. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00352">Graph.h:352</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00027">BitVector.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00032">VirtRegMap.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1RegisterRegAlloc_html"><div class="ttname"><a href="classllvm_1_1RegisterRegAlloc.html">llvm::RegisterRegAlloc</a></div><div class="ttdef"><b>Definition:</b> <a href="RegAllocRegistry_8h_source.html#l00027">RegAllocRegistry.h:27</a></div></div>
<div class="ttc" id="RegAllocPBQP_8cpp_html_a6e2bd69e93b33a3646cc86239e4ca575"><div class="ttname"><a href="RegAllocPBQP_8cpp.html#a6e2bd69e93b33a3646cc86239e4ca575">pbqpCoalescing</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; pbqpCoalescing(&quot;pbqp-coalescing&quot;, cl::desc(&quot;Attempt coalescing during PBQP register allocation.&quot;), cl::init(false), cl::Hidden)</div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="MachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="MachineBlockFrequencyInfo_8h.html">MachineBlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html"><div class="ttname"><a href="classPBQP_1_1Graph.html">PBQP::Graph</a></div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00029">Graph.h:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1path_1_1const__iterator_html_a8a503d1cbee10d1b8c8f5ac2a03b90df"><div class="ttname"><a href="classllvm_1_1sys_1_1path_1_1const__iterator.html#a8a503d1cbee10d1b8c8f5ac2a03b90df">llvm::sys::path::const_iterator::end</a></div><div class="ttdeci">friend const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="classPBQP_1_1HeuristicSolver_html_ab645b8d1126b11d228c67dbc9ff2915f"><div class="ttname"><a href="classPBQP_1_1HeuristicSolver.html#ab645b8d1126b11d228c67dbc9ff2915f">PBQP::HeuristicSolver::solve</a></div><div class="ttdeci">static Solution solve(Graph &amp;g)</div><div class="ttdef"><b>Definition:</b> <a href="HeuristicSolver_8h_source.html#l00610">HeuristicSolver.h:610</a></div></div>
<div class="ttc" id="namespacellvm_html_aa68a1c0afe039658609beebc96121f39"><div class="ttname"><a href="namespacellvm.html#aa68a1c0afe039658609beebc96121f39">llvm::initializeSlotIndexesPass</a></div><div class="ttdeci">void initializeSlotIndexesPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a4fac7ec2f43b802397b65018bda0040e"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a4fac7ec2f43b802397b65018bda0040e">llvm::TargetRegisterInfo::regsOverlap</a></div><div class="ttdeci">bool regsOverlap(unsigned regA, unsigned regB) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00394">TargetRegisterInfo.h:394</a></div></div>
<div class="ttc" id="CalcSpillWeights_8h_html"><div class="ttname"><a href="CalcSpillWeights_8h.html">CalcSpillWeights.h</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html_ad45fe2513c9468cbd4fa891a3685f380"><div class="ttname"><a href="classllvm_1_1OwningPtr.html#ad45fe2513c9468cbd4fa891a3685f380">llvm::OwningPtr::reset</a></div><div class="ttdeci">void reset(T *P=0)</div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00051">OwningPtr.h:51</a></div></div>
<div class="ttc" id="namespacellvm_html_a8d964848557a94bbfa87c4950843b575"><div class="ttname"><a href="namespacellvm.html#a8d964848557a94bbfa87c4950843b575">llvm::createPBQPRegisterAllocator</a></div><div class="ttdeci">FunctionPass * createPBQPRegisterAllocator(OwningPtr&lt; PBQPBuilder &gt; &amp;builder, char *customPassID=0)</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00626">RegAllocPBQP.cpp:626</a></div></div>
<div class="ttc" id="namespacellvm_html_a7aeb11cd960ff18ae0b12e678dfcae57"><div class="ttname"><a href="namespacellvm.html#a7aeb11cd960ff18ae0b12e678dfcae57">llvm::initializeLiveStacksPass</a></div><div class="ttdeci">void initializeLiveStacksPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a008f499ae277e4936b5b897ddb4bcb7e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(unsigned PhysReg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00500">MachineRegisterInfo.h:500</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_adb7d9f7a99bf1090decff0ea8b50452d"><div class="ttname"><a href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper node</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_a13175a6042491d068a9ec3b7f302eaf5"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#a13175a6042491d068a9ec3b7f302eaf5">llvm::PBQPRAProblem::getAllowedSet</a></div><div class="ttdeci">const AllowedSet &amp; getAllowedSet(unsigned vreg) const </div><div class="ttdoc">Returns the allowed set for the given virtual register. </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00174">RegAllocPBQP.cpp:174</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_ab98dc2f3e8a9cc96774d153f79527e9a"><div class="ttname"><a href="classllvm_1_1BitVector.html#ab98dc2f3e8a9cc96774d153f79527e9a">llvm::BitVector::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Tests whether there are no bits in this bitvector. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00113">BitVector.h:113</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="RegAllocPBQP_8cpp_html_acf74f162f54a8481d974416c3ef4caba"><div class="ttname"><a href="RegAllocPBQP_8cpp.html#acf74f162f54a8481d974416c3ef4caba">registerPBQPRepAlloc</a></div><div class="ttdeci">static RegisterRegAlloc registerPBQPRepAlloc(&quot;pbqp&quot;,&quot;PBQP register allocator&quot;, createDefaultPBQPRegisterAllocator)</div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a1ee341130300e56248229610462773ae"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a1ee341130300e56248229610462773ae">llvm::LiveRange::overlaps</a></div><div class="ttdeci">bool overlaps(const LiveRange &amp;other) const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00377">LiveInterval.h:377</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="namespacellvm_html_aa1704159f75e6eacd595962ea6d93ffe"><div class="ttname"><a href="namespacellvm.html#aa1704159f75e6eacd595962ea6d93ffe">llvm::next</a></div><div class="ttdeci">ItTy next(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00154">STLExtras.h:154</a></div></div>
<div class="ttc" id="namespacellvm_html_aea2ef5e4ec532aa42606902e9001f712"><div class="ttname"><a href="namespacellvm.html#aea2ef5e4ec532aa42606902e9001f712">llvm::initializeLiveIntervalsPass</a></div><div class="ttdeci">void initializeLiveIntervalsPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html"><div class="ttname"><a href="classllvm_1_1OwningPtr.html">llvm::OwningPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00028">OwningPtr.h:28</a></div></div>
<div class="ttc" id="namespacellvm_html_a9d7aa3c609702698164de3c77384bb10"><div class="ttname"><a href="namespacellvm.html#a9d7aa3c609702698164de3c77384bb10">llvm::createDefaultPBQPRegisterAllocator</a></div><div class="ttdeci">FunctionPass * createDefaultPBQPRegisterAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00632">RegAllocPBQP.cpp:632</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_ace90cbc433958481ac27123d0bd743db"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#ace90cbc433958481ac27123d0bd743db">llvm::PBQPRAProblem::isPRegOption</a></div><div class="ttdeci">bool isPRegOption(unsigned vreg, unsigned option) const </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00074">RegAllocPBQP.h:74</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPBuilder_html_a99af7cdad6dcbabea984ae488de1fe90"><div class="ttname"><a href="classllvm_1_1PBQPBuilder.html#a99af7cdad6dcbabea984ae488de1fe90">llvm::PBQPBuilder::build</a></div><div class="ttdeci">virtual PBQPRAProblem * build(MachineFunction *mf, const LiveIntervals *lis, const MachineBlockFrequencyInfo *mbfi, const RegSet &amp;vregs)</div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00189">RegAllocPBQP.cpp:189</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_a3e09679f959de2790be78d8a7c688704"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#a3e09679f959de2790be78d8a7c688704">llvm::PBQPRAProblem::getVRegForNode</a></div><div class="ttdeci">unsigned getVRegForNode(PBQP::Graph::NodeId nodeId) const </div><div class="ttdoc">Get the virtual register corresponding to the given PBQP node. </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00160">RegAllocPBQP.cpp:160</a></div></div>
<div class="ttc" id="LiveRangeEdit_8h_html"><div class="ttname"><a href="LiveRangeEdit_8h.html">LiveRangeEdit.h</a></div></div>
<div class="ttc" id="classllvm_1_1LiveStacks_html"><div class="ttname"><a href="classllvm_1_1LiveStacks.html">llvm::LiveStacks</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveStackAnalysis_8h_source.html#l00027">LiveStackAnalysis.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_a8c6db4b5eef55beaf28beefb80b7e973"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#a8c6db4b5eef55beaf28beefb80b7e973">llvm::PBQPRAProblem::isSpillOption</a></div><div class="ttdeci">bool isSpillOption(unsigned vreg, unsigned option) const </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8h_source.html#l00082">RegAllocPBQP.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a99eec2c4ba894baca5b197e940b095f6"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">llvm::LiveInterval::weight</a></div><div class="ttdeci">float weight</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00533">LiveInterval.h:533</a></div></div>
<div class="ttc" id="classllvm_1_1PBQPRAProblem_html_a3ef8ab3c56ff6a39b1187941a42d51dc"><div class="ttname"><a href="classllvm_1_1PBQPRAProblem.html#a3ef8ab3c56ff6a39b1187941a42d51dc">llvm::PBQPRAProblem::getNodeForVReg</a></div><div class="ttdeci">PBQP::Graph::NodeId getNodeForVReg(unsigned vreg) const </div><div class="ttdoc">Get the PBQP node corresponding to the given virtual register. </div><div class="ttdef"><b>Definition:</b> <a href="RegAllocPBQP_8cpp_source.html#l00166">RegAllocPBQP.cpp:166</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="LiveIntervalAnalysis_8h_html"><div class="ttname"><a href="LiveIntervalAnalysis_8h.html">LiveIntervalAnalysis.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_a053677ebc731b47a534f841b11b5cf0c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a053677ebc731b47a534f841b11b5cf0c">llvm::AnalysisUsage::addRequiredID</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredID(const void *ID)</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00262">Pass.cpp:262</a></div></div>
<div class="ttc" id="namespacePBQP_html_a48fb0d5e4b0039c500b48f4375da8bea"><div class="ttname"><a href="namespacePBQP.html#a48fb0d5e4b0039c500b48f4375da8bea">PBQP::PBQPNum</a></div><div class="ttdeci">float PBQPNum</div><div class="ttdef"><b>Definition:</b> <a href="Math_8h_source.html#l00019">Math.h:19</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; unsigned, 16 &gt;</a></div></div>
<div class="ttc" id="Briggs_8h_html"><div class="ttname"><a href="Briggs_8h.html">Briggs.h</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a20b6ba858cb2bb6d8d7fa553025c1f61"><div class="ttname"><a href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00337">BitVector.h:337</a></div></div>
<div class="ttc" id="Graph_8h_html"><div class="ttname"><a href="Graph_8h.html">Graph.h</a></div></div>
<div class="ttc" id="LiveStackAnalysis_8h_html"><div class="ttname"><a href="LiveStackAnalysis_8h.html">LiveStackAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a017c4ebe5112a2521ee37dfe1e78236c"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a017c4ebe5112a2521ee37dfe1e78236c">llvm::MachineRegisterInfo::isAllocatable</a></div><div class="ttdeci">bool isAllocatable(unsigned PhysReg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00510">MachineRegisterInfo.h:510</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a806885525dd4f77e8ef4f8b6bad2902d"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a806885525dd4f77e8ef4f8b6bad2902d">g</a></div><div class="ttdeci">should just be implemented with a CLZ instruction Since there are other e g</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00709">Target/ARM/README.txt:709</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a8794d42ab7b5cfbf8e9aa6fdd60abfa8"><div class="ttname"><a href="classPBQP_1_1Graph.html#a8794d42ab7b5cfbf8e9aa6fdd60abfa8">PBQP::Graph::getEdgeCosts</a></div><div class="ttdeci">Matrix &amp; getEdgeCosts(EdgeId eId)</div><div class="ttdoc">Get an edge&amp;#39;s cost matrix. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00263">Graph.h:263</a></div></div>
<div class="ttc" id="HeuristicSolver_8h_html"><div class="ttname"><a href="HeuristicSolver_8h.html">HeuristicSolver.h</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00249">Pass.cpp:249</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a70cf6a51b043dc9f8ae683c266d5d9c4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00105">LiveIntervalAnalysis.h:105</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a8ea3a126c7ea2384526924c444ac276b"><div class="ttname"><a href="classPBQP_1_1Graph.html#a8ea3a126c7ea2384526924c444ac276b">PBQP::Graph::dump</a></div><div class="ttdeci">void dump(OStream &amp;os)</div><div class="ttdoc">Dump a graph to an output stream. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00395">Graph.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="namespacellvm_html_a49962b01687c86f2c8bcf37a9037ff85"><div class="ttname"><a href="namespacellvm.html#a49962b01687c86f2c8bcf37a9037ff85">llvm::initializeVirtRegMapPass</a></div><div class="ttdeci">void initializeVirtRegMapPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="namespacellvm_html_abc755629d1844132f222498e5c454d9b"><div class="ttname"><a href="namespacellvm.html#abc755629d1844132f222498e5c454d9b">llvm::createInlineSpiller</a></div><div class="ttdeci">Spiller * createInlineSpiller(MachineFunctionPass &amp;pass, MachineFunction &amp;mf, VirtRegMap &amp;vrm)</div><div class="ttdef"><b>Definition:</b> <a href="InlineSpiller_8cpp_source.html#l00191">InlineSpiller.cpp:191</a></div></div>
<div class="ttc" id="classPBQP_1_1Solution_html"><div class="ttname"><a href="classPBQP_1_1Solution.html">PBQP::Solution</a></div><div class="ttdoc">Represents a solution to a PBQP problem. </div><div class="ttdef"><b>Definition:</b> <a href="Solution_8h_source.html#l00026">Solution.h:26</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="AliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a654b11787ac7c4344084d98bea7cf626"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a654b11787ac7c4344084d98bea7cf626">llvm::MachineBasicBlock::const_iterator</a></div><div class="ttdeci">bundle_iterator&lt; const MachineInstr, const_instr_iterator &gt; const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00214">MachineBasicBlock.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1raw__fd__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__fd__ostream.html">llvm::raw_fd_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00310">raw_ostream.h:310</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunctionPass_html_aa1eece37d175f86a6f4808c0c167f13b"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#aa1eece37d175f86a6f4808c0c167f13b">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00036">MachineFunctionPass.cpp:36</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRangeEdit_html"><div class="ttname"><a href="classllvm_1_1LiveRangeEdit.html">llvm::LiveRangeEdit</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeEdit_8h_source.html#l00036">LiveRangeEdit.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="RegisterCoalescer_8h_html"><div class="ttname"><a href="RegisterCoalescer_8h.html">RegisterCoalescer.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a70b47eca6a99c87b81f4c1b1455dc090"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a70b47eca6a99c87b81f4c1b1455dc090">llvm::TargetMachine::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00140">Target/TargetMachine.h:140</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a0754a5bc0071b9129968a8cecf2095e8"><div class="ttname"><a href="classPBQP_1_1Graph.html#a0754a5bc0071b9129968a8cecf2095e8">PBQP::Graph::addEdge</a></div><div class="ttdeci">EdgeId addEdge(NodeId n1Id, NodeId n2Id, const Matrix &amp;costs)</div><div class="ttdoc">Add an edge between the given nodes with the given costs. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00221">Graph.h:221</a></div></div>
<div class="ttc" id="VirtRegMap_8h_html"><div class="ttname"><a href="VirtRegMap_8h.html">VirtRegMap.h</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a0a5492fbd7d3162f25d3250f780fff0e"><div class="ttname"><a href="classPBQP_1_1Graph.html#a0a5492fbd7d3162f25d3250f780fff0e">PBQP::Graph::NodeId</a></div><div class="ttdeci">unsigned NodeId</div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00032">Graph.h:32</a></div></div>
<div class="ttc" id="Spiller_8h_html"><div class="ttname"><a href="Spiller_8h.html">Spiller.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="MachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_afef4b73d23e882692f002b5e85f1edcb"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#afef4b73d23e882692f002b5e85f1edcb">llvm::MachineRegisterInfo::def_empty</a></div><div class="ttdeci">bool def_empty(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00244">MachineRegisterInfo.h:244</a></div></div>
<div class="ttc" id="RegAllocPBQP_8cpp_html_a764c1c06c3d03a19a94dfecb527d077e"><div class="ttname"><a href="RegAllocPBQP_8cpp.html#a764c1c06c3d03a19a94dfecb527d077e">pbqpDumpGraphs</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; pbqpDumpGraphs(&quot;pbqp-dump-graphs&quot;, cl::desc(&quot;Dump graphs for each function/round in the compilation unit.&quot;), cl::init(false), cl::Hidden)</div></div>
<div class="ttc" id="classPBQP_1_1Graph_html_a6c603c2210fc33551de4805fd2afecc2"><div class="ttname"><a href="classPBQP_1_1Graph.html#a6c603c2210fc33551de4805fd2afecc2">PBQP::Graph::nodesBegin</a></div><div class="ttdeci">NodeItr nodesBegin() const </div><div class="ttdoc">Begin iterator for node set. </div><div class="ttdef"><b>Definition:</b> <a href="Graph_8h_source.html#l00292">Graph.h:292</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00061">Target/TargetMachine.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_a2546a53db9bdb717a20f9786b1c06137"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a2546a53db9bdb717a20f9786b1c06137">llvm::MCRegisterInfo::getName</a></div><div class="ttdeci">const char * getName(unsigned RegNo) const </div><div class="ttdoc">Return the human-readable symbolic target-specific name for the specified physical register...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00353">MCRegisterInfo.h:353</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="MachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00072">MachineLoopInfo.h:72</a></div></div>
<div class="ttc" id="OwningPtr_8h_html"><div class="ttname"><a href="OwningPtr_8h.html">OwningPtr.h</a></div></div>
<div class="ttc" id="classPBQP_1_1Vector_html"><div class="ttname"><a href="classPBQP_1_1Vector.html">PBQP::Vector</a></div><div class="ttdoc">PBQP Vector class. </div><div class="ttdef"><b>Definition:</b> <a href="Math_8h_source.html#l00022">Math.h:22</a></div></div>
<div class="ttc" id="classPBQP_1_1Matrix_html_a65dba0196c9167f83bd94ad1cb1ca275"><div class="ttname"><a href="classPBQP_1_1Matrix.html#a65dba0196c9167f83bd94ad1cb1ca275">PBQP::Matrix::getCols</a></div><div class="ttdeci">unsigned getCols() const </div><div class="ttdoc">Return the number of cols in this matrix. </div><div class="ttdef"><b>Definition:</b> <a href="Math_8h_source.html#l00149">Math.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00040">MachineDominators.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_afd1840a8e04214d75dc4e3afd74673b4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">llvm::LiveIntervals::getRegUnit</a></div><div class="ttdeci">LiveRange &amp; getRegUnit(unsigned Unit)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00367">LiveIntervalAnalysis.h:367</a></div></div>
<div class="ttc" id="classPBQP_1_1Matrix_html"><div class="ttname"><a href="classPBQP_1_1Matrix.html">PBQP::Matrix</a></div><div class="ttdoc">PBQP Matrix class. </div><div class="ttdef"><b>Definition:</b> <a href="Math_8h_source.html#l00112">Math.h:112</a></div></div>
<div class="ttc" id="MachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:01:05 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
