<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: Signals.inc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Unix_2Signals_8inc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Unix/Signals.inc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Unix_2Signals_8inc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Signals.cpp - Generic Unix Signals Implementation -----*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file defines some helpful functions for dealing with the possibility of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Unix signals occurring while your program is running.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Unix_8h.html">Unix.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Mutex_8h.html">llvm/Support/Mutex.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#if HAVE_EXECINFO_H</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor"># include &lt;execinfo.h&gt;</span>         <span class="comment">// For backtrace().</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#if HAVE_SIGNAL_H</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#if HAVE_SYS_STAT_H</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if HAVE_CXXABI_H</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cxxabi.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#if HAVE_DLFCN_H</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;dlfcn.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#if HAVE_MACH_MACH_H</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;mach/mach.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">static</span> RETSIGTYPE SignalHandler(<span class="keywordtype">int</span> Sig);  <span class="comment">// defined below.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">static</span> SmartMutex&lt;true&gt; SignalsMutex;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// InterruptFunction - The function to call if ctrl-c is pressed.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span><span class="keyword">static</span> void (*InterruptFunction)() = 0;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">static</span> std::vector&lt;std::string&gt; FilesToRemove;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">static</span> std::vector&lt;std::pair&lt;void(*)(void*), void*&gt; &gt; CallBacksToRun;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// IntSigs - Signals that represent requested termination. There&#39;s no bug</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// or failure, or if there is, it&#39;s not our direct responsibility. For whatever</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// reason, our continued execution is no longer desirable.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> IntSigs[] = {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  SIGHUP, SIGINT, SIGPIPE, SIGTERM, SIGUSR1, SIGUSR2</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> IntSigsEnd = <a class="code" href="namespacellvm.html#ae68b9c00207e80cdfa3645a527c0dd8f">array_endof</a>(IntSigs);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// KillSigs - Signals that represent that we have a bug, and our prompt</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// termination has been ordered.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> KillSigs[] = {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  SIGILL, SIGTRAP, SIGABRT, SIGFPE, SIGBUS, SIGSEGV, SIGQUIT</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#ifdef SIGSYS</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  , SIGSYS</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#ifdef SIGXCPU</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  , SIGXCPU</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#ifdef SIGXFSZ</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  , SIGXFSZ</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#ifdef SIGEMT</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  , SIGEMT</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;};</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> *<span class="keyword">const</span> KillSigsEnd = <a class="code" href="namespacellvm.html#ae68b9c00207e80cdfa3645a527c0dd8f">array_endof</a>(KillSigs);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> NumRegisteredSignals = 0;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">struct </span>sigaction SA;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordtype">int</span> SigNo;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;} RegisteredSignalInfo[(<span class="keyword">sizeof</span>(IntSigs)+<span class="keyword">sizeof</span>(KillSigs))/<span class="keyword">sizeof</span>(KillSigs[0])];</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> RegisterHandler(<span class="keywordtype">int</span> Signal) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  assert(NumRegisteredSignals &lt;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;         <span class="keyword">sizeof</span>(RegisteredSignalInfo)/<span class="keyword">sizeof</span>(RegisteredSignalInfo[0]) &amp;&amp;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;         <span class="stringliteral">&quot;Out of space for signal handlers!&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">struct </span>sigaction NewHandler;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  NewHandler.sa_handler = SignalHandler;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  NewHandler.sa_flags = SA_NODEFER|SA_RESETHAND;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  sigemptyset(&amp;NewHandler.sa_mask);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// Install the new handler, save the old one in RegisteredSignalInfo.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  sigaction(Signal, &amp;NewHandler,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            &amp;RegisteredSignalInfo[NumRegisteredSignals].SA);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  RegisteredSignalInfo[NumRegisteredSignals].SigNo = Signal;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  ++NumRegisteredSignals;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> RegisterHandlers() {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// If the handlers are already registered, we&#39;re done.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (NumRegisteredSignals != 0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  std::for_each(IntSigs, IntSigsEnd, RegisterHandler);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  std::for_each(KillSigs, KillSigsEnd, RegisterHandler);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> UnregisterHandlers() {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// Restore all of the signal handlers to how they were before we showed up.</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = NumRegisteredSignals; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    sigaction(RegisteredSignalInfo[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].SigNo,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;              &amp;RegisteredSignalInfo[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].SA, 0);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  NumRegisteredSignals = 0;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// RemoveFilesToRemove - Process the FilesToRemove list. This function</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// should be called with the SignalsMutex lock held.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/// NB: This must be an async signal safe function. It cannot allocate or free</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// memory, even in debug builds.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> RemoveFilesToRemove() {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// We avoid iterators in case of debug iterators that allocate or release</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// memory.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = FilesToRemove.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// We rely on a std::string implementation for which repeated calls to</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// &#39;c_str()&#39; don&#39;t allocate memory. We pre-call &#39;c_str()&#39; on all of these</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// strings to try to ensure this is safe.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *path = FilesToRemove[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].c_str();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// Get the status so we can determine if it&#39;s a file or directory. If we</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// can&#39;t stat the file, ignore it.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">struct </span><a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faff518838aa199dc9140e90252480ed0c">stat</a> buf;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faff518838aa199dc9140e90252480ed0c">stat</a>(path, &amp;buf) != 0)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// If this is not a regular file, ignore it. We want to prevent removal of</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// special files like /dev/null, even if the compiler is being run with the</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// super-user permissions.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (!S_ISREG(buf.st_mode))</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Otherwise, remove the file. We ignore any errors here as there is nothing</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// else we can do.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf883e0410537d3920543f4aa7fe2626c">unlink</a>(path);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// SignalHandler - The signal handler that runs.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">static</span> RETSIGTYPE SignalHandler(<span class="keywordtype">int</span> Sig) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Restore the signal behavior to default, so that the program actually</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// crashes when we return and the signal reissues.  This also ensures that if</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// we crash in our signal handler that the program will terminate immediately</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// instead of recursing in the signal handler.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  UnregisterHandlers();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// Unmask all potentially blocked kill signals.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  sigset_t SigMask;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  sigfillset(&amp;SigMask);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  sigprocmask(SIG_UNBLOCK, &amp;SigMask, 0);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  SignalsMutex.acquire();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  RemoveFilesToRemove();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (std::find(IntSigs, IntSigsEnd, Sig) != IntSigsEnd) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (InterruptFunction) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      void (*IF)() = InterruptFunction;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      SignalsMutex.release();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      InterruptFunction = 0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      IF();        <span class="comment">// run the interrupt function.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    SignalsMutex.release();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">raise</span>(Sig);   <span class="comment">// Execute the default handler.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  SignalsMutex.release();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Otherwise if it is a fault (like SEGV) run any handler.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CallBacksToRun.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    CallBacksToRun[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first(CallBacksToRun[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#ifdef __s390__</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// On S/390, certain signals are delivered with PSW Address pointing to</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// *after* the faulting instruction.  Simply returning from the signal</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// handler would continue execution after that point, instead of</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// re-raising the signal.  Raise the signal manually in those cases.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (Sig == SIGILL || Sig == SIGFPE || Sig == SIGTRAP)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">raise</span>(Sig);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#ab0938d8ccb6550ddc3865f45b48acb6e">llvm::sys::RunInterruptHandlers</a>() {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  SignalsMutex.acquire();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  RemoveFilesToRemove();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  SignalsMutex.release();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#a03a7c4c80c31a619c5e452314166401a">llvm::sys::SetInterruptFunction</a>(<span class="keywordtype">void</span> (*IF)()) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  SignalsMutex.acquire();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  InterruptFunction = IF;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  SignalsMutex.release();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  RegisterHandlers();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// RemoveFileOnSignal - The public API</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1sys.html#af7c4b1433ac6460af06431b06ba93b47">llvm::sys::RemoveFileOnSignal</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Filename,</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                   std::string* ErrMsg) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  SignalsMutex.acquire();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  std::string *OldPtr = FilesToRemove.empty() ? 0 : &amp;FilesToRemove[0];</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  FilesToRemove.push_back(Filename);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// We want to call &#39;c_str()&#39; on every std::string in this vector so that if</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// the underlying implementation requires a re-allocation, it happens here</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// rather than inside of the signal handler. If we see the vector grow, we</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// have to call it on every entry. If it remains in place, we only need to</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// call it on the latest one.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (OldPtr == &amp;FilesToRemove[0])</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    FilesToRemove.back().c_str();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = FilesToRemove.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      FilesToRemove[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">c_str</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  SignalsMutex.release();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  RegisterHandlers();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">// DontRemoveFileOnSignal - The public API</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#a7936dae925973eb8b0921c01b70b16d8">llvm::sys::DontRemoveFileOnSignal</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Filename) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  SignalsMutex.acquire();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">std::vector&lt;std::string&gt;::reverse_iterator</a> RI =</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    std::find(FilesToRemove.rbegin(), FilesToRemove.rend(), Filename);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  std::vector&lt;std::string&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FilesToRemove.end();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (RI != FilesToRemove.rend())</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    I = FilesToRemove.erase(RI.base()-1);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// We need to call c_str() on every element which would have been moved by</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// the erase. These elements, in a C++98 implementation where c_str()</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// requires a reallocation on the first call may have had the call to c_str()</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// made on insertion become invalid by being copied down an element.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;std::string&gt;::iterator E = FilesToRemove.end(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    I-&gt;c_str();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  SignalsMutex.release();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/// AddSignalHandler - Add a function to be called when a signal is delivered</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/// to the process.  The handler can have a cookie passed to it to identify</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/// what instance of the handler it is.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#aa6f5fa67b69147b9ccba1a2fb6274f07">llvm::sys::AddSignalHandler</a>(<span class="keywordtype">void</span> (*FnPtr)(<span class="keywordtype">void</span> *), <span class="keywordtype">void</span> *Cookie) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  CallBacksToRun.push_back(std::make_pair(FnPtr, Cookie));</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  RegisterHandlers();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// PrintStackTrace - In the case of a program crash or fault, print out a stack</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// trace so that the user has an indication of why and where we died.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// On glibc systems we have the &#39;backtrace&#39; function, which works nicely, but</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">// doesn&#39;t demangle symbols.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#a162c62d23ceffc9e317baf88bdf2639c">llvm::sys::PrintStackTrace</a>(FILE *FD) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#if defined(HAVE_BACKTRACE) &amp;&amp; defined(ENABLE_BACKTRACES)</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span>* StackTrace[256];</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// Use backtrace() to output a backtrace on Linux systems with glibc.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">int</span> depth = backtrace(StackTrace,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        static_cast&lt;int&gt;(<a class="code" href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">array_lengthof</a>(StackTrace)));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#if HAVE_DLFCN_H &amp;&amp; __GNUG__</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordtype">int</span> width = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; depth; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    Dl_info dlinfo;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    dladdr(StackTrace[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;dlinfo);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* name = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b">strrchr</a>(dlinfo.dli_fname, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordtype">int</span> nwidth;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (name == NULL) nwidth = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66">strlen</a>(dlinfo.dli_fname);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">else</span>              nwidth = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66">strlen</a>(name) - 1;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (nwidth &gt; width) width = nwidth;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; depth; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    Dl_info dlinfo;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    dladdr(StackTrace[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;dlinfo);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(FD, <span class="stringliteral">&quot;%-2d&quot;</span>, <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* name = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b">strrchr</a>(dlinfo.dli_fname, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> (name == NULL) <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(FD, <span class="stringliteral">&quot; %-*s&quot;</span>, width, dlinfo.dli_fname);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">else</span>              <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(FD, <span class="stringliteral">&quot; %-*s&quot;</span>, width, name+1);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(FD, <span class="stringliteral">&quot; %#0*lx&quot;</span>,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            (<span class="keywordtype">int</span>)(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*) * 2) + 2, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)StackTrace[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (dlinfo.dli_sname != NULL) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243">fputc</a>(<span class="charliteral">&#39; &#39;</span>, FD);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#  if HAVE_CXXABI_H</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordtype">char</span>* <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a> = abi::__cxa_demangle(dlinfo.dli_sname, NULL, NULL, &amp;res);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#  else</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordtype">char</span>* d = NULL;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#  endif</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (d == NULL) <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5">fputs</a>(dlinfo.dli_sname, FD);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">else</span>           <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5">fputs</a>(d, FD);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa60e05e8cf4600d05ec9251b750544c7c">free</a>(d);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">// FIXME: When we move to C++11, use %t length modifier. It&#39;s not in</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// C++03 and causes gcc to issue warnings. Losing the upper 32 bits of</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// the stack offset for a stack dump isn&#39;t likely to cause any problems.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(FD, <span class="stringliteral">&quot; + %u&quot;</span>,(<span class="keywordtype">unsigned</span>)((<span class="keywordtype">char</span>*)StackTrace[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                     (<span class="keywordtype">char</span>*)dlinfo.dli_saddr));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243">fputc</a>(<span class="charliteral">&#39;\n&#39;</span>, FD);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  backtrace_symbols_fd(StackTrace, depth, STDERR_FILENO);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> PrintStackTraceSignalHandler(<span class="keywordtype">void</span> *) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="namespacellvm_1_1sys.html#a162c62d23ceffc9e317baf88bdf2639c">PrintStackTrace</a>(stderr);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/// PrintStackTraceOnErrorSignal - When an error signal (such as SIGABRT or</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/// SIGSEGV) is delivered to the process, print a stack trace and then exit.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1sys.html#a1c53d06f194371ad604d99f5f416d0e7">llvm::sys::PrintStackTraceOnErrorSignal</a>() {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="namespacellvm_1_1sys.html#aa6f5fa67b69147b9ccba1a2fb6274f07">AddSignalHandler</a>(PrintStackTraceSignalHandler, 0);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#if defined(__APPLE__) &amp;&amp; defined(ENABLE_CRASH_OVERRIDES)</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// Environment variable to disable any kind of crash dialog.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c">getenv</a>(<span class="stringliteral">&quot;LLVM_DISABLE_CRASH_REPORT&quot;</span>)) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    mach_port_t <span class="keyword">self</span> = mach_task_self();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    exception_mask_t mask = EXC_MASK_CRASH;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    kern_return_t <a class="code" href="Target_2X86_2README_8txt.html#a8ef54f27fddd11cc461b2b231fc2d23c">ret</a> = task_set_exception_ports(<span class="keyword">self</span>,</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                             mask,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                             MACH_PORT_NULL,</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                             EXCEPTION_STATE_IDENTITY | MACH_EXCEPTION_CODES,</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                             THREAD_STATE_NONE);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    (void)ret;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/***/</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">// On Darwin, raise sends a signal to the main thread instead of the current</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">// thread. This has the unfortunate effect that assert() and abort() will end up</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">// bypassing our crash recovery attempts. We work around this for anything in</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">// the same linkage unit by just defining our own versions of the assert handler</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">// and abort.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#if defined(__APPLE__) &amp;&amp; defined(ENABLE_CRASH_OVERRIDES)</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#include &lt;pthread.h&gt;</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">int</span> <span class="keyword">raise</span>(<span class="keywordtype">int</span> sig) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">return</span> pthread_kill(pthread_self(), sig);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keywordtype">void</span> __assert_rtn(<span class="keyword">const</span> <span class="keywordtype">char</span> *func,</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> *file,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                  <span class="keywordtype">int</span> line,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> *expr) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (func)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(stderr, <span class="stringliteral">&quot;Assertion failed: (%s), function %s, file %s, line %d.\n&quot;</span>,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            expr, func, file, line);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">fprintf</a>(stderr, <span class="stringliteral">&quot;Assertion failed: (%s), file %s, line %d.\n&quot;</span>,</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            expr, file, line);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">abort</a>();</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="keywordtype">void</span> <a class="code" href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">abort</a>() {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keyword">raise</span>(SIGABRT);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  usleep(1000);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  __builtin_trap();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="namespacellvm_html_ae68b9c00207e80cdfa3645a527c0dd8f"><div class="ttname"><a href="namespacellvm.html#ae68b9c00207e80cdfa3645a527c0dd8f">llvm::array_endof</a></div><div class="ttdeci">T * array_endof(T(&amp;x)[N])</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00244">STLExtras.h:244</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="README-Thumb_8txt_html_aa36a842dc9742127230b93f16e106ddd"><div class="ttname"><a href="README-Thumb_8txt.html#aa36a842dc9742127230b93f16e106ddd">abort</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb then taking the smallest *Add support for compiling individual basic blocks in thumb when in a larger ARM function This can be used for presumed cold like paths to abort(failure path of asserts)</div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a901ce7389ca67dd79b8ab5b53c4a7da8"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int int d</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00418">Target/ARM/README.txt:418</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a370ed0e0f2bb66d17cd13f84be54e867"><div class="ttname"><a href="namespacellvm.html#a370ed0e0f2bb66d17cd13f84be54e867">llvm::array_lengthof</a></div><div class="ttdeci">size_t array_lengthof(T(&amp;)[N])</div><div class="ttdoc">Find the length of an array. </div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00250">STLExtras.h:250</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a8ef54f27fddd11cc461b2b231fc2d23c"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a8ef54f27fddd11cc461b2b231fc2d23c">ret</a></div><div class="ttdeci">to esp esp setne al movzbw ax esp setg cl movzbw cx cmove cx cl jne LBB1_2 esp ret(also really horrible code on ppc).This is due to the expand code for 64-bit compares.GCC produces multiple branches</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faee70aeb2c7b735c7e2a93944659ead9b">llvm::LibFunc::strrchr</a></div><div class="ttdoc">char *strrchr(const char *s, int c); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00565">TargetLibraryInfo.h:565</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_a1c53d06f194371ad604d99f5f416d0e7"><div class="ttname"><a href="namespacellvm_1_1sys.html#a1c53d06f194371ad604d99f5f416d0e7">llvm::sys::PrintStackTraceOnErrorSignal</a></div><div class="ttdeci">void PrintStackTraceOnErrorSignal()</div><div class="ttdoc">Print a stack trace if a fatal signal occurs. </div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa60e05e8cf4600d05ec9251b750544c7c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa60e05e8cf4600d05ec9251b750544c7c">llvm::LibFunc::free</a></div><div class="ttdoc">void free(void *ptr); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00273">TargetLibraryInfo.h:273</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_ab0938d8ccb6550ddc3865f45b48acb6e"><div class="ttname"><a href="namespacellvm_1_1sys.html#ab0938d8ccb6550ddc3865f45b48acb6e">llvm::sys::RunInterruptHandlers</a></div><div class="ttdeci">void RunInterruptHandlers()</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faf883e0410537d3920543f4aa7fe2626c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faf883e0410537d3920543f4aa7fe2626c">llvm::LibFunc::unlink</a></div><div class="ttdoc">int unlink(const char *path); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00624">TargetLibraryInfo.h:624</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_a7936dae925973eb8b0921c01b70b16d8"><div class="ttname"><a href="namespacellvm_1_1sys.html#a7936dae925973eb8b0921c01b70b16d8">llvm::sys::DontRemoveFileOnSignal</a></div><div class="ttdeci">void DontRemoveFileOnSignal(StringRef Filename)</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faff518838aa199dc9140e90252480ed0c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faff518838aa199dc9140e90252480ed0c">llvm::LibFunc::stat</a></div><div class="ttdoc">int stat(const char *path, struct stat *buf); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00521">TargetLibraryInfo.h:521</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa4a8c8d091f5ba42ce62053cb01c157d5">llvm::LibFunc::fputs</a></div><div class="ttdoc">int fputs(const char *s, FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00269">TargetLibraryInfo.h:269</a></div></div>
<div class="ttc" id="namespacellvm_html_af11d71816b6dc7c266e71fcff02be291"><div class="ttname"><a href="namespacellvm.html#af11d71816b6dc7c266e71fcff02be291">llvm::c_str</a></div><div class="ttdeci">SmallVectorImpl&lt; T &gt;::const_pointer c_str(SmallVectorImpl&lt; T &gt; &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="Windows_8h_source.html#l00154">Windows.h:154</a></div></div>
<div class="ttc" id="Mutex_8h_html"><div class="ttname"><a href="Mutex_8h.html">Mutex.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6faa5760c6f0f76d8ea155bde75c4c8367a">llvm::LibFunc::fprintf</a></div><div class="ttdoc">int fprintf(FILE *stream, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00265">TargetLibraryInfo.h:265</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa0b976adf6aef24ee68598686784f3d66">llvm::LibFunc::strlen</a></div><div class="ttdoc">size_t strlen(const char *s); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00549">TargetLibraryInfo.h:549</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_af7c4b1433ac6460af06431b06ba93b47"><div class="ttname"><a href="namespacellvm_1_1sys.html#af7c4b1433ac6460af06431b06ba93b47">llvm::sys::RemoveFileOnSignal</a></div><div class="ttdeci">bool RemoveFileOnSignal(StringRef Filename, std::string *ErrMsg=0)</div><div class="ttdoc">Remove a file if a fatal signal occurs. </div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77fbc7a4cc74a172aa9e31e1fe5da243">llvm::LibFunc::fputc</a></div><div class="ttdoc">int fputc(int c, FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00267">TargetLibraryInfo.h:267</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a8fb092ecc42706d8901ee791cd6c90a7"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a8fb092ecc42706d8901ee791cd6c90a7">llvm::sys::path::reverse_iterator</a></div><div class="ttdeci">std::reverse_iterator&lt; const_iterator &gt; reverse_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Path_8h_source.html#l00079">Path.h:79</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="Unix_8h_html"><div class="ttname"><a href="Unix_8h.html">Unix.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_a162c62d23ceffc9e317baf88bdf2639c"><div class="ttname"><a href="namespacellvm_1_1sys.html#a162c62d23ceffc9e317baf88bdf2639c">llvm::sys::PrintStackTrace</a></div><div class="ttdeci">void PrintStackTrace(FILE *)</div><div class="ttdoc">Print the stack trace using the given FILE object. </div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_a03a7c4c80c31a619c5e452314166401a"><div class="ttname"><a href="namespacellvm_1_1sys.html#a03a7c4c80c31a619c5e452314166401a">llvm::sys::SetInterruptFunction</a></div><div class="ttdeci">void SetInterruptFunction(void(*IF)())</div><div class="ttdoc">Register a function to be called when ctrl-c is pressed. </div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c">llvm::LibFunc::getenv</a></div><div class="ttdoc">char *getenv(const char *name); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00318">TargetLibraryInfo.h:318</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_html_aa6f5fa67b69147b9ccba1a2fb6274f07"><div class="ttname"><a href="namespacellvm_1_1sys.html#aa6f5fa67b69147b9ccba1a2fb6274f07">llvm::sys::AddSignalHandler</a></div><div class="ttdeci">void AddSignalHandler(void(*FnPtr)(void *), void *Cookie)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:02:02 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
