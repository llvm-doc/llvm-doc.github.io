<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ScheduleDAGInstrs.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ScheduleDAGInstrs_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ScheduleDAGInstrs.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ScheduleDAGInstrs_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===---- ScheduleDAGInstrs.cpp - MachineInstr Rescheduling ---------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This implements the ScheduleDAGInstrs class, which implements re-scheduling</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// of MachineInstrs.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   15</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;misched&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDAGInstrs_8h.html">llvm/CodeGen/ScheduleDAGInstrs.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MapVector_8h.html">llvm/ADT/MapVector.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervalAnalysis_8h.html">llvm/CodeGen/LiveIntervalAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunctionPass_8h.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineMemOperand_8h.html">llvm/CodeGen/MachineMemOperand.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PseudoSourceValue_8h.html">llvm/CodeGen/PseudoSourceValue.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterPressure_8h.html">llvm/CodeGen/RegisterPressure.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScheduleDFS_8h.html">llvm/CodeGen/ScheduleDFS.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCInstrItineraries_8h.html">llvm/MC/MCInstrItineraries.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Format_8h.html">llvm/Support/Format.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/Target/TargetRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/Target/TargetSubtargetInfo.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="ScheduleDAGInstrs_8cpp.html#acd3df9e57cc853b9fdd024a54612e129">EnableAASchedMI</a>(<span class="stringliteral">&quot;enable-aa-sched-mi&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9">cl::ZeroOrMore</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable use of AA during MI GAD construction&quot;</span>));</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a383a4964b5cee6adc7fa5017c771d939">   47</a></span>&#160;<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a383a4964b5cee6adc7fa5017c771d939">ScheduleDAGInstrs::ScheduleDAGInstrs</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;mf,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> &amp;mli,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a> &amp;mdt,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                     <span class="keywordtype">bool</span> IsPostRAFlag,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                     <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> *lis)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  : <a class="code" href="classllvm_1_1ScheduleDAG.html">ScheduleDAG</a>(mf), MLI(mli), MDT(mdt), MFI(mf.getFrameInfo()), LIS(lis),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    IsPostRA(IsPostRAFlag), CanHandleTerminators(<a class="code" href="namespacefalse.html">false</a>), FirstDbgValue(0) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  assert((<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a73edb004de8911374552b25481e9e9c3">IsPostRA</a> || <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">LIS</a>) &amp;&amp; <span class="stringliteral">&quot;PreRA scheduling requires LiveIntervals&quot;</span>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a6837fb2c08f4c8c986a4689a37ca93cf">DbgValues</a>.clear();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  assert(!(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a73edb004de8911374552b25481e9e9c3">IsPostRA</a> &amp;&amp; <a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a78278263fc4c2deaf913ec1bbf98a8d2">getNumVirtRegs</a>()) &amp;&amp;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         <span class="stringliteral">&quot;Virtual registers must be removed prior to PostRA scheduling&quot;</span>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">TM</a>.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a>&gt;();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a5419fb52cab4895e3fc6fc9fc5c73f91">init</a>(*ST.<a class="code" href="classllvm_1_1MCSubtargetInfo.html#ab5f9e7f3d7e48089a9132de131d9c151">getSchedModel</a>(), &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>, <a class="code" href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">TII</a>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// getUnderlyingObjectFromInt - This is the function that does the work of</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// looking through basic ptrtoint+arithmetic+inttoptr sequences.</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a7ce9f2b7d76fbd00a43893611bc92880">   65</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ScheduleDAGInstrs_8cpp.html#a7ce9f2b7d76fbd00a43893611bc92880">getUnderlyingObjectFromInt</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Operator.html">Operator</a> *U = dyn_cast&lt;Operator&gt;(V)) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="comment">// If we find a ptrtoint, we can transfer control back to the</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="comment">// regular getUnderlyingObjectFromInt.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">if</span> (U-&gt;getOpcode() == Instruction::PtrToInt)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">return</span> U-&gt;getOperand(0);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="comment">// If we find an add of a constant, a multiplied value, or a phi, it&#39;s</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="comment">// likely that the other operand will lead us to the base</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="comment">// object. We don&#39;t have to worry about the case where the</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="comment">// object address is somehow being computed by the multiply,</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="comment">// because our callers only care when the result is an</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="comment">// identifiable object.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">if</span> (U-&gt;getOpcode() != Instruction::Add ||</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;          (!isa&lt;ConstantInt&gt;(U-&gt;getOperand(1)) &amp;&amp;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;           <a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(U-&gt;getOperand(1)) != Instruction::Mul &amp;&amp;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;           !isa&lt;PHINode&gt;(U-&gt;getOperand(1))))</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      V = U-&gt;getOperand(0);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>() &amp;&amp; <span class="stringliteral">&quot;Unexpected operand type!&quot;</span>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  } <span class="keywordflow">while</span> (1);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/// getUnderlyingObjects - This is a wrapper around GetUnderlyingObjects</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/// and adds support for basic ptrtoint+arithmetic+inttoptr sequences.</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a26e12ac4f2ee1a1cec0bd11ed5b20025">   93</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a26e12ac4f2ee1a1cec0bd11ed5b20025">getUnderlyingObjects</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;Value *&gt;</a> &amp;<a class="code" href="LeakDetector_8cpp.html#ac6084dabb960efba10b44f82edd99599">Objects</a>) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const Value*, 16&gt;</a> Visited;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;const Value *, 4&gt;</a> Working(1, V);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    V = Working.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">pop_back_val</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> Objs;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">GetUnderlyingObjects</a>(const_cast&lt;Value *&gt;(V), Objs);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;Value *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      V = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(V))</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(V) == Instruction::IntToPtr) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *O =</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a7ce9f2b7d76fbd00a43893611bc92880">getUnderlyingObjectFromInt</a>(cast&lt;User&gt;(V)-&gt;getOperand(0));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> (O-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;          Working.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(O);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      Objects.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(const_cast&lt;Value *&gt;(V));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  } <span class="keywordflow">while</span> (!Working.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;PointerIntPair&lt;const Value *, 1, bool&gt;</a>, 4&gt;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a54a66e84a17902f7380a8c0bc0d3ab4f">  122</a></span>&#160;<a class="code" href="ScheduleDAGInstrs_8cpp.html#a54a66e84a17902f7380a8c0bc0d3ab4f">UnderlyingObjectsVector</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// getUnderlyingObjectsForInstr - If this machine instr has memory reference</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// information and it can be tracked to a normal reference to a known</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/// object, return the Value for that object.</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a741774c60622506bd2c6275d2d619955">  127</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a741774c60622506bd2c6275d2d619955">getUnderlyingObjectsForInstr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                         <a class="code" href="classllvm_1_1SmallVector.html">UnderlyingObjectsVector</a> &amp;<a class="code" href="LeakDetector_8cpp.html#ac6084dabb960efba10b44f82edd99599">Objects</a>) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>() ||</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      !(*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getValue() ||</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      (*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;isVolatile())</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = (*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getValue();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (!V)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> Objs;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="ScheduleDAGInstrs_8cpp.html#a26e12ac4f2ee1a1cec0bd11ed5b20025">getUnderlyingObjects</a>(V, Objs);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;Value *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">bool</span> MayAlias = <span class="keyword">true</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    V = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *PSV = dyn_cast&lt;PseudoSourceValue&gt;(V)) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">// For now, ignore PseudoSourceValues which may alias LLVM IR values</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="comment">// because the code that uses this function has no way to cope with</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">// such aliases.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">if</span> (PSV-&gt;isAliased(MFI)) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        Objects.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      MayAlias = PSV-&gt;mayAlias(MFI);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">isIdentifiedObject</a>(V)) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      Objects.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    Objects.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="classT.html">UnderlyingObjectsVector::value_type</a>(V, MayAlias));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a2822215b7634783aece96ef695a72f1d">  167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a2822215b7634783aece96ef695a72f1d">ScheduleDAGInstrs::startBlock</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a> = <a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a1f9a4461e2c9ac06b97f55554f836d66">  171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a1f9a4461e2c9ac06b97f55554f836d66">ScheduleDAGInstrs::finishBlock</a>() {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// Subclasses should no longer refer to the old block.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a> = 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// Initialize the DAG and common scheduler state for the current scheduling</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">/// region. This does not actually create the DAG, only clears it. The</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// scheduling driver may call BuildSchedGraph multiple times per scheduling</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// region.</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#ae8727d434d20639d563849891f5ca1e1">  180</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae8727d434d20639d563849891f5ca1e1">ScheduleDAGInstrs::enterRegion</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a>,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aeb9c314de586393b2cb695733eeafc6c">begin</a>,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                    <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa1a4554243ad6d8f52e7d12a74f0cded">end</a>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                    <span class="keywordtype">unsigned</span> regioninstrs) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  assert(bb == <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a> &amp;&amp; <span class="stringliteral">&quot;startBlock should set BB&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae81ad8ece7681af658742f6d4e2fcfb1">RegionBegin</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aeb9c314de586393b2cb695733eeafc6c">begin</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">RegionEnd</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa1a4554243ad6d8f52e7d12a74f0cded">end</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af1c8be2ff5fd8eab8091e6ffa40ded8d">NumRegionInstrs</a> = regioninstrs;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/// Close the current scheduling region. Don&#39;t clear any state in case the</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">/// driver wants to refer to the previous scheduling region.</span></div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#abc5a5c32ac78a99ee2633dbbeec20397">  192</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abc5a5c32ac78a99ee2633dbbeec20397">ScheduleDAGInstrs::exitRegion</a>() {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// Nothing to do.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/// addSchedBarrierDeps - Add dependencies from instructions in the current</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/// list of instructions being scheduled to scheduling barrier by adding</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// the exit SU to the register defs and use list. This is because we want to</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// make sure instructions which define registers that are either used by</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// the terminator or are live-out are properly scheduled. This is</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// especially important when the definition latency of the return value(s)</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// are too high to be hidden by the branch or when the liveout registers</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// used by instructions in the fallthrough block.</span></div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#ae8625c1e6c9bc82f2eaef39d3fff65a8">  204</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae8625c1e6c9bc82f2eaef39d3fff65a8">ScheduleDAGInstrs::addSchedBarrierDeps</a>() {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *ExitMI = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">RegionEnd</a> != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() ? &amp;*<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">RegionEnd</a> : 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>.<a class="code" href="classllvm_1_1SUnit.html#a5a869f04a623443a4cf2d2857f9cd085">setInstr</a>(ExitMI);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordtype">bool</span> AllDepKnown = ExitMI &amp;&amp;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    (ExitMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">isCall</a>() || ExitMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">isBarrier</a>());</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (ExitMI &amp;&amp; AllDepKnown) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// If it&#39;s a call or a barrier, add dependencies on the defs and uses of</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// instruction.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = ExitMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = ExitMI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>() || MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (Reg == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">isPhysicalRegister</a>(Reg))</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">insert</a>(<a class="code" href="structllvm_1_1PhysRegSUOper.html">PhysRegSUOper</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, -1, Reg));</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        assert(!<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a73edb004de8911374552b25481e9e9c3">IsPostRA</a> &amp;&amp; <span class="stringliteral">&quot;Virtual register encountered after regalloc.&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>()) <span class="comment">// ignore undef operands</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a0f958ee7dc9902af4093fe8fabbabd6e">addVRegUseDeps</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// For others, e.g. fallthrough, conditional branch, assume the exit</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// uses all the registers that are livein to the successor blocks.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    assert(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a56623897a22446f188d99b1ae7a004ac">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Uses in set before adding deps?&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">MachineBasicBlock::succ_iterator</a> SI = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">succ_begin</a>(),</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;           SE = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">succ_end</a>(); SI != SE; ++SI)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#a7bab64c02d740522f94f5f45959a22fc">MachineBasicBlock::livein_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = (*SI)-&gt;livein_begin(),</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;             E = (*SI)-&gt;livein_end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af23cb8c07f7bd9c7df0a85434aa8a0c2">contains</a>(Reg))</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">insert</a>(<a class="code" href="structllvm_1_1PhysRegSUOper.html">PhysRegSUOper</a>(&amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, -1, Reg));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/// MO is an operand of SU&#39;s instruction that defines a physical register. Add</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/// data dependencies from SU to any uses of the physical register.</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a56fbc3f460289602ce8a51538ebc1e26">  243</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a56fbc3f460289602ce8a51538ebc1e26">ScheduleDAGInstrs::addPhysRegDataDeps</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">unsigned</span> OperIdx) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperIdx);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  assert(MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>() &amp;&amp; <span class="stringliteral">&quot;expect physreg def&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// Ask the target if address-backscheduling is desirable, and if so how much.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">TM</a>.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a>&gt;();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> Alias(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;       Alias.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++Alias) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af23cb8c07f7bd9c7df0a85434aa8a0c2">contains</a>(*Alias))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">Reg2SUnitsMap::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a007d043f89bfaefaec158a7e93b39832">find</a>(*Alias); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a6123d1aa335e5d9c6299050c2cc5193e">end</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *UseSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;SU;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (UseSU == SU)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="comment">// Adjust the dependence latency using operand def/use information,</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// then allow the target to perform its own adjustments.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordtype">int</span> UseOp = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;OpIdx;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *RegUse = 0;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">if</span> (UseOp &lt; 0)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        Dep = <a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// Set the hasPhysRegDefs only for physreg defs that have a use within</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">// the scheduling region.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a9d9a8b8d5225f85cecbbada4ce4406b0">hasPhysRegDefs</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        Dep = <a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>, *Alias);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        RegUse = UseSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">computeOperandLatency</a>(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>(), OperIdx, RegUse,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                         UseOp));</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      ST.adjustSchedDependency(SU, UseSU, Dep);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      UseSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/// addPhysRegDeps - Add register dependencies (data, anti, and output) from</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/// this SUnit to following instructions in the same scheduling region that</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">/// depend the physical register referenced at OperIdx.</span></div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a2e9425c046cf742bfbb9ebb96466d8e5">  286</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a2e9425c046cf742bfbb9ebb96466d8e5">ScheduleDAGInstrs::addPhysRegDeps</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">unsigned</span> OperIdx) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperIdx);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Optionally add output and anti dependencies. For anti</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// dependencies we use a latency of 0 because for a multi-issue</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// target we want to allow the defining instruction to issue</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// in the same cycle as the using instruction.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// TODO: Using a latency of 1 here for output dependencies assumes</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">//       there&#39;s no cost for reusing registers.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732">SDep::Kind</a> <a class="code" href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">Kind</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">isUse</a>() ? <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a> : <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> Alias(MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>(), <a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;       Alias.<a class="code" href="classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">isValid</a>(); ++Alias) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af23cb8c07f7bd9c7df0a85434aa8a0c2">contains</a>(*Alias))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">Reg2SUnitsMap::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a007d043f89bfaefaec158a7e93b39832">find</a>(*Alias); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a6123d1aa335e5d9c6299050c2cc5193e">end</a>(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;SU;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (DefSU == &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (DefSU != SU &amp;&amp;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;          (Kind != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a> || !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>() ||</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;           !DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad4e92a00f11d25f99bab8b78d4f89ff9">registerDefIsDead</a>(*Alias))) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (Kind == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, Kind, <span class="comment">/*Reg=*/</span>*Alias));</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, Kind, <span class="comment">/*Reg=*/</span>*Alias);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">computeOutputLatency</a>(MI, OperIdx, DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adc4d8df3725fd70ffbaffeead756025c">hasPhysRegUses</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// Either insert a new Reg2SUnits entry with an empty SUnits list, or</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// retrieve the existing SUnits list for this register&#39;s uses.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// Push this SUnit on the use list.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">insert</a>(<a class="code" href="structllvm_1_1PhysRegSUOper.html">PhysRegSUOper</a>(SU, OperIdx, MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>()));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a56fbc3f460289602ce8a51538ebc1e26">addPhysRegDataDeps</a>(SU, OperIdx);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// clear this register&#39;s use list</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af23cb8c07f7bd9c7df0a85434aa8a0c2">contains</a>(Reg))</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#ab911382d02334b8421f4dbca8c53ff27">eraseAll</a>(Reg);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">isDead</a>()) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#ab911382d02334b8421f4dbca8c53ff27">eraseAll</a>(Reg);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0be1f84d53e90c247d75f2ed63636761">isCall</a>) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// Calls will not be reordered because of chain dependencies (see</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// below). Since call operands are dead, calls may continue to be added</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="comment">// to the DefList making dependence checking quadratic in the size of</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// the block. Instead, we leave only one call at the back of the</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">// DefList.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="classllvm_1_1SparseMultiSet.html#ae9320934e3ae489cb0f70d01dd0bd053">Reg2SUnitsMap::RangePair</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#ac92517e8c9066cbd446b0589a50c16f6">equal_range</a>(Reg);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">Reg2SUnitsMap::iterator</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = P.first;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">Reg2SUnitsMap::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = P.second;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> isBegin = I == B; !isBegin; <span class="comment">/* empty */</span>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        isBegin = (--<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) == B;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">if</span> (!I-&gt;SU-&gt;isCall)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        I = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a6500bc123ee62205ff472b6257d6449b">erase</a>(I);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Defs are pushed in the order they are visited and never reordered.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">insert</a>(<a class="code" href="structllvm_1_1PhysRegSUOper.html">PhysRegSUOper</a>(SU, OperIdx, Reg));</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">/// addVRegDefDeps - Add register output and data dependencies from this SUnit</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">/// to instructions that occur later in the same scheduling region if they read</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/// from or write to the virtual register defined at OperIdx.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/// TODO: Hoist loop induction variable increments. This has to be</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/// reevaluated. Generally, IV scheduling should be done before coalescing.</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a10acc9310a21d9a8191d3d84916bdffb">  365</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a10acc9310a21d9a8191d3d84916bdffb">ScheduleDAGInstrs::addVRegDefDeps</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">unsigned</span> OperIdx) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>();</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Singly defined vregs do not have output/anti dependencies.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// The current operand is a def, so we have at least one.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// Check here if there are any others...</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#adac1aac8509b299918a6cae29ead3cdb">hasOneDef</a>(Reg))</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// Add output dependence to the next nearest def of this vreg.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// Unless this definition is dead, the output dependence should be</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// transitively redundant with antidependencies from this definition&#39;s</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// uses. We&#39;re conservative for now until we have a way to guarantee the uses</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// are not eliminated sometime during scheduling. The output dependence edge</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// is also useful if output latency exceeds def-use latency.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="classT.html">VReg2SUnitMap::iterator</a> DefI = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#af521754c270d66c0596d082a7eb6766d">find</a>(Reg);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (DefI == <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">end</a>())</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#a1a4055576fc0e9afc07647fe6dae8b0d">insert</a>(<a class="code" href="structllvm_1_1VReg2SUnit.html">VReg2SUnit</a>(Reg, SU));</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = DefI-&gt;SU;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (DefSU != SU &amp;&amp; DefSU != &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">SDep::Output</a>, Reg);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">computeOutputLatency</a>(MI, OperIdx, DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()));</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      DefSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    DefI-&gt;SU = SU;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// addVRegUseDeps - Add a register data dependency if the instruction that</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/// defines the virtual register used at OperIdx is mapped to an SUnit. Add a</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/// register antidependency from this SUnit to instructions that occur later in</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">/// the same scheduling region if they write the virtual register.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/// TODO: Handle ExitSU &quot;uses&quot; properly.</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a0f958ee7dc9902af4093fe8fabbabd6e">  403</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a0f958ee7dc9902af4093fe8fabbabd6e">ScheduleDAGInstrs::addVRegUseDeps</a>(<a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <span class="keywordtype">unsigned</span> OperIdx) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperIdx).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// Record this local VReg use.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">VReg2UseMap::iterator</a> UI = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a007d043f89bfaefaec158a7e93b39832">find</a>(Reg);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">for</span> (; UI != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a6123d1aa335e5d9c6299050c2cc5193e">end</a>(); ++UI) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (UI-&gt;SU == SU)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (UI == <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a6123d1aa335e5d9c6299050c2cc5193e">end</a>())</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">insert</a>(<a class="code" href="structllvm_1_1VReg2SUnit.html">VReg2SUnit</a>(Reg, SU));</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// Lookup this operand&#39;s reaching definition.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  assert(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">LIS</a> &amp;&amp; <span class="stringliteral">&quot;vreg dependencies requires LiveIntervals&quot;</span>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">LIS</a>-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">getInterval</a>(Reg).<a class="code" href="classllvm_1_1LiveRange.html#acd0853cbfd87e166b73d3e24502f2346">Query</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">LIS</a>-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#a6bbcfa1e19c409a905ffc0356c060bd4">getInstructionIndex</a>(MI));</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a04fcce5cd33d3ffe16309a908387a982">valueIn</a>();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// VNI will be valid because MachineOperand::readsReg() is checked by caller.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  assert(VNI &amp;&amp; <span class="stringliteral">&quot;No value to read by operand&quot;</span>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">LIS</a>-&gt;<a class="code" href="classllvm_1_1LiveIntervals.html#ab306d0d7e986cc18578a5150c44a9f7a">getInstructionFromIndex</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// Phis and other noninstructions (after coalescing) have a NULL Def.</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">if</span> (Def) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *DefSU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a6cf6c94d54730c618ac5f86d2140d032">getSUnit</a>(Def);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (DefSU) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">// The reaching Def lives within this scheduling region.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="comment">// Create a data dependence.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> dep(DefSU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>, Reg);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="comment">// Adjust the dependence latency using operand def/use information, then</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="comment">// allow the target to perform its own adjustments.</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordtype">int</span> DefOp = Def-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2f106e8d8dd41bc78c3bc657bd58dc72">findRegisterDefOperandIdx</a>(Reg);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">computeOperandLatency</a>(Def, DefOp, MI, OperIdx));</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">TM</a>.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a>&gt;();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      ST.<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a5a676c743c0a015dc26db16723e89860">adjustSchedDependency</a>(DefSU, SU, const_cast&lt;SDep &amp;&gt;(dep));</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(dep);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// Add antidependence to the following def of the vreg it uses.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classT.html">VReg2SUnitMap::iterator</a> DefI = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#af521754c270d66c0596d082a7eb6766d">find</a>(Reg);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (DefI != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">end</a>() &amp;&amp; DefI-&gt;SU != SU)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    DefI-&gt;SU-&gt;addPred(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">SDep::Anti</a>, Reg));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">/// Return true if MI is an instruction we are unable to reason about</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// (like a call or something with unmodeled side effects).</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a5b02bcae20902ac8680d6604dbef7342">  451</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a5b02bcae20902ac8680d6604dbef7342">isGlobalMemoryObject</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">isCall</a>() || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae9a10777fdedf716a21f450a3ceaafe3">hasUnmodeledSideEffects</a>() ||</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa708cf5a3a06290bfe5d3e349bd8650c">hasOrderedMemoryRef</a>() &amp;&amp;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;       (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>() || !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3293892e5078a238db5b0f388aca5fa5">isInvariantLoad</a>(AA))))</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">// This MI might have either incomplete info, or known to be unsafe</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">// to deal with (i.e. volatile object).</span></div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a7e320cbf5c1155ca1fa10d4604a35081">  461</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a7e320cbf5c1155ca1fa10d4604a35081">isUnsafeMemoryObject</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (!MI || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1fad8850f78f819ee805d2cb2aefbcf8">memoperands_empty</a>())</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// We purposefully do no check for hasOneMemOperand() here</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// in hope to trigger an assert downstream in order to</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// finish implementation.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span> ((*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;isVolatile() ||</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;       MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ae9a10777fdedf716a21f450a3ceaafe3">hasUnmodeledSideEffects</a>())</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = (*MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>())-&gt;getValue();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (!V)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> Objs;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="ScheduleDAGInstrs_8cpp.html#a26e12ac4f2ee1a1cec0bd11ed5b20025">getUnderlyingObjects</a>(V, Objs);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;Value *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;         <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    V = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1PseudoSourceValue.html">PseudoSourceValue</a> *PSV = dyn_cast&lt;PseudoSourceValue&gt;(V)) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">// Similarly to getUnderlyingObjectForInstr:</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// For now, ignore PseudoSourceValues which may alias LLVM IR values</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// because the code that uses this function has no way to cope with</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="comment">// such aliases.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">if</span> (PSV-&gt;isAliased(MFI))</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// Does this pointer refer to a distinct and identifiable object?</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">isIdentifiedObject</a>(V))</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// This returns true if the two MIs need a chain edge betwee them.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/// If these are not even memory operations, we still may need</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">/// chain deps between them. The question really is - could</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">/// these two MIs be reordered during scheduling from memory dependency</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">/// point of view.</span></div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">  503</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">MIsNeedChainEdge</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                             <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MIa,</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                             <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *MIb) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// Cover a trivial case - no edge is need to itself.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (MIa == MIb)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ScheduleDAGInstrs_8cpp.html#a7e320cbf5c1155ca1fa10d4604a35081">isUnsafeMemoryObject</a>(MIa, MFI) || <a class="code" href="ScheduleDAGInstrs_8cpp.html#a7e320cbf5c1155ca1fa10d4604a35081">isUnsafeMemoryObject</a>(MIb, MFI))</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// If we are dealing with two &quot;normal&quot; loads, we do not need an edge</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// between them - they could be reordered.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!MIa-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>() &amp;&amp; !MIb-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>())</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// To this point analysis is generic. From here on we do need AA.</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (!AA)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMOa = *MIa-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="classllvm_1_1MachineMemOperand.html">MachineMemOperand</a> *MMOb = *MIb-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">memoperands_begin</a>();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// FIXME: Need to handle multiple memory operands to support all targets.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (!MIa-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>() || !MIb-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">hasOneMemOperand</a>())</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Multiple memory operands.&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// The following interface to AA is fashioned after DAGCombiner::isAlias</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// and operates with MachineMemOperand offset with some important</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="comment">// assumptions:</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">//   - LLVM fundamentally assumes flat address spaces.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">//   - MachineOperand offset can *only* result from legalization and</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">//     cannot affect queries other than the trivial case of overlap</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">//     checking.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">//   - These offsets never wrap and never step outside</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">//     of allocated objects.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">//   - There should never be any negative offsets here.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// FIXME: Modify API to hide this math from &quot;user&quot;</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// FIXME: Even before we go to AA we can reason locally about some</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// memory objects. It can save compile time, and possibly catch some</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// corner cases not currently covered.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  assert ((MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>() &gt;= 0) &amp;&amp; <span class="stringliteral">&quot;Negative MachineMemOperand offset&quot;</span>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  assert ((MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>() &gt;= 0) &amp;&amp; <span class="stringliteral">&quot;Negative MachineMemOperand offset&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  int64_t MinOffset = std::min(MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>(), MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>());</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  int64_t Overlapa = MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#ad26bb075cb838935d27e2cd7ddaecd6d">getSize</a>() + MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>() - MinOffset;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  int64_t Overlapb = MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#ad26bb075cb838935d27e2cd7ddaecd6d">getSize</a>() + MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">getOffset</a>() - MinOffset;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">AliasAnalysis::AliasResult</a> AAResult = AA-&gt;<a class="code" href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">alias</a>(</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#affe567f004a910942ac688989b3642e1">getValue</a>(), Overlapa,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                          MMOa-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#af41fc5dbf788e8a9b6012c78de16e691">getTBAAInfo</a>()),</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="structllvm_1_1AliasAnalysis_1_1Location.html">AliasAnalysis::Location</a>(MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#affe567f004a910942ac688989b3642e1">getValue</a>(), Overlapb,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                          MMOb-&gt;<a class="code" href="classllvm_1_1MachineMemOperand.html#af41fc5dbf788e8a9b6012c78de16e691">getTBAAInfo</a>()));</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">return</span> (AAResult != <a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">AliasAnalysis::NoAlias</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">/// This recursive function iterates over chain deps of SUb looking for</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">/// &quot;latest&quot; node that needs a chain edge to SUa.</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">unsigned</span></div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#afa0b986fc834b512e716168f683ffc48">  564</a></span>&#160;<a class="code" href="ScheduleDAGInstrs_8cpp.html#afa0b986fc834b512e716168f683ffc48">iterateChainSucc</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                 <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUa, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUb, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, <span class="keywordtype">unsigned</span> *Depth,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                 <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SUnit*, 16&gt;</a> &amp;Visited) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (!SUa || !SUb || SUb == ExitSU)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> *Depth;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// Remember visited nodes.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">if</span> (!Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(SUb))</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">return</span> *Depth;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// If there is _some_ dependency already in place, do not</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// descend any further.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// TODO: Need to make sure that if that dependency got eliminated or ignored</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// for any reason in the future, we would not violate DAG topology.</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// Currently it does not happen, but makes an implicit assumption about</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// future implementation.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// Independently, if we encounter node that is some sort of global</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// object (like a call) we already have full set of dependencies to it</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// and we can stop descending.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> (SUa-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae28a43bb582f444168c4c06bc04a0a5b">isSucc</a>(SUb) ||</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#a5b02bcae20902ac8680d6604dbef7342">isGlobalMemoryObject</a>(AA, SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()))</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> *Depth;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">// If we do need an edge, or we have exceeded depth budget,</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// add that edge to the predecessors chain of SUb,</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// and stop descending.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (*Depth &gt; 200 ||</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">MIsNeedChainEdge</a>(AA, MFI, SUa-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>(), SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>())) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SUa, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9aa34e7b539ffb2975952fd58cbb2b75c2">SDep::MayAliasMem</a>));</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> *Depth;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Track current depth.</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  (*Depth)++;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// Iterate over chain dependencies only.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(), E = SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isCtrl())</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#afa0b986fc834b512e716168f683ffc48">iterateChainSucc</a> (AA, MFI, SUa, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getSUnit(), <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, Depth, Visited);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">return</span> *Depth;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">/// This function assumes that &quot;downward&quot; from SU there exist</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">/// tail/leaf of already constructed DAG. It iterates downward and</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">/// checks whether SU can be aliasing any node dominated</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">/// by it.</span></div><div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">  609</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>,</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                            <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, std::set&lt;SUnit *&gt; &amp;CheckList,</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                            <span class="keywordtype">unsigned</span> LatencyToLoad) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> (!SU)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const SUnit*, 16&gt;</a> Visited;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordtype">unsigned</span> Depth = 0;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">for</span> (std::set&lt;SUnit *&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CheckList.begin(), <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = CheckList.end();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (SU == *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">MIsNeedChainEdge</a>(AA, MFI, SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>(), (*I)-&gt;getInstr())) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9aa34e7b539ffb2975952fd58cbb2b75c2">SDep::MayAliasMem</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(((*I)-&gt;getInstr()-&gt;mayLoad()) ? LatencyToLoad : 0);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      (*I)-&gt;addPred(Dep);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// Now go through all the chain successors and iterate from them.</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// Keep track of visited nodes.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> J = (*I)-&gt;Succs.begin(),</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;         JE = (*I)-&gt;Succs.end(); J != JE; ++J)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">if</span> (J-&gt;isCtrl())</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#afa0b986fc834b512e716168f683ffc48">iterateChainSucc</a> (AA, MFI, SU, J-&gt;getSUnit(),</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                          <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, &amp;Depth, Visited);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">/// Check whether two objects need a chain edge, if so, add it</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">/// otherwise remember the rejected SU.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">inline</span></div><div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">  640</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a> (<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>,</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                         <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUa, <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SUb,</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                         std::set&lt;SUnit *&gt; &amp;RejectList,</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                         <span class="keywordtype">unsigned</span> TrueMemOrderLatency = 0,</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                         <span class="keywordtype">bool</span> isNormalMemory = <span class="keyword">false</span>) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// If this is a false dependency,</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// do not add the edge, but rememeber the rejected node.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> (!AA || <a class="code" href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">MIsNeedChainEdge</a>(AA, MFI, SUa-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>(), SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>())) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SUa, isNormalMemory ? <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9aa34e7b539ffb2975952fd58cbb2b75c2">SDep::MayAliasMem</a> : <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(TrueMemOrderLatency);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// Duplicate entries should be ignored.</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    RejectList.insert(SUb);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tReject chain dep between SU(&quot;</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          &lt;&lt; SUa-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;) and SU(&quot;</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;          &lt;&lt; SUb-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">/// Create an SUnit for each real instruction, numbered in top-down toplological</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// order. The instruction order A &lt; B, implies that no edge exists from B to A.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">/// Map each real instruction to its SUnit.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">/// After initSUnits, the SUnits vector cannot be resized and the scheduler may</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">/// hang onto SUnit pointers. We may relax this in the future by using SUnit IDs</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">/// instead of pointers.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/// MachineScheduler relies on initSUnits numbering the nodes by their order in</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">/// the original instruction list.</span></div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a705a0975de8335b0b6bdbbae165e8f5c">  672</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a705a0975de8335b0b6bdbbae165e8f5c">ScheduleDAGInstrs::initSUnits</a>() {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">// We&#39;ll be allocating one SUnit for each real instruction in the region,</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// which is contained within a basic block.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.reserve(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af1c8be2ff5fd8eab8091e6ffa40ded8d">NumRegionInstrs</a>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae81ad8ece7681af658742f6d4e2fcfb1">RegionBegin</a>; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">RegionEnd</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">isDebugValue</a>())</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a6c497ec4b863f7d59aa3678740331c8e">newSUnit</a>(MI);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">MISUnitMap</a>[<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>] = SU;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a0be1f84d53e90c247d75f2ed63636761">isCall</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">isCall</a>();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ace667b502d54c947cf2f3a4c5d60f734">isCommutable</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aafb199cf6f6f35679ac670d7630d8b35">isCommutable</a>();</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">// Assign the Latency field of SU using target-provided information.</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">Latency</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">SchedModel</a>.<a class="code" href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">computeInstrLatency</a>(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>());</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">/// If RegPressure is non null, compute register pressure as a side effect. The</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">/// DAG builder is an efficient place to do it because it already visits</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">/// operands.</span></div><div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#aab2067fbf758f198547cfdd09d3eb1bf">  696</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aab2067fbf758f198547cfdd09d3eb1bf">ScheduleDAGInstrs::buildSchedGraph</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AA,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                        <a class="code" href="classllvm_1_1RegPressureTracker.html">RegPressureTracker</a> *RPTracker,</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                        <a class="code" href="classllvm_1_1PressureDiffs.html">PressureDiffs</a> *PDiffs) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a> &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a> = <a class="code" href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">TM</a>.<a class="code" href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">getSubtarget</a>&lt;<a class="code" href="classllvm_1_1TargetSubtargetInfo.html">TargetSubtargetInfo</a>&gt;();</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordtype">bool</span> UseAA = <a class="code" href="ScheduleDAGInstrs_8cpp.html#acd3df9e57cc853b9fdd024a54612e129">EnableAASchedMI</a>.getNumOccurrences() &gt; 0 ? <a class="code" href="ScheduleDAGInstrs_8cpp.html#acd3df9e57cc853b9fdd024a54612e129">EnableAASchedMI</a></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                                       : ST.<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a3721bce67edc8213e2856f4ba18b8788">useAA</a>();</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> *AAForDep = UseAA ? AA : 0;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">MISUnitMap</a>.clear();</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAG.html#a20e10e20ded7655f844479a648aa0c66">ScheduleDAG::clearDAG</a>();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// Create an SUnit for each real instruction.</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a705a0975de8335b0b6bdbbae165e8f5c">initSUnits</a>();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">if</span> (PDiffs)</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    PDiffs-&gt;<a class="code" href="classllvm_1_1PressureDiffs.html#adc55f26c1bfbbe17074ded7275f3961c">init</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>.size());</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// We build scheduling units by walking a block&#39;s instruction list from bottom</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// to top.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// Remember where a generic side-effecting instruction is as we procede.</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *BarrierChain = 0, *AliasChain = 0;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// Memory references to specific known memory locations are tracked</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// so that they can be given more precise dependencies. We track</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// separately the known memory locations that may alias and those</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// that are known not to alias</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, SUnit *&gt;</a> AliasMemDefs, NonAliasMemDefs;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, std::vector&lt;SUnit *&gt;</a> &gt; AliasMemUses, NonAliasMemUses;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  std::set&lt;SUnit*&gt; RejectMemNodes;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Remove any stale debug info; sometimes BuildSchedGraph is called again</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">// without emitting the info from the previous call.</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a6837fb2c08f4c8c986a4689a37ca93cf">DbgValues</a>.clear();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a25ae020b571d18d34d03097d91ca0f40">FirstDbgValue</a> = NULL;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  assert(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a56623897a22446f188d99b1ae7a004ac">empty</a>() &amp;&amp; <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a56623897a22446f188d99b1ae7a004ac">empty</a>() &amp;&amp;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         <span class="stringliteral">&quot;Only BuildGraph should update Defs/Uses&quot;</span>);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af781b01667ff848f2b07b4b51660a714">setUniverse</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a56e9a625f708912164f16c178ceb97d7">getNumRegs</a>());</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af781b01667ff848f2b07b4b51660a714">setUniverse</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a56e9a625f708912164f16c178ceb97d7">getNumRegs</a>());</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  assert(<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#a33ce23f0739f7b36a3c462d7b6d9ae84">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Only BuildSchedGraph may access VRegDefs&quot;</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a2554bf4e6f211e29c3e80fd4c9141c79">clear</a>();</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a78278263fc4c2deaf913ec1bbf98a8d2">getNumVirtRegs</a>());</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">VRegUses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#af781b01667ff848f2b07b4b51660a714">setUniverse</a>(<a class="code" href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a78278263fc4c2deaf913ec1bbf98a8d2">getNumVirtRegs</a>());</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// Model data dependencies between instructions being scheduled and the</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// ExitSU.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae8625c1e6c9bc82f2eaef39d3fff65a8">addSchedBarrierDeps</a>();</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Walk the list of instructions, from bottom moving up.</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *DbgMI = NULL;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a> = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">RegionEnd</a>, MIE = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae81ad8ece7681af658742f6d4e2fcfb1">RegionBegin</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;       <a class="code" href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a> != MIE; --<a class="code" href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a>) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">prior</a>(<a class="code" href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (MI &amp;&amp; DbgMI) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a6837fb2c08f4c8c986a4689a37ca93cf">DbgValues</a>.push_back(std::make_pair(DbgMI, MI));</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      DbgMI = NULL;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">isDebugValue</a>()) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      DbgMI = <a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">MISUnitMap</a>[<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>];</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    assert(SU &amp;&amp; <span class="stringliteral">&quot;No SUnit mapped to this MI&quot;</span>);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span> (RPTracker) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <a class="code" href="classllvm_1_1PressureDiff.html">PressureDiff</a> *PDiff = PDiffs ? &amp;(*PDiffs)[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>] : 0;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      RPTracker-&gt;<a class="code" href="classllvm_1_1RegPressureTracker.html#a34c32964f1af1bbabe26231ebdf444b0">recede</a>(<span class="comment">/*LiveUses=*/</span>0, PDiff);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      assert(RPTracker-&gt;<a class="code" href="classllvm_1_1RegPressureTracker.html#a1a9cc19b91e542613a319bcb37c04333">getPos</a>() == <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">prior</a>(<a class="code" href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a>) &amp;&amp; <span class="stringliteral">&quot;RPTracker can&#39;t find MI&quot;</span>);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    assert((<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a2ad332011e2040d133de24f33cf3f4cd">CanHandleTerminators</a> || (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">isTerminator</a>() &amp;&amp; !MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a509d0dea879fe37ee2c0f4154e200936">isLabel</a>())) &amp;&amp;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;           <span class="stringliteral">&quot;Cannot schedule terminators or labels!&quot;</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// Add register-based dependencies (data, anti, and output).</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">bool</span> HasVRegDef = <span class="keyword">false</span>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">isReg</a>()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (Reg == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">isPhysicalRegister</a>(Reg))</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a2e9425c046cf742bfbb9ebb96466d8e5">addPhysRegDeps</a>(SU, <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        assert(!<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a73edb004de8911374552b25481e9e9c3">IsPostRA</a> &amp;&amp; <span class="stringliteral">&quot;Virtual register encountered!&quot;</span>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">isDef</a>()) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          HasVRegDef = <span class="keyword">true</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a10acc9310a21d9a8191d3d84916bdffb">addVRegDefDeps</a>(SU, <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">readsReg</a>()) <span class="comment">// ignore undef operands</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;          <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a0f958ee7dc9902af4093fe8fabbabd6e">addVRegUseDeps</a>(SU, <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// If we haven&#39;t seen any uses in this scheduling region, create a</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// dependence edge to ExitSU to model the live-out latency. This is required</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// for vreg defs with no in-region use, and prefetches with no vreg def.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// FIXME: NumDataSuccs would be more precise than NumSuccs here. This</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// check currently relies on being called before adding chain deps.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">NumSuccs</a> == 0 &amp;&amp; SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">Latency</a> &gt; 1</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        &amp;&amp; (HasVRegDef || MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>())) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">Latency</a> - 1);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>.<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(Dep);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// Add chain dependencies.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// Chain dependencies used to enforce memory order should have</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// latency of 0 (except for true dependency of Store followed by</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// aliased Load... we estimate that with a single cycle of latency</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// assuming the hardware will bypass)</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">// Note that isStoreToStackSlot and isLoadFromStackSLot are not usable</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// after stack slots are lowered to actual addresses.</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// TODO: Use an AliasAnalysis and do real alias-analysis queries, and</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// produce more precise dependence information.</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">unsigned</span> TrueMemOrderLatency = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>() ? 1 : 0;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ScheduleDAGInstrs_8cpp.html#a5b02bcae20902ac8680d6604dbef7342">isGlobalMemoryObject</a>(AA, MI)) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="comment">// Be conservative with these and add dependencies on all memory</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="comment">// references, even those that are known to not alias.</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;             NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">begin</a>(), E = NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second-&gt;addPred(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MapVector.html">MapVector</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *, std::vector&lt;SUnit *&gt; &gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;             NonAliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">begin</a>(), E = NonAliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <a class="code" href="classllvm_1_1SDep.html">SDep</a> Dep(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;          Dep.<a class="code" href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">setLatency</a>(TrueMemOrderLatency);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;addPred(Dep);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="comment">// Add SU to the barrier chain.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">if</span> (BarrierChain)</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        BarrierChain-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      BarrierChain = SU;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">// This is a barrier event that acts as a pivotal node in the DAG,</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="comment">// so it is safe to clear list of exposed nodes.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a>(AA, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, RejectMemNodes,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                      TrueMemOrderLatency);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      RejectMemNodes.clear();</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      NonAliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    new_alias_chain:</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="comment">// Chain all possibly aliasing memory references though SU.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">if</span> (AliasChain) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordtype">unsigned</span> ChainLatency = 0;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">if</span> (AliasChain-&gt;getInstr()-&gt;mayLoad())</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;          ChainLatency = TrueMemOrderLatency;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, AliasChain, RejectMemNodes,</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                           ChainLatency);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      AliasChain = SU;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> k = 0, m = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>.size(); k != m; ++k)</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>[k], RejectMemNodes,</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                           TrueMemOrderLatency);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">begin</a>(),</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;           E = AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second, RejectMemNodes);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MapVector.html">MapVector</a>&lt;<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *, std::vector&lt;SUnit *&gt; &gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;           AliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">begin</a>(), E = AliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], RejectMemNodes,</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                             TrueMemOrderLatency);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a>(AA, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, RejectMemNodes,</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                      TrueMemOrderLatency);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>.clear();</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      AliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">mayStore</a>()) {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">UnderlyingObjectsVector</a> Objs;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="ScheduleDAGInstrs_8cpp.html#a741774c60622506bd2c6275d2d619955">getUnderlyingObjectsForInstr</a>(MI, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, Objs);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">if</span> (Objs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">// Treat all other stores conservatively.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">goto</span> new_alias_chain;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordtype">bool</span> MayAlias = <span class="keyword">false</span>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classT.html">UnderlyingObjectsVector::iterator</a> K = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), KE = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;           K != KE; ++K) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = K-&gt;getPointer();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordtype">bool</span> ThisMayAlias = K-&gt;getInt();</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">if</span> (ThisMayAlias)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          MayAlias = <span class="keyword">true</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="comment">// A store to a specific PseudoSourceValue. Add precise dependencies.</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment">// Record the def in MemDefs, first adding a dep if there is</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">// an existing def.</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          ((ThisMayAlias) ? AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V) : NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V));</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> =</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          ((ThisMayAlias) ? AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>() : NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>());</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span> (I != IE) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, I-&gt;second, RejectMemNodes,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                             0, <span class="keyword">true</span>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          I-&gt;second = SU;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          <span class="keywordflow">if</span> (ThisMayAlias)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            AliasMemDefs[V] = SU;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            NonAliasMemDefs[V] = SU;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">// Handle the uses in MemUses, if there are any.</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, std::vector&lt;SUnit *&gt;</a> &gt;::iterator J =</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          ((ThisMayAlias) ? AliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V) : NonAliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V));</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <a class="code" href="classllvm_1_1MapVector.html">MapVector&lt;const Value *, std::vector&lt;SUnit *&gt;</a> &gt;::iterator JE =</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;          ((ThisMayAlias) ? AliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>() : NonAliasMemUses.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>());</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">if</span> (J != JE) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = J-&gt;second.<a class="code" href="classllvm_1_1MapVector.html#a0d092625a7713adad790409bab83edbf">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, J-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], RejectMemNodes,</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                               TrueMemOrderLatency, <span class="keyword">true</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          J-&gt;second.<a class="code" href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">clear</a>();</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        }</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">if</span> (MayAlias) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment">// Add dependencies from all the PendingLoads, i.e. loads</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="comment">// with no underlying object.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> k = 0, m = <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>.size(); k != m; ++k)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>[k], RejectMemNodes,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                             TrueMemOrderLatency);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="comment">// Add dependence on alias chain, if needed.</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">if</span> (AliasChain)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, AliasChain, RejectMemNodes);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="comment">// But we also should check dependent instructions for the</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="comment">// SU in question.</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a>(AA, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, RejectMemNodes,</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                        TrueMemOrderLatency);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">// Add dependence on barrier chain, if needed.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="comment">// There is no point to check aliasing on barrier event. Even if</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="comment">// SU and barrier _could_ be reordered, they should not. In addition,</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="comment">// we have lost all RejectMemNodes below barrier.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="keywordflow">if</span> (BarrierChain)</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        BarrierChain-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>.<a class="code" href="classllvm_1_1SUnit.html#a10d4ec11279e64657420f6cc2c30fd70">isPred</a>(SU))</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="comment">// Push store&#39;s up a bit to avoid them getting in between cmp</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="comment">// and branches.</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>.<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">SDep::Artificial</a>));</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">mayLoad</a>()) {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordtype">bool</span> MayAlias = <span class="keyword">true</span>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3293892e5078a238db5b0f388aca5fa5">isInvariantLoad</a>(AA)) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="comment">// Invariant load, no chain dependencies needed!</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">UnderlyingObjectsVector</a> Objs;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <a class="code" href="ScheduleDAGInstrs_8cpp.html#a741774c60622506bd2c6275d2d619955">getUnderlyingObjectsForInstr</a>(MI, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, Objs);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span> (Objs.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;          <span class="comment">// A load with no underlying object. Depend on all</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          <span class="comment">// potentially aliasing stores.</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                 AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">begin</a>(), E = AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second, RejectMemNodes);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>.push_back(SU);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;          MayAlias = <span class="keyword">true</span>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;          MayAlias = <span class="keyword">false</span>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classT.html">UnderlyingObjectsVector::iterator</a></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;             J = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), JE = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); J != JE; ++J) {</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *V = J-&gt;getPointer();</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          <span class="keywordtype">bool</span> ThisMayAlias = J-&gt;getInt();</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <span class="keywordflow">if</span> (ThisMayAlias)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            MayAlias = <span class="keyword">true</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          <span class="comment">// A load from a specific PseudoSourceValue. Add precise dependencies.</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          <a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            ((ThisMayAlias) ? AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V) : NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">find</a>(V));</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          <a class="code" href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">MapVector&lt;const Value *, SUnit *&gt;::iterator</a> <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> =</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            ((ThisMayAlias) ? AliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>() : NonAliasMemDefs.<a class="code" href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">end</a>());</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;          <span class="keywordflow">if</span> (I != IE)</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, I-&gt;second, RejectMemNodes,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                               0, <span class="keyword">true</span>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          <span class="keywordflow">if</span> (ThisMayAlias)</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            AliasMemUses[V].push_back(SU);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            NonAliasMemUses[V].push_back(SU);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">if</span> (MayAlias)</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a>(AA, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>, RejectMemNodes, <span class="comment">/*Latency=*/</span>0);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="comment">// Add dependencies on alias and barrier chains, if needed.</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">if</span> (MayAlias &amp;&amp; AliasChain)</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          <a class="code" href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a>(AAForDep, <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">MFI</a>, SU, AliasChain, RejectMemNodes);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">if</span> (BarrierChain)</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          BarrierChain-&gt;<a class="code" href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">addPred</a>(<a class="code" href="classllvm_1_1SDep.html">SDep</a>(SU, <a class="code" href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">SDep::Barrier</a>));</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (DbgMI)</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a25ae020b571d18d34d03097d91ca0f40">FirstDbgValue</a> = DbgMI;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">Defs</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a2554bf4e6f211e29c3e80fd4c9141c79">clear</a>();</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">Uses</a>.<a class="code" href="classllvm_1_1SparseMultiSet.html#a2554bf4e6f211e29c3e80fd4c9141c79">clear</a>();</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">VRegDefs</a>.<a class="code" href="classllvm_1_1SparseSet.html#aab146f4c3793a4a99649ce52b3badc15">clear</a>();</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">PendingLoads</a>.clear();</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#acf537095fbdef2feb908f3a2c001d362"> 1002</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#acf537095fbdef2feb908f3a2c001d362">ScheduleDAGInstrs::dumpNode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU)<span class="keyword"> const </span>{</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a2e753175906811d492e9003d8872bfbe">dump</a>();</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a27b5f5078e00df5e0692ddfa17b9a342"> 1008</a></span>&#160;std::string <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a27b5f5078e00df5e0692ddfa17b9a342">ScheduleDAGInstrs::getGraphNodeLabel</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU)<span class="keyword"> const </span>{</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  std::string <a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <a class="code" href="classllvm_1_1raw__string__ostream.html">raw_string_ostream</a> oss(s);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (SU == &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a521bf68518a92483130a58680716d153">EntrySU</a>)</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;&lt;entry&gt;&quot;</span>;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SU == &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">ExitSU</a>)</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;&lt;exit&gt;&quot;</span>;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#af45dd3bcd52dd2109e7c5e78cd2c687f">print</a>(oss, &amp;<a class="code" href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">TM</a>, <span class="comment">/*SkipOpers=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">return</span> oss.<a class="code" href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">str</a>();</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">/// Return the basic block label. It is not necessarilly unique because a block</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">/// contains multiple scheduling regions. But it is fine for visualization.</span></div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="classllvm_1_1ScheduleDAGInstrs.html#a29baa8c4f3d0f32140fae1c1a5b9c100"> 1022</a></span>&#160;<span class="comment"></span>std::string <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a29baa8c4f3d0f32140fae1c1a5b9c100">ScheduleDAGInstrs::getDAGName</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;dag.&quot;</span> + <a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">BB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab0305884025d8bf58cac8c62f50597ba">getFullName</a>();</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">// SchedDFSResult Implementation</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {<span class="comment"></span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">/// \brief Internal state used to compute SchedDFSResult.</span></div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html"> 1032</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classllvm_1_1SchedDFSImpl.html">SchedDFSImpl</a> {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="classllvm_1_1SchedDFSResult.html">SchedDFSResult</a> &amp;R;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">  /// Join DAG nodes into equivalence classes by their subtree.</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntEqClasses.html">IntEqClasses</a> SubtreeClasses;<span class="comment"></span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">  /// List PredSU, SuccSU pairs that represent data edges between subtrees.</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment"></span>  std::vector&lt;std::pair&lt;const SUnit*, const SUnit*&gt; &gt; ConnectionPairs;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keyword">struct </span>RootData {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordtype">unsigned</span> NodeID;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">unsigned</span> ParentNodeID;  <span class="comment">// Parent node (member of the parent subtree).</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordtype">unsigned</span> SubInstrCount; <span class="comment">// Instr count in this tree only, not children.</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    RootData(<span class="keywordtype">unsigned</span> <span class="keywordtype">id</span>): NodeID(<span class="keywordtype">id</span>),</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                           ParentNodeID(SchedDFSResult::InvalidSubtreeID),</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                           SubInstrCount(0) {}</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordtype">unsigned</span> getSparseSetIndex()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> NodeID; }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  };</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <a class="code" href="classllvm_1_1SparseSet.html">SparseSet&lt;RootData&gt;</a> RootSet;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#affd919da23161b67d177f3bd8c07b012"> 1055</a></span>&#160;  <a class="code" href="classllvm_1_1SchedDFSImpl.html#affd919da23161b67d177f3bd8c07b012">SchedDFSImpl</a>(<a class="code" href="classllvm_1_1SchedDFSResult.html">SchedDFSResult</a> &amp;r): R(r), SubtreeClasses(R.DFSNodeData.<a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>()) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    RootSet.<a class="code" href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">setUniverse</a>(R.DFSNodeData.size());</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">  /// Return true if this node been visited by the DFS traversal.</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">  /// During visitPostorderNode the Node&#39;s SubtreeID is assigned to the Node</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">  /// ID. Later, SubtreeID is updated but remains valid.</span></div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#a8306c8a5c72842bf8619d66875df89fb"> 1063</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#a8306c8a5c72842bf8619d66875df89fb">isVisited</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU)<span class="keyword"> const </span>{</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> R.DFSNodeData[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].SubtreeID</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      != SchedDFSResult::InvalidSubtreeID;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">  /// Initialize this node&#39;s instruction count. We don&#39;t need to flag the node</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">  /// visited until visitPostorder because the DAG cannot have cycles.</span></div><div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#aee17a5350fad1c56abf6f425ef4f6e92"> 1070</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#aee17a5350fad1c56abf6f425ef4f6e92">visitPreorder</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    R.DFSNodeData[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].InstrCount =</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">isTransient</a>() ? 0 : 1;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">  /// Called once for each node after all predecessors are visited. Revisit this</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">  /// node&#39;s predecessors and potentially join them now that we know the ILP of</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">  /// the other predecessors.</span></div><div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#a19e83509e45ee65e4495de5a3ed3d44a"> 1078</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#a19e83509e45ee65e4495de5a3ed3d44a">visitPostorderNode</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">// Mark this node as the root of a subtree. It may be joined with its</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// successors later.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    R.DFSNodeData[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].SubtreeID = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    RootData RData(SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    RData.SubInstrCount = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">getInstr</a>()-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">isTransient</a>() ? 0 : 1;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// If any predecessors are still in their own subtree, they either cannot be</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// joined or are large enough to remain separate. If this parent node&#39;s</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// total instruction count is not greater than a child subtree by at least</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="comment">// the subtree limit, then try to join it now since splitting subtrees is</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// only useful if multiple high-pressure paths are possible.</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordtype">unsigned</span> InstrCount = R.DFSNodeData[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].InstrCount;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_pred_iterator</a></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;           PI = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin(), PE = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.end(); PI != PE; ++PI) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">if</span> (PI-&gt;getKind() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordtype">unsigned</span> PredNum = PI-&gt;getSUnit()-&gt;NodeNum;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">if</span> ((InstrCount - R.DFSNodeData[PredNum].InstrCount) &lt; R.SubtreeLimit)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        joinPredSubtree(*PI, SU, <span class="comment">/*CheckLimit=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="comment">// Either link or merge the TreeData entry from the child to the parent.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span> (R.DFSNodeData[PredNum].SubtreeID == PredNum) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="comment">// If the predecessor&#39;s parent is invalid, this is a tree edge and the</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="comment">// current node is the parent.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">if</span> (RootSet[PredNum].ParentNodeID == SchedDFSResult::InvalidSubtreeID)</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;          RootSet[PredNum].ParentNodeID = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RootSet.<a class="code" href="classllvm_1_1SparseSet.html#a5196d77298bdf036bbf71935769c2f5e">count</a>(PredNum)) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="comment">// The predecessor is not a root, but is still in the root set. This</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="comment">// must be the new parent that it was just joined to. Note that</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="comment">// RootSet[PredNum].ParentNodeID may either be invalid or may still be</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="comment">// set to the original parent.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        RData.SubInstrCount += RootSet[PredNum].SubInstrCount;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        RootSet.<a class="code" href="classllvm_1_1SparseSet.html#a5a00f6afdfec487d3165d29e57452b32">erase</a>(PredNum);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    RootSet[SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>] = RData;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">  /// Called once for each tree edge after calling visitPostOrderNode on the</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">  /// predecessor. Increment the parent node&#39;s instruction count and</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">  /// preemptively join this subtree to its parent&#39;s if it is small enough.</span></div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#ae259d5b34969a9259dbc66324869c398"> 1121</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#ae259d5b34969a9259dbc66324869c398">visitPostorderEdge</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;PredDep, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Succ) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    R.DFSNodeData[Succ-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].InstrCount</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      += R.DFSNodeData[PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>()-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>].InstrCount;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    joinPredSubtree(PredDep, Succ);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  }</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">  /// Add a connection for cross edges.</span></div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#abd2c96b0f28a1d6e444286a24bdf48f7"> 1128</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#abd2c96b0f28a1d6e444286a24bdf48f7">visitCrossEdge</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;PredDep, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Succ) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    ConnectionPairs.push_back(std::make_pair(PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>(), Succ));</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">  /// Set each node&#39;s subtree ID to the representative ID and record connections</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">  /// between trees.</span></div><div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#ab97b865e6e2092381b77a6c9bc3aa421"> 1134</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#ab97b865e6e2092381b77a6c9bc3aa421">finalize</a>() {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a52302b3ea716b56df9a143784875ab6b">compress</a>();</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    R.DFSTreeData.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">resize</a>(SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a88a3cf0a2e335cf097db1b99fc432ace">getNumClasses</a>());</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    assert(SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a88a3cf0a2e335cf097db1b99fc432ace">getNumClasses</a>() == RootSet.<a class="code" href="classllvm_1_1SparseSet.html#a4039afd341602a10af5d671efced977f">size</a>()</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;           &amp;&amp; <span class="stringliteral">&quot;number of roots should match trees&quot;</span>);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SparseSet.html">SparseSet&lt;RootData&gt;::const_iterator</a></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;           RI = RootSet.<a class="code" href="classllvm_1_1SparseSet.html#adf89ae764788137664ba65549e42b047">begin</a>(), RE = RootSet.<a class="code" href="classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">end</a>(); RI != RE; ++RI) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordtype">unsigned</span> TreeID = SubtreeClasses[RI-&gt;NodeID];</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">if</span> (RI-&gt;ParentNodeID != SchedDFSResult::InvalidSubtreeID)</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        R.DFSTreeData[TreeID].ParentTreeID = SubtreeClasses[RI-&gt;ParentNodeID];</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      R.DFSTreeData[TreeID].SubInstrCount = RI-&gt;SubInstrCount;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="comment">// Note that SubInstrCount may be greater than InstrCount if we joined</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="comment">// subtrees across a cross edge. InstrCount will be attributed to the</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="comment">// original parent, while SubInstrCount will be attributed to the joined</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">// parent.</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    R.SubtreeConnections.resize(SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a88a3cf0a2e335cf097db1b99fc432ace">getNumClasses</a>());</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    R.SubtreeConnectLevels.resize(SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a88a3cf0a2e335cf097db1b99fc432ace">getNumClasses</a>());</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; R.<a class="code" href="classllvm_1_1SchedDFSResult.html#a7dac878b98a284e29bbd9ad28b9037da">getNumSubtrees</a>() &lt;&lt; <span class="stringliteral">&quot; subtrees:\n&quot;</span>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0, End = R.DFSNodeData.size(); Idx != End; ++Idx) {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      R.DFSNodeData[Idx].SubtreeID = SubtreeClasses[Idx];</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  SU(&quot;</span> &lt;&lt; Idx &lt;&lt; <span class="stringliteral">&quot;) in tree &quot;</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            &lt;&lt; R.DFSNodeData[Idx].SubtreeID &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;std::pair&lt;const SUnit*, const SUnit*&gt; &gt;::const_iterator</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;           <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ConnectionPairs.begin(), E = ConnectionPairs.end();</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="keywordtype">unsigned</span> PredTree = SubtreeClasses[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first-&gt;NodeNum];</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="keywordtype">unsigned</span> SuccTree = SubtreeClasses[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second-&gt;NodeNum];</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">if</span> (PredTree == SuccTree)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <span class="keywordtype">unsigned</span> Depth = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first-&gt;getDepth();</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      addConnection(PredTree, SuccTree, Depth);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      addConnection(SuccTree, PredTree, Depth);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">  /// Join the predecessor subtree with the successor that is its DFS</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">  /// parent. Apply some heuristics before joining.</span></div><div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#a8a616fae155ac2f266346edbb5411470"> 1174</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#a8a616fae155ac2f266346edbb5411470">joinPredSubtree</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;PredDep, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Succ,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                       <span class="keywordtype">bool</span> CheckLimit = <span class="keyword">true</span>) {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    assert(PredDep.<a class="code" href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">getKind</a>() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a> &amp;&amp; <span class="stringliteral">&quot;Subtrees are for data edges&quot;</span>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">// Check if the predecessor is already joined.</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *PredSU = PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>();</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordtype">unsigned</span> PredNum = PredSU-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">if</span> (R.DFSNodeData[PredNum].SubtreeID != PredNum)</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">// Four is the magic number of successors before a node is considered a</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// pinch point.</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordtype">unsigned</span> NumDataSucs = 0;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a> SI = PredSU-&gt;Succs.begin(),</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;           SE = PredSU-&gt;Succs.end(); SI != SE; ++SI) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keywordflow">if</span> (SI-&gt;getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a>) {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">if</span> (++NumDataSucs &gt;= 4)</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (CheckLimit &amp;&amp; R.DFSNodeData[PredNum].InstrCount &gt; R.SubtreeLimit)</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    R.DFSNodeData[PredNum].SubtreeID = Succ-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    SubtreeClasses.<a class="code" href="classllvm_1_1IntEqClasses.html#a5188686a1114dcd54a343c55a03c0fd6">join</a>(Succ-&gt;<a class="code" href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">NodeNum</a>, PredNum);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">  /// Called by finalize() to record a connection between trees.</span></div><div class="line"><a name="l01202"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSImpl.html#aa1de1afa4c08361317bce0e400922326"> 1202</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSImpl.html#aa1de1afa4c08361317bce0e400922326">addConnection</a>(<span class="keywordtype">unsigned</span> FromTree, <span class="keywordtype">unsigned</span> ToTree, <span class="keywordtype">unsigned</span> Depth) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (!Depth)</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SchedDFSResult::Connection&gt;</a> &amp;Connections =</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        R.SubtreeConnections[FromTree];</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;SchedDFSResult::Connection&gt;::iterator</a></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;             <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Connections.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), E = Connections.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TreeID == ToTree) {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;          <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Level = std::max(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Level, Depth);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      }</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      Connections.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(SchedDFSResult::Connection(ToTree, Depth));</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      FromTree = R.DFSTreeData[FromTree].ParentTreeID;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    } <span class="keywordflow">while</span> (FromTree != SchedDFSResult::InvalidSubtreeID);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  }</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;};</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;} <span class="comment">// namespace llvm</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">/// \brief Manage the stack used by a reverse depth-first search over the DAG.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"></span><span class="keyword">class </span>SchedDAGReverseDFS {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  std::vector&lt;std::pair&lt;const SUnit*, SUnit::const_pred_iterator&gt; &gt; DFSStack;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="keywordtype">bool</span> isComplete()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> DFSStack.empty(); }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordtype">void</span> follow(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU) {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    DFSStack.push_back(std::make_pair(SU, SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">Preds</a>.begin()));</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>() { ++DFSStack.back().second; }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> *backtrack() {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    DFSStack.pop_back();</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> DFSStack.empty() ? 0 : <a class="code" href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a>(DFSStack.back().second);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *getCurr()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> DFSStack.back().first; }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <a class="code" href="classT.html">SUnit::const_pred_iterator</a> getPred()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> DFSStack.back().second; }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="classT.html">SUnit::const_pred_iterator</a> getPredEnd()<span class="keyword"> const </span>{</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> getCurr()-&gt;Preds.end();</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;};</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;} <span class="comment">// anonymous</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="ScheduleDAGInstrs_8cpp.html#a26aca145a8f6953152a566a143c6ec8f"> 1250</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ScheduleDAGInstrs_8cpp.html#a26aca145a8f6953152a566a143c6ec8f">hasDataSucc</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SUnit::const_succ_iterator</a></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;         SI = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.begin(), SE = SU-&gt;<a class="code" href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">Succs</a>.end(); SI != SE; ++SI) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (SI-&gt;getKind() == <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a> &amp;&amp; !SI-&gt;getSUnit()-&gt;isBoundaryNode())</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">/// Compute an ILP metric for all nodes in the subDAG reachable via depth-first</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">/// search from this root.</span></div><div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSResult.html#a788b324b6deb10dfbafa68a351b11c79"> 1261</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSResult.html#a788b324b6deb10dfbafa68a351b11c79">SchedDFSResult::compute</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SUnit&gt;</a> <a class="code" href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">SUnits</a>) {</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordflow">if</span> (!IsBottomUp)</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Top-down ILP metric is unimplemnted&quot;</span>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <a class="code" href="classllvm_1_1SchedDFSImpl.html">SchedDFSImpl</a> Impl(*<span class="keyword">this</span>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SUnit.html">ArrayRef&lt;SUnit&gt;::const_iterator</a></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;         SI = SUnits.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), SE = SUnits.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>(); SI != SE; ++SI) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *SU = &amp;*SI;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> (Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#a8306c8a5c72842bf8619d66875df89fb">isVisited</a>(SU) || <a class="code" href="ScheduleDAGInstrs_8cpp.html#a26aca145a8f6953152a566a143c6ec8f">hasDataSucc</a>(SU))</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    SchedDAGReverseDFS DFS;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#aee17a5350fad1c56abf6f425ef4f6e92">visitPreorder</a>(SU);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    DFS.follow(SU);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="comment">// Traverse the leftmost path as far as possible.</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">while</span> (DFS.getPred() != DFS.getPredEnd()) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> &amp;PredDep = *DFS.getPred();</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        DFS.advance();</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="comment">// Ignore non-data edges.</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="keywordflow">if</span> (PredDep.<a class="code" href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">getKind</a>() != <a class="code" href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">SDep::Data</a></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            || PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>()-&gt;<a class="code" href="classllvm_1_1SUnit.html#a72eaa4fec43227da59cd1eaef8cfdb76">isBoundaryNode</a>()) {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="comment">// An already visited edge is a cross edge, assuming an acyclic DAG.</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">if</span> (Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#a8306c8a5c72842bf8619d66875df89fb">isVisited</a>(PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>())) {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#abd2c96b0f28a1d6e444286a24bdf48f7">visitCrossEdge</a>(PredDep, DFS.getCurr());</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#aee17a5350fad1c56abf6f425ef4f6e92">visitPreorder</a>(PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>());</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        DFS.follow(PredDep.<a class="code" href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">getSUnit</a>());</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="comment">// Visit the top of the stack in postorder and backtrack.</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SUnit.html">SUnit</a> *Child = DFS.getCurr();</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDep.html">SDep</a> *PredDep = DFS.backtrack();</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#a19e83509e45ee65e4495de5a3ed3d44a">visitPostorderNode</a>(Child);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordflow">if</span> (PredDep)</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#ae259d5b34969a9259dbc66324869c398">visitPostorderEdge</a>(*PredDep, DFS.getCurr());</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keywordflow">if</span> (DFS.isComplete())</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  Impl.<a class="code" href="classllvm_1_1SchedDFSImpl.html#ab97b865e6e2092381b77a6c9bc3aa421">finalize</a>();</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;}</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">/// The root of the given SubtreeID was just scheduled. For all subtrees</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">/// connected to this tree, record the depth of the connection so that the</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">/// nearest connected subtrees can be prioritized.</span></div><div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="classllvm_1_1SchedDFSResult.html#ad1896b1b6c5eecd41078e6383fd6f207"> 1309</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SchedDFSResult.html#ad1896b1b6c5eecd41078e6383fd6f207">SchedDFSResult::scheduleTree</a>(<span class="keywordtype">unsigned</span> SubtreeID) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;Connection&gt;::const_iterator</a></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SubtreeConnections[SubtreeID].<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aeb9c314de586393b2cb695733eeafc6c">begin</a>(),</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;         E = SubtreeConnections[SubtreeID].<a class="code" href="classllvm_1_1ScheduleDAGInstrs.html#aa1a4554243ad6d8f52e7d12a74f0cded">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    SubtreeConnectLevels[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TreeID] =</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      std::max(SubtreeConnectLevels[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TreeID], <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Level);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Tree: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TreeID</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;          &lt;&lt; <span class="stringliteral">&quot; @&quot;</span> &lt;&lt; SubtreeConnectLevels[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TreeID] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div><div class="line"><a name="l01321"></a><span class="lineno"><a class="line" href="structllvm_1_1ILPValue.html#aa78b4c1ff8edb5bdcd246e1d3d4be66c"> 1321</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1ILPValue.html#aa78b4c1ff8edb5bdcd246e1d3d4be66c">ILPValue::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS)<span class="keyword"> const </span>{</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  OS &lt;&lt; InstrCount &lt;&lt; <span class="stringliteral">&quot; / &quot;</span> &lt;&lt; Length &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">if</span> (!Length)</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    OS &lt;&lt; <span class="stringliteral">&quot;BADILP&quot;</span>;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    OS &lt;&lt; <a class="code" href="namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">format</a>(<span class="stringliteral">&quot;%g&quot;</span>, ((<span class="keywordtype">double</span>)InstrCount / Length));</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"><a class="line" href="structllvm_1_1ILPValue.html#af3e7597961b01d14e4138387d2bfaaac"> 1329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1ILPValue.html#af3e7597961b01d14e4138387d2bfaaac">ILPValue::dump</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; *<span class="keyword">this</span> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;}</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa61da76c6011c27c7a5c31c89a2866c4"> 1335</a></span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="namespacellvm.html#a6a02d446812b76c3b271d9e3e3c77b49">operator&lt;&lt;</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> <a class="code" href="structllvm_1_1ILPValue.html">ILPValue</a> &amp;Val) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  Val.<a class="code" href="structllvm_1_1ILPValue.html#aa78b4c1ff8edb5bdcd246e1d3d4be66c">print</a>(OS);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">return</span> OS;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;}</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;} <span class="comment">// namespace llvm</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="preprocessor">#endif // !NDEBUG || LLVM_ENABLE_DUMP</span></div><div class="ttc" id="classllvm_1_1ScheduleDAG_html"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html">llvm::ScheduleDAG</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00538">ScheduleDAG.h:538</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a6123d1aa335e5d9c6299050c2cc5193e"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a6123d1aa335e5d9c6299050c2cc5193e">llvm::SparseMultiSet::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00320">SparseMultiSet.h:320</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_a63222e22bd798c7db94246adbb9cf2be"><div class="ttname"><a href="classllvm_1_1MapVector.html#a63222e22bd798c7db94246adbb9cf2be">llvm::MapVector::iterator</a></div><div class="ttdeci">VectorType::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00040">MapVector.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="TargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="SmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a54a66e84a17902f7380a8c0bc0d3ab4f"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a54a66e84a17902f7380a8c0bc0d3ab4f">UnderlyingObjectsVector</a></div><div class="ttdeci">SmallVector&lt; PointerIntPair&lt; const Value *, 1, bool &gt;, 4 &gt; UnderlyingObjectsVector</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00122">ScheduleDAGInstrs.cpp:122</a></div></div>
<div class="ttc" id="MapVector_8h_html"><div class="ttname"><a href="MapVector_8h.html">MapVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="MachineMemOperand_8h_html"><div class="ttname"><a href="MachineMemOperand_8h.html">MachineMemOperand.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a1f9a4461e2c9ac06b97f55554f836d66"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a1f9a4461e2c9ac06b97f55554f836d66">llvm::ScheduleDAGInstrs::finishBlock</a></div><div class="ttdeci">virtual void finishBlock()</div><div class="ttdoc">finishBlock - Clean up after scheduling in the given block. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00171">ScheduleDAGInstrs.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_a8a616fae155ac2f266346edbb5411470"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#a8a616fae155ac2f266346edbb5411470">llvm::SchedDFSImpl::joinPredSubtree</a></div><div class="ttdeci">bool joinPredSubtree(const SDep &amp;PredDep, const SUnit *Succ, bool CheckLimit=true)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01174">ScheduleDAGInstrs.cpp:1174</a></div></div>
<div class="ttc" id="structllvm_1_1ILPValue_html_af3e7597961b01d14e4138387d2bfaaac"><div class="ttname"><a href="structllvm_1_1ILPValue.html#af3e7597961b01d14e4138387d2bfaaac">llvm::ILPValue::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01329">ScheduleDAGInstrs.cpp:1329</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_ae091b147039557cf8ce505740e7ff7ac"><div class="ttname"><a href="classllvm_1_1MapVector.html#ae091b147039557cf8ce505740e7ff7ac">llvm::MapVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00072">MapVector.h:72</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8h_html"><div class="ttname"><a href="ScheduleDAGInstrs_8h.html">ScheduleDAGInstrs.h</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html_ae623a0f1ab59da851f2ebf1674d1fddb"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">llvm::VNInfo::def</a></div><div class="ttdeci">SlotIndex def</div><div class="ttdoc">The index of the defining instruction. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00052">LiveInterval.h:52</a></div></div>
<div class="ttc" id="namespacellvm_html_ae7484b83e7c2b58ffd67422a919aba40"><div class="ttname"><a href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">llvm::GetUnderlyingObjects</a></div><div class="ttdeci">void GetUnderlyingObjects(Value *V, SmallVectorImpl&lt; Value * &gt; &amp;Objects, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01928">ValueTracking.cpp:1928</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a8586fb88f0c2e2236a1552292cba1dd3"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a8586fb88f0c2e2236a1552292cba1dd3">llvm::SparseMultiSet::insert</a></div><div class="ttdeci">iterator insert(const ValueT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00423">SparseMultiSet.h:423</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ae28a43bb582f444168c4c06bc04a0a5b"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae28a43bb582f444168c4c06bc04a0a5b">llvm::SUnit::isSucc</a></div><div class="ttdeci">bool isSucc(SUnit *N)</div><div class="ttdoc">isSucc - Test if node N is a successor of this node. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00446">ScheduleDAG.h:446</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_af23cb8c07f7bd9c7df0a85434aa8a0c2"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#af23cb8c07f7bd9c7df0a85434aa8a0c2">llvm::SparseMultiSet::contains</a></div><div class="ttdeci">bool contains(const KeyT &amp;Key) const </div><div class="ttdoc">Returns true if this set contains an element identified by Key. </div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00399">SparseMultiSet.h:399</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00408">Target/README.txt:408</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="classllvm_1_1PressureDiffs_html_adc55f26c1bfbbe17074ded7275f3961c"><div class="ttname"><a href="classllvm_1_1PressureDiffs.html#adc55f26c1bfbbe17074ded7275f3961c">llvm::PressureDiffs::init</a></div><div class="ttdeci">void init(unsigned N)</div><div class="ttdoc">Initialize an array of N PressureDiffs. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00372">RegisterPressure.cpp:372</a></div></div>
<div class="ttc" id="structllvm_1_1PhysRegSUOper_html"><div class="ttname"><a href="structllvm_1_1PhysRegSUOper.html">llvm::PhysRegSUOper</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00047">ScheduleDAGInstrs.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac9423a63151469d95755528cceb322fb"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac9423a63151469d95755528cceb322fb">bb</a></div><div class="ttdeci">&lt; i1 &gt; br i1 label label bb bb</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01139">Target/X86/README.txt:1139</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a1a4055576fc0e9afc07647fe6dae8b0d"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a1a4055576fc0e9afc07647fe6dae8b0d">llvm::SparseSet::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00246">SparseSet.h:246</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a4039afd341602a10af5d671efced977f"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a4039afd341602a10af5d671efced977f">llvm::SparseSet::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00185">SparseSet.h:185</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a10acc9310a21d9a8191d3d84916bdffb"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a10acc9310a21d9a8191d3d84916bdffb">llvm::ScheduleDAGInstrs::addVRegDefDeps</a></div><div class="ttdeci">void addVRegDefDeps(SUnit *SU, unsigned OperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00365">ScheduleDAGInstrs.cpp:365</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a0fb79e823eb579e1ec4f4ee3867117e0"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a0fb79e823eb579e1ec4f4ee3867117e0">llvm::TargetSchedModel::computeOutputLatency</a></div><div class="ttdeci">unsigned computeOutputLatency(const MachineInstr *DefMI, unsigned DefIdx, const MachineInstr *DepMI) const </div><div class="ttdoc">Output dependency latency of a pair of defs of the same register. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00255">TargetSchedule.cpp:255</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a7bab64c02d740522f94f5f45959a22fc"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a7bab64c02d740522f94f5f45959a22fc">llvm::MachineBasicBlock::livein_iterator</a></div><div class="ttdeci">std::vector&lt; unsigned &gt;::const_iterator livein_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00314">MachineBasicBlock.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aa5f0eb2aad4a731d5d5133b8cb5e0a98"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa5f0eb2aad4a731d5d5133b8cb5e0a98">llvm::MachineInstr::mayStore</a></div><div class="ttdeci">bool mayStore(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00479">MachineInstr.h:479</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_adb119d63d924841b0523d67dfdd1bf61"><div class="ttname"><a href="classllvm_1_1SUnit.html#adb119d63d924841b0523d67dfdd1bf61">llvm::SUnit::getInstr</a></div><div class="ttdeci">MachineInstr * getInstr() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00386">ScheduleDAG.h:386</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a38ed8cc3c342ad6910e8c869d3e2b9cf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00098">ArrayRef.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a196420aa839c2b21f42c4bf5c36df437"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a196420aa839c2b21f42c4bf5c36df437">llvm::MachineOperand::isDead</a></div><div class="ttdeci">bool isDead() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00284">MachineOperand.h:284</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a6bbcfa1e19c409a905ffc0356c060bd4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6bbcfa1e19c409a905ffc0356c060bd4">llvm::LiveIntervals::getInstructionIndex</a></div><div class="ttdeci">SlotIndex getInstructionIndex(const MachineInstr *instr) const </div><div class="ttdoc">Returns the base index of the given instruction. </div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00190">LiveIntervalAnalysis.h:190</a></div></div>
<div class="ttc" id="structllvm_1_1ILPValue_html"><div class="ttname"><a href="structllvm_1_1ILPValue.html">llvm::ILPValue</a></div><div class="ttdoc">Represent the ILP of the subDAG rooted at a DAG node. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDFS_8h_source.html#l00035">ScheduleDFS.h:35</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_abb11b650b88a61630eba2a1b2eaa6fd0"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#abb11b650b88a61630eba2a1b2eaa6fd0">llvm::ScheduleDAGInstrs::SchedModel</a></div><div class="ttdeci">TargetSchedModel SchedModel</div><div class="ttdoc">TargetSchedModel provides an interface to the machine model. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00086">ScheduleDAGInstrs.h:86</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a5419fb52cab4895e3fc6fc9fc5c73f91"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a5419fb52cab4895e3fc6fc9fc5c73f91">llvm::TargetSchedModel::init</a></div><div class="ttdeci">void init(const MCSchedModel &amp;sm, const TargetSubtargetInfo *sti, const TargetInstrInfo *tii)</div><div class="ttdoc">Initialize the machine model for instruction scheduling. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00054">TargetSchedule.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1IntEqClasses_html_a52302b3ea716b56df9a143784875ab6b"><div class="ttname"><a href="classllvm_1_1IntEqClasses.html#a52302b3ea716b56df9a143784875ab6b">llvm::IntEqClasses::compress</a></div><div class="ttdeci">void compress()</div><div class="ttdef"><b>Definition:</b> <a href="IntEqClasses_8cpp_source.html#l00053">IntEqClasses.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aa708cf5a3a06290bfe5d3e349bd8650c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aa708cf5a3a06290bfe5d3e349bd8650c">llvm::MachineInstr::hasOrderedMemoryRef</a></div><div class="ttdeci">bool hasOrderedMemoryRef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01263">MachineInstr.cpp:1263</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a3ddd708642d60c1661992ff8ba1b215d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3ddd708642d60c1661992ff8ba1b215d">llvm::MachineBasicBlock::succ_end</a></div><div class="ttdeci">succ_iterator succ_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00278">MachineBasicBlock.h:278</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a2ad332011e2040d133de24f33cf3f4cd"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a2ad332011e2040d133de24f33cf3f4cd">llvm::ScheduleDAGInstrs::CanHandleTerminators</a></div><div class="ttdeci">bool CanHandleTerminators</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00096">ScheduleDAGInstrs.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_aeb9c314de586393b2cb695733eeafc6c"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aeb9c314de586393b2cb695733eeafc6c">llvm::ScheduleDAGInstrs::begin</a></div><div class="ttdeci">MachineBasicBlock::iterator begin() const </div><div class="ttdoc">begin - Return an iterator to the top of the current scheduling region. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00171">ScheduleDAGInstrs.h:171</a></div></div>
<div class="ttc" id="MCInstrItineraries_8h_html"><div class="ttname"><a href="MCInstrItineraries_8h.html">MCInstrItineraries.h</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html"><div class="ttname"><a href="classllvm_1_1MapVector.html">llvm::MapVector</a></div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00033">MapVector.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCSubtargetInfo_html_ab5f9e7f3d7e48089a9132de131d9c151"><div class="ttname"><a href="classllvm_1_1MCSubtargetInfo.html#ab5f9e7f3d7e48089a9132de131d9c151">llvm::MCSubtargetInfo::getSchedModel</a></div><div class="ttdeci">const MCSchedModel * getSchedModel() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSubtargetInfo_8h_source.html#l00092">MCSubtargetInfo.h:92</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad4e92a00f11d25f99bab8b78d4f89ff9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad4e92a00f11d25f99bab8b78d4f89ff9">llvm::MachineInstr::registerDefIsDead</a></div><div class="ttdeci">bool registerDefIsDead(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00767">MachineInstr.h:767</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a29baa8c4f3d0f32140fae1c1a5b9c100"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a29baa8c4f3d0f32140fae1c1a5b9c100">llvm::ScheduleDAGInstrs::getDAGName</a></div><div class="ttdeci">virtual std::string getDAGName() const </div><div class="ttdoc">Return a label for the region of code covered by the DAG. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01022">ScheduleDAGInstrs.cpp:1022</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732">llvm::SDep::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdoc">Kind - These are the different kinds of scheduling dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00048">ScheduleDAG.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html"><div class="ttname"><a href="classllvm_1_1VNInfo.html">llvm::VNInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00044">LiveInterval.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_af1c8be2ff5fd8eab8091e6ffa40ded8d"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#af1c8be2ff5fd8eab8091e6ffa40ded8d">llvm::ScheduleDAGInstrs::NumRegionInstrs</a></div><div class="ttdeci">unsigned NumRegionInstrs</div><div class="ttdoc">Instructions in this region (distance(RegionBegin, RegionEnd)). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00111">ScheduleDAGInstrs.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a56fbc3f460289602ce8a51538ebc1e26"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a56fbc3f460289602ce8a51538ebc1e26">llvm::ScheduleDAGInstrs::addPhysRegDataDeps</a></div><div class="ttdeci">void addPhysRegDataDeps(SUnit *SU, unsigned OperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00243">ScheduleDAGInstrs.cpp:243</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_ac92517e8c9066cbd446b0589a50c16f6"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#ac92517e8c9066cbd446b0589a50c16f6">llvm::SparseMultiSet::equal_range</a></div><div class="ttdeci">RangePair equal_range(const KeyT &amp;K)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00415">SparseMultiSet.h:415</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aea36f6665e4992da1874625d5f00e1c1"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aea36f6665e4992da1874625d5f00e1c1">llvm::MachineInstr::isTerminator</a></div><div class="ttdeci">bool isTerminator(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00366">MachineInstr.h:366</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ae2b43854b542de66eec6475adc48f56c"><div class="ttname"><a href="classllvm_1_1SUnit.html#ae2b43854b542de66eec6475adc48f56c">llvm::SUnit::Preds</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Preds</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00263">ScheduleDAG.h:263</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a2822215b7634783aece96ef695a72f1d"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a2822215b7634783aece96ef695a72f1d">llvm::ScheduleDAGInstrs::startBlock</a></div><div class="ttdeci">virtual void startBlock(MachineBasicBlock *BB)</div><div class="ttdoc">startBlock - Prepare to perform scheduling in the given block. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00167">ScheduleDAGInstrs.cpp:167</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_afa0b986fc834b512e716168f683ffc48"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#afa0b986fc834b512e716168f683ffc48">iterateChainSucc</a></div><div class="ttdeci">static unsigned iterateChainSucc(AliasAnalysis *AA, const MachineFrameInfo *MFI, SUnit *SUa, SUnit *SUb, SUnit *ExitSU, unsigned *Depth, SmallPtrSet&lt; const SUnit *, 16 &gt; &amp;Visited)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00564">ScheduleDAGInstrs.cpp:564</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1RegPressureTracker_html_a1a9cc19b91e542613a319bcb37c04333"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a1a9cc19b91e542613a319bcb37c04333">llvm::RegPressureTracker::getPos</a></div><div class="ttdeci">MachineBasicBlock::const_iterator getPos() const </div><div class="ttdoc">Get the MI position corresponding to this register pressure. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00308">RegisterPressure.h:308</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a26e12ac4f2ee1a1cec0bd11ed5b20025"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a26e12ac4f2ee1a1cec0bd11ed5b20025">getUnderlyingObjects</a></div><div class="ttdeci">static void getUnderlyingObjects(const Value *V, SmallVectorImpl&lt; Value * &gt; &amp;Objects)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00093">ScheduleDAGInstrs.cpp:93</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a33ce23f0739f7b36a3c462d7b6d9ae84"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a33ce23f0739f7b36a3c462d7b6d9ae84">llvm::SparseSet::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00178">SparseSet.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732abe9561936346ab5c5e22fe544994b06e">llvm::SDep::Anti</a></div><div class="ttdoc">A register anti-dependedence (aka WAR). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00050">ScheduleDAG.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a5a05b79eda02945cb09d6202624f7fa4"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a5a05b79eda02945cb09d6202624f7fa4">llvm::SparseMultiSet&lt; PhysRegSUOper, llvm::identity&lt; unsigned &gt;, uint16_t &gt;::iterator</a></div><div class="ttdeci">iterator_base&lt; SparseMultiSet * &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00312">SparseMultiSet.h:312</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSResult_html_a7dac878b98a284e29bbd9ad28b9037da"><div class="ttname"><a href="classllvm_1_1SchedDFSResult.html#a7dac878b98a284e29bbd9ad28b9037da">llvm::SchedDFSResult::getNumSubtrees</a></div><div class="ttdeci">unsigned getNumSubtrees() const </div><div class="ttdoc">The number of subtrees detected in this DAG. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDFS_8h_source.html#l00166">ScheduleDFS.h:166</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00049">LiveIntervalAnalysis.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a4afc086f7471b060731e7fbf248958f4"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a4afc086f7471b060731e7fbf248958f4">llvm::ScheduleDAGInstrs::PendingLoads</a></div><div class="ttdeci">std::vector&lt; SUnit * &gt; PendingLoads</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00138">ScheduleDAGInstrs.h:138</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a78278263fc4c2deaf913ec1bbf98a8d2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a78278263fc4c2deaf913ec1bbf98a8d2">llvm::MachineRegisterInfo::getNumVirtRegs</a></div><div class="ttdeci">unsigned getNumVirtRegs() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00378">MachineRegisterInfo.h:378</a></div></div>
<div class="ttc" id="namespacellvm_1_1object_html_a63a8f680ecd1aa68ae0efdd3b5c4f4a7"><div class="ttname"><a href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">llvm::object::advance</a></div><div class="ttdeci">static error_code advance(T &amp;it, size_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjectFile_8cpp_source.html#l00278">MachOObjectFile.cpp:278</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html">llvm::MachineMemOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00082">MachineMemOperand.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a1a6c1a29019b8f3fd988359ec5dd3d2f"><div class="ttname"><a href="classllvm_1_1SUnit.html#a1a6c1a29019b8f3fd988359ec5dd3d2f">llvm::SUnit::NumSuccs</a></div><div class="ttdeci">unsigned NumSuccs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00274">ScheduleDAG.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a3f74b283acf0dfb537bc387e49344f04"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a3f74b283acf0dfb537bc387e49344f04">llvm::ScheduleDAGInstrs::RegionEnd</a></div><div class="ttdeci">MachineBasicBlock::iterator RegionEnd</div><div class="ttdoc">The end of the range to be scheduled. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00108">ScheduleDAGInstrs.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a077eef2c61ca462db1800cc506092d38"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a077eef2c61ca462db1800cc506092d38">llvm::ScheduleDAGInstrs::MISUnitMap</a></div><div class="ttdeci">DenseMap&lt; MachineInstr *, SUnit * &gt; MISUnitMap</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00115">ScheduleDAGInstrs.h:115</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_ae8625c1e6c9bc82f2eaef39d3fff65a8"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ae8625c1e6c9bc82f2eaef39d3fff65a8">llvm::ScheduleDAGInstrs::addSchedBarrierDeps</a></div><div class="ttdeci">void addSchedBarrierDeps()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00204">ScheduleDAGInstrs.cpp:204</a></div></div>
<div class="ttc" id="structllvm_1_1VReg2SUnit_html"><div class="ttname"><a href="structllvm_1_1VReg2SUnit.html">llvm::VReg2SUnit</a></div><div class="ttdoc">An individual mapping from virtual register number to SUnit. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00034">ScheduleDAGInstrs.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a400eaca9881c8dcab97e9f42b1ab1815"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a400eaca9881c8dcab97e9f42b1ab1815">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T LLVM_ATTRIBUTE_UNUSED_RESULT pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00430">SmallVector.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">llvm::AliasAnalysis::AliasResult</a></div><div class="ttdeci">AliasResult</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00161">AliasAnalysis.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a5a869f04a623443a4cf2d2857f9cd085"><div class="ttname"><a href="classllvm_1_1SUnit.html#a5a869f04a623443a4cf2d2857f9cd085">llvm::SUnit::setInstr</a></div><div class="ttdeci">void setInstr(MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00379">ScheduleDAG.h:379</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a26aca145a8f6953152a566a143c6ec8f"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a26aca145a8f6953152a566a143c6ec8f">hasDataSucc</a></div><div class="ttdeci">static bool hasDataSucc(const SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01250">ScheduleDAGInstrs.cpp:1250</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_acf537095fbdef2feb908f3a2c001d362"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#acf537095fbdef2feb908f3a2c001d362">llvm::ScheduleDAGInstrs::dumpNode</a></div><div class="ttdeci">virtual void dumpNode(const SUnit *SU) const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01002">ScheduleDAGInstrs.cpp:1002</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ad8198d6d83af9410d867136e33fbf4b2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ad8198d6d83af9410d867136e33fbf4b2">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const </div><div class="ttdoc">isReg - Tests if this is a MO_Register operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00224">MachineOperand.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732af91df2221290eaa1a368403ffad49a26">llvm::SDep::Data</a></div><div class="ttdoc">Regular data dependence (aka true-dependence). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00049">ScheduleDAG.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a337ac3a574df74649d67cac686aaf580"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a337ac3a574df74649d67cac686aaf580">llvm::SparseSet::end</a></div><div class="ttdeci">const_iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00170">SparseSet.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2b48451e9cc8433ed5f8ee30462cc96e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2b48451e9cc8433ed5f8ee30462cc96e">llvm::MachineInstr::mayLoad</a></div><div class="ttdeci">bool mayLoad(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00465">MachineInstr.h:465</a></div></div>
<div class="ttc" id="classllvm_1_1LiveQueryResult_html"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html">llvm::LiveQueryResult</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00085">LiveInterval.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_adc4d8df3725fd70ffbaffeead756025c"><div class="ttname"><a href="classllvm_1_1SUnit.html#adc4d8df3725fd70ffbaffeead756025c">llvm::SUnit::hasPhysRegUses</a></div><div class="ttdeci">bool hasPhysRegUses</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00286">ScheduleDAG.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_aefba5f2af370add1bc8aaceedf7878ef"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#aefba5f2af370add1bc8aaceedf7878ef">llvm::MachineBasicBlock::succ_iterator</a></div><div class="ttdeci">std::vector&lt; MachineBasicBlock * &gt;::iterator succ_iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00249">MachineBasicBlock.h:249</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a7e320cbf5c1155ca1fa10d4604a35081"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a7e320cbf5c1155ca1fa10d4604a35081">isUnsafeMemoryObject</a></div><div class="ttdeci">static bool isUnsafeMemoryObject(MachineInstr *MI, const MachineFrameInfo *MFI)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00461">ScheduleDAGInstrs.cpp:461</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a9d9a8b8d5225f85cecbbada4ce4406b0"><div class="ttname"><a href="classllvm_1_1SUnit.html#a9d9a8b8d5225f85cecbbada4ce4406b0">llvm::SUnit::hasPhysRegDefs</a></div><div class="ttdeci">bool hasPhysRegDefs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00287">ScheduleDAG.h:287</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826a43c7577d5f7b09c310e42a6ab471610b">llvm::AliasAnalysis::NoAlias</a></div><div class="ttdoc">No dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00162">AliasAnalysis.h:162</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a6837fb2c08f4c8c986a4689a37ca93cf"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a6837fb2c08f4c8c986a4689a37ca93cf">llvm::ScheduleDAGInstrs::DbgValues</a></div><div class="ttdeci">DbgValueVector DbgValues</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00145">ScheduleDAGInstrs.h:145</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegAliasIterator_html_abf2eadac3ea84e2e2739444c40421eac"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html#abf2eadac3ea84e2e2739444c40421eac">llvm::MCRegAliasIterator::isValid</a></div><div class="ttdeci">bool isValid() const </div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00580">MCRegisterInfo.h:580</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a48dac2c15614f61bd7cb73fe322099fa"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a48dac2c15614f61bd7cb73fe322099fa">llvm::ScheduleDAGInstrs::MFI</a></div><div class="ttdeci">const MachineFrameInfo * MFI</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00080">ScheduleDAGInstrs.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="namespacellvm_html_aed2c5dd2a303159f87771db83f54352b"><div class="ttname"><a href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">llvm::isIdentifiedObject</a></div><div class="ttdeci">bool isIdentifiedObject(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00546">AliasAnalysis.cpp:546</a></div></div>
<div class="ttc" id="PseudoSourceValue_8h_html"><div class="ttname"><a href="PseudoSourceValue_8h.html">PseudoSourceValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1RegPressureTracker_html_a34c32964f1af1bbabe26231ebdf444b0"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html#a34c32964f1af1bbabe26231ebdf444b0">llvm::RegPressureTracker::recede</a></div><div class="ttdeci">bool recede(SmallVectorImpl&lt; unsigned &gt; *LiveUses=0, PressureDiff *PDiff=0)</div><div class="ttdoc">Recede across the previous instruction. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8cpp_source.html#l00456">RegisterPressure.cpp:456</a></div></div>
<div class="ttc" id="namespacellvm_html_a69dc1b119f8cb95b7e36f586c5aeb372"><div class="ttname"><a href="namespacellvm.html#a69dc1b119f8cb95b7e36f586c5aeb372">llvm::format</a></div><div class="ttdeci">format_object1&lt; T &gt; format(const char *Fmt, const T &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Format_8h_source.html#l00180">Format.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSResult_html"><div class="ttname"><a href="classllvm_1_1SchedDFSResult.html">llvm::SchedDFSResult</a></div><div class="ttdoc">Compute the values of each DAG node for various metrics during DFS. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDFS_8h_source.html#l00068">ScheduleDFS.h:68</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegisterInfo_html_a56e9a625f708912164f16c178ceb97d7"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a56e9a625f708912164f16c178ceb97d7">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const </div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00359">MCRegisterInfo.h:359</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36"><div class="ttname"><a href="classllvm_1_1SDep.html#a07333f8ba53e0454b7ec6365860c0732a011a1d87822a7f70efee9e430a7ccc36">llvm::SDep::Output</a></div><div class="ttdoc">A register output-dependence (aka WAW). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00051">ScheduleDAG.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_af41fc5dbf788e8a9b6012c78de16e691"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#af41fc5dbf788e8a9b6012c78de16e691">llvm::MachineMemOperand::getTBAAInfo</a></div><div class="ttdeci">const MDNode * getTBAAInfo() const </div><div class="ttdoc">getTBAAInfo - Return the TBAA tag for the memory reference. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00149">MachineMemOperand.h:149</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_ae81ad8ece7681af658742f6d4e2fcfb1"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ae81ad8ece7681af658742f6d4e2fcfb1">llvm::ScheduleDAGInstrs::RegionBegin</a></div><div class="ttdeci">MachineBasicBlock::iterator RegionBegin</div><div class="ttdoc">The beginning of the range to be scheduled. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00105">ScheduleDAGInstrs.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a0f958ee7dc9902af4093fe8fabbabd6e"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a0f958ee7dc9902af4093fe8fabbabd6e">llvm::ScheduleDAGInstrs::addVRegUseDeps</a></div><div class="ttdeci">void addVRegUseDeps(SUnit *SU, unsigned OperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00403">ScheduleDAGInstrs.cpp:403</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a10d4ec11279e64657420f6cc2c30fd70"><div class="ttname"><a href="classllvm_1_1SUnit.html#a10d4ec11279e64657420f6cc2c30fd70">llvm::SUnit::isPred</a></div><div class="ttdeci">bool isPred(SUnit *N)</div><div class="ttdoc">isPred - Test if node N is a predecessor of this node. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00438">ScheduleDAG.h:438</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_aecc4d170587e25346f72971969bef3f9"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aecc4d170587e25346f72971969bef3f9">llvm::ScheduleDAGInstrs::VRegUses</a></div><div class="ttdeci">VReg2UseMap VRegUses</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00120">ScheduleDAGInstrs.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html_a5a676c743c0a015dc26db16723e89860"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a5a676c743c0a015dc26db16723e89860">llvm::TargetSubtargetInfo::adjustSchedDependency</a></div><div class="ttdeci">virtual void adjustSchedDependency(SUnit *def, SUnit *use, SDep &amp;dep) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00089">TargetSubtargetInfo.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a73edb004de8911374552b25481e9e9c3"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a73edb004de8911374552b25481e9e9c3">llvm::ScheduleDAGInstrs::IsPostRA</a></div><div class="ttdeci">bool IsPostRA</div><div class="ttdoc">isPostRA flag indicates vregs cannot be present. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00089">ScheduleDAGInstrs.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_ae8727d434d20639d563849891f5ca1e1"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ae8727d434d20639d563849891f5ca1e1">llvm::ScheduleDAGInstrs::enterRegion</a></div><div class="ttdeci">virtual void enterRegion(MachineBasicBlock *bb, MachineBasicBlock::iterator begin, MachineBasicBlock::iterator end, unsigned regioninstrs)</div><div class="ttdoc">Initialize the scheduler state for the next scheduling region. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00180">ScheduleDAGInstrs.cpp:180</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_a19e83509e45ee65e4495de5a3ed3d44a"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#a19e83509e45ee65e4495de5a3ed3d44a">llvm::SchedDFSImpl::visitPostorderNode</a></div><div class="ttdeci">void visitPostorderNode(const SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01078">ScheduleDAGInstrs.cpp:1078</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_a6b0c3e15c351ba9682837c29b0a141b6"><div class="ttname"><a href="classllvm_1_1MapVector.html#a6b0c3e15c351ba9682837c29b0a141b6">llvm::MapVector::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00110">MapVector.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_aee17a5350fad1c56abf6f425ef4f6e92"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#aee17a5350fad1c56abf6f425ef4f6e92">llvm::SchedDFSImpl::visitPreorder</a></div><div class="ttdeci">void visitPreorder(const SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01070">ScheduleDAGInstrs.cpp:1070</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a5a00f6afdfec487d3165d29e57452b32"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a5a00f6afdfec487d3165d29e57452b32">llvm::SparseSet::erase</a></div><div class="ttdeci">iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00277">SparseSet.h:277</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a63cf3563539cd64e57a61ede916431ea"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a63cf3563539cd64e57a61ede916431ea">MIsNeedChainEdge</a></div><div class="ttdeci">static bool MIsNeedChainEdge(AliasAnalysis *AA, const MachineFrameInfo *MFI, MachineInstr *MIa, MachineInstr *MIb)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00503">ScheduleDAGInstrs.cpp:503</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1e1d26226c627cf3dcf3c191b85e7d7d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1e1d26226c627cf3dcf3c191b85e7d7d">llvm::MachineInstr::isDebugValue</a></div><div class="ttdeci">bool isDebugValue() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00639">MachineInstr.h:639</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html"><div class="ttname"><a href="classllvm_1_1SDep.html">llvm::SDep</a></div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00045">ScheduleDAG.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_a0d092625a7713adad790409bab83edbf"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0d092625a7713adad790409bab83edbf">llvm::MapVector::size</a></div><div class="ttdeci">SizeType size() const </div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00043">MapVector.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a0be1f84d53e90c247d75f2ed63636761"><div class="ttname"><a href="classllvm_1_1SUnit.html#a0be1f84d53e90c247d75f2ed63636761">llvm::SUnit::isCall</a></div><div class="ttdeci">bool isCall</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00282">ScheduleDAG.h:282</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_acd0853cbfd87e166b73d3e24502f2346"><div class="ttname"><a href="classllvm_1_1LiveRange.html#acd0853cbfd87e166b73d3e24502f2346">llvm::LiveRange::Query</a></div><div class="ttdeci">LiveQueryResult Query(SlotIndex Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00441">LiveInterval.h:441</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a383a4964b5cee6adc7fa5017c771d939"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a383a4964b5cee6adc7fa5017c771d939">llvm::ScheduleDAGInstrs::ScheduleDAGInstrs</a></div><div class="ttdeci">ScheduleDAGInstrs(MachineFunction &amp;mf, const MachineLoopInfo &amp;mli, const MachineDominatorTree &amp;mdt, bool IsPostRAFlag, LiveIntervals *LIS=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00047">ScheduleDAGInstrs.cpp:47</a></div></div>
<div class="ttc" id="classllvm_1_1PressureDiffs_html"><div class="ttname"><a href="classllvm_1_1PressureDiffs.html">llvm::PressureDiffs</a></div><div class="ttdoc">Array of PressureDiffs. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00156">RegisterPressure.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1IntEqClasses_html"><div class="ttname"><a href="classllvm_1_1IntEqClasses.html">llvm::IntEqClasses</a></div><div class="ttdef"><b>Definition:</b> <a href="IntEqClasses_8h_source.html#l00028">IntEqClasses.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a20e10e20ded7655f844479a648aa0c66"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a20e10e20ded7655f844479a648aa0c66">llvm::ScheduleDAG::clearDAG</a></div><div class="ttdeci">void clearDAG()</div><div class="ttdoc">clearDAG - clear the DAG state (between regions). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00050">ScheduleDAG.cpp:50</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a72e0568b7bf0e9a97260c34264a549a0"><div class="ttname"><a href="classllvm_1_1SUnit.html#a72e0568b7bf0e9a97260c34264a549a0">llvm::SUnit::Latency</a></div><div class="ttdeci">unsigned short Latency</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00280">ScheduleDAG.h:280</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a59949d72986d3e9fdb7e7c9272c02f0f"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">llvm::AliasAnalysis::alias</a></div><div class="ttdeci">virtual AliasResult alias(const Location &amp;LocA, const Location &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00052">AliasAnalysis.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_abd2c96b0f28a1d6e444286a24bdf48f7"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#abd2c96b0f28a1d6e444286a24bdf48f7">llvm::SchedDFSImpl::visitCrossEdge</a></div><div class="ttdeci">void visitCrossEdge(const SDep &amp;PredDep, const SUnit *Succ)</div><div class="ttdoc">Add a connection for cross edges. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01128">ScheduleDAGInstrs.cpp:1128</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html">llvm::SchedDFSImpl</a></div><div class="ttdoc">Internal state used to compute SchedDFSResult. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01032">ScheduleDAGInstrs.cpp:1032</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a741774c60622506bd2c6275d2d619955"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a741774c60622506bd2c6275d2d619955">getUnderlyingObjectsForInstr</a></div><div class="ttdeci">static void getUnderlyingObjectsForInstr(const MachineInstr *MI, const MachineFrameInfo *MFI, UnderlyingObjectsVector &amp;Objects)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00127">ScheduleDAGInstrs.cpp:127</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5cdd6ae6b245e832e7cc5e4edf035cb2"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5cdd6ae6b245e832e7cc5e4edf035cb2">MII</a></div><div class="ttdeci">const MCInstrInfo &amp; MII</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00055">MCModuleYAML.cpp:55</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_aa1de1afa4c08361317bce0e400922326"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#aa1de1afa4c08361317bce0e400922326">llvm::SchedDFSImpl::addConnection</a></div><div class="ttdeci">void addConnection(unsigned FromTree, unsigned ToTree, unsigned Depth)</div><div class="ttdoc">Called by finalize() to record a connection between trees. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01202">ScheduleDAGInstrs.cpp:1202</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_af781b01667ff848f2b07b4b51660a714"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#af781b01667ff848f2b07b4b51660a714">llvm::SparseMultiSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00195">SparseMultiSet.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MCRegAliasIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html">llvm::MCRegAliasIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00555">MCRegisterInfo.h:555</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9"><div class="ttname"><a href="namespacellvm_1_1cl.html#a492234b10e0c5918d72a3a15a6f0fa6ea61d3cb794533763159788c493ad266d9">llvm::cl::ZeroOrMore</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00086">CommandLine.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1RegPressureTracker_html"><div class="ttname"><a href="classllvm_1_1RegPressureTracker.html">llvm::RegPressureTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00250">RegisterPressure.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a836367b39ed630bf14db99923c22740e"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00097">ArrayRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ad9320d8b806f769d2779acf321a41ca2"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ad9320d8b806f769d2779acf321a41ca2">llvm::MachineInstr::hasOneMemOperand</a></div><div class="ttdeci">bool hasOneMemOperand() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00297">MachineInstr.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ae9a10777fdedf716a21f450a3ceaafe3"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ae9a10777fdedf716a21f450a3ceaafe3">llvm::MachineInstr::hasUnmodeledSideEffects</a></div><div class="ttdeci">bool hasUnmodeledSideEffects() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01343">MachineInstr.cpp:1343</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a5b7f785c0a719640a922fece8a550100"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a5b7f785c0a719640a922fece8a550100">llvm::ScheduleDAGInstrs::VRegDefs</a></div><div class="ttdeci">VReg2SUnitMap VRegDefs</div><div class="ttdoc">Track the last instruction in this region defining each virtual register. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00133">ScheduleDAGInstrs.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1PressureDiff_html"><div class="ttname"><a href="classllvm_1_1PressureDiff.html">llvm::PressureDiff</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterPressure_8h_source.html#l00136">RegisterPressure.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_abc5a5c32ac78a99ee2633dbbeec20397"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#abc5a5c32ac78a99ee2633dbbeec20397">llvm::ScheduleDAGInstrs::exitRegion</a></div><div class="ttdeci">virtual void exitRegion()</div><div class="ttdoc">Notify that the scheduler has finished scheduling the current region. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00192">ScheduleDAGInstrs.cpp:192</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_ac5c4065b01268eb6764867041cd1d96c"><div class="ttname"><a href="classllvm_1_1SparseSet.html#ac5c4065b01268eb6764867041cd1d96c">llvm::SparseSet::setUniverse</a></div><div class="ttdeci">void setUniverse(unsigned U)</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00150">SparseSet.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a3293892e5078a238db5b0f388aca5fa5"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3293892e5078a238db5b0f388aca5fa5">llvm::MachineInstr::isInvariantLoad</a></div><div class="ttdeci">bool isInvariantLoad(AliasAnalysis *AA) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01289">MachineInstr.cpp:1289</a></div></div>
<div class="ttc" id="structllvm_1_1AliasAnalysis_1_1Location_html"><div class="ttname"><a href="structllvm_1_1AliasAnalysis_1_1Location.html">llvm::AliasAnalysis::Location</a></div><div class="ttdoc">Location - A description of a memory location. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00106">AliasAnalysis.h:106</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a9aa31260fcd6b572eb34528673438c3c"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a9aa31260fcd6b572eb34528673438c3c">llvm::ScheduleDAG::TM</a></div><div class="ttdeci">const TargetMachine &amp; TM</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00540">ScheduleDAG.h:540</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a509d0dea879fe37ee2c0f4154e200936"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a509d0dea879fe37ee2c0f4154e200936">llvm::MachineInstr::isLabel</a></div><div class="ttdeci">bool isLabel() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00628">MachineInstr.h:628</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a2554bf4e6f211e29c3e80fd4c9141c79"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a2554bf4e6f211e29c3e80fd4c9141c79">llvm::SparseMultiSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00343">SparseMultiSet.h:343</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a6321b189ea8fd5058663f8a87d6c23e9"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a6321b189ea8fd5058663f8a87d6c23e9">llvm::MachineBasicBlock::succ_begin</a></div><div class="ttdeci">succ_iterator succ_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00276">MachineBasicBlock.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1IntEqClasses_html_a5188686a1114dcd54a343c55a03c0fd6"><div class="ttname"><a href="classllvm_1_1IntEqClasses.html#a5188686a1114dcd54a343c55a03c0fd6">llvm::IntEqClasses::join</a></div><div class="ttdeci">void join(unsigned a, unsigned b)</div><div class="ttdef"><b>Definition:</b> <a href="IntEqClasses_8cpp_source.html#l00032">IntEqClasses.cpp:32</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html_ae086260f8c216554ff46dcd96e171459"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html#ae086260f8c216554ff46dcd96e171459">llvm::raw_string_ostream::str</a></div><div class="ttdeci">std::string &amp; str()</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00441">raw_ostream.h:441</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_a8306c8a5c72842bf8619d66875df89fb"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#a8306c8a5c72842bf8619d66875df89fb">llvm::SchedDFSImpl::isVisited</a></div><div class="ttdeci">bool isVisited(const SUnit *SU) const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01063">ScheduleDAGInstrs.cpp:1063</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_adf89ae764788137664ba65549e42b047"><div class="ttname"><a href="classllvm_1_1SparseSet.html#adf89ae764788137664ba65549e42b047">llvm::SparseSet::begin</a></div><div class="ttdeci">const_iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00169">SparseSet.h:169</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a8178a6ca4f3f8028aec715b40983516d"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a8178a6ca4f3f8028aec715b40983516d">addChainDependency</a></div><div class="ttdeci">static void addChainDependency(AliasAnalysis *AA, const MachineFrameInfo *MFI, SUnit *SUa, SUnit *SUb, std::set&lt; SUnit * &gt; &amp;RejectList, unsigned TrueMemOrderLatency=0, bool isNormalMemory=false)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00640">ScheduleDAGInstrs.cpp:640</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a007d043f89bfaefaec158a7e93b39832"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a007d043f89bfaefaec158a7e93b39832">llvm::SparseMultiSet::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00379">SparseMultiSet.h:379</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a3d026b42ef4cc00c58dd954b3c5eda65">llvm::SDep::Barrier</a></div><div class="ttdoc">An unknown scheduling barrier. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00065">ScheduleDAG.h:65</a></div></div>
<div class="ttc" id="Format_8h_html"><div class="ttname"><a href="Format_8h.html">Format.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab0305884025d8bf58cac8c62f50597ba"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab0305884025d8bf58cac8c62f50597ba">llvm::MachineBasicBlock::getFullName</a></div><div class="ttdeci">std::string getFullName() const </div><div class="ttdoc">Return a hopefully unique identifier for this block. </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00253">MachineBasicBlock.cpp:253</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a2e9425c046cf742bfbb9ebb96466d8e5"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a2e9425c046cf742bfbb9ebb96466d8e5">llvm::ScheduleDAGInstrs::addPhysRegDeps</a></div><div class="ttdeci">void addPhysRegDeps(SUnit *SU, unsigned OperIdx)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00286">ScheduleDAGInstrs.cpp:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1fad8850f78f819ee805d2cb2aefbcf8"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1fad8850f78f819ee805d2cb2aefbcf8">llvm::MachineInstr::memoperands_empty</a></div><div class="ttdeci">bool memoperands_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00293">MachineInstr.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_ace667b502d54c947cf2f3a4c5d60f734"><div class="ttname"><a href="classllvm_1_1SUnit.html#ace667b502d54c947cf2f3a4c5d60f734">llvm::SUnit::isCommutable</a></div><div class="ttdeci">bool isCommutable</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00285">ScheduleDAG.h:285</a></div></div>
<div class="ttc" id="LeakDetector_8cpp_html_ac6084dabb960efba10b44f82edd99599"><div class="ttname"><a href="LeakDetector_8cpp.html#ac6084dabb960efba10b44f82edd99599">Objects</a></div><div class="ttdeci">static ManagedStatic&lt; LeakDetectorImpl&lt; void &gt; &gt; Objects</div><div class="ttdef"><b>Definition:</b> <a href="LeakDetector_8cpp_source.html#l00025">LeakDetector.cpp:25</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_ac3e7c1031b60c73d06d579da9378710d"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#ac3e7c1031b60c73d06d579da9378710d">adjustChainDeps</a></div><div class="ttdeci">static void adjustChainDeps(AliasAnalysis *AA, const MachineFrameInfo *MFI, SUnit *SU, SUnit *ExitSU, std::set&lt; SUnit * &gt; &amp;CheckList, unsigned LatencyToLoad)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00609">ScheduleDAGInstrs.cpp:609</a></div></div>
<div class="ttc" id="LiveIntervalAnalysis_8h_html"><div class="ttname"><a href="LiveIntervalAnalysis_8h.html">LiveIntervalAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a5af2fed99951774b6a14d30ec6e73792"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5af2fed99951774b6a14d30ec6e73792">llvm::TargetMachine::getSubtarget</a></div><div class="ttdeci">const STC &amp; getSubtarget() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00132">Target/TargetMachine.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSResult_html_a788b324b6deb10dfbafa68a351b11c79"><div class="ttname"><a href="classllvm_1_1SchedDFSResult.html#a788b324b6deb10dfbafa68a351b11c79">llvm::SchedDFSResult::compute</a></div><div class="ttdeci">void compute(ArrayRef&lt; SUnit &gt; SUnits)</div><div class="ttdoc">Compute various metrics for the DAG with given roots. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01261">ScheduleDAGInstrs.cpp:1261</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1EngineKind_html_a9df47239a42cd9621ac26d9ecbd57441"><div class="ttname"><a href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">llvm::EngineKind::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00499">ExecutionEngine/ExecutionEngine.h:499</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00043">MachineOperand.h:43</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html"><div class="ttname"><a href="classllvm_1_1Operator.html">llvm::Operator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00034">Operator.h:34</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_ae384109023f32441ff89f13b79be6b89"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#ae384109023f32441ff89f13b79be6b89">llvm::ScheduleDAGInstrs::Defs</a></div><div class="ttdeci">Reg2SUnitsMap Defs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00129">ScheduleDAGInstrs.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a8de7d5cf38939044471c6ee60a01a3df"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a8de7d5cf38939044471c6ee60a01a3df">llvm::MachineOperand::isDef</a></div><div class="ttdeci">bool isDef() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00274">MachineOperand.h:274</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_ab911382d02334b8421f4dbca8c53ff27"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#ab911382d02334b8421f4dbca8c53ff27">llvm::SparseMultiSet::eraseAll</a></div><div class="ttdeci">void eraseAll(const KeyT &amp;K)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00486">SparseMultiSet.h:486</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9aa34e7b539ffb2975952fd58cbb2b75c2"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9aa34e7b539ffb2975952fd58cbb2b75c2">llvm::SDep::MayAliasMem</a></div><div class="ttdoc">Nonvolatile load/Store instructions that may alias. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00066">ScheduleDAG.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a70cf6a51b043dc9f8ae683c266d5d9c4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a70cf6a51b043dc9f8ae683c266d5d9c4">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00105">LiveIntervalAnalysis.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac596847316c2e2472695402f00a5065d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac596847316c2e2472695402f00a5065d">llvm::MachineInstr::isTransient</a></div><div class="ttdeci">bool isTransient() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00692">MachineInstr.h:692</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_af45dd3bcd52dd2109e7c5e78cd2c687f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#af45dd3bcd52dd2109e7c5e78cd2c687f">llvm::MachineInstr::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const TargetMachine *TM=0, bool SkipOpers=false) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01410">MachineInstr.cpp:1410</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_a5196d77298bdf036bbf71935769c2f5e"><div class="ttname"><a href="classllvm_1_1SparseSet.html#a5196d77298bdf036bbf71935769c2f5e">llvm::SparseSet::count</a></div><div class="ttdeci">bool count(const KeyT &amp;Key) const </div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00232">SparseSet.h:232</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2e753175906811d492e9003d8872bfbe"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2e753175906811d492e9003d8872bfbe">llvm::MachineInstr::dump</a></div><div class="ttdeci">void dump() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01380">MachineInstr.cpp:1380</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_affe567f004a910942ac688989b3642e1"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#affe567f004a910942ac688989b3642e1">llvm::MachineMemOperand::getValue</a></div><div class="ttdeci">const Value * getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00124">MachineMemOperand.h:124</a></div></div>
<div class="ttc" id="classllvm_1_1PseudoSourceValue_html"><div class="ttname"><a href="classllvm_1_1PseudoSourceValue.html">llvm::PseudoSourceValue</a></div><div class="ttdef"><b>Definition:</b> <a href="PseudoSourceValue_8h_source.html#l00027">PseudoSourceValue.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a0d3253aa89a8b7441f8401f1b6609811"><div class="ttname"><a href="classllvm_1_1SDep.html#a0d3253aa89a8b7441f8401f1b6609811">llvm::SDep::getSUnit</a></div><div class="ttdeci">SUnit * getSUnit() const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00160">ScheduleDAG.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_aa1a4554243ad6d8f52e7d12a74f0cded"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aa1a4554243ad6d8f52e7d12a74f0cded">llvm::ScheduleDAGInstrs::end</a></div><div class="ttdeci">MachineBasicBlock::iterator end() const </div><div class="ttdoc">end - Return an iterator to the bottom of the current scheduling region. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00174">ScheduleDAGInstrs.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a72eaa4fec43227da59cd1eaef8cfdb76"><div class="ttname"><a href="classllvm_1_1SUnit.html#a72eaa4fec43227da59cd1eaef8cfdb76">llvm::SUnit::isBoundaryNode</a></div><div class="ttdeci">bool isBoundaryNode() const </div><div class="ttdoc">Boundary nodes are placeholders for the boundary of the scheduling region. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00357">ScheduleDAG.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_ae259d5b34969a9259dbc66324869c398"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#ae259d5b34969a9259dbc66324869c398">llvm::SchedDFSImpl::visitPostorderEdge</a></div><div class="ttdeci">void visitPostorderEdge(const SDep &amp;PredDep, const SUnit *Succ)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01121">ScheduleDAGInstrs.cpp:1121</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a148b76c8f993d4a3d95ac19c60e2ebe0"><div class="ttname"><a href="classllvm_1_1SDep.html#a148b76c8f993d4a3d95ac19c60e2ebe0">llvm::SDep::setLatency</a></div><div class="ttdeci">void setLatency(unsigned Lat)</div><div class="ttdoc">setLatency - Set the latency for this edge. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00155">ScheduleDAG.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a6500bc123ee62205ff472b6257d6449b"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a6500bc123ee62205ff472b6257d6449b">llvm::SparseMultiSet::erase</a></div><div class="ttdeci">**iterator erase(iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00470">SparseMultiSet.h:470</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html_a2f14b03fb8025d2bfa20a34da2b20ccf"><div class="ttname"><a href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">llvm::Operator::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00051">Operator.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html">llvm::TargetSubtargetInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00037">TargetSubtargetInfo.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a521bf68518a92483130a58680716d153"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a521bf68518a92483130a58680716d153">llvm::ScheduleDAG::EntrySU</a></div><div class="ttdeci">SUnit EntrySU</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00546">ScheduleDAG.h:546</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a6cf6c94d54730c618ac5f86d2140d032"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a6cf6c94d54730c618ac5f86d2140d032">llvm::ScheduleDAGInstrs::getSUnit</a></div><div class="ttdeci">SUnit * getSUnit(MachineInstr *MI) const </div><div class="ttdoc">getSUnit - Return an existing SUnit for this MI, or NULL. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00251">ScheduleDAGInstrs.h:251</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_af81f734d7fb268c95c1c63c399a7c4a6"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#af81f734d7fb268c95c1c63c399a7c4a6">llvm::ScheduleDAG::ExitSU</a></div><div class="ttdeci">SUnit ExitSU</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00547">ScheduleDAG.h:547</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_ab97b865e6e2092381b77a6c9bc3aa421"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#ab97b865e6e2092381b77a6c9bc3aa421">llvm::SchedDFSImpl::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01134">ScheduleDAGInstrs.cpp:1134</a></div></div>
<div class="ttc" id="AliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a055858b14215864ed367a8db6c19d6f6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">llvm::TargetRegisterInfo::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00280">TargetRegisterInfo.h:280</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_adac1aac8509b299918a6cae29ead3cdb"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#adac1aac8509b299918a6cae29ead3cdb">llvm::MachineRegisterInfo::hasOneDef</a></div><div class="ttdeci">bool hasOneDef(unsigned RegNo) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00248">MachineRegisterInfo.h:248</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a418bc6d3f660325fa6d5b9fb269add62"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a418bc6d3f660325fa6d5b9fb269add62">llvm::ScheduleDAG::TRI</a></div><div class="ttdeci">const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00542">ScheduleDAG.h:542</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html"><div class="ttname"><a href="classllvm_1_1SparseSet.html">llvm::SparseSet&lt; RootData &gt;</a></div></div>
<div class="ttc" id="structllvm_1_1ILPValue_html_aa78b4c1ff8edb5bdcd246e1d3d4be66c"><div class="ttname"><a href="structllvm_1_1ILPValue.html#aa78b4c1ff8edb5bdcd246e1d3d4be66c">llvm::ILPValue::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS) const </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01321">ScheduleDAGInstrs.cpp:1321</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a57bf9ee7219097ff0f98da23a3b3b782"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a57bf9ee7219097ff0f98da23a3b3b782">llvm::MachineOperand::isUse</a></div><div class="ttdeci">bool isUse() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00269">MachineOperand.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_af521754c270d66c0596d082a7eb6766d"><div class="ttname"><a href="classllvm_1_1SparseSet.html#af521754c270d66c0596d082a7eb6766d">llvm::SparseSet::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Key)</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00222">SparseSet.h:222</a></div></div>
<div class="ttc" id="TargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_af0b2bf4940e563082d1d2bf8a9e5521f"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#af0b2bf4940e563082d1d2bf8a9e5521f">llvm::ScheduleDAGInstrs::Uses</a></div><div class="ttdeci">Reg2SUnitsMap Uses</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00130">ScheduleDAGInstrs.h:130</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_ac4de5f228c299d7c4b7de72a4a6dd28c"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#ac4de5f228c299d7c4b7de72a4a6dd28c">llvm::MachineInstr::isCall</a></div><div class="ttdeci">bool isCall(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00349">MachineInstr.h:349</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a102d0ad36060677286c3aefb812e5512"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a102d0ad36060677286c3aefb812e5512">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00401">SmallVector.h:401</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a2f106e8d8dd41bc78c3bc657bd58dc72"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a2f106e8d8dd41bc78c3bc657bd58dc72">llvm::MachineInstr::findRegisterDefOperandIdx</a></div><div class="ttdeci">int findRegisterDefOperandIdx(unsigned Reg, bool isDead=false, bool Overlap=false, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l01053">MachineInstr.cpp:1053</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a998d6afb19cec8643f12f212ee386313"><div class="ttname"><a href="classllvm_1_1SDep.html#a998d6afb19cec8643f12f212ee386313">llvm::SDep::getKind</a></div><div class="ttdeci">Kind getKind() const </div><div class="ttdoc">getKind - Return an enum value representing the kind of the dependence. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00170">ScheduleDAG.h:170</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a348590624c488b04d0f9e227e6c3960e"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a348590624c488b04d0f9e227e6c3960e">llvm::ScheduleDAG::TII</a></div><div class="ttdeci">const TargetInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00541">ScheduleDAG.h:541</a></div></div>
<div class="ttc" id="namespacellvm_html_a6a02d446812b76c3b271d9e3e3c77b49"><div class="ttname"><a href="namespacellvm.html#a6a02d446812b76c3b271d9e3e3c77b49">llvm::operator&lt;&lt;</a></div><div class="ttdeci">raw_ostream &amp; operator&lt;&lt;(raw_ostream &amp;OS, const APInt &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01688">APInt.h:1688</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a62eff453556ab0541cb285741f7eec8d"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a62eff453556ab0541cb285741f7eec8d">llvm::TargetSchedModel::computeOperandLatency</a></div><div class="ttdeci">unsigned computeOperandLatency(const MachineInstr *DefMI, unsigned DefOperIdx, const MachineInstr *UseMI, unsigned UseOperIdx) const </div><div class="ttdoc">Compute operand latency based on the available machine model. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00155">TargetSchedule.cpp:155</a></div></div>
<div class="ttc" id="classllvm_1_1SparseSet_html_aab146f4c3793a4a99649ce52b3badc15"><div class="ttname"><a href="classllvm_1_1SparseSet.html#aab146f4c3793a4a99649ce52b3badc15">llvm::SparseSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SparseSet_8h_source.html#l00189">SparseSet.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSchedModel_html_a16d6c2f29862a9d10dc7dc4540e9d04f"><div class="ttname"><a href="classllvm_1_1TargetSchedModel.html#a16d6c2f29862a9d10dc7dc4540e9d04f">llvm::TargetSchedModel::computeInstrLatency</a></div><div class="ttdeci">unsigned computeInstrLatency(const MachineInstr *MI, bool UseDefaultDefLatency=true) const </div><div class="ttdoc">Compute the instruction latency based on the available machine model. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSchedule_8cpp_source.html#l00229">TargetSchedule.cpp:229</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_a3f708b119627541f144d703a1d183202"><div class="ttname"><a href="classllvm_1_1SUnit.html#a3f708b119627541f144d703a1d183202">llvm::SUnit::NodeNum</a></div><div class="ttdeci">unsigned NodeNum</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00271">ScheduleDAG.h:271</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_aa610cab7ee61e36a6d1d122fc252c278"><div class="ttname"><a href="classllvm_1_1MapVector.html#aa610cab7ee61e36a6d1d122fc252c278">llvm::MapVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00047">MapVector.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a6c497ec4b863f7d59aa3678740331c8e"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a6c497ec4b863f7d59aa3678740331c8e">llvm::ScheduleDAGInstrs::newSUnit</a></div><div class="ttdeci">SUnit * newSUnit(MachineInstr *MI)</div><div class="ttdoc">newSUnit - Creates a new SUnit and return a ptr to it. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00239">ScheduleDAGInstrs.h:239</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aafb199cf6f6f35679ac670d7630d8b35"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aafb199cf6f6f35679ac670d7630d8b35">llvm::MachineInstr::isCommutable</a></div><div class="ttdeci">bool isCommutable(QueryType Type=IgnoreBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00502">MachineInstr.h:502</a></div></div>
<div class="ttc" id="classllvm_1_1MapVector_html_a0881334358ff6ff7ff8cea5562c7988e"><div class="ttname"><a href="classllvm_1_1MapVector.html#a0881334358ff6ff7ff8cea5562c7988e">llvm::MapVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MapVector_8h_source.html#l00055">MapVector.h:55</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_af92bf49ed4846e026e68c380d74d7b15"><div class="ttname"><a href="classllvm_1_1SUnit.html#af92bf49ed4846e026e68c380d74d7b15">llvm::SUnit::addPred</a></div><div class="ttdeci">bool addPred(const SDep &amp;D, bool Required=true)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8cpp_source.html#l00065">ScheduleDAG.cpp:65</a></div></div>
<div class="ttc" id="classllvm_1_1raw__string__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__string__ostream.html">llvm::raw_string_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00426">raw_ostream.h:426</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_a4fd9ac5cec4eb692a86857029c7ca5fc"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#a4fd9ac5cec4eb692a86857029c7ca5fc">llvm::MachineMemOperand::getOffset</a></div><div class="ttdeci">int64_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00135">MachineMemOperand.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a705a0975de8335b0b6bdbbae165e8f5c"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a705a0975de8335b0b6bdbbae165e8f5c">llvm::ScheduleDAGInstrs::initSUnits</a></div><div class="ttdeci">void initSUnits()</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00672">ScheduleDAGInstrs.cpp:672</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a27b5f5078e00df5e0692ddfa17b9a342"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a27b5f5078e00df5e0692ddfa17b9a342">llvm::ScheduleDAGInstrs::getGraphNodeLabel</a></div><div class="ttdeci">virtual std::string getGraphNodeLabel(const SUnit *SU) const </div><div class="ttdoc">Return a label for a DAG node that points to an instruction. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01008">ScheduleDAGInstrs.cpp:1008</a></div></div>
<div class="ttc" id="classllvm_1_1IntEqClasses_html_a88a3cf0a2e335cf097db1b99fc432ace"><div class="ttname"><a href="classllvm_1_1IntEqClasses.html#a88a3cf0a2e335cf097db1b99fc432ace">llvm::IntEqClasses::getNumClasses</a></div><div class="ttdeci">unsigned getNumClasses() const </div><div class="ttdef"><b>Definition:</b> <a href="IntEqClasses_8h_source.html#l00072">IntEqClasses.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html_aab4a86c51e6b126c9c6ef58dbb574431"><div class="ttname"><a href="classllvm_1_1SUnit.html#aab4a86c51e6b126c9c6ef58dbb574431">llvm::SUnit::Succs</a></div><div class="ttdeci">SmallVector&lt; SDep, 4 &gt; Succs</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00264">ScheduleDAG.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_ab306d0d7e986cc18578a5150c44a9f7a"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ab306d0d7e986cc18578a5150c44a9f7a">llvm::LiveIntervals::getInstructionFromIndex</a></div><div class="ttdeci">MachineInstr * getInstructionFromIndex(SlotIndex index) const </div><div class="ttdoc">Returns the instruction associated with the given index. </div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalAnalysis_8h_source.html#l00195">LiveIntervalAnalysis.h:195</a></div></div>
<div class="ttc" id="MachineFunctionPass_8h_html"><div class="ttname"><a href="MachineFunctionPass_8h.html">MachineFunctionPass.h</a></div></div>
<div class="ttc" id="classllvm_1_1SDep_html_a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1"><div class="ttname"><a href="classllvm_1_1SDep.html#a551060cb0333d9d0cfdacd2576d817b9a8afafe9e6f4c2fb9744242a6b369a0f1">llvm::SDep::Artificial</a></div><div class="ttdoc">Arbitrary strong DAG edge (no real dependence). </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00068">ScheduleDAG.h:68</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="RegisterPressure_8h_html"><div class="ttname"><a href="RegisterPressure_8h.html">RegisterPressure.h</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSResult_html_ad1896b1b6c5eecd41078e6383fd6f207"><div class="ttname"><a href="classllvm_1_1SchedDFSResult.html#ad1896b1b6c5eecd41078e6383fd6f207">llvm::SchedDFSResult::scheduleTree</a></div><div class="ttdeci">void scheduleTree(unsigned SubtreeID)</div><div class="ttdoc">Scheduler callback to update SubtreeConnectLevels when a tree is initially scheduled. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01309">ScheduleDAGInstrs.cpp:1309</a></div></div>
<div class="ttc" id="classllvm_1_1MachineMemOperand_html_ad26bb075cb838935d27e2cd7ddaecd6d"><div class="ttname"><a href="classllvm_1_1MachineMemOperand.html#ad26bb075cb838935d27e2cd7ddaecd6d">llvm::MachineMemOperand::getSize</a></div><div class="ttdeci">uint64_t getSize() const </div><div class="ttdoc">getSize - Return the size in bytes of the memory reference. </div><div class="ttdef"><b>Definition:</b> <a href="MachineMemOperand_8h_source.html#l00138">MachineMemOperand.h:138</a></div></div>
<div class="ttc" id="namespacellvm_html_a7923e3e207de8bc1d0d6a5091316ddde"><div class="ttname"><a href="namespacellvm.html#a7923e3e207de8bc1d0d6a5091316ddde">llvm::prior</a></div><div class="ttdeci">ItTy prior(ItTy it, Dist n)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00167">STLExtras.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="ScheduleDFS_8h_html"><div class="ttname"><a href="ScheduleDFS_8h.html">ScheduleDFS.h</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a25ae020b571d18d34d03097d91ca0f40"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a25ae020b571d18d34d03097d91ca0f40">llvm::ScheduleDAGInstrs::FirstDbgValue</a></div><div class="ttdeci">MachineInstr * FirstDbgValue</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00146">ScheduleDAGInstrs.h:146</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a5b02bcae20902ac8680d6604dbef7342"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a5b02bcae20902ac8680d6604dbef7342">isGlobalMemoryObject</a></div><div class="ttdeci">static bool isGlobalMemoryObject(AliasAnalysis *AA, MachineInstr *MI)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00451">ScheduleDAGInstrs.cpp:451</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a254403f7804208ade3cb68086201cb7a"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a254403f7804208ade3cb68086201cb7a">llvm::ScheduleDAGInstrs::BB</a></div><div class="ttdeci">MachineBasicBlock * BB</div><div class="ttdoc">The block in which to insert instructions. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00102">ScheduleDAGInstrs.h:102</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_a56623897a22446f188d99b1ae7a004ac"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#a56623897a22446f188d99b1ae7a004ac">llvm::SparseMultiSet::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00329">SparseMultiSet.h:329</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a0e4e5eef3cc7c47acbb753b9d3872348"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a0e4e5eef3cc7c47acbb753b9d3872348">llvm::MachineOperand::readsReg</a></div><div class="ttdeci">bool readsReg() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00326">MachineOperand.h:326</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1LiveQueryResult_html_a04fcce5cd33d3ffe16309a908387a982"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a04fcce5cd33d3ffe16309a908387a982">llvm::LiveQueryResult::valueIn</a></div><div class="ttdeci">VNInfo * valueIn() const </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00100">LiveInterval.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00072">MachineLoopInfo.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a1b09f4d9c91e25f7bc2ac60b3b929d11"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a1b09f4d9c91e25f7bc2ac60b3b929d11">llvm::ScheduleDAG::MRI</a></div><div class="ttdeci">MachineRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00544">ScheduleDAG.h:544</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAG_html_a3d5aacd5fc7d6a739ce913974ed1e53d"><div class="ttname"><a href="classllvm_1_1ScheduleDAG.html#a3d5aacd5fc7d6a739ce913974ed1e53d">llvm::ScheduleDAG::SUnits</a></div><div class="ttdeci">std::vector&lt; SUnit &gt; SUnits</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00545">ScheduleDAG.h:545</a></div></div>
<div class="ttc" id="classllvm_1_1SchedDFSImpl_html_affd919da23161b67d177f3bd8c07b012"><div class="ttname"><a href="classllvm_1_1SchedDFSImpl.html#affd919da23161b67d177f3bd8c07b012">llvm::SchedDFSImpl::SchedDFSImpl</a></div><div class="ttdeci">SchedDFSImpl(SchedDFSResult &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l01055">ScheduleDAGInstrs.cpp:1055</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_a7ce9f2b7d76fbd00a43893611bc92880"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#a7ce9f2b7d76fbd00a43893611bc92880">getUnderlyingObjectFromInt</a></div><div class="ttdeci">static const Value * getUnderlyingObjectFromInt(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00065">ScheduleDAGInstrs.cpp:65</a></div></div>
<div class="ttc" id="classllvm_1_1SparseMultiSet_html_ae9320934e3ae489cb0f70d01dd0bd053"><div class="ttname"><a href="classllvm_1_1SparseMultiSet.html#ae9320934e3ae489cb0f70d01dd0bd053">llvm::SparseMultiSet&lt; PhysRegSUOper, llvm::identity&lt; unsigned &gt;, uint16_t &gt;::RangePair</a></div><div class="ttdeci">std::pair&lt; iterator, iterator &gt; RangePair</div><div class="ttdef"><b>Definition:</b> <a href="SparseMultiSet_8h_source.html#l00316">SparseMultiSet.h:316</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_aab2067fbf758f198547cfdd09d3eb1bf"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#aab2067fbf758f198547cfdd09d3eb1bf">llvm::ScheduleDAGInstrs::buildSchedGraph</a></div><div class="ttdeci">void buildSchedGraph(AliasAnalysis *AA, RegPressureTracker *RPTracker=0, PressureDiffs *PDiffs=0)</div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8cpp_source.html#l00696">ScheduleDAGInstrs.cpp:696</a></div></div>
<div class="ttc" id="classllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00040">MachineDominators.h:40</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4eb718a8caedcad900fd7cd937cac"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4eb718a8caedcad900fd7cd937cac">llvm::MachineInstr::isBarrier</a></div><div class="ttdeci">bool isBarrier(QueryType Type=AnyInBundle) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00356">MachineInstr.h:356</a></div></div>
<div class="ttc" id="classllvm_1_1ScheduleDAGInstrs_html_a81f901b06e024f4f2f50e1831c0d4b9e"><div class="ttname"><a href="classllvm_1_1ScheduleDAGInstrs.html#a81f901b06e024f4f2f50e1831c0d4b9e">llvm::ScheduleDAGInstrs::LIS</a></div><div class="ttdeci">LiveIntervals * LIS</div><div class="ttdoc">Live Intervals provides reaching defs in preRA scheduling. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAGInstrs_8h_source.html#l00083">ScheduleDAGInstrs.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1SUnit_html"><div class="ttname"><a href="classllvm_1_1SUnit.html">llvm::SUnit</a></div><div class="ttdoc">SUnit - Scheduling unit. This is a node in the scheduling DAG. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduleDAG_8h_source.html#l00249">ScheduleDAG.h:249</a></div></div>
<div class="ttc" id="ScheduleDAGInstrs_8cpp_html_acd3df9e57cc853b9fdd024a54612e129"><div class="ttname"><a href="ScheduleDAGInstrs_8cpp.html#acd3df9e57cc853b9fdd024a54612e129">EnableAASchedMI</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableAASchedMI(&quot;enable-aa-sched-mi&quot;, cl::Hidden, cl::ZeroOrMore, cl::init(false), cl::desc(&quot;Enable use of AA during MI GAD construction&quot;))</div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html_a3721bce67edc8213e2856f4ba18b8788"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a3721bce67edc8213e2856f4ba18b8788">llvm::TargetSubtargetInfo::useAA</a></div><div class="ttdeci">virtual bool useAA() const </div><div class="ttdoc">Enable use of alias analysis during code generation (during MI scheduling, DAGCombine, etc.). </div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8cpp_source.html#l00054">TargetSubtargetInfo.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_abb87c1c9d9046e29211e9875e27ceef9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#abb87c1c9d9046e29211e9875e27ceef9">llvm::MachineInstr::memoperands_begin</a></div><div class="ttdeci">mmo_iterator memoperands_begin() const </div><div class="ttdoc">Access to memory operands of the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00291">MachineInstr.h:291</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:01:37 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
