<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: DataFlowSanitizer.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('DataFlowSanitizer_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataFlowSanitizer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DataFlowSanitizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- DataFlowSanitizer.cpp - dynamic data flow analysis ----------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This file is a part of DataFlowSanitizer, a generalised dynamic data flow</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// analysis.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/// Unlike other Sanitizer tools, this tool is not designed to detect a specific</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/// class of bugs on its own.  Instead, it provides a generic dynamic data flow</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/// analysis framework to be used by clients to help detect application-specific</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// issues within their own code.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// The analysis is based on automatic propagation of data flow labels (also</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/// known as taint labels) through a program as it performs computation.  Each</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/// byte of application memory is backed by two bytes of shadow memory which</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/// hold the label.  On Linux/x86_64, memory is laid out as follows:</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/// +--------------------+ 0x800000000000 (top of memory)</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/// | application memory |</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/// +--------------------+ 0x700000008000 (kAppAddr)</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// |                    |</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/// |       unused       |</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// |                    |</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// +--------------------+ 0x200200000000 (kUnusedAddr)</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// |    union table     |</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// +--------------------+ 0x200000000000 (kUnionTableAddr)</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// |   shadow memory    |</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// +--------------------+ 0x000000010000 (kShadowAddr)</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// | reserved by kernel |</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// +--------------------+ 0x000000000000</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// To derive a shadow memory address from an application memory address,</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// bits 44-46 are cleared to bring the address into the range</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// [0x000000008000,0x100000000000).  Then the address is shifted left by 1 to</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// account for the double byte representation of shadow labels and move the</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// address into the shadow memory range.  See the function</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/// DataFlowSanitizer::getShadowAddress below.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// For more information, please refer to the design document:</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// http://clang.llvm.org/docs/DataFlowSanitizerDesign.html</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instrumentation_8h.html">llvm/Transforms/Instrumentation.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineAsm_8h.html">llvm/IR/InlineAsm.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LLVMContext_8h.html">llvm/IR/LLVMContext.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MDBuilder_8h.html">llvm/IR/MDBuilder.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstVisitor_8h.html">llvm/InstVisitor.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SpecialCaseList_8h.html">llvm/Transforms/Utils/SpecialCaseList.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// The -dfsan-preserve-alignment flag controls whether this pass assumes that</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// alignment requirements provided by the input IR are correct.  For example,</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// if the input IR contains a load with alignment 8, this flag will cause</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// the shadow load to have alignment 16.  This flag is disabled by default as</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// we have unfortunately encountered too much code (including Clang itself;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// see PR14291) which performs misaligned access.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a>(</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="stringliteral">&quot;dfsan-preserve-alignment&quot;</span>,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;respect alignment requirements provided by input IR&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// The ABI list file controls how shadow parameters are passed.  The pass treats</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// every function labelled &quot;uninstrumented&quot; in the ABI list file as conforming</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// to the &quot;native&quot; (i.e. unsanitized) ABI.  Unless the ABI list contains</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// additional annotations for those functions, a call to one of those functions</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// will produce a warning message, as the labelling behaviour of the function is</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// unknown.  The other supported annotations are &quot;functional&quot; and &quot;discard&quot;,</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">// which are described below under DataFlowSanitizer::WrapperKind.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#aa8df17cc0e370f1db035456256c76435">ClABIListFile</a>(</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="stringliteral">&quot;dfsan-abilist&quot;</span>,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;File listing native ABI functions and how the pass treats them&quot;</span>),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// Controls whether the pass uses IA_Args or IA_TLS as the ABI for instrumented</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// functions (see DataFlowSanitizer::InstrumentedABI below).</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a6b075455765cf64ea761513c382e3a19">ClArgsABI</a>(</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="stringliteral">&quot;dfsan-args-abi&quot;</span>,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use the argument ABI rather than the TLS ABI&quot;</span>),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="DataFlowSanitizer_8cpp.html#a22cc97831cd6888d20a728cfcabb38da">ClDebugNonzeroLabels</a>(</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="stringliteral">&quot;dfsan-debug-nonzero-labels&quot;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Insert calls to __dfsan_nonzero_label on observing a parameter, &quot;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;             <span class="stringliteral">&quot;load or return with a nonzero label&quot;</span>),</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">class </span>DataFlowSanitizer : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">friend</span> <span class="keyword">struct </span>DFSanFunction;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span>DFSanVisitor;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    ShadowWidth = 16</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  };</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">  /// Which ABI should be used for instrumented functions?</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span>  <span class="keyword">enum</span> InstrumentedABI {<span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">    /// Argument and return value labels are passed through additional</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">    /// arguments and by modifying the return type.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span>    IA_Args,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">    /// Argument and return value labels are passed through TLS variables</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    /// __dfsan_arg_tls and __dfsan_retval_tls.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span>    IA_TLS</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  };</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  /// How should calls to uninstrumented functions be handled?</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span>  <span class="keyword">enum</span> WrapperKind {<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">    /// This function is present in an uninstrumented form but we don&#39;t know</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">    /// how it should be handled.  Print a warning and call the function anyway.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">    /// Don&#39;t label the return value.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span>    WK_Warning,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">    /// This function does not write to (user-accessible) memory, and its return</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    /// value is unlabelled.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span>    WK_Discard,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">    /// This function does not write to (user-accessible) memory, and the label</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">    /// of its return value is the union of the label of its arguments.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span>    WK_Functional,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    /// Instead of calling the function, a custom wrapper __dfsw_F is called,</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">    /// where F is the name of the function.  This function may wrap the</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    /// original function or provide its own implementation.  This is similar to</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    /// the IA_Args ABI, except that IA_Args uses a struct return type to</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">    /// pass the return value shadow in a register, while WK_Custom uses an</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    /// extra pointer argument to return the shadow.  This allows the wrapped</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    /// form of the function type to be expressed in C.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span>    WK_Custom</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  };</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *DL;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *Mod;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *Ctx;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ShadowTy;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *ShadowPtrTy;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *IntptrTy;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ZeroShadow;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ShadowPtrMask;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ShadowPtrMul;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ArgTLS;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RetvalTLS;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">void</span> *(*GetArgTLSPtr)();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">void</span> *(*GetRetvalTLSPtr)();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *GetArgTLS;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *GetRetvalTLS;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanUnionFnTy;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanUnionLoadFnTy;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanUnimplementedFnTy;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanSetLabelFnTy;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DFSanNonzeroLabelFnTy;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DFSanUnionFn;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DFSanUnionLoadFn;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DFSanUnimplementedFn;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DFSanSetLabelFn;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *DFSanNonzeroLabelFn;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ColdCallWeights;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">OwningPtr&lt;SpecialCaseList&gt;</a> ABIList;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Function *&gt;</a> UnwrappedFnMap;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classllvm_1_1AttributeSet.html">AttributeSet</a> ReadOnlyNoneAttrs;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *Addr, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineShadows(<a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">bool</span> isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">bool</span> isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *getArgsFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *getTrampolineFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *getCustomFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  InstrumentedABI getInstrumentedABI();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  WrapperKind getWrapperKind(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordtype">void</span> addGlobalNamePrefix(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *buildWrapperFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewFName,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                 <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewFLink,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                 <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getOrBuildTrampolineFunction(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FName);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  DataFlowSanitizer(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ABIListFile = <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="keywordtype">void</span> *(*getArgTLS)() = 0, <span class="keywordtype">void</span> *(*getRetValTLS)() = 0);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">bool</span> doInitialization(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;};</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">struct </span>DFSanFunction {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  DataFlowSanitizer &amp;DFS;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  DataFlowSanitizer::InstrumentedABI IA;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">bool</span> IsNativeABI;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgTLSPtr;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *RetvalTLSPtr;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *LabelReturnAlloca;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Value *&gt;</a> ValShadowMap;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;AllocaInst *, AllocaInst *&gt;</a> AllocaShadowMap;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  std::vector&lt;std::pair&lt;PHINode *, PHINode *&gt; &gt; PHIFixups;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Instruction *&gt;</a> SkipInsts;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value *&gt;</a> NonZeroChecks;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  DFSanFunction(DataFlowSanitizer &amp;DFS, <a class="code" href="classllvm_1_1Function.html">Function</a> *F, <span class="keywordtype">bool</span> IsNativeABI)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      : DFS(DFS), F(F), IA(DFS.getInstrumentedABI()),</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        IsNativeABI(IsNativeABI), ArgTLSPtr(0), RetvalTLSPtr(0),</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        LabelReturnAlloca(0) {}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getArgTLSPtr();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getArgTLS(<span class="keywordtype">unsigned</span> Index, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getRetvalTLS();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *getShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">void</span> setShadow(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *combineOperandShadows(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *loadShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr, uint64_t Size, uint64_t <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">void</span> storeShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Addr, uint64_t Size, uint64_t <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow,</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                   <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;};</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keyword">class </span>DFSanVisitor : <span class="keyword">public</span> <a class="code" href="classllvm_1_1InstVisitor.html">InstVisitor</a>&lt;DFSanVisitor&gt; {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  DFSanFunction &amp;DFSF;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  DFSanVisitor(DFSanFunction &amp;DFSF) : DFSF(DFSF) {}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordtype">void</span> visitOperandShadowInst(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">void</span> visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;BO);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordtype">void</span> visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;CI);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordtype">void</span> visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;CI);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordtype">void</span> visitGetElementPtrInst(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEPI);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordtype">void</span> visitLoadInst(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;LI);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">void</span> visitStoreInst(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;SI);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordtype">void</span> visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">void</span> visitCallSite(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">void</span> visitPHINode(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordtype">void</span> visitExtractElementInst(<a class="code" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordtype">void</span> visitInsertElementInst(<a class="code" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">void</span> visitShuffleVectorInst(<a class="code" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">void</span> visitExtractValueInst(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">void</span> visitInsertValueInst(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordtype">void</span> visitAllocaInst(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordtype">void</span> visitSelectInst(<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">void</span> visitMemSetInst(<a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordtype">void</span> visitMemTransferInst(<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;};</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">DataFlowSanitizer::ID</a>;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="DataFlowSanitizer_8cpp.html#a73f5adf826cf3d2cbe61b3c2bc42f410">  264</a></span>&#160;<a class="code" href="DataFlowSanitizer_8cpp.html#a73f5adf826cf3d2cbe61b3c2bc42f410">INITIALIZE_PASS</a>(DataFlowSanitizer, <span class="stringliteral">&quot;dfsan&quot;</span>,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="stringliteral">&quot;DataFlowSanitizer: dynamic data flow analysis.&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a9a5430988e9fd8f814ccf7321a00587a">createDataFlowSanitizerPass</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ABIListFile,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                              <span class="keywordtype">void</span> *(*getArgTLS)(),</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                              <span class="keywordtype">void</span> *(*getRetValTLS)()) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> DataFlowSanitizer(ABIListFile, getArgTLS, getRetValTLS);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;DataFlowSanitizer::DataFlowSanitizer(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ABIListFile,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                     <span class="keywordtype">void</span> *(*getArgTLS)(),</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                     <span class="keywordtype">void</span> *(*getRetValTLS)())</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>), GetArgTLSPtr(getArgTLS), GetRetvalTLSPtr(getRetValTLS),</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      ABIList(<a class="code" href="classllvm_1_1SpecialCaseList.html#a764fef55eb958b69088c065dc47e31cc">SpecialCaseList::createOrDie</a>(ABIListFile.<a class="code" href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">empty</a>() ? <a class="code" href="DataFlowSanitizer_8cpp.html#aa8df17cc0e370f1db035456256c76435">ClABIListFile</a></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                                               : ABIListFile)) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DataFlowSanitizer::getArgsFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *<a class="code" href="classT.html">T</a>) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Type *, 4&gt;</a> ArgTypes;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  std::copy(T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ae80a20e450d3c835ba9d2422b7ff5d24">param_begin</a>(), T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#afd679fbb50dac6b114f8df0e0f2876f3">param_end</a>(), std::back_inserter(ArgTypes));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    ArgTypes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ShadowTy);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>())</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    ArgTypes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ShadowPtrTy);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetType = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (!RetType-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    RetType = <a class="code" href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">StructType::get</a>(RetType, ShadowTy, (<a class="code" href="classllvm_1_1Type.html">Type</a> *)0);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(RetType, ArgTypes, T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>());</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DataFlowSanitizer::getTrampolineFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *T) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  assert(!T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Type *, 4&gt;</a> ArgTypes;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  ArgTypes.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(T-&gt;<a class="code" href="classllvm_1_1Type.html#ab6cc070c37c59589af100aab6f48ef4f">getPointerTo</a>());</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  std::copy(T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ae80a20e450d3c835ba9d2422b7ff5d24">param_begin</a>(), T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#afd679fbb50dac6b114f8df0e0f2876f3">param_end</a>(), std::back_inserter(ArgTypes));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    ArgTypes.push_back(ShadowTy);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetType = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!RetType-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    ArgTypes.push_back(ShadowPtrTy);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>(), ArgTypes, <span class="keyword">false</span>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *DataFlowSanitizer::getCustomFunctionType(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *T) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  assert(!T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>());</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;Type *, 4&gt;</a> ArgTypes;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1FunctionType.html#a14655c4dda465a4fad99d085d01ce5f9">FunctionType::param_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ae80a20e450d3c835ba9d2422b7ff5d24">param_begin</a>(), e = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#afd679fbb50dac6b114f8df0e0f2876f3">param_end</a>();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PointerType&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; (FT = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a>&gt;(cast&lt;PointerType&gt;(</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                     *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;getElementType()))) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      ArgTypes.push_back(getTrampolineFunctionType(FT)-&gt;getPointerTo());</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      ArgTypes.push_back(<a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      ArgTypes.push_back(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    ArgTypes.push_back(ShadowTy);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RetType = T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (!RetType-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    ArgTypes.push_back(ShadowPtrTy);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(T-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>(), ArgTypes, <span class="keyword">false</span>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::doInitialization(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  DL = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> (!DL)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  Mod = &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  Ctx = &amp;M.<a class="code" href="classllvm_1_1Module.html#a0e74af4b7c739f3a14e737c3042b6617">getContext</a>();</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  ShadowTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*Ctx, ShadowWidth);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  ShadowPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(ShadowTy);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  IntptrTy = DL-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(*Ctx);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  ZeroShadow = <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(ShadowTy, 0);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  ShadowPtrMask = <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(IntptrTy, ~0x700000000000LL);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  ShadowPtrMul = <a class="code" href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">ConstantInt::getSigned</a>(IntptrTy, ShadowWidth / 8);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanUnionArgs[2] = { ShadowTy, ShadowTy };</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  DFSanUnionFnTy =</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(ShadowTy, DFSanUnionArgs, <span class="comment">/*isVarArg=*/</span> <span class="keyword">false</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanUnionLoadArgs[2] = { ShadowPtrTy, IntptrTy };</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  DFSanUnionLoadFnTy =</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(ShadowTy, DFSanUnionLoadArgs, <span class="comment">/*isVarArg=*/</span> <span class="keyword">false</span>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  DFSanUnimplementedFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx), <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *DFSanSetLabelArgs[3] = { ShadowTy, <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*Ctx), IntptrTy };</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  DFSanSetLabelFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx),</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                        DFSanSetLabelArgs, <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  DFSanNonzeroLabelFnTy = <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">Type::getVoidTy</a>(*Ctx), <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Type *&gt;</a>(), <span class="comment">/*isVarArg=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (GetArgTLSPtr) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTLSTy = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(ShadowTy, 64);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    ArgTLS = 0;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    GetArgTLS = <a class="code" href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">ConstantExpr::getIntToPtr</a>(</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(IntptrTy, uintptr_t(GetArgTLSPtr)),</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(ArgTLSTy), (<a class="code" href="classllvm_1_1Type.html">Type</a> *)0)));</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (GetRetvalTLSPtr) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    RetvalTLS = 0;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    GetRetvalTLS = <a class="code" href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">ConstantExpr::getIntToPtr</a>(</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(IntptrTy, uintptr_t(GetRetvalTLSPtr)),</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(<a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(ShadowTy), (<a class="code" href="classllvm_1_1Type.html">Type</a> *)0)));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  ColdCallWeights = <a class="code" href="classllvm_1_1MDBuilder.html">MDBuilder</a>(*Ctx).<a class="code" href="classllvm_1_1MDBuilder.html#ae1af5fc6c4f28376d13aad54edaa0ede">createBranchWeights</a>(1, 1000);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> !ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(*F, <span class="stringliteral">&quot;uninstrumented&quot;</span>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::isInstrumented(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> !ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(*GA, <span class="stringliteral">&quot;uninstrumented&quot;</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;DataFlowSanitizer::InstrumentedABI DataFlowSanitizer::getInstrumentedABI() {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="DataFlowSanitizer_8cpp.html#a6b075455765cf64ea761513c382e3a19">ClArgsABI</a> ? IA_Args : IA_TLS;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;DataFlowSanitizer::WrapperKind DataFlowSanitizer::getWrapperKind(<a class="code" href="classllvm_1_1Function.html">Function</a> *F) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(*F, <span class="stringliteral">&quot;functional&quot;</span>))</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> WK_Functional;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(*F, <span class="stringliteral">&quot;discard&quot;</span>))</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> WK_Discard;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(*F, <span class="stringliteral">&quot;custom&quot;</span>))</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">return</span> WK_Custom;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">return</span> WK_Warning;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="keywordtype">void</span> DataFlowSanitizer::addGlobalNamePrefix(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  std::string GVName = GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), <a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a> = <span class="stringliteral">&quot;dfs$&quot;</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  GV-&gt;<a class="code" href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">setName</a>(<a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a> + GVName);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Try to change the name of the function in module inline asm.  We only do</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// this for specific asm directives, currently only &quot;.symver&quot;, to try to avoid</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// corrupting asm which happens to contain the symbol name as a substring.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// Note that the substitution for .symver assumes that the versioned symbol</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// also has an instrumented name.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  std::string <a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a> = GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">getModuleInlineAsm</a>();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  std::string SearchStr = <span class="stringliteral">&quot;.symver &quot;</span> + GVName + <span class="stringliteral">&quot;,&quot;</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordtype">size_t</span> Pos = Asm.find(SearchStr);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (Pos != std::string::npos) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    Asm.replace(Pos, SearchStr.size(),</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="stringliteral">&quot;.symver &quot;</span> + <a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a> + GVName + <span class="stringliteral">&quot;,&quot;</span> + <a class="code" href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">Prefix</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">setModuleInlineAsm</a>(Asm);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<a class="code" href="classllvm_1_1Function.html">Function</a> *</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;DataFlowSanitizer::buildWrapperFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> *F, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> NewFName,</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                        <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">GlobalValue::LinkageTypes</a> NewFLink,</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                        <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = F-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF = <a class="code" href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">Function::Create</a>(NewFT, NewFLink, NewFName,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                    F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>());</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a05e6f4dd6bc551b79995792404af490b">copyAttributesFrom</a>(F);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      AttributeSet::ReturnIndex,</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <a class="code" href="namespacellvm_1_1AttributeFuncs.html#ac5d9401b2abed804b1c4eb7cd18c60c2">AttributeFuncs::typeIncompatible</a>(NewFT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>(),</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                       AttributeSet::ReturnIndex));</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">BasicBlock::Create</a>(*Ctx, <span class="stringliteral">&quot;entry&quot;</span>, NewF);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  std::vector&lt;Value *&gt; Args;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> ai = NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(); n != 0; ++ai, --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    Args.push_back(&amp;*ai);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = <a class="code" href="classllvm_1_1CallInst.html#a861226dd056dd2438da26760b8e7a9a0">CallInst::Create</a>(F, Args, <span class="stringliteral">&quot;&quot;</span>, BB);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(*Ctx, BB);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(*Ctx, CI, BB);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">return</span> NewF;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *DataFlowSanitizer::getOrBuildTrampolineFunction(<a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                                          <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FName) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTT = getTrampolineFunctionType(FT);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(FName, FTT);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *F = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Function.html">Function</a>&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span> (F &amp;&amp; F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">BasicBlock::Create</a>(*Ctx, <span class="stringliteral">&quot;entry&quot;</span>, F);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    std::vector&lt;Value *&gt; Args;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> AI = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(); ++AI;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != 0; ++AI, --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      Args.push_back(&amp;*AI);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI =</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="classllvm_1_1CallInst.html#a861226dd056dd2438da26760b8e7a9a0">CallInst::Create</a>(&amp;F-&gt;<a class="code" href="classllvm_1_1Function.html#a0a46edcf9b885556850d8ed9c49d9b52">getArgumentList</a>().<a class="code" href="classllvm_1_1iplist.html#abe28c665da93c2c7ba7528987a7b2478">front</a>(), Args, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *RI;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      RI = <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(*Ctx, BB);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      RI = <a class="code" href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">ReturnInst::Create</a>(*Ctx, CI, BB);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    DFSanFunction DFSF(*<span class="keyword">this</span>, F, <span class="comment">/*IsNativeABI=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> ValAI = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(), ShadowAI = AI; ++ValAI;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != 0; ++ValAI, ++ShadowAI, --<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      DFSF.ValShadowMap[ValAI] = ShadowAI;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    DFSanVisitor(DFSF).visitCallInst(*CI);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>())</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keyword">new</span> <a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a>(DFSF.getShadow(RI-&gt;getReturnValue()),</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    &amp;F-&gt;<a class="code" href="classllvm_1_1Function.html#a0a46edcf9b885556850d8ed9c49d9b52">getArgumentList</a>().<a class="code" href="classllvm_1_1iplist.html#a9a134c441d6deccd83474b0a55e001d1">back</a>(), RI);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keywordtype">bool</span> DataFlowSanitizer::runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (!DL)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span> (ABIList-&gt;<a class="code" href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">isIn</a>(M, <span class="stringliteral">&quot;skip&quot;</span>))</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">if</span> (!GetArgTLSPtr) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *ArgTLSTy = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(ShadowTy, 64);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    ArgTLS = Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a1ec20a6f23ced1a328d4b1223fa22d96">getOrInsertGlobal</a>(<span class="stringliteral">&quot;__dfsan_arg_tls&quot;</span>, ArgTLSTy);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = dyn_cast&lt;GlobalVariable&gt;(ArgTLS))</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;setThreadLocalMode(<a class="code" href="classllvm_1_1GlobalVariable.html#a8258421dcc5f4b3beb309a25a4bcb643a49cef61df7187c5d2d1fcb90809557fe">GlobalVariable::InitialExecTLSModel</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">if</span> (!GetRetvalTLSPtr) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    RetvalTLS = Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a1ec20a6f23ced1a328d4b1223fa22d96">getOrInsertGlobal</a>(<span class="stringliteral">&quot;__dfsan_retval_tls&quot;</span>, ShadowTy);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *<a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a> = dyn_cast&lt;GlobalVariable&gt;(RetvalTLS))</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>-&gt;setThreadLocalMode(<a class="code" href="classllvm_1_1GlobalVariable.html#a8258421dcc5f4b3beb309a25a4bcb643a49cef61df7187c5d2d1fcb90809557fe">GlobalVariable::InitialExecTLSModel</a>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  DFSanUnionFn = Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_union&quot;</span>, DFSanUnionFnTy);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *F = dyn_cast&lt;Function&gt;(DFSanUnionFn)) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074">Attribute::ReadNone</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(AttributeSet::ReturnIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(2, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  DFSanUnionLoadFn =</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_union_load&quot;</span>, DFSanUnionLoadFnTy);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *F = dyn_cast&lt;Function&gt;(DFSanUnionLoadFn)) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(AttributeSet::ReturnIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  DFSanUnimplementedFn =</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_unimplemented&quot;</span>, DFSanUnimplementedFnTy);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  DFSanSetLabelFn =</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_set_label&quot;</span>, DFSanSetLabelFnTy);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *F = dyn_cast&lt;Function&gt;(DFSanSetLabelFn)) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    F-&gt;<a class="code" href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">addAttribute</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  DFSanNonzeroLabelFn =</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      Mod-&gt;<a class="code" href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">getOrInsertFunction</a>(<span class="stringliteral">&quot;__dfsan_nonzero_label&quot;</span>, DFSanNonzeroLabelFnTy);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  std::vector&lt;Function *&gt; FnsToInstrument;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet&lt;Function *, 2&gt;</a> FnsWithNativeABI;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = M.<a class="code" href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">begin</a>(), e = M.<a class="code" href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">end</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;isIntrinsic() &amp;&amp;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DFSanUnionFn &amp;&amp;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DFSanUnionLoadFn &amp;&amp;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DFSanUnimplementedFn &amp;&amp;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DFSanSetLabelFn &amp;&amp;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != DFSanNonzeroLabelFn)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      FnsToInstrument.push_back(&amp;*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// Give function aliases prefixes when necessary, and build wrappers where the</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// instrumentedness is inconsistent.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::alias_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = M.<a class="code" href="classllvm_1_1Module.html#a755dbbd47c63c53cda3e93d9d608562a">alias_begin</a>(), e = M.<a class="code" href="classllvm_1_1Module.html#a6d03597beb9097fc781a6c723cff50d6">alias_end</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e;) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = &amp;*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// Don&#39;t stop on weak.  We assume people aren&#39;t playing games with the</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// instrumentedness of overridden weak aliases.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *F = dyn_cast&lt;Function&gt;(</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            GA-&gt;<a class="code" href="classllvm_1_1GlobalAlias.html#aff7fa620e8bc99f9c0b8f1178974bd05">resolveAliasedGlobal</a>(<span class="comment">/*stopOnWeak=*/</span><span class="keyword">false</span>))) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordtype">bool</span> GAInst = isInstrumented(GA), FInst = isInstrumented(F);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">if</span> (GAInst &amp;&amp; FInst) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        addGlobalNamePrefix(GA);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GAInst != FInst) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// Non-instrumented alias of an instrumented function, or vice versa.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="comment">// Replace the alias with a native-ABI wrapper of the aliasee.  The pass</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment">// below will take care of instrumenting it.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF =</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            buildWrapperFunction(F, <span class="stringliteral">&quot;&quot;</span>, GA-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), F-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>());</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        GA-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(NewF);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(GA);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        GA-&gt;<a class="code" href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">eraseFromParent</a>();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        FnsToInstrument.push_back(NewF);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <a class="code" href="classllvm_1_1AttrBuilder.html">AttrBuilder</a> <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  B.<a class="code" href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72f3f4379fdf9acf18ec492b98d31deb">Attribute::ReadOnly</a>).<a class="code" href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">addAttribute</a>(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074">Attribute::ReadNone</a>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  ReadOnlyNoneAttrs = AttributeSet::get(*Ctx, AttributeSet::FunctionIndex, B);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// First, change the ABI of every function in the module.  ABI-listed</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// functions keep their original ABI and get a wrapper function.</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;Function *&gt;::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = FnsToInstrument.begin(),</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                         e = FnsToInstrument.end();</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;F = **<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = F.<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordtype">bool</span> IsZeroArgsVoidRet = (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() == 0 &amp;&amp; !FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>() &amp;&amp;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                              FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>());</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (isInstrumented(&amp;F)) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="comment">// Instrumented functions get a &#39;dfs$&#39; prefix.  This allows us to more</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="comment">// easily identify cases of mismatching ABIs.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">if</span> (getInstrumentedABI() == IA_Args &amp;&amp; !IsZeroArgsVoidRet) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT = getArgsFunctionType(FT);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF = <a class="code" href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">Function::Create</a>(NewFT, F.<a class="code" href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">getLinkage</a>(), <span class="stringliteral">&quot;&quot;</span>, &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a05e6f4dd6bc551b79995792404af490b">copyAttributesFrom</a>(&amp;F);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            AttributeSet::ReturnIndex,</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="namespacellvm_1_1AttributeFuncs.html#ac5d9401b2abed804b1c4eb7cd18c60c2">AttributeFuncs::typeIncompatible</a>(NewFT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>(),</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                             AttributeSet::ReturnIndex));</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> FArg = F.<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(),</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                    NewFArg = NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(),</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                                    FArgEnd = F.<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;             FArg != FArgEnd; ++FArg, ++NewFArg) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          FArg-&gt;replaceAllUsesWith(NewFArg);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), F.<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>());</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html#ac33c7ecbf1c0f1e8bf93403522e6976b">Function::use_iterator</a> ui = F.<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), ue = F.<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;             ui != ue;) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <a class="code" href="classllvm_1_1BlockAddress.html">BlockAddress</a> *BA = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BlockAddress.html">BlockAddress</a>&gt;(ui.getUse().getUser());</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          ++ui;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;          <span class="keywordflow">if</span> (BA) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            BA-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                <a class="code" href="classllvm_1_1BlockAddress.html#af6e2f535824d8f9b4bf1b1a75e5ab57c">BlockAddress::get</a>(NewF, BA-&gt;<a class="code" href="classllvm_1_1BlockAddress.html#a976bfd676bf773eadde49138cfc7dcb5">getBasicBlock</a>()));</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keyword">delete</span> BA;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;          }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        F.<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NewF, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(FT)));</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">takeName</a>(&amp;F);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        F.<a class="code" href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">eraseFromParent</a>();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NewF;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        addGlobalNamePrefix(NewF);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        addGlobalNamePrefix(&amp;F);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;               <span class="comment">// Hopefully, nobody will try to indirectly call a vararg</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;               <span class="comment">// function... yet.</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>()) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      UnwrappedFnMap[&amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>] = &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!IsZeroArgsVoidRet || getWrapperKind(&amp;F) == WK_Custom) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="comment">// Build a wrapper function for F.  The wrapper simply calls F, and is</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="comment">// added to FnsToInstrument so that any instrumentation according to its</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">// WrapperKind is done in the second pass below.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT = getInstrumentedABI() == IA_Args</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                ? getArgsFunctionType(FT)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                : FT;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *NewF = buildWrapperFunction(</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          &amp;F, std::string(<span class="stringliteral">&quot;dfsw$&quot;</span>) + std::string(F.<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()),</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;          <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">GlobalValue::LinkOnceODRLinkage</a>, NewFT);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (getInstrumentedABI() == IA_TLS)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        NewF-&gt;<a class="code" href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">removeAttributes</a>(AttributeSet::FunctionIndex, ReadOnlyNoneAttrs);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *WrappedFnCst =</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;          <a class="code" href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">ConstantExpr::getBitCast</a>(NewF, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(FT));</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      F.<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(WrappedFnCst);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      UnwrappedFnMap[WrappedFnCst] = &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NewF;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">if</span> (!F.<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">// This function is probably defining an interposition of an</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="comment">// uninstrumented function and hence needs to keep the original ABI.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">// But any functions it may call need to use the instrumented ABI, so</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">// we instrument it in a mode which preserves the original ABI.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        FnsWithNativeABI.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(&amp;F);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="comment">// This code needs to rebuild the iterators, as they may be invalidated</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">// by the push_back, taking care that the new range does not include</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// any functions added by this code.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> - FnsToInstrument.begin(),</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;               Count = e - FnsToInstrument.begin();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        FnsToInstrument.push_back(&amp;F);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = FnsToInstrument.begin() + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        e = FnsToInstrument.begin() + Count;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;Function *&gt;::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = FnsToInstrument.begin(),</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                         e = FnsToInstrument.end();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> || (*i)-&gt;isDeclaration())</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="namespacellvm.html#a93b95c8527f4f744ec4ac5d30150f7c5">removeUnreachableBlocks</a>(**<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    DFSanFunction DFSF(*<span class="keyword">this</span>, *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, FnsWithNativeABI.<a class="code" href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">count</a>(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// DFSanVisitor may create new basic blocks, which confuses df_iterator.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// Build a copy of the list before iterating over it.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;BasicBlock *, 4&gt;</a> BBList;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    std::copy(<a class="code" href="namespacellvm.html#afb9c37d2aea316c81a0b2b63c6b480e7">df_begin</a>(&amp;(*i)-&gt;getEntryBlock()), <a class="code" href="namespacellvm.html#a849b445fe6bce862c395ea6b97c1f658">df_end</a>(&amp;(*i)-&gt;getEntryBlock()),</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;              std::back_inserter(BBList));</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classT.html">llvm::SmallVector&lt;BasicBlock *, 4&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = BBList.begin(),</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                                      e = BBList.end();</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = &amp;(*i)-&gt;front();</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">// DFSanVisitor may split the current basic block, changing the current</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">// instruction&#39;s next pointer and moving the next instruction to the</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="comment">// tail block from which we should continue.</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = Inst-&gt;<a class="code" href="classllvm_1_1ilist__node.html#a6ac308903849239f2f308aa180dda61b">getNextNode</a>();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="comment">// DFSanVisitor may delete Inst, so keep track of whether it was a</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="comment">// terminator.</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordtype">bool</span> IsTerminator = isa&lt;TerminatorInst&gt;(Inst);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span> (!DFSF.SkipInsts.count(Inst))</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          DFSanVisitor(DFSF).visit(Inst);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span> (IsTerminator)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        Inst = Next;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">// We will not necessarily be able to compute the shadow for every phi node</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">// until we have visited every block.  Therefore, the code that handles phi</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// nodes adds them to the PHIFixups list so that they can be properly</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// handled here.</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;std::pair&lt;PHINode *, PHINode *&gt; &gt;::iterator</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;             <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = DFSF.PHIFixups.begin(),</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;             e = DFSF.PHIFixups.end();</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a> = 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;first-&gt;getNumIncomingValues(); <a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a> != <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;           ++<a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;second-&gt;setIncomingValue(</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a>, DFSF.getShadow(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;first-&gt;getIncomingValue(<a class="code" href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a>)));</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// -dfsan-debug-nonzero-labels will split the CFG in all kinds of crazy</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// places (i.e. instructions in basic blocks we haven&#39;t even begun visiting</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// yet).  To make our life easier, do this work in a pass after the main</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// instrumentation.</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a22cc97831cd6888d20a728cfcabb38da">ClDebugNonzeroLabels</a>) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value *&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = DFSF.NonZeroChecks.begin(),</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                       e = DFSF.NonZeroChecks.end();</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;           <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          Pos = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getNextNode();</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          Pos = DFSF.F-&gt;getEntryBlock().begin();</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">while</span> (isa&lt;PHINode&gt;(Pos) || isa&lt;AllocaInst&gt;(Pos))</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          Pos = Pos-&gt;<a class="code" href="classllvm_1_1ilist__node.html#a6ac308903849239f2f308aa180dda61b">getNextNode</a>();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NeInst = cast&lt;Instruction&gt;(</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a609c7b4d7eb90f7c4627da58dc00fa42">CreateICmpNE</a>(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, DFSF.DFS.ZeroShadow));</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="namespacellvm.html#aec3efa15a67284b231fe0b5e6886af4e">SplitBlockAndInsertIfThen</a>(</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            NeInst, <span class="comment">/*Unreachable=*/</span> <span class="keyword">false</span>, ColdCallWeights));</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> ThenIRB(BI);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        ThenIRB.CreateCall(DFSF.DFS.DFSanNonzeroLabelFn);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getArgTLSPtr() {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">if</span> (ArgTLSPtr)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span> ArgTLSPtr;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (DFS.ArgTLS)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> ArgTLSPtr = DFS.ArgTLS;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(F-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>().<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>());</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">return</span> ArgTLSPtr = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">CreateCall</a>(DFS.GetArgTLS);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getRetvalTLS() {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (RetvalTLSPtr)</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> RetvalTLSPtr;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">if</span> (DFS.RetvalTLS)</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">return</span> RetvalTLSPtr = DFS.RetvalTLS;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(F-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>().<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>());</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">return</span> RetvalTLSPtr = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">CreateCall</a>(DFS.GetRetvalTLS);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getArgTLS(<span class="keywordtype">unsigned</span> Idx, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a8b133d97e17e4004807a446b184d7bb5">CreateConstGEP2_64</a>(getArgTLSPtr(), 0, Idx);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::getShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;Argument&gt;(V) &amp;&amp; !isa&lt;Instruction&gt;(V))</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroShadow;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;Shadow = ValShadowMap[V];</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">if</span> (!Shadow) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = dyn_cast&lt;Argument&gt;(V)) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">if</span> (IsNativeABI)</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">return</span> DFS.ZeroShadow;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">switch</span> (IA) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">case</span> DataFlowSanitizer::IA_TLS: {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="classllvm_1_1Value.html">Value</a> *ArgTLSPtr = getArgTLSPtr();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ArgTLSPos =</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            DFS.ArgTLS ? &amp;*F-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>().<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>()</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                       : cast&lt;Instruction&gt;(ArgTLSPtr)-&gt;getNextNode();</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(ArgTLSPos);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        Shadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(getArgTLS(<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getArgNo(), ArgTLSPos));</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">case</span> DataFlowSanitizer::IA_Args: {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordtype">unsigned</span> ArgIdx = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>-&gt;getArgNo() + F-&gt;<a class="code" href="classllvm_1_1Function.html#a0a46edcf9b885556850d8ed9c49d9b52">getArgumentList</a>().<a class="code" href="classllvm_1_1iplist.html#a73798807a4f65fdfc95731353191c2a0">size</a>() / 2;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="classllvm_1_1ilist__iterator.html">Function::arg_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = F-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>();</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">while</span> (ArgIdx--)</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        Shadow = <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        assert(Shadow-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == DFS.ShadowTy);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      NonZeroChecks.insert(Shadow);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      Shadow = DFS.ZeroShadow;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">return</span> Shadow;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="keywordtype">void</span> DFSanFunction::setShadow(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  assert(!ValShadowMap.count(I));</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  assert(Shadow-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == DFS.ShadowTy);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  ValShadowMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = Shadow;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::getShadowAddress(<a class="code" href="classllvm_1_1Value.html">Value</a> *Addr, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  assert(Addr != RetvalTLS &amp;&amp; <span class="stringliteral">&quot;Reinstrumenting?&quot;</span>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a11d3f8bbc5a14f60879a87175db6695c">CreateIntToPtr</a>(</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a94c18bf85a5105e0a22fba23b0bedafa">CreateMul</a>(</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">CreateAnd</a>(IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a9299aed1efa0ef459a0f1c7fa11fbe61">CreatePtrToInt</a>(Addr, IntptrTy), ShadowPtrMask),</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;          ShadowPtrMul),</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      ShadowPtrTy);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">// Generates IR to compute the union of the two given shadows, inserting it</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">// before Pos.  Returns the computed union Value.</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DataFlowSanitizer::combineShadows(<a class="code" href="classllvm_1_1Value.html">Value</a> *V1, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>,</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                                         <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordflow">if</span> (V1 == ZeroShadow)</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">V2</a>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">if</span> (V2 == ZeroShadow)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> V1;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">if</span> (V1 == V2)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> V1;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Head = Pos-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Ne = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a609c7b4d7eb90f7c4627da58dc00fa42">CreateICmpNE</a>(V1, V2);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NeInst = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(Ne);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">if</span> (NeInst) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = cast&lt;BranchInst&gt;(<a class="code" href="namespacellvm.html#aec3efa15a67284b231fe0b5e6886af4e">SplitBlockAndInsertIfThen</a>(</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        NeInst, <span class="comment">/*Unreachable=*/</span> <span class="keyword">false</span>, ColdCallWeights));</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> ThenIRB(BI);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *<a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Call</a> = ThenIRB.CreateCall2(DFSanUnionFn, V1, V2);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    Call-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(AttributeSet::ReturnIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    Call-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(1, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    Call-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(2, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Tail = BI-&gt;<a class="code" href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">getSuccessor</a>(0);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Phi = <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(ShadowTy, 2, <span class="stringliteral">&quot;&quot;</span>, Tail-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>());</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(Call, Call-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>());</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    Phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(V1, Head);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    Pos = Phi;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">return</span> Phi;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    assert(0 &amp;&amp; <span class="stringliteral">&quot;todo&quot;</span>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">// A convenience function which folds the shadows of each of the operands</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">// of the provided instruction Inst, inserting the IR before Inst.  Returns</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">// the computed union Value.</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::combineOperandShadows(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordflow">if</span> (Inst-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>() == 0)</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroShadow;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow = getShadow(Inst-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0));</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = Inst-&gt;<a class="code" href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">getNumOperands</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    Shadow = DFS.combineShadows(Shadow, getShadow(Inst-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)), Inst);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  }</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">return</span> Shadow;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitOperandShadowInst(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;I) {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedShadow = DFSF.combineOperandShadows(&amp;I);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  DFSF.setShadow(&amp;I, CombinedShadow);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">// Generates IR to load shadow corresponding to bytes [Addr, Addr+Size), where</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">// Addr has alignment Align, and take the union of each of those shadows.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *DFSanFunction::loadShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Addr, uint64_t Size, uint64_t <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>,</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                                 <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(Addr)) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">llvm::DenseMap&lt;AllocaInst *, AllocaInst *&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> =</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        AllocaShadowMap.find(AI);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (i != AllocaShadowMap.end()) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(i-&gt;second);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  uint64_t ShadowAlign = Align * DFS.ShadowWidth / 8;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 2&gt;</a> Objs;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">GetUnderlyingObjects</a>(Addr, Objs, DFS.DL);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordtype">bool</span> AllConstants = <span class="keyword">true</span>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 2&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), e = Objs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Function&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) || isa&lt;BlockAddress&gt;(*i))</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (isa&lt;GlobalVariable&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp;&amp; cast&lt;GlobalVariable&gt;(*i)-&gt;isConstant())</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    AllConstants = <span class="keyword">false</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">if</span> (AllConstants)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroShadow;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr = DFS.getShadowAddress(Addr, Pos);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">switch</span> (Size) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">return</span> DFS.ZeroShadow;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">case</span> 1: {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(ShadowAddr, <span class="stringliteral">&quot;&quot;</span>, Pos);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    LI-&gt;<a class="code" href="classllvm_1_1LoadInst.html#a218ef27c964707a907f12db0f9b002ba">setAlignment</a>(ShadowAlign);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">return</span> LI;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">case</span> 2: {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr1 =</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(ShadowAddr, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(DFS.IntptrTy, 1));</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">return</span> DFS.combineShadows(IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a6afa862daad32dd85807c27ce804b139">CreateAlignedLoad</a>(ShadowAddr, ShadowAlign),</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                              IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a6afa862daad32dd85807c27ce804b139">CreateAlignedLoad</a>(ShadowAddr1, ShadowAlign),</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                              Pos);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">if</span> (Size % (64 / DFS.ShadowWidth) == 0) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">// Fast path for the common case where each byte has identical shadow: load</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">// shadow 64 bits at a time, fall out to a __dfsan_union_load call if any</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// shadow is non-equal.</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FallbackBB = <a class="code" href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">BasicBlock::Create</a>(*DFS.Ctx, <span class="stringliteral">&quot;&quot;</span>, F);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> FallbackIRB(FallbackBB);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *FallbackCall = FallbackIRB.<a class="code" href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        DFS.DFSanUnionLoadFn, ShadowAddr, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(DFS.IntptrTy, Size));</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    FallbackCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(AttributeSet::ReturnIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// Compare each of the shadows stored in the loaded 64 bits to each other,</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// by computing (WideShadow rotl ShadowWidth) == WideShadow.</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *WideAddr =</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(ShadowAddr, <a class="code" href="classllvm_1_1Type.html#a9739fda41ce7be4d43bb5b45bbd0e460">Type::getInt64PtrTy</a>(*DFS.Ctx));</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *WideShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a6afa862daad32dd85807c27ce804b139">CreateAlignedLoad</a>(WideAddr, ShadowAlign);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *TruncShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">CreateTrunc</a>(WideShadow, DFS.ShadowTy);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShlShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a4d49fd9a4cc4f2a74d4555bd08b13910">CreateShl</a>(WideShadow, DFS.ShadowWidth);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShrShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a3f8c45ea10c393433221a508b750dcd5">CreateLShr</a>(WideShadow, 64 - DFS.ShadowWidth);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *RotShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">CreateOr</a>(ShlShadow, ShrShadow);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowsEq = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a9a80bae197dc1294e3a0dbfd920b97b0">CreateICmpEQ</a>(WideShadow, RotShadow);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Head = Pos-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Tail = Head-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">splitBasicBlock</a>(Pos);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// In the following code LastBr will refer to the previous basic block&#39;s</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">// conditional branch instruction, whose true successor is fixed up to point</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// to the next block during the loop below or to the tail after the final</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="comment">// iteration.</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *LastBr = <a class="code" href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">BranchInst::Create</a>(FallbackBB, FallbackBB, ShadowsEq);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="namespacellvm.html#aa6aa39b86007ee97f50248d2fb1b7220">ReplaceInstWithInst</a>(Head-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>(), LastBr);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span> (uint64_t Ofs = 64 / DFS.ShadowWidth; Ofs != Size;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;         Ofs += 64 / DFS.ShadowWidth) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NextBB = <a class="code" href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">BasicBlock::Create</a>(*DFS.Ctx, <span class="stringliteral">&quot;&quot;</span>, F);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> NextIRB(NextBB);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      WideAddr = NextIRB.<a class="code" href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">CreateGEP</a>(WideAddr, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(DFS.IntptrTy, 1));</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *NextWideShadow = NextIRB.<a class="code" href="classllvm_1_1IRBuilder.html#a6afa862daad32dd85807c27ce804b139">CreateAlignedLoad</a>(WideAddr, ShadowAlign);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      ShadowsEq = NextIRB.<a class="code" href="classllvm_1_1IRBuilder.html#a9a80bae197dc1294e3a0dbfd920b97b0">CreateICmpEQ</a>(WideShadow, NextWideShadow);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      LastBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#adc5e7f9c460c68455e826783d77f9a99">setSuccessor</a>(0, NextBB);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      LastBr = NextIRB.<a class="code" href="classllvm_1_1IRBuilder.html#a75e386c51bb947f44935b3c392a8eb4f">CreateCondBr</a>(ShadowsEq, FallbackBB, FallbackBB);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    LastBr-&gt;<a class="code" href="classllvm_1_1BranchInst.html#adc5e7f9c460c68455e826783d77f9a99">setSuccessor</a>(0, Tail);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    FallbackIRB.<a class="code" href="classllvm_1_1IRBuilder.html#a0c00110a06b1eb96c92f87e4ca28129a">CreateBr</a>(Tail);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *Shadow = <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(DFS.ShadowTy, 2, <span class="stringliteral">&quot;&quot;</span>, &amp;Tail-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a33603355becfb1a050b62aa015c1cc57">front</a>());</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    Shadow-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(FallbackCall, FallbackBB);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    Shadow-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(TruncShadow, LastBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>());</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">return</span> Shadow;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *FallbackCall = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">CreateCall2</a>(</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      DFS.DFSanUnionLoadFn, ShadowAddr, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(DFS.IntptrTy, Size));</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  FallbackCall-&gt;<a class="code" href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">addAttribute</a>(AttributeSet::ReturnIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">Attribute::ZExt</a>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">return</span> FallbackCall;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitLoadInst(<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> &amp;LI) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  uint64_t Size = DFSF.DFS.DL-&gt;getTypeStoreSize(LI.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  uint64_t <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a>) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    Align = LI.<a class="code" href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">getAlignment</a>();</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (Align == 0)</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      Align = DFSF.DFS.DL-&gt;getABITypeAlignment(LI.<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    Align = 1;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;LI);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LoadedShadow =</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      DFSF.loadShadow(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>(), Size, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>, &amp;LI);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *PtrShadow = DFSF.getShadow(LI.<a class="code" href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">getPointerOperand</a>());</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CombinedShadow = DFSF.DFS.combineShadows(LoadedShadow, PtrShadow, &amp;LI);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">if</span> (CombinedShadow != DFSF.DFS.ZeroShadow)</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    DFSF.NonZeroChecks.insert(CombinedShadow);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  DFSF.setShadow(&amp;LI, CombinedShadow);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="keywordtype">void</span> DFSanFunction::storeShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Addr, uint64_t Size, uint64_t Align,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                <a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Pos) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(Addr)) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classllvm_1_1DenseMapIterator.html">llvm::DenseMap&lt;AllocaInst *, AllocaInst *&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> =</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        AllocaShadowMap.find(AI);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (i != AllocaShadowMap.end()) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">CreateStore</a>(Shadow, i-&gt;second);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  uint64_t ShadowAlign = Align * DFS.ShadowWidth / 8;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(Pos);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr = DFS.getShadowAddress(Addr, Pos);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (Shadow == DFS.ZeroShadow) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ShadowTy = <a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(*DFS.Ctx, Size * DFS.ShadowWidth);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ExtZeroShadow = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(ShadowTy, 0);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ExtShadowAddr =</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(ShadowAddr, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(ShadowTy));</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a674095e41573ea310d48ba480dca34a9">CreateAlignedStore</a>(ExtZeroShadow, ExtShadowAddr, ShadowAlign);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> ShadowVecSize = 128 / DFS.ShadowWidth;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  uint64_t Offset = 0;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (Size &gt;= ShadowVecSize) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="classllvm_1_1VectorType.html">VectorType</a> *ShadowVecTy = <a class="code" href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">VectorType::get</a>(DFS.ShadowTy, ShadowVecSize);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowVec = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(ShadowVecTy);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != ShadowVecSize; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      ShadowVec = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a40e48df9196b3c092096138cd9af8465">CreateInsertElement</a>(</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          ShadowVec, Shadow, <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(*DFS.Ctx), <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowVecAddr =</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(ShadowAddr, <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(ShadowVecTy));</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *CurShadowVecAddr = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a9d00127f263561d6f401c59a9f2626ef">CreateConstGEP1_32</a>(ShadowVecAddr, Offset);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a674095e41573ea310d48ba480dca34a9">CreateAlignedStore</a>(ShadowVec, CurShadowVecAddr, ShadowAlign);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      Size -= ShadowVecSize;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      ++Offset;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    } <span class="keywordflow">while</span> (Size &gt;= ShadowVecSize);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    Offset *= ShadowVecSize;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">while</span> (Size &gt; 0) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *CurShadowAddr = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a9d00127f263561d6f401c59a9f2626ef">CreateConstGEP1_32</a>(ShadowAddr, Offset);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a674095e41573ea310d48ba480dca34a9">CreateAlignedStore</a>(Shadow, CurShadowAddr, ShadowAlign);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    --Size;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    ++Offset;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;}</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitStoreInst(<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> &amp;SI) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  uint64_t Size =</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      DFSF.DFS.DL-&gt;getTypeStoreSize(SI.<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  uint64_t <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a>) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    Align = SI.<a class="code" href="classllvm_1_1StoreInst.html#a3084f1dd69d67e1965fd1fe721a69f2e">getAlignment</a>();</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (Align == 0)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      Align = DFSF.DFS.DL-&gt;getABITypeAlignment(SI.<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    Align = 1;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  DFSF.storeShadow(SI.<a class="code" href="classllvm_1_1StoreInst.html#ac03c1c093059ea000216af8dd6f2dbf4">getPointerOperand</a>(), Size, <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a>,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                   DFSF.getShadow(SI.<a class="code" href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">getValueOperand</a>()), &amp;SI);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitBinaryOperator(<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> &amp;BO) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  visitOperandShadowInst(BO);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCastInst(<a class="code" href="classllvm_1_1CastInst.html">CastInst</a> &amp;CI) { visitOperandShadowInst(CI); }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCmpInst(<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> &amp;CI) { visitOperandShadowInst(CI); }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitGetElementPtrInst(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> &amp;GEPI) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  visitOperandShadowInst(GEPI);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitExtractElementInst(<a class="code" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;I) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  visitOperandShadowInst(I);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInsertElementInst(<a class="code" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;I) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  visitOperandShadowInst(I);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitShuffleVectorInst(<a class="code" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;I) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  visitOperandShadowInst(I);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitExtractValueInst(<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> &amp;I) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  visitOperandShadowInst(I);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitInsertValueInst(<a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> &amp;I) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  visitOperandShadowInst(I);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;}</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitAllocaInst(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> &amp;I) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordtype">bool</span> AllLoadsStores = <span class="keyword">true</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html#ac33c7ecbf1c0f1e8bf93403522e6976b">Instruction::use_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = I.<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), e = I.<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;       ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">if</span> (isa&lt;LoadInst&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">if</span> (SI-&gt;<a class="code" href="classllvm_1_1StoreInst.html#ac03c1c093059ea000216af8dd6f2dbf4">getPointerOperand</a>() == &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    AllLoadsStores = <span class="keyword">false</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">if</span> (AllLoadsStores) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;I);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    DFSF.AllocaShadowMap[&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a2877bfb208e8e523e5d0eda3488c9ade">CreateAlloca</a>(DFSF.DFS.ShadowTy);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  DFSF.setShadow(&amp;I, DFSF.DFS.ZeroShadow);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitSelectInst(<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> &amp;I) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CondShadow = DFSF.getShadow(I.<a class="code" href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>());</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TrueShadow = DFSF.getShadow(I.<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>());</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FalseShadow = DFSF.getShadow(I.<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>());</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">if</span> (isa&lt;VectorType&gt;(I.<a class="code" href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    DFSF.setShadow(</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        &amp;I, DFSF.DFS.combineShadows(</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                CondShadow,</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                DFSF.DFS.combineShadows(TrueShadow, FalseShadow, &amp;I), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowSel;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (TrueShadow == FalseShadow) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      ShadowSel = TrueShadow;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      ShadowSel =</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          <a class="code" href="classllvm_1_1SelectInst.html#a8bce457e977f23507c48c9dfd7052990">SelectInst::Create</a>(I.<a class="code" href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>(), TrueShadow, FalseShadow, <span class="stringliteral">&quot;&quot;</span>, &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    DFSF.setShadow(&amp;I, DFSF.DFS.combineShadows(CondShadow, ShadowSel, &amp;I));</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;}</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitMemSetInst(<a class="code" href="classllvm_1_1MemSetInst.html">MemSetInst</a> &amp;I) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;I);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ValShadow = DFSF.getShadow(I.<a class="code" href="classllvm_1_1MemSetInst.html#a357f35c4ac1c01e84d73a4a9e26f6aac">getValue</a>());</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilder.html#aec1340aa456977785b902da5d5203948">CreateCall3</a>(</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      DFSF.DFS.DFSanSetLabelFn, ValShadow,</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#ad8bf46d46e8f14bc23bd30df57cc9a77">getDest</a>(), <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*DFSF.DFS.Ctx)),</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a7cca116ba5ef3fe3dfc9872b1600d11d">CreateZExtOrTrunc</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>(), DFSF.DFS.IntptrTy));</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitMemTransferInst(<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> &amp;I) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;I);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DestShadow = DFSF.DFS.getShadowAddress(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#ad8bf46d46e8f14bc23bd30df57cc9a77">getDest</a>(), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcShadow = DFSF.DFS.getShadowAddress(I.<a class="code" href="classllvm_1_1MemTransferInst.html#a1d23e59237a8e4a61f4af0deb7320104">getSource</a>(), &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *LenShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a94c18bf85a5105e0a22fba23b0bedafa">CreateMul</a>(</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      I.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>(),</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">getLength</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), DFSF.DFS.ShadowWidth / 8));</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AlignShadow;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a>) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    AlignShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a94c18bf85a5105e0a22fba23b0bedafa">CreateMul</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#a5938120897cc6e41505886618fe2748d">getAlignmentCst</a>(),</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#a5938120897cc6e41505886618fe2748d">getAlignmentCst</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">getType</a>(),</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                                 DFSF.DFS.ShadowWidth / 8));</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    AlignShadow = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(I.<a class="code" href="classllvm_1_1MemIntrinsic.html#a5938120897cc6e41505886618fe2748d">getAlignmentCst</a>()-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">getType</a>(),</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                   DFSF.DFS.ShadowWidth / 8);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8Ptr = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*DFSF.DFS.Ctx);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  DestShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(DestShadow, Int8Ptr);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  SrcShadow = IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">CreateBitCast</a>(SrcShadow, Int8Ptr);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a44a0f6fbe0650e62a8f4d5024f9e1ee0">CreateCall5</a>(I.<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>(), DestShadow, SrcShadow, LenShadow,</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                  AlignShadow, I.<a class="code" href="classllvm_1_1MemIntrinsic.html#af47cfc57b66e9e1c275fa3ee6d5ee995">getVolatileCst</a>());</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitReturnInst(<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> &amp;RI) {</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">if</span> (!DFSF.IsNativeABI &amp;&amp; RI.<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>()) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">switch</span> (DFSF.IA) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::IA_TLS: {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = DFSF.getShadow(RI.<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>());</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;RI);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">CreateStore</a>(S, DFSF.getRetvalTLS());</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::IA_Args: {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;RI);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *RT = DFSF.F-&gt;getFunctionType()-&gt;getReturnType();</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *InsVal =</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a8bbeae6f9dd03923c7cf63a6ff9f4036">CreateInsertValue</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(RT), RI.<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>(), 0);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *InsShadow =</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;          IRB.<a class="code" href="classllvm_1_1IRBuilder.html#a8bbeae6f9dd03923c7cf63a6ff9f4036">CreateInsertValue</a>(InsVal, DFSF.getShadow(RI.<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>()), 1);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      RI.<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(0, InsShadow);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitCallSite(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *F = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">if</span> ((F &amp;&amp; F-&gt;<a class="code" href="classllvm_1_1Function.html#a4b37898a6d26b0d5fcee66548f2621d3">isIntrinsic</a>()) || isa&lt;InlineAsm&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>())) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    visitOperandShadowInst(*CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>());</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>());</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;Value *, Function *&gt;::iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> =</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      DFSF.DFS.UnwrappedFnMap.find(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>());</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">if</span> (i != DFSF.DFS.UnwrappedFnMap.end()) {</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *F = i-&gt;second;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">switch</span> (DFSF.DFS.getWrapperKind(F)) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::WK_Warning: {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae8db0b64d91fa18dfcc01a684708c00b">setCalledFunction</a>(F);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      IRB.CreateCall(DFSF.DFS.DFSanUnimplementedFn,</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                     IRB.CreateGlobalStringPtr(F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()));</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      DFSF.setShadow(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), DFSF.DFS.ZeroShadow);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::WK_Discard: {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae8db0b64d91fa18dfcc01a684708c00b">setCalledFunction</a>(F);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      DFSF.setShadow(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), DFSF.DFS.ZeroShadow);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::WK_Functional: {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae8db0b64d91fa18dfcc01a684708c00b">setCalledFunction</a>(F);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      visitOperandShadowInst(*CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>());</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">case</span> DataFlowSanitizer::WK_Custom: {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="comment">// Don&#39;t try to handle invokes of custom functions, it&#39;s too complicated.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="comment">// Instead, invoke the dfsw$ wrapper, which will in turn call the __dfsw_</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="comment">// wrapper.</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = F-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>();</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *CustomFT = DFSF.DFS.getCustomFunctionType(FT);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        std::string CustomFName = <span class="stringliteral">&quot;__dfsw_&quot;</span>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        CustomFName += F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *CustomF =</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            DFSF.DFS.Mod-&gt;getOrInsertFunction(CustomFName, CustomFT);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *CustomFn = dyn_cast&lt;Function&gt;(CustomF)) {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          CustomFn-&gt;copyAttributesFrom(F);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;          <span class="comment">// Custom functions returning non-void will write to the return label.</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            CustomFn-&gt;removeAttributes(AttributeSet::FunctionIndex,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                       DFSF.DFS.ReadOnlyNoneAttrs);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        std::vector&lt;Value *&gt; Args;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">CallSite::arg_iterator</a> i = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>();</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != 0; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *T = (*i)-&gt;getType();</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;          <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *ParamFT;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;          <span class="keywordflow">if</span> (isa&lt;PointerType&gt;(T) &amp;&amp;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;              (ParamFT = dyn_cast&lt;FunctionType&gt;(</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                   cast&lt;PointerType&gt;(T)-&gt;getElementType()))) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            std::string TName = <span class="stringliteral">&quot;dfst&quot;</span>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            TName += <a class="code" href="namespacellvm.html#ae094b310153c30b08dcec1b40459d385">utostr</a>(FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>() - <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            TName += <span class="stringliteral">&quot;$&quot;</span>;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            TName += F-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>();</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <a class="code" href="classllvm_1_1Constant.html">Constant</a> *T = DFSF.DFS.getOrBuildTrampolineFunction(ParamFT, TName);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            Args.push_back(T);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            Args.push_back(</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                IRB.CreateBitCast(*i, <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(*DFSF.DFS.Ctx)));</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            Args.push_back(*i);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        i = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>();</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != 0; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>)</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;          Args.push_back(DFSF.getShadow(*i));</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;          <span class="keywordflow">if</span> (!DFSF.LabelReturnAlloca) {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            DFSF.LabelReturnAlloca =</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(DFSF.DFS.ShadowTy, <span class="stringliteral">&quot;labelreturn&quot;</span>,</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                               DFSF.F-&gt;getEntryBlock().begin());</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;          }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          Args.push_back(DFSF.LabelReturnAlloca);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CustomCI = IRB.CreateCall(CustomF, Args);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        CustomCI-&gt;<a class="code" href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">setCallingConv</a>(CI-&gt;getCallingConv());</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        CustomCI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a179ef4c643fb35a8dc364e4ae63950f9">setAttributes</a>(CI-&gt;getAttributes());</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">if</span> (!FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;          <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LabelLoad = IRB.CreateLoad(DFSF.LabelReturnAlloca);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;          DFSF.setShadow(CustomCI, LabelLoad);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(CustomCI);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        CI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      }</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    }</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FT = cast&lt;FunctionType&gt;(</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a5c09d927a0079ad16e8367271efe9bc2">getPointerElementType</a>());</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">if</span> (DFSF.DFS.getInstrumentedABI() == DataFlowSanitizer::IA_TLS) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); i != <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      IRB.CreateStore(DFSF.getShadow(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a65a550af73bd99c96abea847916aa4e9">getArgument</a>(i)),</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                      DFSF.getArgTLS(i, CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()));</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Next = 0;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (!CS.<a class="code" href="classllvm_1_1CallSiteBase.html#af03f11545fd35af1eb5b37848d5be766">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">isVoidTy</a>()) {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getNormalDest()-&gt;getSinglePredecessor()) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        Next = II-&gt;getNormalDest()-&gt;begin();</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewBB =</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <a class="code" href="namespacellvm.html#a0a7e7f31f3da37dc95109dd1164a30b6">SplitEdge</a>(II-&gt;getParent(), II-&gt;getNormalDest(), &amp;DFSF.DFS);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        Next = NewBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      Next = CS-&gt;getNextNode();</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> (DFSF.DFS.getInstrumentedABI() == DataFlowSanitizer::IA_TLS) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> NextIRB(Next);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = NextIRB.<a class="code" href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">CreateLoad</a>(DFSF.getRetvalTLS());</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      DFSF.SkipInsts.insert(LI);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      DFSF.setShadow(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), LI);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      DFSF.NonZeroChecks.insert(LI);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// Do all instrumentation for IA_Args down here to defer tampering with the</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// CFG in a way that SplitEdge may be able to detect.</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">if</span> (DFSF.DFS.getInstrumentedABI() == DataFlowSanitizer::IA_Args) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *NewFT = DFSF.DFS.getArgsFunctionType(FT);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">Func</a> =</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        IRB.CreateBitCast(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>(), <a class="code" href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">PointerType::getUnqual</a>(NewFT));</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    std::vector&lt;Value *&gt; Args;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">CallSite::arg_iterator</a> i = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), e = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>();</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != 0; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>)</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      Args.push_back(*i);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    i = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>();</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>(); <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != 0; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>)</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      Args.push_back(DFSF.getShadow(*i));</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>()) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordtype">unsigned</span> VarArgSize = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>() - FT-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">getNumParams</a>();</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <a class="code" href="classllvm_1_1ArrayType.html">ArrayType</a> *VarArgArrayTy = <a class="code" href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">ArrayType::get</a>(DFSF.DFS.ShadowTy, VarArgSize);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *VarArgShadow =</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;          <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(VarArgArrayTy, <span class="stringliteral">&quot;&quot;</span>, DFSF.F-&gt;getEntryBlock().begin());</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      Args.push_back(IRB.CreateConstGEP2_32(VarArgShadow, 0, 0));</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        IRB.CreateStore(DFSF.getShadow(*i),</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        IRB.CreateConstGEP2_32(VarArgShadow, 0, <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>));</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        Args.push_back(*i);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      }</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> NewCS;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>())) {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      NewCS = IRB.CreateInvoke(Func, II-&gt;getNormalDest(), II-&gt;getUnwindDest(),</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                               Args);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      NewCS = IRB.CreateCall(Func, Args);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    NewCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae767a25d53d50cf3995a4e0db25c09fa">setCallingConv</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">getCallingConv</a>());</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    NewCS.<a class="code" href="classllvm_1_1CallSiteBase.html#a197c8829ed18e514133a98f8e9d8a574">setAttributes</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a4e7c7828319bc9db0f49c3c6d8f56ac7">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#aed91309f27b7691cdb2fd2430907b1bb">removeAttributes</a>(</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        *DFSF.DFS.Ctx, AttributeSet::ReturnIndex,</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <a class="code" href="namespacellvm_1_1AttributeFuncs.html#ac5d9401b2abed804b1c4eb7cd18c60c2">AttributeFuncs::typeIncompatible</a>(NewCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(),</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                                         AttributeSet::ReturnIndex)));</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">if</span> (Next) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *ExVal =</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          <a class="code" href="classllvm_1_1ExtractValueInst.html#a8e7f8107cfcd8c4f169185e70a3d64ff">ExtractValueInst::Create</a>(NewCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), 0, <span class="stringliteral">&quot;&quot;</span>, Next);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      DFSF.SkipInsts.insert(ExVal);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *ExShadow =</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;          <a class="code" href="classllvm_1_1ExtractValueInst.html#a8e7f8107cfcd8c4f169185e70a3d64ff">ExtractValueInst::Create</a>(NewCS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>(), 1, <span class="stringliteral">&quot;&quot;</span>, Next);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      DFSF.SkipInsts.insert(ExShadow);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      DFSF.setShadow(ExVal, ExShadow);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      DFSF.NonZeroChecks.insert(ExShadow);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(ExVal);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  }</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="keywordtype">void</span> DFSanVisitor::visitPHINode(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> &amp;PN) {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *ShadowPN =</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(DFSF.DFS.ShadowTy, PN.<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(), <span class="stringliteral">&quot;&quot;</span>, &amp;PN);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="comment">// Give the shadow phi node valid predecessors to fool SplitEdge into working.</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *UndefShadow = <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(DFSF.DFS.ShadowTy);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">PHINode::block_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = PN.<a class="code" href="classllvm_1_1PHINode.html#ae4239addea00c3c1528189585d55da6b">block_begin</a>(), e = PN.<a class="code" href="classllvm_1_1PHINode.html#a0c89ce3b0d1e45d5645bb2e3d114eb0b">block_end</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;       ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    ShadowPN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(UndefShadow, *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  }</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  DFSF.PHIFixups.push_back(std::make_pair(&amp;PN, ShadowPN));</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  DFSF.setShadow(&amp;PN, ShadowPN);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;}</div><div class="ttc" id="classllvm_1_1IRBuilder_html_a3f8c45ea10c393433221a508b750dcd5"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a3f8c45ea10c393433221a508b750dcd5">llvm::IRBuilder::CreateLShr</a></div><div class="ttdeci">Value * CreateLShr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00753">IRBuilder.h:753</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_ac46176b523c8a76a9ccdb5683279db94"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#ac46176b523c8a76a9ccdb5683279db94">llvm::IRBuilder::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00931">IRBuilder.h:931</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02279">Instructions.h:2279</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a14298313bdf734e2db5a921cc6e861a0"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a14298313bdf734e2db5a921cc6e861a0">llvm::StoreInst::getValueOperand</a></div><div class="ttdeci">Value * getValueOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00343">Instructions.h:343</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a6917dcd78ac6655e9640ac3a96175e39"><div class="ttname"><a href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">llvm::CallInst::getCalledValue</a></div><div class="ttdeci">const Value * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01363">Instructions.h:1363</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a38ea691c2eeaf3facd74d5cfb0c725b0"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a38ea691c2eeaf3facd74d5cfb0c725b0">llvm::GlobalValue::getLinkage</a></div><div class="ttdeci">LinkageTypes getLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00218">GlobalValue.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a240475f85dea79ec272c578fdf89acf1"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a240475f85dea79ec272c578fdf89acf1">llvm::ConstantInt::getType</a></div><div class="ttdeci">IntegerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00139">Constants.h:139</a></div></div>
<div class="ttc" id="namespacellvm_html_aa6aa39b86007ee97f50248d2fb1b7220"><div class="ttname"><a href="namespacellvm.html#aa6aa39b86007ee97f50248d2fb1b7220">llvm::ReplaceInstWithInst</a></div><div class="ttdeci">void ReplaceInstWithInst(BasicBlock::InstListType &amp;BIL, BasicBlock::iterator &amp;BI, Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00216">BasicBlockUtils.cpp:216</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="namespacellvm_html_a0a7e7f31f3da37dc95109dd1164a30b6"><div class="ttname"><a href="namespacellvm.html#a0a7e7f31f3da37dc95109dd1164a30b6">llvm::SplitEdge</a></div><div class="ttdeci">BasicBlock * SplitEdge(BasicBlock *From, BasicBlock *To, Pass *P)</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00241">BasicBlockUtils.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_af440b535b3b4e8d0d089dd0ed2283a0f"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#af440b535b3b4e8d0d089dd0ed2283a0f">llvm::IRBuilder::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Value *Ptr, const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00879">IRBuilder.h:879</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a089cccb6f231efee72abc76d0f9c695f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">llvm::PHINode::addIncoming</a></div><div class="ttdeci">void addIncoming(Value *V, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02100">Instructions.h:2100</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01740">Instructions.h:1740</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a4e7c7828319bc9db0f49c3c6d8f56ac7"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a4e7c7828319bc9db0f49c3c6d8f56ac7">llvm::CallSiteBase::getAttributes</a></div><div class="ttdeci">const AttributeSet &amp; getAttributes() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00179">CallSite.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="classllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">LLVM Argument representation. </div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00035">Argument.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1InstVisitor_html"><div class="ttname"><a href="classllvm_1_1InstVisitor.html">llvm::InstVisitor</a></div><div class="ttdoc">Base class for instruction visitors. </div><div class="ttdef"><b>Definition:</b> <a href="InstVisitor_8h_source.html#l00081">InstVisitor.h:81</a></div></div>
<div class="ttc" id="namespacellvm_html_ae7484b83e7c2b58ffd67422a919aba40"><div class="ttname"><a href="namespacellvm.html#ae7484b83e7c2b58ffd67422a919aba40">llvm::GetUnderlyingObjects</a></div><div class="ttdeci">void GetUnderlyingObjects(Value *V, SmallVectorImpl&lt; Value * &gt; &amp;Objects, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01928">ValueTracking.cpp:1928</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a97cf043af111c14bb4d03a99cf42af03"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a97cf043af111c14bb4d03a99cf42af03">llvm::FunctionType::getNumParams</a></div><div class="ttdeci">unsigned getNumParams() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00133">DerivedTypes.h:133</a></div></div>
<div class="ttc" id="Type_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_a8bce457e977f23507c48c9dfd7052990"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a8bce457e977f23507c48c9dfd7052990">llvm::SelectInst::Create</a></div><div class="ttdeci">static SelectInst * Create(Value *C, Value *S1, Value *S2, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01455">Instructions.h:1455</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_a5938120897cc6e41505886618fe2748d"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#a5938120897cc6e41505886618fe2748d">llvm::MemIntrinsic::getAlignmentCst</a></div><div class="ttdeci">ConstantInt * getAlignmentCst() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00123">IntrinsicInst.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a13ce8cb4c50c5b3505915467e14ad95a"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">llvm::CallSiteBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00145">CallSite.h:145</a></div></div>
<div class="ttc" id="classllvm_1_1MemSetInst_html_a357f35c4ac1c01e84d73a4a9e26f6aac"><div class="ttname"><a href="classllvm_1_1MemSetInst.html#a357f35c4ac1c01e84d73a4a9e26f6aac">llvm::MemSetInst::getValue</a></div><div class="ttdeci">Value * getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00194">IntrinsicInst.h:194</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00026">DenseSet.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2f81e0c1fc6554df7ad2eafabf5fc5a5"><div class="ttname"><a href="classllvm_1_1User.html#a2f81e0c1fc6554df7ad2eafabf5fc5a5">llvm::User::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00108">User.h:108</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode_html_a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXLdStInstCode.html#a91119cbee2be000c528a690252aee07ca24244a27b634ef3e256ab3c64c6fecd4">llvm::NVPTX::PTXLdStInstCode::V2</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00127">NVPTX.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a14655c4dda465a4fad99d085d01ce5f9"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a14655c4dda465a4fad99d085d01ce5f9">llvm::FunctionType::param_iterator</a></div><div class="ttdeci">Type::subtype_iterator param_iterator</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00123">DerivedTypes.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a4b37898a6d26b0d5fcee66548f2621d3"><div class="ttname"><a href="classllvm_1_1Function.html#a4b37898a6d26b0d5fcee66548f2621d3">llvm::Function::isIntrinsic</a></div><div class="ttdeci">bool isIntrinsic() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00156">Function.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae8db0b64d91fa18dfcc01a684708c00b"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae8db0b64d91fa18dfcc01a684708c00b">llvm::CallSiteBase::setCalledFunction</a></div><div class="ttdeci">void setCalledFunction(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00099">CallSite.h:99</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5"><div class="ttname"><a href="namespacellvm_1_1cl.html#afcbd4ecc474e2d218391d6d3027b086aa7861ef1db44eac8ea7a373cd7c53a7c5">llvm::cl::Prefix</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00131">CommandLine.h:131</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1ShuffleVectorInst_html"><div class="ttname"><a href="classllvm_1_1ShuffleVectorInst.html">llvm::ShuffleVectorInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01660">Instructions.h:1660</a></div></div>
<div class="ttc" id="classllvm_1_1SpecialCaseList_html_a764fef55eb958b69088c065dc47e31cc"><div class="ttname"><a href="classllvm_1_1SpecialCaseList.html#a764fef55eb958b69088c065dc47e31cc">llvm::SpecialCaseList::createOrDie</a></div><div class="ttdeci">static SpecialCaseList * createOrDie(const StringRef Path)</div><div class="ttdef"><b>Definition:</b> <a href="SpecialCaseList_8cpp_source.html#l00074">SpecialCaseList.cpp:74</a></div></div>
<div class="ttc" id="classllvm_1_1MemSetInst_html"><div class="ttname"><a href="classllvm_1_1MemSetInst.html">llvm::MemSetInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00190">IntrinsicInst.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8300ac1ef141b8a7c63c13fa9369d976"><div class="ttname"><a href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">llvm::Function::arg_end</a></div><div class="ttdeci">arg_iterator arg_end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00418">Function.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a33603355becfb1a050b62aa015c1cc57"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a33603355becfb1a050b62aa015c1cc57">llvm::BasicBlock::front</a></div><div class="ttdeci">const Instruction &amp; front() const </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00205">BasicBlock.h:205</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html_a8e7f8107cfcd8c4f169185e70a3d64ff"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html#a8e7f8107cfcd8c4f169185e70a3d64ff">llvm::ExtractValueInst::Create</a></div><div class="ttdeci">static ExtractValueInst * Create(Value *Agg, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01766">Instructions.h:1766</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html_a59d23ba2e7eac46cbc6cd3086e013b49"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html#a59d23ba2e7eac46cbc6cd3086e013b49">llvm::AttrBuilder::addAttribute</a></div><div class="ttdeci">AttrBuilder &amp; addAttribute(Attribute::AttrKind Val)</div><div class="ttdoc">Add an attribute to the builder. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00968">Attributes.cpp:968</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a9a80bae197dc1294e3a0dbfd920b97b0"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a9a80bae197dc1294e3a0dbfd920b97b0">llvm::IRBuilder::CreateICmpEQ</a></div><div class="ttdeci">Value * CreateICmpEQ(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01206">IRBuilder.h:1206</a></div></div>
<div class="ttc" id="classllvm_1_1MDBuilder_html_ae1af5fc6c4f28376d13aad54edaa0ede"><div class="ttname"><a href="classllvm_1_1MDBuilder.html#ae1af5fc6c4f28376d13aad54edaa0ede">llvm::MDBuilder::createBranchWeights</a></div><div class="ttdeci">MDNode * createBranchWeights(uint32_t TrueWeight, uint32_t FalseWeight)</div><div class="ttdoc">Return metadata containing two branch weights. </div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00058">MDBuilder.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a44a0f6fbe0650e62a8f4d5024f9e1ee0"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a44a0f6fbe0650e62a8f4d5024f9e1ee0">llvm::IRBuilder::CreateCall5</a></div><div class="ttdeci">CallInst * CreateCall5(Value *Callee, Value *Arg1, Value *Arg2, Value *Arg3, Value *Arg4, Value *Arg5, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01325">IRBuilder.h:1325</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9739fda41ce7be4d43bb5b45bbd0e460"><div class="ttname"><a href="classllvm_1_1Type.html#a9739fda41ce7be4d43bb5b45bbd0e460">llvm::Type::getInt64PtrTy</a></div><div class="ttdeci">static PointerType * getInt64PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00296">Type.cpp:296</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_af03f11545fd35af1eb5b37848d5be766"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#af03f11545fd35af1eb5b37848d5be766">llvm::CallSiteBase::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00149">CallSite.h:149</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a65a550af73bd99c96abea847916aa4e9"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a65a550af73bd99c96abea847916aa4e9">llvm::CallSiteBase::getArgument</a></div><div class="ttdeci">ValTy * getArgument(unsigned ArgNo) const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00111">CallSite.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5c09d927a0079ad16e8367271efe9bc2"><div class="ttname"><a href="classllvm_1_1Type.html#a5c09d927a0079ad16e8367271efe9bc2">llvm::Type::getPointerElementType</a></div><div class="ttdeci">Type * getPointerElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00373">Type.h:373</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html_a09b07d472515f1d307c0e8229f6856fb"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#a09b07d472515f1d307c0e8229f6856fb">llvm::GlobalAlias::eraseFromParent</a></div><div class="ttdeci">virtual void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00221">Globals.cpp:221</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a40e48df9196b3c092096138cd9af8465"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a40e48df9196b3c092096138cd9af8465">llvm::IRBuilder::CreateInsertElement</a></div><div class="ttdeci">Value * CreateInsertElement(Value *Vec, Value *NewElt, Value *Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01357">IRBuilder.h:1357</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a0c89ce3b0d1e45d5645bb2e3d114eb0b"><div class="ttname"><a href="classllvm_1_1PHINode.html#a0c89ce3b0d1e45d5645bb2e3d114eb0b">llvm::PHINode::block_end</a></div><div class="ttdeci">block_iterator block_end()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02045">Instructions.h:2045</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_acd74b2224788f8d010e47622bb3c2a04"><div class="ttname"><a href="classllvm_1_1CallInst.html#acd74b2224788f8d010e47622bb3c2a04">llvm::CallInst::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01253">Instructions.h:1253</a></div></div>
<div class="ttc" id="DataFlowSanitizer_8cpp_html_aa8df17cc0e370f1db035456256c76435"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#aa8df17cc0e370f1db035456256c76435">ClABIListFile</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClABIListFile(&quot;dfsan-abilist&quot;, cl::desc(&quot;File listing native ABI functions and how the pass treats them&quot;), cl::Hidden)</div></div>
<div class="ttc" id="DataFlowSanitizer_8cpp_html_a6b075455765cf64ea761513c382e3a19"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a6b075455765cf64ea761513c382e3a19">ClArgsABI</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClArgsABI(&quot;dfsan-args-abi&quot;, cl::desc(&quot;Use the argument ABI rather than the TLS ABI&quot;), cl::Hidden)</div></div>
<div class="ttc" id="classllvm_1_1BlockAddress_html"><div class="ttname"><a href="classllvm_1_1BlockAddress.html">llvm::BlockAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00748">Constants.h:748</a></div></div>
<div class="ttc" id="InlineAsm_8h_html"><div class="ttname"><a href="InlineAsm_8h.html">InlineAsm.h</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html"><div class="ttname"><a href="classllvm_1_1AttributeSet.html">llvm::AttributeSet</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00202">Attributes.h:202</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01430">Instructions.h:1430</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdoc">0ffh </div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00027">MCInstPrinter.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html_a7f6ab6ba1947d832a651e3589614a10d"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">llvm::ReturnInst::getReturnValue</a></div><div class="ttdeci">Value * getReturnValue() const </div><div class="ttdoc">Convenience accessor. Returns null if there is no return value. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02318">Instructions.h:2318</a></div></div>
<div class="ttc" id="classllvm_1_1CastInst_html"><div class="ttname"><a href="classllvm_1_1CastInst.html">llvm::CastInst</a></div><div class="ttdoc">Base class of casting instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00387">InstrTypes.h:387</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__node_html_a6ac308903849239f2f308aa180dda61b"><div class="ttname"><a href="classllvm_1_1ilist__node.html#a6ac308903849239f2f308aa180dda61b">llvm::ilist_node::getNextNode</a></div><div class="ttdeci">NodeTy * getNextNode()</div><div class="ttdoc">Get the next node, or 0 for the list tail. </div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00080">ilist_node.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a11d3f8bbc5a14f60879a87175db6695c"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a11d3f8bbc5a14f60879a87175db6695c">llvm::IRBuilder::CreateIntToPtr</a></div><div class="ttdeci">Value * CreateIntToPtr(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01128">IRBuilder.h:1128</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_afd679fbb50dac6b114f8df0e0f2876f3"><div class="ttname"><a href="classllvm_1_1FunctionType.html#afd679fbb50dac6b114f8df0e0f2876f3">llvm::FunctionType::param_end</a></div><div class="ttdeci">param_iterator param_end() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00125">DerivedTypes.h:125</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a75e386c51bb947f44935b3c392a8eb4f"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a75e386c51bb947f44935b3c392a8eb4f">llvm::IRBuilder::CreateCondBr</a></div><div class="ttdeci">BranchInst * CreateCondBr(Value *Cond, BasicBlock *True, BasicBlock *False, MDNode *BranchWeights=0)</div><div class="ttdoc">Create a conditional &amp;#39;br Cond, TrueDest, FalseDest&amp;#39; instruction. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00532">IRBuilder.h:532</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00421">IRBuilder.h:421</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_ae9cbc599309fd2da33ec1c61df01ce1f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">llvm::BranchInst::Create</a></div><div class="ttdeci">static BranchInst * Create(BasicBlock *IfTrue, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02373">Instructions.h:2373</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a168c2c073b44c41dc521120bda0b1047"><div class="ttname"><a href="classllvm_1_1Module.html#a168c2c073b44c41dc521120bda0b1047">llvm::Module::setModuleInlineAsm</a></div><div class="ttdeci">void setModuleInlineAsm(StringRef Asm)</div><div class="ttdoc">Set the module-scope inline assembly blocks. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00269">Module.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a35ee267850af7c235474a8c46c7ac5af"><div class="ttname"><a href="classllvm_1_1Value.html#a35ee267850af7c235474a8c46c7ac5af">llvm::Value::setName</a></div><div class="ttdeci">void setName(const Twine &amp;Name)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00175">Value.cpp:175</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a05e6f4dd6bc551b79995792404af490b"><div class="ttname"><a href="classllvm_1_1Function.html#a05e6f4dd6bc551b79995792404af490b">llvm::Function::copyAttributesFrom</a></div><div class="ttdeci">void copyAttributesFrom(const GlobalValue *Src)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00347">Function.cpp:347</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="namespacellvm_1_1AttributeFuncs_html_ac5d9401b2abed804b1c4eb7cd18c60c2"><div class="ttname"><a href="namespacellvm_1_1AttributeFuncs.html#ac5d9401b2abed804b1c4eb7cd18c60c2">llvm::AttributeFuncs::typeIncompatible</a></div><div class="ttdeci">AttributeSet typeIncompatible(Type *Ty, uint64_t Index)</div><div class="ttdoc">Which attributes cannot be applied to a type. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l01161">Attributes.cpp:1161</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_ae4239addea00c3c1528189585d55da6b"><div class="ttname"><a href="classllvm_1_1PHINode.html#ae4239addea00c3c1528189585d55da6b">llvm::PHINode::block_begin</a></div><div class="ttdeci">block_iterator block_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02033">Instructions.h:2033</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eaa94162b0564176cc56e5688691877074">llvm::Attribute::ReadNone</a></div><div class="ttdoc">Function does not access memory. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00093">Attributes.h:93</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a2877bfb208e8e523e5d0eda3488c9ade"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a2877bfb208e8e523e5d0eda3488c9ade">llvm::IRBuilder::CreateAlloca</a></div><div class="ttdeci">AllocaInst * CreateAlloca(Type *Ty, Value *ArraySize=0, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00873">IRBuilder.h:873</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a197d5dd77cad4560a082900962a830aa"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a197d5dd77cad4560a082900962a830aa">llvm::IRBuilder::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00789">IRBuilder.h:789</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a8f55dd4237be6778517ddd752ca8b76a"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a8f55dd4237be6778517ddd752ca8b76a">llvm::IRBuilder::CreateOr</a></div><div class="ttdeci">Value * CreateOr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00805">IRBuilder.h:805</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a2ced6343b8ad006a757059554bbf9f37"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a2ced6343b8ad006a757059554bbf9f37">llvm::SmallPtrSet::count</a></div><div class="ttdeci">bool count(PtrType Ptr) const </div><div class="ttdoc">count - Return true if the specified pointer is in the set. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00264">SmallPtrSet.h:264</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html"><div class="ttname"><a href="classllvm_1_1ArrayType.html">llvm::ArrayType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00332">DerivedTypes.h:332</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ac651192f7bb4de8e675b000f406d6489"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ac651192f7bb4de8e675b000f406d6489">llvm::CallSiteBase::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00170">CallSite.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_a74e70ecbb79defbbfa6f6c87f76155bf"><div class="ttname"><a href="classllvm_1_1BranchInst.html#a74e70ecbb79defbbfa6f6c87f76155bf">llvm::BranchInst::getSuccessor</a></div><div class="ttdeci">BasicBlock * getSuccessor(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02406">Instructions.h:2406</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00361">Type.cpp:361</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="namespacellvm_html_ae094b310153c30b08dcec1b40459d385"><div class="ttname"><a href="namespacellvm.html#ae094b310153c30b08dcec1b40459d385">llvm::utostr</a></div><div class="ttdeci">static std::string utostr(uint64_t X, bool isNeg=false)</div><div class="ttdef"><b>Definition:</b> <a href="StringExtras_8h_source.html#l00088">StringExtras.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html_aff7fa620e8bc99f9c0b8f1178974bd05"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html#aff7fa620e8bc99f9c0b8f1178974bd05">llvm::GlobalAlias::resolveAliasedGlobal</a></div><div class="ttdeci">GlobalValue * resolveAliasedGlobal(bool stopOnWeak=true)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00247">Globals.cpp:247</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html_a8258421dcc5f4b3beb309a25a4bcb643a49cef61df7187c5d2d1fcb90809557fe"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a8258421dcc5f4b3beb309a25a4bcb643a49cef61df7187c5d2d1fcb90809557fe">llvm::GlobalVariable::InitialExecTLSModel</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00062">GlobalVariable.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a1abce20a9eff3d23ce05331962b1997c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">llvm::CallSiteBase::getCalledValue</a></div><div class="ttdeci">ValTy * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00085">CallSite.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a9d00127f263561d6f401c59a9f2626ef"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a9d00127f263561d6f401c59a9f2626ef">llvm::IRBuilder::CreateConstGEP1_32</a></div><div class="ttdeci">Value * CreateConstGEP1_32(Value *Ptr, unsigned Idx0, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00969">IRBuilder.h:969</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a12df9495b95331ab7ed614624e5268d2"><div class="ttname"><a href="classllvm_1_1Function.html#a12df9495b95331ab7ed614624e5268d2">llvm::Function::removeAttributes</a></div><div class="ttdeci">void removeAttributes(unsigned i, AttributeSet attr)</div><div class="ttdoc">removes the attributes from the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00296">Function.cpp:296</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a15e279291892399c141cd01c7e358cbf"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01660">Constants.cpp:1660</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ae855357b6c5e6e7ed1869272708a3a84"><div class="ttname"><a href="classllvm_1_1Value.html#ae855357b6c5e6e7ed1869272708a3a84">llvm::Value::takeName</a></div><div class="ttdeci">void takeName(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00239">Value.cpp:239</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00395">Function.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a43f7fa52a3fbe01e44c40d9db278ab3e"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a43f7fa52a3fbe01e44c40d9db278ab3e">llvm::IRBuilder::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00888">IRBuilder.h:888</a></div></div>
<div class="ttc" id="DepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a07179526071d22a8e84f95b120d49124"><div class="ttname"><a href="classllvm_1_1CallInst.html#a07179526071d22a8e84f95b120d49124">llvm::CallInst::addAttribute</a></div><div class="ttdeci">void addAttribute(unsigned i, Attribute::AttrKind attr)</div><div class="ttdoc">addAttribute - adds the attribute to the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00334">Instructions.cpp:334</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02055">Instructions.h:2055</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a9c293af587813d72fdc976697dd07f23"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a9c293af587813d72fdc976697dd07f23">llvm::CallSiteBase&lt; Function, Value, User, Instruction, CallInst, InvokeInst, User::op_iterator &gt;::arg_iterator</a></div><div class="ttdeci">User::op_iterator arg_iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00133">CallSite.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caf2b592edf18170e7aff4e8f3bae3360c">llvm::GlobalValue::LinkOnceODRLinkage</a></div><div class="ttdoc">Same, but only replaced by something equivalent. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00037">GlobalValue.h:37</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="classllvm_1_1InsertElementInst_html"><div class="ttname"><a href="classllvm_1_1InsertElementInst.html">llvm::InsertElementInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01602">Instructions.h:1602</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_a3084f1dd69d67e1965fd1fe721a69f2e"><div class="ttname"><a href="classllvm_1_1StoreInst.html#a3084f1dd69d67e1965fd1fe721a69f2e">llvm::StoreInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a6d03597beb9097fc781a6c723cff50d6"><div class="ttname"><a href="classllvm_1_1Module.html#a6d03597beb9097fc781a6c723cff50d6">llvm::Module::alias_end</a></div><div class="ttdeci">alias_iterator alias_end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00544">Module.h:544</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a8b133d97e17e4004807a446b184d7bb5"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a8b133d97e17e4004807a446b184d7bb5">llvm::IRBuilder::CreateConstGEP2_64</a></div><div class="ttdeci">Value * CreateConstGEP2_64(Value *Ptr, uint64_t Idx0, uint64_t Idx1, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01027">IRBuilder.h:1027</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac33c7ecbf1c0f1e8bf93403522e6976b"><div class="ttname"><a href="classllvm_1_1Value.html#ac33c7ecbf1c0f1e8bf93403522e6976b">llvm::Value::use_iterator</a></div><div class="ttdeci">value_use_iterator&lt; User &gt; use_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00146">Value.h:146</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a96581205e1149f5d70b56f9a83bc841a"><div class="ttname"><a href="classllvm_1_1Module.html#a96581205e1149f5d70b56f9a83bc841a">llvm::Module::getOrInsertFunction</a></div><div class="ttdeci">Constant * getOrInsertFunction(StringRef Name, FunctionType *T, AttributeSet AttributeList)</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00138">Module.cpp:138</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="namespacellvm_html_aec3efa15a67284b231fe0b5e6886af4e"><div class="ttname"><a href="namespacellvm.html#aec3efa15a67284b231fe0b5e6886af4e">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">TerminatorInst * SplitBlockAndInsertIfThen(Instruction *Cmp, bool Unreachable, MDNode *BranchWeights=0)</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l00652">BasicBlockUtils.cpp:652</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a1ec20a6f23ced1a328d4b1223fa22d96"><div class="ttname"><a href="classllvm_1_1Module.html#a1ec20a6f23ced1a328d4b1223fa22d96">llvm::Module::getOrInsertGlobal</a></div><div class="ttdeci">Constant * getOrInsertGlobal(StringRef Name, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cpp_source.html#l00250">Module.cpp:250</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="namespacellvm_html_a849b445fe6bce862c395ea6b97c1f658"><div class="ttname"><a href="namespacellvm.html#a849b445fe6bce862c395ea6b97c1f658">llvm::df_end</a></div><div class="ttdeci">df_iterator&lt; T &gt; df_end(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00206">DepthFirstIterator.h:206</a></div></div>
<div class="ttc" id="classllvm_1_1BlockAddress_html_af6e2f535824d8f9b4bf1b1a75e5ab57c"><div class="ttname"><a href="classllvm_1_1BlockAddress.html#af6e2f535824d8f9b4bf1b1a75e5ab57c">llvm::BlockAddress::get</a></div><div class="ttdeci">static BlockAddress * get(Function *F, BasicBlock *BB)</div><div class="ttdoc">get - Return a BlockAddress for the specified function and basic block. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01358">Constants.cpp:1358</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_a73798807a4f65fdfc95731353191c2a0"><div class="ttname"><a href="classllvm_1_1iplist.html#a73798807a4f65fdfc95731353191c2a0">llvm::iplist::size</a></div><div class="ttdeci">size_type LLVM_ATTRIBUTE_UNUSED_RESULT size() const </div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00539">ilist.h:539</a></div></div>
<div class="ttc" id="classllvm_1_1AttrBuilder_html"><div class="ttname"><a href="classllvm_1_1AttrBuilder.html">llvm::AttrBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00390">Attributes.h:390</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a9299aed1efa0ef459a0f1c7fa11fbe61"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a9299aed1efa0ef459a0f1c7fa11fbe61">llvm::IRBuilder::CreatePtrToInt</a></div><div class="ttdeci">Value * CreatePtrToInt(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01124">IRBuilder.h:1124</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_ad285a69e32ddeee367fed93b5f392801"><div class="ttname"><a href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">llvm::SelectInst::getCondition</a></div><div class="ttdeci">const Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01466">Instructions.h:1466</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ae80a20e450d3c835ba9d2422b7ff5d24"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ae80a20e450d3c835ba9d2422b7ff5d24">llvm::FunctionType::param_begin</a></div><div class="ttdeci">param_iterator param_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00124">DerivedTypes.h:124</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="InstVisitor_8h_html"><div class="ttname"><a href="InstVisitor_8h.html">InstVisitor.h</a></div></div>
<div class="ttc" id="Instrumentation_8h_html"><div class="ttname"><a href="Instrumentation_8h.html">Instrumentation.h</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_afb5e83bf5123ff7c51058eb0ebebcdc6"><div class="ttname"><a href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">llvm::PHINode::Create</a></div><div class="ttdeci">static PHINode * Create(Type *Ty, unsigned NumReservedValues, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02013">Instructions.h:2013</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e20e76960d952de088354cbcd14c3ab"><div class="ttname"><a href="classllvm_1_1Type.html#a6e20e76960d952de088354cbcd14c3ab">llvm::Type::getVoidTy</a></div><div class="ttdeci">static Type * getVoidTy(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00227">Type.cpp:227</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html"><div class="ttname"><a href="classllvm_1_1OwningPtr.html">llvm::OwningPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00028">OwningPtr.h:28</a></div></div>
<div class="ttc" id="DenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_af47cfc57b66e9e1c275fa3ee6d5ee995"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#af47cfc57b66e9e1c275fa3ee6d5ee995">llvm::MemIntrinsic::getVolatileCst</a></div><div class="ttdeci">ConstantInt * getVolatileCst() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00131">IntrinsicInst.h:131</a></div></div>
<div class="ttc" id="Target_2SystemZ_2README_8txt_html_a5f380c569497eab93980e5994c60df31"><div class="ttname"><a href="Target_2SystemZ_2README_8txt.html#a5f380c569497eab93980e5994c60df31">val</a></div><div class="ttdeci">it doesn t get to see the original constraint This means that it must conservatively treat all asm constraints as the most restricted R If an asm ties an i32 r result to an i64 the input will be treated as an leaving the upper bits uninitialised For i64 store i32 val</div><div class="ttdef"><b>Definition:</b> <a href="Target_2SystemZ_2README_8txt_source.html#l00022">Target/SystemZ/README.txt:22</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eabff1744e650ee242de2e5f05c25df983">llvm::Attribute::ZExt</a></div><div class="ttdoc">Zero extended before/after call. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00110">Attributes.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad47eefa1d094f60494b6b927061ca001"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad47eefa1d094f60494b6b927061ca001">llvm::LoadInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00223">Instructions.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Integer representation type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00037">DerivedTypes.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6f"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6f">llvm::LibFunc::Func</a></div><div class="ttdeci">Func</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00020">TargetLibraryInfo.h:20</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_a218ef27c964707a907f12db0f9b002ba"><div class="ttname"><a href="classllvm_1_1LoadInst.html#a218ef27c964707a907f12db0f9b002ba">llvm::LoadInst::setAlignment</a></div><div class="ttdeci">void setAlignment(unsigned Align)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01065">Instructions.cpp:1065</a></div></div>
<div class="ttc" id="DenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01334">Constants.cpp:1334</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ab6cc070c37c59589af100aab6f48ef4f"><div class="ttname"><a href="classllvm_1_1Type.html#ab6cc070c37c59589af100aab6f48ef4f">llvm::Type::getPointerTo</a></div><div class="ttdeci">PointerType * getPointerTo(unsigned AddrSpace=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00756">Type.cpp:756</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00284">Type.cpp:284</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a674095e41573ea310d48ba480dca34a9"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a674095e41573ea310d48ba480dca34a9">llvm::IRBuilder::CreateAlignedStore</a></div><div class="ttdeci">StoreInst * CreateAlignedStore(Value *Val, Value *Ptr, unsigned Align, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00911">IRBuilder.h:911</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a6afa862daad32dd85807c27ce804b139"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a6afa862daad32dd85807c27ce804b139">llvm::IRBuilder::CreateAlignedLoad</a></div><div class="ttdeci">LoadInst * CreateAlignedLoad(Value *Ptr, unsigned Align, const char *Name)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00894">IRBuilder.h:894</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_a67bf091383cd61e1225445e78b61d9f9"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">llvm::SelectInst::getTrueValue</a></div><div class="ttdeci">const Value * getTrueValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01467">Instructions.h:1467</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="namespacellvm_html_a9a5430988e9fd8f814ccf7321a00587a"><div class="ttname"><a href="namespacellvm.html#a9a5430988e9fd8f814ccf7321a00587a">llvm::createDataFlowSanitizerPass</a></div><div class="ttdeci">ModulePass * createDataFlowSanitizerPass(StringRef ABIListFile=StringRef(), void *(*getArgTLS)()=0, void *(*getRetValTLS)()=0)</div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_adc5e7f9c460c68455e826783d77f9a99"><div class="ttname"><a href="classllvm_1_1BranchInst.html#adc5e7f9c460c68455e826783d77f9a99">llvm::BranchInst::setSuccessor</a></div><div class="ttdeci">void setSuccessor(unsigned idx, BasicBlock *NewSucc)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02411">Instructions.h:2411</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_aa985217226073a33079f1d7785a506d6"><div class="ttname"><a href="classllvm_1_1Module.html#aa985217226073a33079f1d7785a506d6">llvm::Module::getModuleInlineAsm</a></div><div class="ttdeci">const std::string &amp; getModuleInlineAsm() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00253">Module.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a861226dd056dd2438da26760b8e7a9a0"><div class="ttname"><a href="classllvm_1_1CallInst.html#a861226dd056dd2438da26760b8e7a9a0">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(Value *Func, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01187">Instructions.h:1187</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ae84bb2408dfffa4e8b5fe2ce0714a3bd"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00610">DataLayout.cpp:610</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">Get or create an IntegerType instance. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00305">Type.cpp:305</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aba93ec4079f8d709a1d5b4745310782e"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aba93ec4079f8d709a1d5b4745310782e">llvm::ConstantExpr::getBitCast</a></div><div class="ttdeci">static Constant * getBitCast(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01672">Constants.cpp:1672</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a4d34a40b2667246539b80589adf2028e"><div class="ttname"><a href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">llvm::Function::getBasicBlockList</a></div><div class="ttdeci">const BasicBlockListType &amp; getBasicBlockList() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00374">Function.h:374</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a8db49fd5069f21d514e7bb0fd11f0902"><div class="ttname"><a href="classllvm_1_1PointerType.html#a8db49fd5069f21d514e7bb0fd11f0902">llvm::PointerType::getUnqual</a></div><div class="ttdeci">static PointerType * getUnqual(Type *ElementType)</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00436">DerivedTypes.h:436</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1StructType_html_a18fc4545474c6ebb6f7c547f64f4fb31"><div class="ttname"><a href="classllvm_1_1StructType.html#a18fc4545474c6ebb6f7c547f64f4fb31">llvm::StructType::get</a></div><div class="ttdeci">static StructType * get(LLVMContext &amp;Context, ArrayRef&lt; Type * &gt; Elements, bool isPacked=false)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00405">Type.cpp:405</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_ad8bf46d46e8f14bc23bd30df57cc9a77"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#ad8bf46d46e8f14bc23bd30df57cc9a77">llvm::MemIntrinsic::getDest</a></div><div class="ttdeci">Value * getDest() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00145">IntrinsicInst.h:145</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a87b363b9dad9f5040ea7e29ea9e60ff5"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a87b363b9dad9f5040ea7e29ea9e60ff5">llvm::IRBuilder::CreateBitCast</a></div><div class="ttdeci">Value * CreateBitCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01132">IRBuilder.h:1132</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="MDBuilder_8h_html"><div class="ttname"><a href="MDBuilder_8h.html">MDBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="DataFlowSanitizer_8cpp_html_a22cc97831cd6888d20a728cfcabb38da"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a22cc97831cd6888d20a728cfcabb38da">ClDebugNonzeroLabels</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClDebugNonzeroLabels(&quot;dfsan-debug-nonzero-labels&quot;, cl::desc(&quot;Insert calls to __dfsan_nonzero_label on observing a parameter, &quot;&quot;load or return with a nonzero label&quot;), cl::Hidden)</div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html_abad10f74789466601c7a025540c1c072"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html#abad10f74789466601c7a025540c1c072">llvm::MemIntrinsic::getLength</a></div><div class="ttdeci">Value * getLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00122">IntrinsicInst.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a755dbbd47c63c53cda3e93d9d608562a"><div class="ttname"><a href="classllvm_1_1Module.html#a755dbbd47c63c53cda3e93d9d608562a">llvm::Module::alias_begin</a></div><div class="ttdeci">alias_iterator alias_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00542">Module.h:542</a></div></div>
<div class="ttc" id="classllvm_1_1BlockAddress_html_a976bfd676bf773eadde49138cfc7dcb5"><div class="ttname"><a href="classllvm_1_1BlockAddress.html#a976bfd676bf773eadde49138cfc7dcb5">llvm::BlockAddress::getBasicBlock</a></div><div class="ttdeci">BasicBlock * getBasicBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00764">Constants.h:764</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a94c18bf85a5105e0a22fba23b0bedafa"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a94c18bf85a5105e0a22fba23b0bedafa">llvm::IRBuilder::CreateMul</a></div><div class="ttdeci">Value * CreateMul(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00659">IRBuilder.h:659</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad736fb9b585509388546c12617def38f"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad736fb9b585509388546c12617def38f">llvm::ConstantInt::getSigned</a></div><div class="ttdeci">static ConstantInt * getSigned(IntegerType *Ty, int64_t V)</div><div class="ttdoc">Get a ConstantInt for a specific signed value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00507">Constants.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00217">GlobalValue.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_afe55b235779222b867c16d3321c1cd16"><div class="ttname"><a href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">llvm::iplist::splice</a></div><div class="ttdeci">void splice(iterator where, iplist &amp;L2)</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00570">ilist.h:570</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a5fa9b8e1842b354f64c1ba6be0a4a17f"><div class="ttname"><a href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">llvm::User::setOperand</a></div><div class="ttdeci">void setOperand(unsigned i, Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00092">User.h:92</a></div></div>
<div class="ttc" id="namespacellvm_html_afb9c37d2aea316c81a0b2b63c6b480e7"><div class="ttname"><a href="namespacellvm.html#afb9c37d2aea316c81a0b2b63c6b480e7">llvm::df_begin</a></div><div class="ttdeci">df_iterator&lt; T &gt; df_begin(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00201">DepthFirstIterator.h:201</a></div></div>
<div class="ttc" id="DataFlowSanitizer_8cpp_html_a9fba3ba3792fba1de1c0143064224336"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a9fba3ba3792fba1de1c0143064224336">ClPreserveAlignment</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClPreserveAlignment(&quot;dfsan-preserve-alignment&quot;, cl::desc(&quot;respect alignment requirements provided by input IR&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_aed91309f27b7691cdb2fd2430907b1bb"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#aed91309f27b7691cdb2fd2430907b1bb">llvm::AttributeSet::removeAttributes</a></div><div class="ttdeci">AttributeSet removeAttributes(LLVMContext &amp;C, unsigned Index, AttributeSet Attrs) const </div><div class="ttdoc">Remove the specified attributes at the specified index from this attribute list. Since attribute list...</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00739">Attributes.cpp:739</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html"><div class="ttname"><a href="classllvm_1_1VectorType.html">llvm::VectorType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00358">DerivedTypes.h:358</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57c">llvm::GlobalValue::LinkageTypes</a></div><div class="ttdeci">LinkageTypes</div><div class="ttdoc">An enumeration for the kinds of linkage for global values. </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00033">GlobalValue.h:33</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="DataFlowSanitizer_8cpp_html_a73f5adf826cf3d2cbe61b3c2bc42f410"><div class="ttname"><a href="DataFlowSanitizer_8cpp.html#a73f5adf826cf3d2cbe61b3c2bc42f410">INITIALIZE_PASS</a></div><div class="ttdeci">INITIALIZE_PASS(DataFlowSanitizer,&quot;dfsan&quot;,&quot;DataFlowSanitizer: dynamic data flow analysis.&quot;, false, false) ModulePass *llvm</div><div class="ttdef"><b>Definition:</b> <a href="DataFlowSanitizer_8cpp_source.html#l00264">DataFlowSanitizer.cpp:264</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a9c49c5271c8223918bcac7b116e935c4"><div class="ttname"><a href="classllvm_1_1Function.html#a9c49c5271c8223918bcac7b116e935c4">llvm::Function::addAttribute</a></div><div class="ttdeci">void addAttribute(unsigned i, Attribute::AttrKind attr)</div><div class="ttdoc">adds the attribute to the list of attributes. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00284">Function.cpp:284</a></div></div>
<div class="ttc" id="Pass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea72f3f4379fdf9acf18ec492b98d31deb"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea72f3f4379fdf9acf18ec492b98d31deb">llvm::Attribute::ReadOnly</a></div><div class="ttdoc">Function only reads from memory. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00094">Attributes.h:94</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_abe28c665da93c2c7ba7528987a7b2478"><div class="ttname"><a href="classllvm_1_1iplist.html#abe28c665da93c2c7ba7528987a7b2478">llvm::iplist::front</a></div><div class="ttdeci">reference front()</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00390">ilist.h:390</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a8bbeae6f9dd03923c7cf63a6ff9f4036"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a8bbeae6f9dd03923c7cf63a6ff9f4036">llvm::IRBuilder::CreateInsertValue</a></div><div class="ttdeci">Value * CreateInsertValue(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01383">IRBuilder.h:1383</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae767a25d53d50cf3995a4e0db25c09fa"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae767a25d53d50cf3995a4e0db25c09fa">llvm::CallSiteBase::setCallingConv</a></div><div class="ttdeci">void setCallingConv(CallingConv::ID CC)</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00173">CallSite.h:173</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a4d49fd9a4cc4f2a74d4555bd08b13910"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a4d49fd9a4cc4f2a74d4555bd08b13910">llvm::IRBuilder::CreateShl</a></div><div class="ttdeci">Value * CreateShl(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00734">IRBuilder.h:734</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="classllvm_1_1MemTransferInst_html_a1d23e59237a8e4a61f4af0deb7320104"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html#a1d23e59237a8e4a61f4af0deb7320104">llvm::MemTransferInst::getSource</a></div><div class="ttdeci">Value * getSource() const </div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00222">IntrinsicInst.h:222</a></div></div>
<div class="ttc" id="StringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1MemTransferInst_html"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html">llvm::MemTransferInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00213">IntrinsicInst.h:213</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a7cca116ba5ef3fe3dfc9872b1600d11d"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a7cca116ba5ef3fe3dfc9872b1600d11d">llvm::IRBuilder::CreateZExtOrTrunc</a></div><div class="ttdeci">Value * CreateZExtOrTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdoc">Create a ZExt or Trunc from the integer value V to DestTy. Return the value untouched if the type of ...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01079">IRBuilder.h:1079</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_aa608a2d900dd6c15c18f4236b6548496"><div class="ttname"><a href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">llvm::Module::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00533">Module.h:533</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="Value_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html_ad1168fc42bcba1b71217a4969483671a"><div class="ttname"><a href="classllvm_1_1LoadInst.html#ad1168fc42bcba1b71217a4969483671a">llvm::LoadInst::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00181">Instructions.h:181</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a197c8829ed18e514133a98f8e9d8a574"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a197c8829ed18e514133a98f8e9d8a574">llvm::CallSiteBase::setAttributes</a></div><div class="ttdeci">void setAttributes(const AttributeSet &amp;PAL)</div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00182">CallSite.h:182</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00120">BasicBlock.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00235">Pass.h:235</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a279174d137c1ef32aa5b627f5e06620f"><div class="ttname"><a href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">llvm::Module::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00531">Module.h:531</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ae1d53a21892854816885c7288f8b46f1"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ae1d53a21892854816885c7288f8b46f1">llvm::BasicBlock::Create</a></div><div class="ttdeci">static BasicBlock * Create(LLVMContext &amp;Context, const Twine &amp;Name=&quot;&quot;, Function *Parent=0, BasicBlock *InsertBefore=0)</div><div class="ttdoc">Creates a new BasicBlock. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00109">BasicBlock.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayType_html_adf411edc4f135b570ab218079474ce77"><div class="ttname"><a href="classllvm_1_1ArrayType.html#adf411edc4f135b570ab218079474ce77">llvm::ArrayType::get</a></div><div class="ttdeci">static ArrayType * get(Type *ElementType, uint64_t NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00679">Type.cpp:679</a></div></div>
<div class="ttc" id="BasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractElementInst_html"><div class="ttname"><a href="classllvm_1_1ExtractElementInst.html">llvm::ExtractElementInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01542">Instructions.h:1542</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a609c7b4d7eb90f7c4627da58dc00fa42"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a609c7b4d7eb90f7c4627da58dc00fa42">llvm::IRBuilder::CreateICmpNE</a></div><div class="ttdeci">Value * CreateICmpNE(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01209">IRBuilder.h:1209</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8969dec86d24dd579f8ecc963e1dc8b4"><div class="ttname"><a href="classllvm_1_1Function.html#a8969dec86d24dd579f8ecc963e1dc8b4">llvm::Function::eraseFromParent</a></div><div class="ttdeci">virtual void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00187">Function.cpp:187</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a19445f836d9e1ecb32cba27ec4338fff"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">llvm::BasicBlock::splitBasicBlock</a></div><div class="ttdeci">BasicBlock * splitBasicBlock(iterator I, const Twine &amp;BBName=&quot;&quot;)</div><div class="ttdoc">Split the basic block into two basic blocks at the specified instruction. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00298">BasicBlock.cpp:298</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html_ace9225fc27f77c5078f56027ed5421a6"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#ace9225fc27f77c5078f56027ed5421a6">llvm::ReturnInst::Create</a></div><div class="ttdeci">static ReturnInst * Create(LLVMContext &amp;C, Value *retVal=0, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02301">Instructions.h:2301</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_a9a134c441d6deccd83474b0a55e001d1"><div class="ttname"><a href="classllvm_1_1iplist.html#a9a134c441d6deccd83474b0a55e001d1">llvm::iplist::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00398">ilist.h:398</a></div></div>
<div class="ttc" id="IRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="LLVMContext_8h_html"><div class="ttname"><a href="LLVMContext_8h.html">LLVMContext.h</a></div></div>
<div class="ttc" id="SpecialCaseList_8h_html"><div class="ttname"><a href="SpecialCaseList_8h.html">SpecialCaseList.h</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a902af4d6cb3a421a7f5723d0fc81efd1"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a902af4d6cb3a421a7f5723d0fc81efd1">llvm::IRBuilder::CreateCall2</a></div><div class="ttdeci">CallInst * CreateCall2(Value *Callee, Value *Arg1, Value *Arg2, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01310">IRBuilder.h:1310</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a179ef4c643fb35a8dc364e4ae63950f9"><div class="ttname"><a href="classllvm_1_1CallInst.html#a179ef4c643fb35a8dc364e4ae63950f9">llvm::CallInst::setAttributes</a></div><div class="ttdeci">void setAttributes(const AttributeSet &amp;Attrs)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01264">Instructions.h:1264</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a9eda832d6e80bc19b98f22f4ec714e3f"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00121">DerivedTypes.h:121</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapIterator_html"><div class="ttname"><a href="classllvm_1_1DenseMapIterator.html">llvm::DenseMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00037">DenseMap.h:37</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="Local_8h_html"><div class="ttname"><a href="Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aa933549689e79685bb67de64dddc9f7c"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#aa933549689e79685bb67de64dddc9f7c">llvm::IRBuilder::CreateTrunc</a></div><div class="ttdeci">Value * CreateTrunc(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01068">IRBuilder.h:1068</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a0a46edcf9b885556850d8ed9c49d9b52"><div class="ttname"><a href="classllvm_1_1Function.html#a0a46edcf9b885556850d8ed9c49d9b52">llvm::Function::getArgumentList</a></div><div class="ttdeci">const ArgumentListType &amp; getArgumentList() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00362">Function.h:362</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1SpecialCaseList_html_a13bec0340ce5bc649e890413fb1985e8"><div class="ttname"><a href="classllvm_1_1SpecialCaseList.html#a13bec0340ce5bc649e890413fb1985e8">llvm::SpecialCaseList::isIn</a></div><div class="ttdeci">bool isIn(const Function &amp;F, const StringRef Category=StringRef()) const </div><div class="ttdef"><b>Definition:</b> <a href="SpecialCaseList_8cpp_source.html#l00172">SpecialCaseList.cpp:172</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a7e31b0c02df2aeed261b103b790cc01e"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a7e31b0c02df2aeed261b103b790cc01e">llvm::IRBuilder::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(Value *Callee, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01304">IRBuilder.h:1304</a></div></div>
<div class="ttc" id="classllvm_1_1VectorType_html_ab43657ed1abe2e2ed3a6a394f233ebd0"><div class="ttname"><a href="classllvm_1_1VectorType.html#ab43657ed1abe2e2ed3a6a394f233ebd0">llvm::VectorType::get</a></div><div class="ttdeci">static VectorType * get(Type *ElementType, unsigned NumElements)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00706">Type.cpp:706</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_a0c00110a06b1eb96c92f87e4ca28129a"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#a0c00110a06b1eb96c92f87e4ca28129a">llvm::IRBuilder::CreateBr</a></div><div class="ttdeci">BranchInst * CreateBr(BasicBlock *Dest)</div><div class="ttdoc">Create an unconditional &amp;#39;br label X&amp;#39; instruction. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00526">IRBuilder.h:526</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02841">Instructions.h:2841</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_a29a16f32075ee4f23cd769701463952c"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">llvm::SelectInst::getFalseValue</a></div><div class="ttdeci">const Value * getFalseValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01468">Instructions.h:1468</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_html_a93b95c8527f4f744ec4ac5d30150f7c5"><div class="ttname"><a href="namespacellvm.html#a93b95c8527f4f744ec4ac5d30150f7c5">llvm::removeUnreachableBlocks</a></div><div class="ttdeci">bool removeUnreachableBlocks(Function &amp;F)</div><div class="ttdoc">Remove all blocks that can not be reached from the function&amp;#39;s entry. </div><div class="ttdef"><b>Definition:</b> <a href="Local_8cpp_source.html#l01243">Local.cpp:1243</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html_ac03c1c093059ea000216af8dd6f2dbf4"><div class="ttname"><a href="classllvm_1_1StoreInst.html#ac03c1c093059ea000216af8dd6f2dbf4">llvm::StoreInst::getPointerOperand</a></div><div class="ttdeci">Value * getPointerOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00346">Instructions.h:346</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MDBuilder_html"><div class="ttname"><a href="classllvm_1_1MDBuilder.html">llvm::MDBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="MDBuilder_8h_source.html#l00027">MDBuilder.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0e74af4b7c739f3a14e737c3042b6617"><div class="ttname"><a href="classllvm_1_1Module.html#a0e74af4b7c739f3a14e737c3042b6617">llvm::Module::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00249">Module.h:249</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a162a63c89ac118c8ffef75b3a892efa0"><div class="ttname"><a href="classllvm_1_1Function.html#a162a63c89ac118c8ffef75b3a892efa0">llvm::Function::Create</a></div><div class="ttdeci">static Function * Create(FunctionType *Ty, LinkageTypes Linkage, const Twine &amp;N=&quot;&quot;, Module *M=0)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00128">Function.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af5c7041df3ad5edffe5da17b5264c1fc"><div class="ttname"><a href="classllvm_1_1Type.html#af5c7041df3ad5edffe5da17b5264c1fc">llvm::Type::isVoidTy</a></div><div class="ttdeci">bool isVoidTy() const </div><div class="ttdoc">isVoidTy - Return true if this is &amp;#39;void&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00140">Type.h:140</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01846">Instructions.h:1846</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ad7e292682516000f8b472f4510a2acf7"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad7e292682516000f8b472f4510a2acf7">llvm::StringRef::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Check if the string is empty. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00110">StringRef.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html_aec1340aa456977785b902da5d5203948"><div class="ttname"><a href="classllvm_1_1IRBuilder.html#aec1340aa456977785b902da5d5203948">llvm::IRBuilder::CreateCall3</a></div><div class="ttdeci">CallInst * CreateCall3(Value *Callee, Value *Arg1, Value *Arg2, Value *Arg3, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01315">IRBuilder.h:1315</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:27 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
