<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: Process.inc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Unix_2Process_8inc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Unix/Process.inc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Unix_2Process_8inc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Unix/Process.cpp - Unix Process Implementation --------- -*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file provides the generic Unix implementation of the Process class.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Unix_8h.html">Unix.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Hashing_8h.html">llvm/ADT/Hashing.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Mutex_8h.html">llvm/Support/Mutex.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MutexGuard_8h.html">llvm/Support/MutexGuard.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TimeValue_8h.html">llvm/Support/TimeValue.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_TIME_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;sys/time.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_RESOURCE_H</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;sys/resource.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// DragonFlyBSD, OpenBSD, and Bitrig have deprecated &lt;malloc.h&gt; for</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// &lt;stdlib.h&gt; instead. Unix.h includes this for us already.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#if defined(HAVE_MALLOC_H) &amp;&amp; !defined(__DragonFly__) &amp;&amp; \</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">    !defined(__OpenBSD__) &amp;&amp; !defined(__Bitrig__)</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;malloc.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#ifdef HAVE_MALLOC_MALLOC_H</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;malloc/malloc.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_IOCTL_H</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#  include &lt;sys/ioctl.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#ifdef HAVE_TERMIOS_H</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#  include &lt;termios.h&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//=== WARNING: Implementation here must contain only generic UNIX code that</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//===          is guaranteed to work on *all* UNIX variants.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">using namespace </span>sys;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<a class="code" href="classllvm_1_1sys_1_1process.html#a7ed58565c1c2d51cebd4beba16cc606c">process::id_type</a> <a class="code" href="classllvm_1_1sys_1_1self__process.html#a2e0b8f48fe4106fa1d25c7da05bad514">self_process::get_id</a>() {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">return</span> getpid();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> std::pair&lt;TimeValue, TimeValue&gt; getRUsageTimes() {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#if defined(HAVE_GETRUSAGE)</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">struct </span>rusage RU;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  ::getrusage(RUSAGE_SELF, &amp;RU);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">return</span> std::make_pair(</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      TimeValue(</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;          static_cast&lt;TimeValue::SecondsType&gt;(RU.ru_utime.tv_sec),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          static_cast&lt;TimeValue::NanoSecondsType&gt;(</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;              RU.ru_utime.tv_usec * <a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a3db964c7a5ccab6109c9e29842927ff9ad80545c0a7b3422494512c1ec804239e">TimeValue::NANOSECONDS_PER_MICROSECOND</a>)),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      TimeValue(</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;          static_cast&lt;TimeValue::SecondsType&gt;(RU.ru_stime.tv_sec),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          static_cast&lt;TimeValue::NanoSecondsType&gt;(</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;              RU.ru_stime.tv_usec * <a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a3db964c7a5ccab6109c9e29842927ff9ad80545c0a7b3422494512c1ec804239e">TimeValue::NANOSECONDS_PER_MICROSECOND</a>)));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#warning Cannot get usage times on this platform</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> std::make_pair(TimeValue(), TimeValue());</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;TimeValue <a class="code" href="classllvm_1_1sys_1_1self__process.html#a2b43f2082bbb208b7ee8a9787e94f96b">self_process::get_user_time</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#if _POSIX_TIMERS &gt; 0 &amp;&amp; _POSIX_CPUTIME &gt; 0</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Try to get a high resolution CPU timer.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">struct </span>timespec TS;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (::clock_gettime(CLOCK_PROCESS_CPUTIME_ID, &amp;TS) == 0)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> TimeValue(static_cast&lt;TimeValue::SecondsType&gt;(TS.tv_sec),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                     static_cast&lt;TimeValue::NanoSecondsType&gt;(TS.tv_nsec));</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// Otherwise fall back to rusage based timing.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> getRUsageTimes().first;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;TimeValue <a class="code" href="classllvm_1_1sys_1_1self__process.html#ad034dc15c933bb8c9c0fa85072fad885">self_process::get_system_time</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// We can only collect system time by inspecting the results of getrusage.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> getRUsageTimes().second;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// On Cygwin, getpagesize() returns 64k(AllocationGranularity) and</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">// offset in mmap(3) should be aligned to the AllocationGranularity.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> getPageSize() {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#if defined(HAVE_GETPAGESIZE)</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1sys_1_1self__process.html#a5d9a1d2260e60329f307ebf719365ce1">page_size</a> = ::getpagesize();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#elif defined(HAVE_SYSCONF)</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">long</span> page_size = ::sysconf(_SC_PAGE_SIZE);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#warning Cannot get the page size on this machine</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="classllvm_1_1sys_1_1self__process.html#a5d9a1d2260e60329f307ebf719365ce1">page_size</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">// This constructor guaranteed to be run exactly once on a single thread, and</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// sets up various process invariants that can be queried cheaply from then on.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;self_process::self_process() : PageSize(getPageSize()) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#aefb2b72e3e500a8b559e5d8c265b40e6">Process::GetMallocUsage</a>() {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#if defined(HAVE_MALLINFO)</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">struct </span>mallinfo mi;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  mi = ::mallinfo();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">return</span> mi.uordblks;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#elif defined(HAVE_MALLOC_ZONE_STATISTICS) &amp;&amp; defined(HAVE_MALLOC_MALLOC_H)</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  malloc_statistics_t <a class="code" href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  malloc_zone_statistics(malloc_default_zone(), &amp;Stats);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">return</span> Stats.size_in_use;   <span class="comment">// darwin</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#elif defined(HAVE_SBRK)</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Note this is only an approximation and more closely resembles</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// the value returned by mallinfo in the arena field.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> *StartOfMemory = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(::sbrk(0));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">char</span> *EndOfMemory = (<span class="keywordtype">char</span>*)sbrk(0);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">if</span> (EndOfMemory != ((<span class="keywordtype">char</span>*)-1) &amp;&amp; StartOfMemory != ((<span class="keywordtype">char</span>*)-1))</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> EndOfMemory - StartOfMemory;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#warning Cannot get malloc info on this platform</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a6b2b01689088d887452341a4e053bf4c">Process::GetTimeUsage</a>(TimeValue &amp;elapsed, TimeValue &amp;user_time,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                           TimeValue &amp;sys_time) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  elapsed = <a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a15e2f7fb19eb0cd78ca161247eb38fba">TimeValue::now</a>();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a>(user_time, sys_time) = getRUsageTimes();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#if defined(HAVE_MACH_MACH_H) &amp;&amp; !defined(__GNU__)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#include &lt;mach/mach.h&gt;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// Some LLVM programs such as bugpoint produce core files as a normal part of</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// their operation. To prevent the disk from filling up, this function</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// does what&#39;s necessary to prevent their generation.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a044be33f2a65605a957e19d5e8d549a5">Process::PreventCoreFiles</a>() {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#if HAVE_SETRLIMIT</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">struct </span>rlimit rlim;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  rlim.rlim_cur = rlim.rlim_max = 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  setrlimit(RLIMIT_CORE, &amp;rlim);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#if defined(HAVE_MACH_MACH_H) &amp;&amp; !defined(__GNU__)</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// Disable crash reporting on Mac OS X 10.0-10.4</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// get information about the original set of exception ports for the task</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  mach_msg_type_number_t Count = 0;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  exception_mask_t OriginalMasks[EXC_TYPES_COUNT];</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  exception_port_t OriginalPorts[EXC_TYPES_COUNT];</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  exception_behavior_t OriginalBehaviors[EXC_TYPES_COUNT];</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  thread_state_flavor_t OriginalFlavors[EXC_TYPES_COUNT];</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  kern_return_t err =</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    task_get_exception_ports(mach_task_self(), EXC_MASK_ALL, OriginalMasks,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                             &amp;Count, OriginalPorts, OriginalBehaviors,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                             OriginalFlavors);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (err == KERN_SUCCESS) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// replace each with MACH_PORT_NULL.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != Count; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      task_set_exception_ports(mach_task_self(), OriginalMasks[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                               MACH_PORT_NULL, OriginalBehaviors[i],</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                               OriginalFlavors[i]);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// Disable crash reporting on Mac OS X 10.5</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  signal(SIGABRT, _exit);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  signal(SIGILL,  _exit);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  signal(SIGFPE,  _exit);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  signal(SIGSEGV, _exit);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  signal(SIGBUS,  _exit);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<a class="code" href="classllvm_1_1Optional.html">Optional&lt;std::string&gt;</a> <a class="code" href="classllvm_1_1sys_1_1Process.html#aae75de3fbd8b698524dde51b7ff5fd1d">Process::GetEnv</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  std::string NameStr = Name.<a class="code" href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">str</a>();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *Val = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c">::getenv</a>(NameStr.c_str());</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (!Val)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1d0ac37acc2482f8794195f5042b61b5acd12d6cf678f7504ca49c922fb16ce01">None</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">return</span> std::string(Val);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<a class="code" href="classllvm_1_1error__code.html">error_code</a> <a class="code" href="classllvm_1_1sys_1_1Process.html#a9584d189dda87689574211bf04472cf0">Process::GetArgumentVector</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;const char *&gt;</a> &amp;ArgsOut,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const char *&gt;</a> ArgsIn,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                      <a class="code" href="classllvm_1_1SpecificBumpPtrAllocator.html">SpecificBumpPtrAllocator&lt;char&gt;</a> &amp;) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  ArgsOut.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">append</a>(ArgsIn.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), ArgsIn.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>());</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1error__code.html#ab1dc74db82ce9421e6c5f5f4df574aa8">error_code::success</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#ad2aac231a0752ab9d6c3d7bae48f7adc">Process::StandardInIsUserInput</a>() {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">FileDescriptorIsDisplayed</a>(STDIN_FILENO);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#ab2af58ec26c804a6836864d970c78df1">Process::StandardOutIsDisplayed</a>() {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">FileDescriptorIsDisplayed</a>(STDOUT_FILENO);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a30f5096a2364f58d967775a553c1143b">Process::StandardErrIsDisplayed</a>() {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">FileDescriptorIsDisplayed</a>(STDERR_FILENO);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">Process::FileDescriptorIsDisplayed</a>(<span class="keywordtype">int</span> fd) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#if HAVE_ISATTY</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">return</span> isatty(fd);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// If we don&#39;t have isatty, just return false.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> getColumns(<span class="keywordtype">int</span> FileID) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// If COLUMNS is defined in the environment, wrap to that many columns.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *ColumnsStr = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c">std::getenv</a>(<span class="stringliteral">&quot;COLUMNS&quot;</span>)) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">int</span> Columns = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3097808400d5ed1956e2b10e0456ac26">std::atoi</a>(ColumnsStr);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (Columns &gt; 0)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">return</span> Columns;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">unsigned</span> Columns = 0;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#if defined(HAVE_SYS_IOCTL_H) &amp;&amp; defined(HAVE_TERMIOS_H)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// Try to determine the width of the terminal.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">struct </span>winsize ws;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (ioctl(FileID, TIOCGWINSZ, &amp;ws) == 0)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    Columns = ws.ws_col;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">return</span> Columns;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#ab21a24de36e15ce39ddb32192ff723ef">Process::StandardOutColumns</a>() {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1sys_1_1Process.html#ab2af58ec26c804a6836864d970c78df1">StandardOutIsDisplayed</a>())</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> getColumns(1);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a89927683c57b686c4694bbc0ee822653">Process::StandardErrColumns</a>() {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1sys_1_1Process.html#a30f5096a2364f58d967775a553c1143b">StandardErrIsDisplayed</a>())</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">return</span> getColumns(2);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#ifdef HAVE_TERMINFO</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// We manually declare these extern functions because finding the correct</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// headers from various terminfo, curses, or other sources is harder than</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// writing their specs down.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> setupterm(<span class="keywordtype">char</span> *term, <span class="keywordtype">int</span> filedes, <span class="keywordtype">int</span> *errret);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keyword">struct </span>term *set_curterm(<span class="keyword">struct</span> term *termp);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> del_curterm(<span class="keyword">struct</span> term *termp);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> tigetnum(<span class="keywordtype">char</span> *capname);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> terminalHasColors(<span class="keywordtype">int</span> fd) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#ifdef HAVE_TERMINFO</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// First, acquire a global lock because these C routines are thread hostile.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keyword">static</span> <a class="code" href="classllvm_1_1sys_1_1SmartMutex.html">sys::Mutex</a> <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="classllvm_1_1MutexGuard.html">MutexGuard</a> <a class="code" href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>(M);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">int</span> errret = 0;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">if</span> (setupterm((<span class="keywordtype">char</span> *)0, fd, &amp;errret) != 0)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Regardless of why, if we can&#39;t get terminfo, we shouldn&#39;t try to print</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// colors.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Test whether the terminal as set up supports color output. How to do this</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// isn&#39;t entirely obvious. We can use the curses routine &#39;has_colors&#39; but it</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// would be nice to avoid a dependency on curses proper when we can make do</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// with a minimal terminfo parsing library. Also, we don&#39;t really care whether</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// the terminal supports the curses-specific color changing routines, merely</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// if it will interpret ANSI color escape codes in a reasonable way. Thus, the</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// strategy here is just to query the baseline colors capability and if it</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// supports colors at all to assume it will translate the escape codes into</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// whatever range of colors it does support. We can add more detailed tests</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// here if users report them as necessary.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// The &#39;tigetnum&#39; routine returns -2 or -1 on errors, and might return 0 if</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// the terminfo says that no colors are supported.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordtype">bool</span> HasColors = tigetnum(const_cast&lt;char *&gt;(<span class="stringliteral">&quot;colors&quot;</span>)) &gt; 0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Now extract the structure allocated by setupterm and free its memory</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// through a really silly dance.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">struct </span>term *termp = set_curterm((<span class="keyword">struct</span> term *)0);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  (void)del_curterm(termp); <span class="comment">// Drop any errors here.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Return true if we found a color capabilities for the current terminal.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (HasColors)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// Otherwise, be conservative.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a6c753dc2ccb8b41c097dee19f3690e0d">Process::FileDescriptorHasColors</a>(<span class="keywordtype">int</span> fd) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// A file descriptor has colors if it is displayed and the terminal has</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// colors.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">FileDescriptorIsDisplayed</a>(fd) &amp;&amp; terminalHasColors(fd);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a2512fe676260dcee1c2ba5e917dad4aa">Process::StandardOutHasColors</a>() {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a6c753dc2ccb8b41c097dee19f3690e0d">FileDescriptorHasColors</a>(STDOUT_FILENO);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#aae619d8f1ff7ce90bd18ee54d504b126">Process::StandardErrHasColors</a>() {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a6c753dc2ccb8b41c097dee19f3690e0d">FileDescriptorHasColors</a>(STDERR_FILENO);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a6f01fd2553456500f600d83db62c6932">Process::UseANSIEscapeCodes</a>(<span class="keywordtype">bool</span> <span class="comment">/*enable*/</span>) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// No effect.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#ae688bc9ea544596962674ee94437ec00">Process::ColorNeedsFlush</a>() {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// No, we use ANSI escape sequences.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1sys_1_1Process.html#a7d2238691760553f386411487e0db844">Process::OutputColor</a>(<span class="keywordtype">char</span> <a class="code" href="README-Thumb_8txt.html#a5d98a8b5139e56ebf0d2ff4cbaa0dc5e">code</a>, <span class="keywordtype">bool</span> bold, <span class="keywordtype">bool</span> bg) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="Process_8cpp.html#a2059a2c76858f8a2381733bd08fff2d8">colorcodes</a>[bg?1:0][bold?1:0][code&amp;7];</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1sys_1_1Process.html#ade3729c00ce63236e357eef613ea88fa">Process::OutputBold</a>(<span class="keywordtype">bool</span> bg) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;\033[1m&quot;</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1sys_1_1Process.html#a59ce5f725a85d10ff56bfa6128c5c2bc">Process::OutputReverse</a>() {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;\033[7m&quot;</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1sys_1_1Process.html#a99e59876b30e646fcb8907f5ea548b2f">Process::ResetColor</a>() {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;\033[0m&quot;</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#if !defined(HAVE_ARC4RANDOM)</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> GetRandomNumberSeed() {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// Attempt to get the initial seed from /dev/urandom, if possible.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span> (FILE *RandomSource = ::<a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77037a6f2e7714a198ad428fd06a9c24">fopen</a>(<span class="stringliteral">&quot;/dev/urandom&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>)) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">unsigned</span> seed;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">int</span> count = <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6efa9bf9d5fdcd5da9d93d5f8982e017">::fread</a>((<span class="keywordtype">void</span> *)&amp;seed, <span class="keyword">sizeof</span>(seed), 1, RandomSource);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fabfb31dee0c9fd92ee15fe21e6b35b544">::fclose</a>(RandomSource);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Return the seed if the read was successful.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (count == 1)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">return</span> seed;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// Otherwise, swizzle the current time and the process ID to form a reasonable</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// seed.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  TimeValue Now = <a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a15e2f7fb19eb0cd78ca161247eb38fba">TimeValue::now</a>();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2b33f2166f38124ec3081c2fd59672f7">hash_combine</a>(Now.seconds(), Now.nanoseconds(), ::getpid());</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1sys_1_1Process.html#a92b058c34d04f6d0adf6eac3060343c6">llvm::sys::Process::GetRandomNumber</a>() {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#if defined(HAVE_ARC4RANDOM)</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">return</span> arc4random();</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a> = (::srand(GetRandomNumberSeed()), 0);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  (void)x;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  return ::rand();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa6efa9bf9d5fdcd5da9d93d5f8982e017"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa6efa9bf9d5fdcd5da9d93d5f8982e017">llvm::LibFunc::fread</a></div><div class="ttdoc">size_t fread(void *ptr, size_t size, size_t nitems, FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00271">TargetLibraryInfo.h:271</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1TimeValue_html_a15e2f7fb19eb0cd78ca161247eb38fba"><div class="ttname"><a href="classllvm_1_1sys_1_1TimeValue.html#a15e2f7fb19eb0cd78ca161247eb38fba">llvm::sys::TimeValue::now</a></div><div class="ttdeci">static TimeValue now()</div><div class="ttdoc">Creates a TimeValue with the current time (UTC). </div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="namespacellvm_html_a1d0ac37acc2482f8794195f5042b61b5acd12d6cf678f7504ca49c922fb16ce01"><div class="ttname"><a href="namespacellvm.html#a1d0ac37acc2482f8794195f5042b61b5acd12d6cf678f7504ca49c922fb16ce01">llvm::None</a></div><div class="ttdef"><b>Definition:</b> <a href="None_8h_source.html#l00023">None.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a99e59876b30e646fcb8907f5ea548b2f"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a99e59876b30e646fcb8907f5ea548b2f">llvm::sys::Process::ResetColor</a></div><div class="ttdeci">static const char * ResetColor()</div><div class="ttdoc">Resets the terminals colors, or returns an escape sequence to do so. </div></div>
<div class="ttc" id="classllvm_1_1sys_1_1self__process_html_ad034dc15c933bb8c9c0fa85072fad885"><div class="ttname"><a href="classllvm_1_1sys_1_1self__process.html#ad034dc15c933bb8c9c0fa85072fad885">llvm::sys::self_process::get_system_time</a></div><div class="ttdeci">virtual TimeValue get_system_time() const </div><div class="ttdoc">Get the system time consumed by this process. </div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a7d2238691760553f386411487e0db844"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a7d2238691760553f386411487e0db844">llvm::sys::Process::OutputColor</a></div><div class="ttdeci">static const char * OutputColor(char c, bool bold, bool bg)</div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a38ed8cc3c342ad6910e8c869d3e2b9cf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00098">ArrayRef.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_aae619d8f1ff7ce90bd18ee54d504b126"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#aae619d8f1ff7ce90bd18ee54d504b126">llvm::sys::Process::StandardErrHasColors</a></div><div class="ttdeci">static bool StandardErrHasColors()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1SmartMutex_html"><div class="ttname"><a href="classllvm_1_1sys_1_1SmartMutex.html">llvm::sys::SmartMutex&lt; false &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a6c753dc2ccb8b41c097dee19f3690e0d"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a6c753dc2ccb8b41c097dee19f3690e0d">llvm::sys::Process::FileDescriptorHasColors</a></div><div class="ttdeci">static bool FileDescriptorHasColors(int fd)</div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ab02cb6f4884b5c788efb97b6741dccaf"><div class="ttname"><a href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const </div><div class="ttdoc">str - Get the contents as an std::string. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00181">StringRef.h:181</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a5775c44f1af915246431618090e08c0e"><div class="ttname"><a href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a></div><div class="ttdeci">=x?x:x+x x</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00798">README-SSE.txt:798</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa77037a6f2e7714a198ad428fd06a9c24"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa77037a6f2e7714a198ad428fd06a9c24">llvm::LibFunc::fopen</a></div><div class="ttdoc">FILE *fopen(const char *filename, const char *mode);. </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00261">TargetLibraryInfo.h:261</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a2bd9c876be050d32ff622ef5b562bb4e"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a2bd9c876be050d32ff622ef5b562bb4e">llvm::sys::Process::FileDescriptorIsDisplayed</a></div><div class="ttdeci">static bool FileDescriptorIsDisplayed(int fd)</div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fabfb31dee0c9fd92ee15fe21e6b35b544"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fabfb31dee0c9fd92ee15fe21e6b35b544">llvm::LibFunc::fclose</a></div><div class="ttdoc">int fclose(FILE *stream); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00221">TargetLibraryInfo.h:221</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1self__process_html_a2e0b8f48fe4106fa1d25c7da05bad514"><div class="ttname"><a href="classllvm_1_1sys_1_1self__process.html#a2e0b8f48fe4106fa1d25c7da05bad514">llvm::sys::self_process::get_id</a></div><div class="ttdeci">virtual id_type get_id()</div><div class="ttdoc">Get the operating system specific identifier for this process. </div></div>
<div class="ttc" id="classllvm_1_1Optional_html"><div class="ttname"><a href="classllvm_1_1Optional.html">llvm::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00031">Optional.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_ae688bc9ea544596962674ee94437ec00"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#ae688bc9ea544596962674ee94437ec00">llvm::sys::Process::ColorNeedsFlush</a></div><div class="ttdeci">static bool ColorNeedsFlush()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a59ce5f725a85d10ff56bfa6128c5c2bc"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a59ce5f725a85d10ff56bfa6128c5c2bc">llvm::sys::Process::OutputReverse</a></div><div class="ttdeci">static const char * OutputReverse()</div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; const char * &gt;</a></div></div>
<div class="ttc" id="Process_8cpp_html_a2059a2c76858f8a2381733bd08fff2d8"><div class="ttname"><a href="Process_8cpp.html#a2059a2c76858f8a2381733bd08fff2d8">colorcodes</a></div><div class="ttdeci">static const char colorcodes[2][2][8][10]</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00096">Process.cpp:96</a></div></div>
<div class="ttc" id="MachineBlockPlacement_8cpp_html_a086f939e29b718dc5a01e4bcfe6af2a1"><div class="ttname"><a href="MachineBlockPlacement_8cpp.html#a086f939e29b718dc5a01e4bcfe6af2a1">Stats</a></div><div class="ttdeci">block placement Basic Block Placement Stats</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockPlacement_8cpp_source.html#l01169">MachineBlockPlacement.cpp:1169</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ad96b7cf3182ce2ba85e5a7a93b12c441"><div class="ttname"><a href="MD5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a></div><div class="ttdeci">#define G(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00052">MD5.cpp:52</a></div></div>
<div class="ttc" id="MutexGuard_8h_html"><div class="ttname"><a href="MutexGuard_8h.html">MutexGuard.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa3097808400d5ed1956e2b10e0456ac26"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa3097808400d5ed1956e2b10e0456ac26">llvm::LibFunc::atoi</a></div><div class="ttdoc">int atoi(const char *str); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00137">TargetLibraryInfo.h:137</a></div></div>
<div class="ttc" id="Hashing_8h_html"><div class="ttname"><a href="Hashing_8h.html">Hashing.h</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_ad2aac231a0752ab9d6c3d7bae48f7adc"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#ad2aac231a0752ab9d6c3d7bae48f7adc">llvm::sys::Process::StandardInIsUserInput</a></div><div class="ttdeci">static bool StandardInIsUserInput()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_ab2af58ec26c804a6836864d970c78df1"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#ab2af58ec26c804a6836864d970c78df1">llvm::sys::Process::StandardOutIsDisplayed</a></div><div class="ttdeci">static bool StandardOutIsDisplayed()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a6f01fd2553456500f600d83db62c6932"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a6f01fd2553456500f600d83db62c6932">llvm::sys::Process::UseANSIEscapeCodes</a></div><div class="ttdeci">static void UseANSIEscapeCodes(bool enable)</div></div>
<div class="ttc" id="classllvm_1_1MutexGuard_html"><div class="ttname"><a href="classllvm_1_1MutexGuard.html">llvm::MutexGuard</a></div><div class="ttdoc">Guard a section of code with a Mutex. </div><div class="ttdef"><b>Definition:</b> <a href="MutexGuard_8h_source.html#l00027">MutexGuard.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_ab21a24de36e15ce39ddb32192ff723ef"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#ab21a24de36e15ce39ddb32192ff723ef">llvm::sys::Process::StandardOutColumns</a></div><div class="ttdeci">static unsigned StandardOutColumns()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a6b2b01689088d887452341a4e053bf4c"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a6b2b01689088d887452341a4e053bf4c">llvm::sys::Process::GetTimeUsage</a></div><div class="ttdeci">static void GetTimeUsage(TimeValue &amp;elapsed, TimeValue &amp;user_time, TimeValue &amp;sys_time)</div></div>
<div class="ttc" id="namespacellvm_html_a2b33f2166f38124ec3081c2fd59672f7"><div class="ttname"><a href="namespacellvm.html#a2b33f2166f38124ec3081c2fd59672f7">llvm::hash_combine</a></div><div class="ttdeci">hash_code hash_combine(const T1 &amp;arg1, const T2 &amp;arg2, const T3 &amp;arg3, const T4 &amp;arg4, const T5 &amp;arg5, const T6 &amp;arg6)</div><div class="ttdef"><b>Definition:</b> <a href="Hashing_8h_source.html#l00674">Hashing.h:674</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1self__process_html_a2b43f2082bbb208b7ee8a9787e94f96b"><div class="ttname"><a href="classllvm_1_1sys_1_1self__process.html#a2b43f2082bbb208b7ee8a9787e94f96b">llvm::sys::self_process::get_user_time</a></div><div class="ttdeci">virtual TimeValue get_user_time() const </div><div class="ttdoc">Get the user time consumed by this process. </div></div>
<div class="ttc" id="classllvm_1_1error__code_html"><div class="ttname"><a href="classllvm_1_1error__code.html">llvm::error_code</a></div><div class="ttdef"><b>Definition:</b> <a href="system__error_8h_source.html#l00726">system_error.h:726</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a836367b39ed630bf14db99923c22740e"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00097">ArrayRef.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1process_html_a7ed58565c1c2d51cebd4beba16cc606c"><div class="ttname"><a href="classllvm_1_1sys_1_1process.html#a7ed58565c1c2d51cebd4beba16cc606c">llvm::sys::process::id_type</a></div><div class="ttdeci">pid_t id_type</div><div class="ttdoc">Operating system specific type to identify a process. </div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00063">Process.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a669d55980a7d4b6307b94596deeb0b1f"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a669d55980a7d4b6307b94596deeb0b1f">llvm::SmallVectorImpl::append</a></div><div class="ttdeci">void append(in_iter in_start, in_iter in_end)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00445">SmallVector.h:445</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_aefb2b72e3e500a8b559e5d8c265b40e6"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#aefb2b72e3e500a8b559e5d8c265b40e6">llvm::sys::Process::GetMallocUsage</a></div><div class="ttdeci">static size_t GetMallocUsage()</div><div class="ttdoc">Return process memory usage. This static function will return the total amount of memory allocated by...</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a30f5096a2364f58d967775a553c1143b"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a30f5096a2364f58d967775a553c1143b">llvm::sys::Process::StandardErrIsDisplayed</a></div><div class="ttdeci">static bool StandardErrIsDisplayed()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a044be33f2a65605a957e19d5e8d549a5"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a044be33f2a65605a957e19d5e8d549a5">llvm::sys::Process::PreventCoreFiles</a></div><div class="ttdeci">static void PreventCoreFiles()</div><div class="ttdoc">Prevent core file generation. </div></div>
<div class="ttc" id="StringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="Mutex_8h_html"><div class="ttname"><a href="Mutex_8h.html">Mutex.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="README-Thumb_8txt_html_a5d98a8b5139e56ebf0d2ff4cbaa0dc5e"><div class="ttname"><a href="README-Thumb_8txt.html#a5d98a8b5139e56ebf0d2ff4cbaa0dc5e">code</a></div><div class="ttdeci">*Add support for compiling functions in both ARM and Thumb then taking the smallest *Add support for compiling individual basic blocks in thumb when in a larger ARM function This can be used for presumed cold code</div><div class="ttdef"><b>Definition:</b> <a href="README-Thumb_8txt_source.html#l00005">README-Thumb.txt:5</a></div></div>
<div class="ttc" id="TimeValue_8h_html"><div class="ttname"><a href="TimeValue_8h.html">TimeValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a89927683c57b686c4694bbc0ee822653"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a89927683c57b686c4694bbc0ee822653">llvm::sys::Process::StandardErrColumns</a></div><div class="ttdeci">static unsigned StandardErrColumns()</div></div>
<div class="ttc" id="classllvm_1_1SpecificBumpPtrAllocator_html"><div class="ttname"><a href="classllvm_1_1SpecificBumpPtrAllocator.html">llvm::SpecificBumpPtrAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00190">Allocator.h:190</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a2512fe676260dcee1c2ba5e917dad4aa"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a2512fe676260dcee1c2ba5e917dad4aa">llvm::sys::Process::StandardOutHasColors</a></div><div class="ttdeci">static bool StandardOutHasColors()</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1TimeValue_html_a3db964c7a5ccab6109c9e29842927ff9ad80545c0a7b3422494512c1ec804239e"><div class="ttname"><a href="classllvm_1_1sys_1_1TimeValue.html#a3db964c7a5ccab6109c9e29842927ff9ad80545c0a7b3422494512c1ec804239e">llvm::sys::TimeValue::NANOSECONDS_PER_MICROSECOND</a></div><div class="ttdoc">One Thousand. </div><div class="ttdef"><b>Definition:</b> <a href="TimeValue_8h_source.html#l00075">TimeValue.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a92b058c34d04f6d0adf6eac3060343c6"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a92b058c34d04f6d0adf6eac3060343c6">llvm::sys::Process::GetRandomNumber</a></div><div class="ttdeci">static unsigned GetRandomNumber()</div></div>
<div class="ttc" id="classllvm_1_1error__code_html_ab1dc74db82ce9421e6c5f5f4df574aa8"><div class="ttname"><a href="classllvm_1_1error__code.html#ab1dc74db82ce9421e6c5f5f4df574aa8">llvm::error_code::success</a></div><div class="ttdeci">static error_code success()</div><div class="ttdef"><b>Definition:</b> <a href="system__error_8h_source.html#l00732">system_error.h:732</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_a9584d189dda87689574211bf04472cf0"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#a9584d189dda87689574211bf04472cf0">llvm::sys::Process::GetArgumentVector</a></div><div class="ttdeci">static error_code GetArgumentVector(SmallVectorImpl&lt; const char * &gt; &amp;Args, ArrayRef&lt; const char * &gt; ArgsFromMain, SpecificBumpPtrAllocator&lt; char &gt; &amp;ArgAllocator)</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1self__process_html_a5d9a1d2260e60329f307ebf719365ce1"><div class="ttname"><a href="classllvm_1_1sys_1_1self__process.html#a5d9a1d2260e60329f307ebf719365ce1">llvm::sys::self_process::page_size</a></div><div class="ttdeci">size_t page_size() const </div><div class="ttdoc">Get the virtual memory page size. </div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00124">Process.h:124</a></div></div>
<div class="ttc" id="Unix_8h_html"><div class="ttname"><a href="Unix_8h.html">Unix.h</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_ade3729c00ce63236e357eef613ea88fa"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#ade3729c00ce63236e357eef613ea88fa">llvm::sys::Process::OutputBold</a></div><div class="ttdeci">static const char * OutputBold(bool bg)</div><div class="ttdoc">Same as OutputColor, but only enables the bold attribute. </div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa933f45acaa00c314222b4b2b46a7927c">llvm::LibFunc::getenv</a></div><div class="ttdoc">char *getenv(const char *name); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00318">TargetLibraryInfo.h:318</a></div></div>
<div class="ttc" id="namespacellvm_html_a7dc3e2c002713fec56bdbf16aa704576"><div class="ttname"><a href="namespacellvm.html#a7dc3e2c002713fec56bdbf16aa704576">llvm::tie</a></div><div class="ttdeci">tier&lt; T1, T2 &gt; tie(T1 &amp;f, T2 &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00216">STLExtras.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1Process_html_aae75de3fbd8b698524dde51b7ff5fd1d"><div class="ttname"><a href="classllvm_1_1sys_1_1Process.html#aae75de3fbd8b698524dde51b7ff5fd1d">llvm::sys::Process::GetEnv</a></div><div class="ttdeci">static Optional&lt; std::string &gt; GetEnv(StringRef name)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:51 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
