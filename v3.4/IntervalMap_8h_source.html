<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: IntervalMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('IntervalMap_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">IntervalMap.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="IntervalMap_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- llvm/ADT/IntervalMap.h - A sorted interval map -----------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements a coalescing interval map for small objects.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// KeyT objects are mapped to ValT objects. Intervals of keys that map to the</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// same value are represented in a compressed form.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// Iterators provide ordered access to the compressed intervals rather than the</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// individual keys, and insert and erase operations use key intervals as well.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// Like SmallVector, IntervalMap will store the first N intervals in the map</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// object itself without any allocations. When space is exhausted it switches to</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// a B+-tree representation with very small overhead for small key and value</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// objects.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// A Traits class specifies how keys are compared. It also allows IntervalMap to</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// work with both closed and half-open intervals.</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// Keys and values are not stored next to each other in a std::pair, so we don&#39;t</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// provide such a value_type. Dereferencing iterators only returns the mapped</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// value. The interval bounds are accessible through the start() and stop()</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// iterator methods.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// IntervalMap is optimized for small key and value objects, 4 or 8 bytes each</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// is the optimal size. For large objects use std::map instead.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// Synopsis:</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// template &lt;typename KeyT, typename ValT, unsigned N, typename Traits&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// class IntervalMap {</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// public:</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//   typedef KeyT key_type;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//   typedef ValT mapped_type;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//   typedef RecyclingAllocator&lt;...&gt; Allocator;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//   class iterator;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//   class const_iterator;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//   explicit IntervalMap(Allocator&amp;);</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//   ~IntervalMap():</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//   bool empty() const;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//   KeyT start() const;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//   KeyT stop() const;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//   ValT lookup(KeyT x, Value NotFound = Value()) const;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//   const_iterator begin() const;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//   const_iterator end() const;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">//   iterator begin();</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//   iterator end();</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//   const_iterator find(KeyT x) const;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//   iterator find(KeyT x);</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//   void insert(KeyT a, KeyT b, ValT y);</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//   void clear();</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// };</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// template &lt;typename KeyT, typename ValT, unsigned N, typename Traits&gt;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// class IntervalMap::const_iterator :</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//   public std::iterator&lt;std::bidirectional_iterator_tag, ValT&gt; {</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// public:</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//   bool operator==(const const_iterator &amp;) const;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//   bool operator!=(const const_iterator &amp;) const;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//   bool valid() const;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//   const KeyT &amp;start() const;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//   const KeyT &amp;stop() const;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//   const ValT &amp;value() const;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//   const ValT &amp;operator*() const;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//   const ValT *operator-&gt;() const;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//   const_iterator &amp;operator++();</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//   const_iterator &amp;operator++(int);</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">//   const_iterator &amp;operator--();</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//   const_iterator &amp;operator--(int);</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//   void goToBegin();</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//   void goToEnd();</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//   void find(KeyT x);</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//   void advanceTo(KeyT x);</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">// };</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// template &lt;typename KeyT, typename ValT, unsigned N, typename Traits&gt;</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// class IntervalMap::iterator : public const_iterator {</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// public:</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//   void insert(KeyT a, KeyT b, Value y);</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//   void erase();</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// };</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifndef LLVM_ADT_INTERVALMAP_H</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#define LLVM_ADT_INTERVALMAP_H</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PointerIntPair_8h.html">llvm/ADT/PointerIntPair.h</a>&quot;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Allocator_8h.html">llvm/Support/Allocator.h</a>&quot;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RecyclingAllocator_8h.html">llvm/Support/RecyclingAllocator.h</a>&quot;</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//---                              Key traits                              ---//</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// The IntervalMap works with closed or half-open intervals.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// Adjacent intervals that map to the same value are coalesced.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">// The IntervalMapInfo traits class is used to determine if a key is contained</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">// in an interval, and if two intervals are adjacent so they can be coalesced.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// The provided implementation works for closed integer intervals, other keys</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">// probably need a specialized version.</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// The point x is contained in [a;b] when !startLess(x, a) &amp;&amp; !stopLess(b, x).</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">// It is assumed that (a;b] half-open intervals are not used, only [a;b) is</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">// allowed. This is so that stopLess(a, b) can be used to determine if two</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">// intervals overlap.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapInfo.html">  132</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1IntervalMapInfo.html">IntervalMapInfo</a> {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">  /// startLess - Return true if x is not in [a;b].</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">  /// This is x &lt; a both for closed intervals and for [a;b) half-open intervals.</span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapInfo.html#a2df1e86c9dbc6e42b1ddd61bd971c125">  136</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapInfo.html#a2df1e86c9dbc6e42b1ddd61bd971c125">startLess</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> x &lt; <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">  /// stopLess - Return true if x is not in [a;b].</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">  /// This is b &lt; x for a closed interval, b &lt;= x for [a;b) half-open intervals.</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapInfo.html#addf29fc41435ca95da5e142086eac11c">  142</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapInfo.html#addf29fc41435ca95da5e142086eac11c">stopLess</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> b &lt; <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// adjacent - Return true when the intervals [x;a] and [b;y] can coalesce.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  /// This is a+1 == b for closed intervals, a == b for half-open intervals.</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapInfo.html#a881856fadba2f2683cbab155f0243311">  148</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapInfo.html#a881856fadba2f2683cbab155f0243311">adjacent</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> a+1 == <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapHalfOpenInfo.html">  155</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1IntervalMapHalfOpenInfo.html">IntervalMapHalfOpenInfo</a> {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">  /// startLess - Return true if x is not in [a;b).</span></div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapHalfOpenInfo.html#a20adb85b25d2fc3aea987343f828300c">  158</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapHalfOpenInfo.html#a20adb85b25d2fc3aea987343f828300c">startLess</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> x &lt; <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  /// stopLess - Return true if x is not in [a;b).</span></div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapHalfOpenInfo.html#ae3ebdb2202a4f4f1586a93ccf6764309">  163</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapHalfOpenInfo.html#ae3ebdb2202a4f4f1586a93ccf6764309">stopLess</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> b &lt;= <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  /// adjacent - Return true when the intervals [x;a) and [b;y) can coalesce.</span></div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapHalfOpenInfo.html#a84f9997a78b9bf6436f5cfd30eef254b">  168</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1IntervalMapHalfOpenInfo.html#a84f9997a78b9bf6436f5cfd30eef254b">adjacent</a>(<span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <span class="keyword">const</span> <a class="code" href="classT.html">T</a> &amp;<a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> a == <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;};</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// IntervalMapImpl - Namespace used for IntervalMap implementation details.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/// It should be considered private to the implementation.</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html">  176</a></span>&#160;<span class="comment"></span><span class="keyword">namespace </span>IntervalMapImpl {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">// Forward declarations.</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">  179</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>, <span class="keyword">typename</span>, <span class="keywordtype">unsigned</span>, <span class="keyword">typename</span>&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">LeafNode</a>;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">  180</a></span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>, <span class="keyword">typename</span>, <span class="keywordtype">unsigned</span>, <span class="keyword">typename</span>&gt; <span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">BranchNode</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">typedef</span> std::pair&lt;unsigned,unsigned&gt; <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IdxPair</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">//---                    IntervalMapImpl::NodeBase                         ---//</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">// Both leaf and branch nodes store vectors of pairs.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">// Leaves store ((KeyT, KeyT), ValT) pairs, branches use (NodeRef, KeyT).</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">// Keys and values are stored in separate arrays to avoid padding caused by</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">// different object alignments. This also helps improve locality of reference</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">// when searching the keys.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">// The nodes don&#39;t know how many elements they contain - that information is</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// stored elsewhere. Omitting the size field prevents padding and allows a node</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">// to fill the allocated cache lines completely.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">// These are typical key and value sizes, the node branching factor (N), and</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">// wasted space when nodes are sized to fit in three cache lines (192 bytes):</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">//   T1  T2   N Waste  Used by</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">//    4   4  24   0    Branch&lt;4&gt; (32-bit pointers)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">//    8   4  16   0    Leaf&lt;4,4&gt;, Branch&lt;4&gt;</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">//    8   8  12   0    Leaf&lt;4,8&gt;, Branch&lt;8&gt;</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">//   16   4   9  12    Leaf&lt;8,4&gt;</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">//   16   8   8   0    Leaf&lt;8,8&gt;</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keywordtype">unsigned</span> N&gt;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">  213</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a> {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#af4603902fd0ddf735c07cb04da03d768a74f2c33ce3e0825467bda50093ea0003">  215</a></span>&#160;  <span class="keyword">enum</span> { Capacity = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> };</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a56d3e243604b73a27ffb7929cdf71922">  217</a></span>&#160;  <a class="code" href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a> first[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>];</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a4d45826116f9f6e37ceed4b3ad9c2b3e">  218</a></span>&#160;  T2 second[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>];</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">  /// copy - Copy elements from another node.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// @param Other Node elements are copied from.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// @param i     Beginning of the source range in other.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  /// @param j     Beginning of the destination range in this.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  /// @param Count Number of elements to copy.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> M&gt;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">  226</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">copy</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase&lt;T1, T2, M&gt;</a> &amp;Other, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">unsigned</span> Count) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    assert(i + Count &lt;= <a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &amp;&amp; <span class="stringliteral">&quot;Invalid source range&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    assert(j + Count &lt;= <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Invalid dest range&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> e = i + Count; i != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      first[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>]  = Other.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a56d3e243604b73a27ffb7929cdf71922">first</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      second[<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>] = Other.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a4d45826116f9f6e37ceed4b3ad9c2b3e">second</a>[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  /// moveLeft - Move elements to the left.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  /// @param i     Beginning of the source range.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  /// @param j     Beginning of the destination range.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  /// @param Count Number of elements to copy.</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a08e57383fde63b9c4afa84ef93dcf59b">  240</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a08e57383fde63b9c4afa84ef93dcf59b">moveLeft</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">unsigned</span> Count) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    assert(j &lt;= i &amp;&amp; <span class="stringliteral">&quot;Use moveRight shift elements right&quot;</span>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    copy(*<span class="keyword">this</span>, i, j, Count);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">  /// moveRight - Move elements to the right.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">  /// @param i     Beginning of the source range.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">  /// @param j     Beginning of the destination range.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// @param Count Number of elements to copy.</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac39f13dd6ea8d7bed1ca4fdeeb409a39">  249</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac39f13dd6ea8d7bed1ca4fdeeb409a39">moveRight</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">unsigned</span> Count) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    assert(i &lt;= j &amp;&amp; <span class="stringliteral">&quot;Use moveLeft shift elements left&quot;</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    assert(j + Count &lt;= <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Invalid range&quot;</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">while</span> (Count--) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      first[j + Count]  = first[i + Count];</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      second[j + Count] = second[i + Count];</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">  /// erase - Erase elements [i;j).</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">  /// @param i    Beginning of the range to erase.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">  /// @param j    End of the range. (Exclusive).</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">  262</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">erase</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, <span class="keywordtype">unsigned</span> Size) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    moveLeft(j, i, Size - j);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  /// erase - Erase element at i.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  /// @param i    Index of element to erase.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac1350c0a110ad03ba5425d534c85b28d">  269</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac1350c0a110ad03ba5425d534c85b28d">erase</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> Size) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    erase(i, i+1, Size);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  /// shift - Shift elements [i;size) 1 position to the right.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  /// @param i    Beginning of the range to move.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a7bbe7cab7dbadc3d8849ac3cfe4162c1">  276</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a7bbe7cab7dbadc3d8849ac3cfe4162c1">shift</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> Size) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    moveRight(i, i + 1, Size - i);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  /// transferToLeftSib - Transfer elements to a left sibling node.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  /// @param Size  Number of elements in this.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  /// @param Sib   Left sibling node.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  /// @param SSize Number of elements in sib.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  /// @param Count Number of elements to transfer.</span></div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a1f3758be51b1c7b31dd35602d524df95">  285</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a1f3758be51b1c7b31dd35602d524df95">transferToLeftSib</a>(<span class="keywordtype">unsigned</span> Size, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a> &amp;Sib, <span class="keywordtype">unsigned</span> SSize,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                         <span class="keywordtype">unsigned</span> Count) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    Sib.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">copy</a>(*<span class="keyword">this</span>, 0, SSize, Count);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    erase(0, Count, Size);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /// transferToRightSib - Transfer elements to a right sibling node.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">  /// @param Size  Number of elements in this.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  /// @param Sib   Right sibling node.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">  /// @param SSize Number of elements in sib.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">  /// @param Count Number of elements to transfer.</span></div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#abed52bd8600aaa49567ed0f533cbf1d0">  296</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#abed52bd8600aaa49567ed0f533cbf1d0">transferToRightSib</a>(<span class="keywordtype">unsigned</span> Size, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a> &amp;Sib, <span class="keywordtype">unsigned</span> SSize,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                          <span class="keywordtype">unsigned</span> Count) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Sib.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac39f13dd6ea8d7bed1ca4fdeeb409a39">moveRight</a>(0, Count, SSize);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    Sib.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">copy</a>(*<span class="keyword">this</span>, Size-Count, 0, Count);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">  /// adjustFromLeftSib - Adjust the number if elements in this node by moving</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  /// elements to or from a left sibling node.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  /// @param Size  Number of elements in this.</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  /// @param Sib   Right sibling node.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  /// @param SSize Number of elements in sib.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">  /// @param Add   The number of elements to add to this node, possibly &lt; 0.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  /// @return      Number of elements added to this node, possibly negative.</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a70a77b0f022fde493ace11aab5d70101">  309</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a70a77b0f022fde493ace11aab5d70101">adjustFromLeftSib</a>(<span class="keywordtype">unsigned</span> Size, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a> &amp;Sib, <span class="keywordtype">unsigned</span> SSize, <span class="keywordtype">int</span> Add) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (Add &gt; 0) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="comment">// We want to grow, copy from sib.</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordtype">unsigned</span> Count = std::min(std::min(<span class="keywordtype">unsigned</span>(Add), SSize), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> - Size);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      Sib.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#abed52bd8600aaa49567ed0f533cbf1d0">transferToRightSib</a>(SSize, *<span class="keyword">this</span>, Size, Count);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">return</span> Count;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// We want to shrink, copy to sib.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordtype">unsigned</span> Count = std::min(std::min(<span class="keywordtype">unsigned</span>(-Add), Size), <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> - SSize);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      transferToLeftSib(Size, Sib, SSize, Count);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">return</span> -Count;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;};</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">/// IntervalMapImpl::adjustSiblingSizes - Move elements between sibling nodes.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">/// @param Node  Array of pointers to sibling nodes.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/// @param Nodes Number of nodes.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">/// @param CurSize Array of current node sizes, will be overwritten.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/// @param NewSize Array of desired node sizes.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html#a1edda7c684a88b0c8aa8480aa869451b">  330</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a1edda7c684a88b0c8aa8480aa869451b">adjustSiblingSizes</a>(NodeT *Node[], <span class="keywordtype">unsigned</span> Nodes,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        <span class="keywordtype">unsigned</span> CurSize[], <span class="keyword">const</span> <span class="keywordtype">unsigned</span> NewSize[]) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Move elements right.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = Nodes - 1; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>; --<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (CurSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] == NewSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>])</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = n - 1; m != -1; --m) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a> = Node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>]-&gt;adjustFromLeftSib(CurSize[n], *Node[m], CurSize[m],</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                         NewSize[n] - CurSize[n]);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      CurSize[m] -= <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      CurSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] += <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// Keep going if the current node was exhausted.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">if</span> (CurSize[n] &gt;= NewSize[n])</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">if</span> (Nodes == 0)</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Move elements left.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes - 1; ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (CurSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] == NewSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>])</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> m = n + 1; m != Nodes; ++m) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a> = Node[m]-&gt;adjustFromLeftSib(CurSize[m], *Node[n], CurSize[n],</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                        CurSize[n] -  NewSize[n]);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      CurSize[m] += <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      CurSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] -= <a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// Keep going if the current node was exhausted.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">if</span> (CurSize[n] &gt;= NewSize[n])</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>++)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    assert(CurSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] == NewSize[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] &amp;&amp; <span class="stringliteral">&quot;Insufficient element shuffle&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">/// IntervalMapImpl::distribute - Compute a new distribution of node elements</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/// after an overflow or underflow. Reserve space for a new element at Position,</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">/// and compute the node that will hold Position after redistributing node</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">/// elements.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">/// It is required that</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">///   Elements == sum(CurSize), and</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">///   Elements + Grow &lt;= Nodes * Capacity.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">/// NewSize[] will be filled in such that:</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">///   sum(NewSize) == Elements, and</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">///   NewSize[i] &lt;= Capacity.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/// The returned index is the node where Position will go, so:</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">///   sum(NewSize[0..idx-1]) &lt;= Position</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">///   sum(NewSize[0..idx])   &gt;= Position</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/// The last equality, sum(NewSize[0..idx]) == Position, can only happen when</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/// Grow is set and NewSize[idx] == Capacity-1. The index points to the node</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">/// before the one holding the Position&#39;th element where there is room for an</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">/// insertion.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/// @param Nodes    The number of nodes.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/// @param Elements Total elements in all nodes.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/// @param Capacity The capacity of each node.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/// @param CurSize  Array[Nodes] of current node sizes, or NULL.</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">/// @param NewSize  Array[Nodes] to receive the new node sizes.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/// @param Position Insert position.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/// @param Grow     Reserve space for a new element at Position.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">/// @return         (node, offset) for Position.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span>IdxPair <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#adc507d70d9385ae35dcdb70dc1bebc19">distribute</a>(<span class="keywordtype">unsigned</span> Nodes, <span class="keywordtype">unsigned</span> Elements, <span class="keywordtype">unsigned</span> Capacity,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> *CurSize, <span class="keywordtype">unsigned</span> NewSize[],</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                   <span class="keywordtype">unsigned</span> Position, <span class="keywordtype">bool</span> Grow);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//---                   IntervalMapImpl::NodeSizer                         ---//</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">// Compute node sizes from key and value types.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// The branching factors are chosen to make nodes fit in three cache lines.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// This may not be possible if keys or values are very large. Such large objects</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">// are handled correctly, but a std::map would probably give better performance.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// Cache line size. Most architectures have 32 or 64 byte cache lines.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// We use 64 bytes here because it provides good branching factors.</span></div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce">  424</a></span>&#160;  <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce">Log2CacheLine</a> = 6,</div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">  425</a></span>&#160;  <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">CacheLineBytes</a> = 1 &lt;&lt; <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce">Log2CacheLine</a>,</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27ab4675b39ebff7a48b8f66be1e97f1575">  426</a></span>&#160;  <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27ab4675b39ebff7a48b8f66be1e97f1575">DesiredNodeBytes</a> = 3 * <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">CacheLineBytes</a></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;};</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT&gt;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">  430</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">NodeSizer</a> {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// Compute the leaf node branching factor that makes a node fit in three</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// cache lines. The branching factor must be at least 3, or some B+-tree</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// balancing algorithms won&#39;t work.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// LeafSize can&#39;t be larger than CacheLineBytes. This is required by the</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// PointerIntPair used by NodeRef.</span></div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#ab86a6c119f936ef12762b33a9b67cdeea4b7f7a78f45c7857075a626ec568aaf2">  437</a></span>&#160;    DesiredLeafSize = <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27ab4675b39ebff7a48b8f66be1e97f1575">DesiredNodeBytes</a> /</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(2*<span class="keyword">sizeof</span>(<a class="code" href="classKeyT.html">KeyT</a>)+<span class="keyword">sizeof</span>(<a class="code" href="classValT.html">ValT</a>)),</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#ab86a6c119f936ef12762b33a9b67cdeea564c0636d62bb13206f747e41d196b0c">  439</a></span>&#160;    MinLeafSize = 3,</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    LeafSize = DesiredLeafSize &gt; MinLeafSize ? DesiredLeafSize : MinLeafSize</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  };</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a0d5ae5c295939d7f5039c1253c6ef753">  443</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase&lt;std::pair&lt;KeyT, KeyT&gt;</a>, <a class="code" href="classValT.html">ValT</a>, LeafSize&gt; <a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a0d5ae5c295939d7f5039c1253c6ef753">LeafBase</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// Now that we have the leaf branching factor, compute the actual allocation</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// unit size by rounding up to a whole number of cache lines.</span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a3826a690950e4cd732bd15c42d358dfeab4c056134ee40aa410405f64fe7364d1">  448</a></span>&#160;    AllocBytes = (<span class="keyword">sizeof</span>(LeafBase) + <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">CacheLineBytes</a>-1) &amp; ~(<a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">CacheLineBytes</a>-1),</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// Determine the branching factor for branch nodes.</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a3826a690950e4cd732bd15c42d358dfea79ed6f627e6df1b1833064f6ead08c97">  451</a></span>&#160;    BranchSize = AllocBytes /</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      static_cast&lt;unsigned&gt;(<span class="keyword">sizeof</span>(<a class="code" href="classKeyT.html">KeyT</a>) + <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*))</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  };</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">  /// Allocator - The recycling allocator used for both branch and leaf nodes.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">  /// This typedef is very likely to be identical for all IntervalMaps with</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">  /// reasonably sized entries, so the same allocator can be shared among</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">  /// different kinds of maps.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1RecyclingAllocator.html">RecyclingAllocator</a>&lt;<a class="code" href="classllvm_1_1BumpPtrAllocator.html">BumpPtrAllocator</a>, char,</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a98b25dfe8d1491e2fa278afc22cf00db">  460</a></span>&#160;                             AllocBytes, <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">CacheLineBytes</a>&gt; <a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a98b25dfe8d1491e2fa278afc22cf00db">Allocator</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;};</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">//---                     IntervalMapImpl::NodeRef                         ---//</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">// B+-tree nodes can be leaves or branches, so we need a polymorphic node</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// pointer that can point to both kinds.</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">// All nodes are cache line aligned and the low 6 bits of a node pointer are</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">// always 0. These bits are used to store the number of elements in the</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">// referenced node. Besides saving space, placing node sizes in the parents</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">// allow tree balancing algorithms to run without faulting cache lines for nodes</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">// that may not need to be modified.</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">// A NodeRef doesn&#39;t know whether it references a leaf node or a branch node.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">// It is the responsibility of the caller to use the correct types.</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">// Nodes are never supposed to be empty, and it is invalid to store a node size</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">// of 0 in a NodeRef. The valid range of sizes is 1-64.</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">  486</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keyword">struct </span>CacheAlignedPointerTraits {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *getAsVoidPointer(<span class="keywordtype">void</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) { <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>; }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *getFromVoidPointer(<span class="keywordtype">void</span> *P) { <span class="keywordflow">return</span> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>; }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keyword">enum</span> { NumLowBitsAvailable = <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce">Log2CacheLine</a> };</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  };</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="classllvm_1_1PointerIntPair.html">PointerIntPair&lt;void*, Log2CacheLine, unsigned, CacheAlignedPointerTraits&gt;</a> pip;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">  /// NodeRef - Create a null ref.</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#ad78f3b51c6072c24a35fc1e435b6a163">  496</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#ad78f3b51c6072c24a35fc1e435b6a163">NodeRef</a>() {}</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">  /// operator bool - Detect a null ref.</span></div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a762c85f42dd096812452620d877f88ab">  499</a></span>&#160;<span class="comment"></span>  <a class="code" href="Compiler_8h.html#a491a1f8e7aa0ef8681c1b5b5da3d6a49">LLVM_EXPLICIT</a> <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a51d39f396d417f1bd9a2cc278cb8ba0c">getOpaqueValue</a>(); }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">  /// NodeRef - Create a reference to the node p with n elements.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt;</div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a916193f0e3cec258fe66c65c439de083">  503</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a916193f0e3cec258fe66c65c439de083">NodeRef</a>(NodeT *<a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>, <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) : pip(p, n - 1) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    assert(n &lt;= NodeT::Capacity &amp;&amp; <span class="stringliteral">&quot;Size too big for node&quot;</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">  /// size - Return the number of elements in the referenced node.</span></div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a88007711878dad632ddf3b39d2e92a5a">  508</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a88007711878dad632ddf3b39d2e92a5a">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> pip.<a class="code" href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">getInt</a>() + 1; }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">  /// setSize - Update the node size.</span></div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a681d9ddb7d9204b40a7c425a600a3233">  511</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a681d9ddb7d9204b40a7c425a600a3233">setSize</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) { pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a725b89e7964f33d7dfeb38dfe00a45f8">setInt</a>(n - 1); }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">  /// subtree - Access the i&#39;th subtree reference in a branch node.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">  /// This depends on branch nodes storing the NodeRef array as their first</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">  /// member.</span></div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">  516</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">subtree</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a>*<span class="keyword">&gt;</span>(pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>())[i];</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">  /// get - Dereference as a NodeT reference.</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">  522</a></span>&#160;  NodeT &amp;<span class="keyword">get</span>() <span class="keyword">const</span> {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>NodeT*<span class="keyword">&gt;</span>(pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#af674ca1316a7f725e3ee42c4c35eaaff">  526</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#af674ca1316a7f725e3ee42c4c35eaaff">operator==</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (pip == RHS.pip)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    assert(pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() != RHS.pip.<a class="code" href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">getPointer</a>() &amp;&amp; <span class="stringliteral">&quot;Inconsistent NodeRefs&quot;</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a7ef44ea266e1d80c6c04ef5a1d0e0b3b">  533</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a7ef44ea266e1d80c6c04ef5a1d0e0b3b">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="namespacellvm.html#a162c90bc179a6359438d060722bee35f">operator==</a>(RHS);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;};</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">//---                      IntervalMapImpl::LeafNode                       ---//</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">// Leaf nodes store up to N disjoint intervals with corresponding values.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">// The intervals are kept sorted and fully coalesced so there are no adjacent</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">// intervals mapping to the same value.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">// These constraints are always satisfied:</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">// - Traits::stopLess(start(i), stop(i))    - Non-empty, sane intervals.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">// - Traits::stopLess(stop(i), start(i + 1) - Sorted.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">// - value(i) != value(i + 1) || !Traits::adjacent(stop(i), start(i + 1))</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">//                                          - Fully coalesced.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">LeafNode</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a>&lt;std::pair&lt;KeyT, KeyT&gt;, ValT, N&gt; {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">  561</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first; }</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">  562</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second; }</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">  563</a></span>&#160;  <span class="keyword">const</span> ValT &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a7f3edc193f92e2dceb8cd1fcab8c22ea">  565</a></span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a7f3edc193f92e2dceb8cd1fcab8c22ea">start</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first; }</div><div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a02f3b04989950f906fa5a9be5629d1c7">  566</a></span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a02f3b04989950f906fa5a9be5629d1c7">stop</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].second; }</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a63cfcd5342f10be614aa7b2e26e345f4">  567</a></span>&#160;  ValT &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a63cfcd5342f10be614aa7b2e26e345f4">value</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> this-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">  /// findFrom - Find the first interval after i that may contain x.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">  /// @param i    Starting index for the search.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">  /// @param x    Key to search for.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">  /// @return     First index with !stopLess(key[i].stop, x), or size.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">  ///             This is the first interval that can possibly contain x.</span></div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#aa985e833e8285bdff17eeb00536a9120">  575</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#aa985e833e8285bdff17eeb00536a9120">findFrom</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    assert(i &lt;= Size &amp;&amp; Size &lt;= <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Bad indices&quot;</span>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    assert((i == 0 || Traits::stopLess(stop(i - 1), x)) &amp;&amp;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;           <span class="stringliteral">&quot;Index is past the needed point&quot;</span>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">while</span> (i != Size &amp;&amp; Traits::stopLess(stop(i), x)) ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">  /// safeFind - Find an interval that is known to exist. This is the same as</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">  /// findFrom except is it assumed that x is at least within range of the last</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">  /// interval.</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">  /// @param i Starting index for the search.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">  /// @param x Key to search for.</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">  /// @return  First index with !stopLess(key[i].stop, x), never size.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">  ///          This is the first interval that can possibly contain x.</span></div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a720d259e041e9f9cdd9cfb1f5354f7c9">  590</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a720d259e041e9f9cdd9cfb1f5354f7c9">safeFind</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    assert(i &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Bad index&quot;</span>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    assert((i == 0 || Traits::stopLess(stop(i - 1), x)) &amp;&amp;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;           <span class="stringliteral">&quot;Index is past the needed point&quot;</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">while</span> (Traits::stopLess(stop(i), x)) ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    assert(i &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Unsafe intervals&quot;</span>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">  /// safeLookup - Lookup mapped value for a safe key.</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">  /// It is assumed that x is within range of the last entry.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">  /// @param x        Key to search for.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">  /// @param NotFound Value to return if x is not in any interval.</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">  /// @return         The mapped value at x or NotFound.</span></div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a3d414dde22d5689fbfa9048ec187352d">  604</a></span>&#160;<span class="comment"></span>  ValT <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a3d414dde22d5689fbfa9048ec187352d">safeLookup</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, ValT NotFound)<span class="keyword"> const </span>{</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = safeFind(0, x);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> Traits::startLess(x, start(i)) ? NotFound : value(i);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordtype">unsigned</span> insertFrom(<span class="keywordtype">unsigned</span> &amp;Pos, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;};</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/// insertFrom - Add mapping of [a;b] to y if possible, coalescing as much as</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/// possible. This may cause the node to grow by 1, or it may cause the node</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">/// to shrink because of coalescing.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">/// @param Pos  Starting index = insertFrom(0, size, a)</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">/// @param Size Number of elements in node.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">/// @param a    Interval start.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">/// @param b    Interval stop.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">/// @param y    Value be mapped.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">/// @return     (insert position, new size), or (i, Capacity+1) on overflow.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">LeafNode&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab0bd3e9464208516b824137ed7c70644">  623</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">insertFrom</a>(<span class="keywordtype">unsigned</span> &amp;Pos, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Pos;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  assert(i &lt;= Size &amp;&amp; Size &lt;= <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Invalid index&quot;</span>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  assert(!Traits::stopLess(b, a) &amp;&amp; <span class="stringliteral">&quot;Invalid interval&quot;</span>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">// Verify the findFrom invariant.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  assert((i == 0 || Traits::stopLess(stop(i - 1), a)));</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  assert((i == Size || !Traits::stopLess(stop(i), a)));</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  assert((i == Size || Traits::stopLess(b, start(i))) &amp;&amp; <span class="stringliteral">&quot;Overlapping insert&quot;</span>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// Coalesce with previous interval.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">if</span> (i &amp;&amp; value(i - 1) == y &amp;&amp; Traits::adjacent(stop(i - 1), a)) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    Pos = i - 1;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">// Also coalesce with next interval?</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (i != Size &amp;&amp; value(i) == y &amp;&amp; Traits::adjacent(b, start(i))) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      stop(i - 1) = stop(i);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      this-&gt;erase(i, Size);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordflow">return</span> Size - 1;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    stop(i - 1) = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span> Size;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// Detect overflow.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> (i == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + 1;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// Add new interval at end.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (i == Size) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    start(i) = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    stop(i) = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    value(i) = <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">return</span> Size + 1;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// Try to coalesce with following interval.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">if</span> (value(i) == y &amp;&amp; Traits::adjacent(b, start(i))) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    start(i) = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span> Size;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// We must insert before i. Detect overflow.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">if</span> (Size == <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> + 1;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// Insert before i.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  this-&gt;<a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>(i, Size);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  start(i) = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  stop(i) = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  value(i) = <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">return</span> Size + 1;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">//---                   IntervalMapImpl::BranchNode                        ---//</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">// A branch node stores references to 1--N subtrees all of the same height.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">// The key array in a branch node holds the rightmost stop key of each subtree.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">// It is redundant to store the last stop key since it can be found in the</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">// parent node, but doing so makes tree balancing a lot simpler.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">// It is unusual for a branch node to only have one subtree, but it can happen</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">// in the root node if it is smaller than the normal nodes.</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">// When all of the leaf nodes from all the subtrees are concatenated, they must</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">// satisfy the same constraints as a single leaf node. They must be sorted,</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">// sane, and fully coalesced.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">BranchNode</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">NodeBase</a>&lt;NodeRef, KeyT, N&gt; {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a4083c478094668a21cc7fb1c4c7c8699">  699</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a4083c478094668a21cc7fb1c4c7c8699">stop</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a7f04e2592ce58b637a44a5ba88b3df6e">  700</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a7f04e2592ce58b637a44a5ba88b3df6e">subtree</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aed07d31eff1a69ea96355c61e5904aa1">  702</a></span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aed07d31eff1a69ea96355c61e5904aa1">stop</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> this-&gt;second[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a97df09146b41d31d23d0ba06b6536700">  703</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a97df09146b41d31d23d0ba06b6536700">subtree</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> this-&gt;first[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">  /// findFrom - Find the first subtree after i that may contain x.</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">  /// @param i    Starting index for the search.</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">  /// @param x    Key to search for.</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">  /// @return     First index with !stopLess(key[i], x), or size.</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">  ///             This is the first subtree that can possibly contain x.</span></div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aefd7aefc00f7e9a4b90e936a5bb74b45">  711</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aefd7aefc00f7e9a4b90e936a5bb74b45">findFrom</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    assert(i &lt;= Size &amp;&amp; Size &lt;= <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Bad indices&quot;</span>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    assert((i == 0 || Traits::stopLess(stop(i - 1), x)) &amp;&amp;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;           <span class="stringliteral">&quot;Index to findFrom is past the needed point&quot;</span>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">while</span> (i != Size &amp;&amp; Traits::stopLess(stop(i), x)) ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">  /// safeFind - Find a subtree that is known to exist. This is the same as</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">  /// findFrom except is it assumed that x is in range.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">  /// @param i Starting index for the search.</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">  /// @param x Key to search for.</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">  /// @return  First index with !stopLess(key[i], x), never size.</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">  ///          This is the first subtree that can possibly contain x.</span></div><div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a303028cf442ac06b5765df63bff4ecec">  725</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a303028cf442ac06b5765df63bff4ecec">safeFind</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    assert(i &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Bad index&quot;</span>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    assert((i == 0 || Traits::stopLess(stop(i - 1), x)) &amp;&amp;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;           <span class="stringliteral">&quot;Index is past the needed point&quot;</span>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">while</span> (Traits::stopLess(stop(i), x)) ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    assert(i &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;Unsafe intervals&quot;</span>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">  /// safeLookup - Get the subtree containing x, Assuming that x is in range.</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">  /// @param x Key to search for.</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">  /// @return  Subtree containing x</span></div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#adbee537ca208112bb0a7818b13dba533">  737</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#adbee537ca208112bb0a7818b13dba533">safeLookup</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> subtree(safeFind(0, x));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">  /// insert - Insert a new (subtree, stop) pair.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">  /// @param i    Insert position, following entries will be shifted.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">  /// @param Size Number of elements in node.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">  /// @param Node Subtree to insert.</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">  /// @param Stop Last key in subtree.</span></div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#af8deb6d8a06cd57e8268aef054879101">  746</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#af8deb6d8a06cd57e8268aef054879101">insert</a>(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">unsigned</span> Size, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> Node, <a class="code" href="classKeyT.html">KeyT</a> Stop) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    assert(Size &lt; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &amp;&amp; <span class="stringliteral">&quot;branch node overflow&quot;</span>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    assert(i &lt;= Size &amp;&amp; <span class="stringliteral">&quot;Bad insert position&quot;</span>);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    this-&gt;<a class="code" href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a>(i, Size);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    subtree(i) = Node;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    stop(i) = Stop;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;};</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">//---                         IntervalMapImpl::Path                        ---//</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">// A Path is used by iterators to represent a position in a B+-tree, and the</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">// path to get there from the root.</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// The Path class also contains the tree navigation code that doesn&#39;t have to</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">// be templatized.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html">  767</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">Path</a> {<span class="comment"></span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">  /// Entry - Each step in the path is a node pointer and an offset into that</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">  /// node.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>Entry {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">unsigned</span> offset;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    Entry(<span class="keywordtype">void</span> *Node, <span class="keywordtype">unsigned</span> Size, <span class="keywordtype">unsigned</span> Offset)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      : <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>(Node), <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>(Size), offset(Offset) {}</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    Entry(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> Node, <span class="keywordtype">unsigned</span> Offset)</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      : <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>(&amp;Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">subtree</a>(0)), <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>(Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a88007711878dad632ddf3b39d2e92a5a">size</a>()), offset(Offset) {}</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;subtree(<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a>*<span class="keyword">&gt;</span>(<a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>)[i];</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  };</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">  /// path - The path entries, path[0] is the root node, path.back() is a leaf.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Entry, 4&gt;</a> path;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// Node accessors.</span></div><div class="line"><a name="l00791"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">  791</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt; NodeT &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">node</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>NodeT*<span class="keyword">&gt;</span>(path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].node);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">  794</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>; }</div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">  795</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].offset; }</div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#adf3d3e60a7486b0f8bf501db8d00b855">  796</a></span>&#160;  <span class="keywordtype">unsigned</span> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#adf3d3e60a7486b0f8bf501db8d00b855">offset</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>) { <span class="keywordflow">return</span> path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].offset; }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// Leaf accessors.</span></div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">  799</a></span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt; NodeT &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>NodeT*<span class="keyword">&gt;</span>(path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().node);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">  802</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">leafSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().size; }</div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">  803</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().offset; }</div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1ac0a858c492d8aa64d272896b471bec">  804</a></span>&#160;  <span class="keywordtype">unsigned</span> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1ac0a858c492d8aa64d272896b471bec">leafOffset</a>() { <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">back</a>().offset; }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">  /// valid - Return true if path is at a valid node, not at end().</span></div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">  807</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">valid</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">return</span> !path.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>() &amp;&amp; path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>().offset &lt; path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">front</a>().size;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">  /// height - Return the height of the tree corresponding to this path.</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">  /// This matches map-&gt;height in a full path.</span></div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6b5820c9b102b4ec10c419ed414b760c">  813</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6b5820c9b102b4ec10c419ed414b760c">height</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() - 1; }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">  /// subtree - Get the subtree referenced from Level. When the path is</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">  /// consistent, node(Level + 1) == subtree(Level).</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">  /// @param Level 0..height-1. The leaves have no subtrees.</span></div><div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a29ff9cb22b8c56fae5edf737e3b30630">  818</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> &amp;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a29ff9cb22b8c56fae5edf737e3b30630">subtree</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].subtree(path[Level].offset);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">  /// reset - Reset cached information about node(Level) from subtree(Level -1).</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">  /// @param Level 1..height. THe node to update after parent node changed.</span></div><div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">  824</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">reset</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>] = Entry(subtree(Level - 1), offset(Level));</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">  /// push - Add entry to path.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">  /// @param Node Node to add, should be subtree(path.size()-1).</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">  /// @param Offset Offset into Node.</span></div><div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af18dce9b09fd23b653e19a42e8d066a8">  831</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af18dce9b09fd23b653e19a42e8d066a8">push</a>(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> Node, <span class="keywordtype">unsigned</span> Offset) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    path.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Entry(Node, Offset));</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">  /// pop - Remove the last path entry.</span></div><div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8a8bbc180b0fb593af60a451bec9c8d6">  836</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8a8bbc180b0fb593af60a451bec9c8d6">pop</a>() {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    path.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">pop_back</a>();</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">  /// setSize - Set the size of a node both in the path and in the tree.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">  /// @param Level 0..height. Note that setting the root size won&#39;t change</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">  ///              map-&gt;rootSize.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">  /// @param Size New node size.</span></div><div class="line"><a name="l00844"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">  844</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>, <span class="keywordtype">unsigned</span> Size) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a> = Size;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (Level)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      subtree(Level - 1).setSize(Size);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">  /// setRoot - Clear the path and set a new root node.</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">  /// @param Node New root node.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">  /// @param Size New root size.</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">  /// @param Offset Offset into root node.</span></div><div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a4ad7abf532bcf6e64587359c9e5321f6">  854</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a4ad7abf532bcf6e64587359c9e5321f6">setRoot</a>(<span class="keywordtype">void</span> *Node, <span class="keywordtype">unsigned</span> Size, <span class="keywordtype">unsigned</span> Offset) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    path.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    path.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Entry(Node, Size, Offset));</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">  /// replaceRoot - Replace the current root node with two new entries after the</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">  /// tree height has increased.</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">  /// @param Root The new root node.</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">  /// @param Size Number of entries in the new root.</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">  /// @param Offsets Offsets into the root and first branch nodes.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> replaceRoot(<span class="keywordtype">void</span> *Root, <span class="keywordtype">unsigned</span> Size, IdxPair Offsets);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">  /// getLeftSibling - Get the left sibling node at Level, or a null NodeRef.</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">  /// @param Level Get the sibling to node(Level).</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">  /// @return Left sibling, or NodeRef().</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> getLeftSibling(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">  /// moveLeft - Move path to the left sibling at Level. Leave nodes below Level</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">  /// unaltered.</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">  /// @param Level Move node(Level).</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> moveLeft(<span class="keywordtype">unsigned</span> Level);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">  /// fillLeft - Grow path to Height by taking leftmost branches.</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">  /// @param Height The target height.</span></div><div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab252ce944fb2315d923f0d2f36523f0f">  878</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab252ce944fb2315d923f0d2f36523f0f">fillLeft</a>(<span class="keywordtype">unsigned</span> Height) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">while</span> (height() &lt; Height)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      push(subtree(height()), 0);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">  /// getLeftSibling - Get the left sibling node at Level, or a null NodeRef.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">  /// @param Level Get the sinbling to node(Level).</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">  /// @return Left sibling, or NodeRef().</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">NodeRef</a> getRightSibling(<span class="keywordtype">unsigned</span> Level) <span class="keyword">const</span>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">  /// moveRight - Move path to the left sibling at Level. Leave nodes below</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">  /// Level unaltered.</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">  /// @param Level Move node(Level).</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> moveRight(<span class="keywordtype">unsigned</span> Level);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">  /// atBegin - Return true if path is at begin().</span></div><div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">  894</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">atBegin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = path.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <span class="keywordflow">if</span> (path[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].offset != 0)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">  /// atLastEntry - Return true if the path is at the last entry of the node at</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">  /// Level.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">  /// @param Level Node to examine.</span></div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1a059f146407dab6cf651e0a15a4bb05">  904</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1a059f146407dab6cf651e0a15a4bb05">atLastEntry</a>(<span class="keywordtype">unsigned</span> Level)<span class="keyword"> const </span>{</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">return</span> path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].offset == path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a> - 1;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">  /// legalizeForInsert - Prepare the path for an insertion at Level. When the</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">  /// path is at end(), node(Level) may not be a legal node. legalizeForInsert</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">  /// ensures that node(Level) is real by moving back to the last node at Level,</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">  /// and setting offset(Level) to size(Level) if required.</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">  /// @param Level The level where an insertion is about to take place.</span></div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab9434bd7ee08975d3ed2adca806f2096">  913</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab9434bd7ee08975d3ed2adca806f2096">legalizeForInsert</a>(<span class="keywordtype">unsigned</span> Level) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (valid())</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    moveLeft(Level);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    ++path[<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>].offset;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;};</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;} <span class="comment">// namespace IntervalMapImpl</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">//---                          IntervalMap                                ----//</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="classKeyT.html">KeyT</a>, <span class="keyword">typename</span> ValT,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">IntervalMapImpl::NodeSizer&lt;KeyT, ValT&gt;::LeafSize</a>,</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;          <span class="keyword">typename</span> <a class="code" href="classllvm_1_1Traits.html">Traits</a> = <a class="code" href="structllvm_1_1IntervalMapInfo.html">IntervalMapInfo&lt;KeyT&gt;</a> &gt;</div><div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html">  931</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">IntervalMapImpl::NodeSizer&lt;KeyT, ValT&gt;</a> <a class="code" href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">Sizer</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">IntervalMapImpl::LeafNode&lt;KeyT, ValT, Sizer::LeafSize, Traits&gt;</a> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">Leaf</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">IntervalMapImpl::BranchNode&lt;KeyT, ValT, Sizer::BranchSize, Traits&gt;</a></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c">Branch</a>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">IntervalMapImpl::LeafNode&lt;KeyT, ValT, N, Traits&gt;</a> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">RootLeaf</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IntervalMapImpl::IdxPair</a> <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IdxPair</a>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// The RootLeaf capacity is given as a template parameter. We must compute the</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// corresponding RootBranch capacity.</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    DesiredRootBranchCap = (<span class="keyword">sizeof</span>(RootLeaf) - <span class="keyword">sizeof</span>(<a class="code" href="classKeyT.html">KeyT</a>)) /</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      (<span class="keyword">sizeof</span>(<a class="code" href="classKeyT.html">KeyT</a>) + <span class="keyword">sizeof</span>(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a>)),</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    RootBranchCap = DesiredRootBranchCap ? DesiredRootBranchCap : 1</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  };</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">IntervalMapImpl::BranchNode&lt;KeyT, ValT, RootBranchCap, Traits&gt;</a></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">RootBranch</a>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// When branched, we store a global start key as well as the branch node.</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keyword">struct </span>RootBranchData {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="classKeyT.html">KeyT</a> start;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    RootBranch <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  };</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    RootDataSize = <span class="keyword">sizeof</span>(RootBranchData) &gt; <span class="keyword">sizeof</span>(RootLeaf) ?</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                   <span class="keyword">sizeof</span>(RootBranchData) : <span class="keyword">sizeof</span>(RootLeaf)</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  };</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a5b5b58a085785eb7ee2f221c5494ef41">  962</a></span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classllvm_1_1RecyclingAllocator.html">Sizer::Allocator</a> <a class="code" href="classllvm_1_1IntervalMap.html#a5b5b58a085785eb7ee2f221c5494ef41">Allocator</a>;</div><div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a0403a144a7d046d54a6d09a43f64059a">  963</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="classllvm_1_1IntervalMap.html#a0403a144a7d046d54a6d09a43f64059a">KeyType</a>;</div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a6f610f7305fd92aebf5c5d48b8888d56">  964</a></span>&#160;  <span class="keyword">typedef</span> ValT <a class="code" href="classllvm_1_1IntervalMap.html#a6f610f7305fd92aebf5c5d48b8888d56">ValueType</a>;</div><div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a204f2d52ce0711f77b214b78e5206906">  965</a></span>&#160;  <span class="keyword">typedef</span> Traits <a class="code" href="classllvm_1_1IntervalMap.html#a204f2d52ce0711f77b214b78e5206906">KeyTraits</a>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// The root data is either a RootLeaf or a RootBranchData instance.</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// We can&#39;t put them in a union since C++03 doesn&#39;t allow non-trivial</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// constructors in unions.</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// Instead, we use a char array with pointer alignment. The alignment is</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// ensured by the allocator member in the class, but still verified in the</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// constructor. We don&#39;t support keys or values that are more aligned than a</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="comment">// pointer.</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordtype">char</span> data[RootDataSize];</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="comment">// Tree height.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="comment">// 0: Leaves in root.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// 1: Root points to leaf.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// 2: root-&gt;branch-&gt;leaf ...</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">unsigned</span> height;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">// Number of entries in the root node.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordtype">unsigned</span> rootSize;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// Allocator used for creating external nodes.</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  Allocator &amp;allocator;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">  /// dataAs - Represent data as a node type without breaking aliasing rules.</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <a class="code" href="classT.html">T</a> &amp;dataAs()<span class="keyword"> const </span>{</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <a class="code" href="classT.html">T</a> *<a class="code" href="Target_2X86_2README_8txt.html#a544ce2b7de50b042a2d052c3d2831598">t</a>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    } u;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    u.d = data;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> *u.t;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keyword">const</span> RootLeaf &amp;rootLeaf()<span class="keyword"> const </span>{</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    assert(!branched() &amp;&amp; <span class="stringliteral">&quot;Cannot acces leaf data in branched root&quot;</span>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">return</span> dataAs&lt;RootLeaf&gt;();</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  RootLeaf &amp;rootLeaf() {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    assert(!branched() &amp;&amp; <span class="stringliteral">&quot;Cannot acces leaf data in branched root&quot;</span>);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">return</span> dataAs&lt;RootLeaf&gt;();</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  RootBranchData &amp;rootBranchData()<span class="keyword"> const </span>{</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    assert(branched() &amp;&amp; <span class="stringliteral">&quot;Cannot access branch data in non-branched root&quot;</span>);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span> dataAs&lt;RootBranchData&gt;();</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  RootBranchData &amp;rootBranchData() {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    assert(branched() &amp;&amp; <span class="stringliteral">&quot;Cannot access branch data in non-branched root&quot;</span>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span> dataAs&lt;RootBranchData&gt;();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">const</span> RootBranch &amp;rootBranch()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> rootBranchData().node; }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  RootBranch &amp;rootBranch()             { <span class="keywordflow">return</span> rootBranchData().node; }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> rootBranchStart()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> rootBranchData().start; }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> &amp;rootBranchStart()      { <span class="keywordflow">return</span> rootBranchData().start; }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt; NodeT *newNode() {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span>(allocator.template Allocate&lt;NodeT&gt;()) NodeT();</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt; <span class="keywordtype">void</span> deleteNode(NodeT *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    P-&gt;~NodeT();</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    allocator.<a class="code" href="classllvm_1_1RecyclingAllocator.html#a15b55012c1a5fc0e82d13227332796b9">Deallocate</a>(P);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  IdxPair branchRoot(<span class="keywordtype">unsigned</span> Position);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  IdxPair splitRoot(<span class="keywordtype">unsigned</span> Position);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordtype">void</span> switchRootToBranch() {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    rootLeaf().~RootLeaf();</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    height = 1;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keyword">new</span> (&amp;rootBranchData()) RootBranchData();</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordtype">void</span> switchRootToLeaf() {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    rootBranchData().~RootBranchData();</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    height = 0;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">new</span>(&amp;rootLeaf()) RootLeaf();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordtype">bool</span> branched()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> height &gt; 0; }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  ValT treeSafeLookup(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>, ValT NotFound) <span class="keyword">const</span>;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordtype">void</span> visitNodes(<span class="keywordtype">void</span> (<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>::*<a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a>)(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a>,</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>));</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordtype">void</span> deleteNode(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> Node, <span class="keywordtype">unsigned</span> Level);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#aef5470188803d9a8cdda0ad4f98e1699"> 1053</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1IntervalMap.html#aef5470188803d9a8cdda0ad4f98e1699">IntervalMap</a>(Allocator &amp;<a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>) : height(0), rootSize(0), allocator(a) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    assert((uintptr_t(data) &amp; (alignOf&lt;RootLeaf&gt;() - 1)) == 0 &amp;&amp;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;           <span class="stringliteral">&quot;Insufficient alignment&quot;</span>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keyword">new</span>(&amp;rootLeaf()) RootLeaf();</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a6ab94f5053820bc64fbe8cb04c09b1d0"> 1059</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html#a6ab94f5053820bc64fbe8cb04c09b1d0">~IntervalMap</a>() {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    clear();</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    rootLeaf().~RootLeaf();</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">  /// empty -  Return true when no intervals are mapped.</span></div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a2250f0128adcaaca81ee79056ac77b87"> 1065</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap.html#a2250f0128adcaaca81ee79056ac77b87">empty</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> rootSize == 0;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">  /// start - Return the smallest mapped key in a non-empty map.</span></div><div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#acda4d24c5647be5f48a39249ea638762"> 1070</a></span>&#160;<span class="comment"></span>  <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="classllvm_1_1IntervalMap.html#acda4d24c5647be5f48a39249ea638762">start</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    assert(!empty() &amp;&amp; <span class="stringliteral">&quot;Empty IntervalMap has no start&quot;</span>);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">return</span> !branched() ? rootLeaf().start(0) : rootBranchStart();</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">  /// stop - Return the largest mapped key in a non-empty map.</span></div><div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#ab1265749e1ed6cdf232373b29c7a2f6a"> 1076</a></span>&#160;<span class="comment"></span>  <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="classllvm_1_1IntervalMap.html#ab1265749e1ed6cdf232373b29c7a2f6a">stop</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    assert(!empty() &amp;&amp; <span class="stringliteral">&quot;Empty IntervalMap has no stop&quot;</span>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> !branched() ? rootLeaf().stop(rootSize - 1) :</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                         rootBranch().stop(rootSize - 1);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">  /// lookup - Return the mapped value at x or NotFound.</span></div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a255e04c741d52a321aa9f79b32094de3"> 1083</a></span>&#160;<span class="comment"></span>  ValT <a class="code" href="classllvm_1_1IntervalMap.html#a255e04c741d52a321aa9f79b32094de3">lookup</a>(<a class="code" href="classKeyT.html">KeyT</a> x, ValT NotFound = ValT())<span class="keyword"> const </span>{</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (empty() || Traits::startLess(x, start()) || Traits::stopLess(stop(), x))</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">return</span> NotFound;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> branched() ? treeSafeLookup(x, NotFound) :</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        rootLeaf().safeLookup(x, NotFound);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">  /// insert - Add a mapping of [a;b] to y, coalesce with adjacent intervals.</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">  /// It is assumed that no key in the interval is mapped to another value, but</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">  /// overlapping intervals already mapped to y will be coalesced.</span></div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3"> 1093</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">insert</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>) {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (branched() || rootSize == RootLeaf::Capacity)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">return</span> find(a).insert(a, b, y);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// Easy insert into root leaf.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = rootLeaf().findFrom(0, rootSize, a);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    rootSize = rootLeaf().insertFrom(p, rootSize, a, b, y);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">  /// clear - Remove all entries.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> clear();</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keyword">class </span>const_iterator;</div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#ac220ce1c155db1ac44146c12d178056f"> 1106</a></span>&#160;  <span class="keyword">class </span>iterator;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span>const_iterator;</div><div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a67171474c4da6cc8efe0c7fafefd2b2d"> 1108</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span>iterator;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#aaa6329ac17c770c00c849c74fbe1c7b4"> 1110</a></span>&#160;  const_iterator <a class="code" href="classllvm_1_1IntervalMap.html#aaa6329ac17c770c00c849c74fbe1c7b4">begin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    I.goToBegin();</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a281133d02e9939c431a4f005ccc9cbeb"> 1116</a></span>&#160;  iterator <a class="code" href="classllvm_1_1IntervalMap.html#a281133d02e9939c431a4f005ccc9cbeb">begin</a>() {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    I.goToBegin();</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a51e234ecb8eb36b77d36c3585f4d094b"> 1122</a></span>&#160;  const_iterator <a class="code" href="classllvm_1_1IntervalMap.html#a51e234ecb8eb36b77d36c3585f4d094b">end</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    I.goToEnd();</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a9f207a7ea5e716ddd6e894086b593941"> 1128</a></span>&#160;  iterator <a class="code" href="classllvm_1_1IntervalMap.html#a9f207a7ea5e716ddd6e894086b593941">end</a>() {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    I.goToEnd();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">  /// find - Return an iterator pointing to the first interval ending at or</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">  /// after x, or end().</span></div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#a22d1210e84586511677b003248e68a1f"> 1136</a></span>&#160;<span class="comment"></span>  const_iterator <a class="code" href="classllvm_1_1IntervalMap.html#a22d1210e84586511677b003248e68a1f">find</a>(<a class="code" href="classKeyT.html">KeyT</a> x)<span class="keyword"> const </span>{</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    I.find(x);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#aff3d62f75e0ac5cade591e295c5b03d7"> 1142</a></span>&#160;  iterator <a class="code" href="classllvm_1_1IntervalMap.html#aff3d62f75e0ac5cade591e295c5b03d7">find</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    I.find(x);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;};</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">/// treeSafeLookup - Return the mapped value at x or NotFound, assuming a</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">/// branched root.</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;ValT <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">treeSafeLookup</a>(<a class="code" href="classKeyT.html">KeyT</a> x, ValT NotFound)<span class="keyword"> const </span>{</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  assert(branched() &amp;&amp; <span class="stringliteral">&quot;treeLookup assumes a branched root&quot;</span>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> NR = rootBranch().safeLookup(x);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a> = height-1; <a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a>; --<a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a>)</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    NR = NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Branch&gt;().safeLookup(x);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">return</span> NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Leaf&gt;().safeLookup(x, NotFound);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">// branchRoot - Switch from a leaf root to a branched root.</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">// Return the new (root offset, node offset) corresponding to Position.</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IntervalMapImpl::IdxPair</a> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">branchRoot</a>(<span class="keywordtype">unsigned</span> Position) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// How many external leaf nodes to hold RootLeaf+1?</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Nodes = RootLeaf::Capacity / Leaf::Capacity + 1;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// Compute element distribution among new nodes.</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>[Nodes];</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  IdxPair NewOffset(0, Position);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// Is is very common for the root node to be smaller than external nodes.</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (Nodes == 1)</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    size[0] = rootSize;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    NewOffset = <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#adc507d70d9385ae35dcdb70dc1bebc19">distribute</a>(Nodes, rootSize, Leaf::Capacity,  NULL, size,</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                           Position, <span class="keyword">true</span>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// Allocate new nodes.</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordtype">unsigned</span> pos = 0;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  NodeRef <a class="code" href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a>[Nodes];</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes; ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    Leaf *L = newNode&lt;Leaf&gt;();</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    L-&gt;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">copy</a>(rootLeaf(), pos, 0, size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>]);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] = NodeRef(L, size[n]);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    pos += size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>];</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  }</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="comment">// Destroy the old leaf node, construct branch node instead.</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  switchRootToBranch();</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes; ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    rootBranch().stop(<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) = node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>].template get&lt;Leaf&gt;().stop(size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>]-1);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    rootBranch().subtree(<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) = node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>];</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  rootBranchStart() = node[0].template get&lt;Leaf&gt;().start(0);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  rootSize = Nodes;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keywordflow">return</span> NewOffset;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;}</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">// splitRoot - Split the current BranchRoot into multiple Branch nodes.</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">// Return the new (root offset, node offset) corresponding to Position.</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IntervalMapImpl::IdxPair</a> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">splitRoot</a>(<span class="keywordtype">unsigned</span> Position) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// How many external leaf nodes to hold RootBranch+1?</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Nodes = RootBranch::Capacity / Branch::Capacity + 1;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// Compute element distribution among new nodes.</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordtype">unsigned</span> Size[Nodes];</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  IdxPair NewOffset(0, Position);</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// Is is very common for the root node to be smaller than external nodes.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">if</span> (Nodes == 1)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    Size[0] = rootSize;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    NewOffset = <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#adc507d70d9385ae35dcdb70dc1bebc19">distribute</a>(Nodes, rootSize, Leaf::Capacity,  NULL, Size,</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                           Position, <span class="keyword">true</span>);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// Allocate new nodes.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="keywordtype">unsigned</span> Pos = 0;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  NodeRef Node[Nodes];</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes; ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    Branch *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = newNode&lt;Branch&gt;();</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    B-&gt;<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">copy</a>(rootBranch(), Pos, 0, Size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>]);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    Node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>] = NodeRef(B, Size[n]);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    Pos += Size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>];</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> = 0; <a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a> != Nodes; ++<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    rootBranch().stop(<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) = Node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>].template get&lt;Branch&gt;().stop(Size[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>]-1);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    rootBranch().subtree(<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>) = Node[<a class="code" href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a>];</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  rootSize = Nodes;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  ++height;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">return</span> NewOffset;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">/// visitNodes - Visit each external node.</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">visitNodes</a>(<span class="keywordtype">void</span> (<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>::*f)(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a>, <span class="keywordtype">unsigned</span> Height)) {</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">if</span> (!branched())</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;IntervalMapImpl::NodeRef, 4&gt;</a> Refs, NextRefs;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// Collect level 0 nodes from the root.</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != rootSize; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    Refs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(rootBranch().subtree(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="comment">// Visit all branch nodes.</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a> = height - 1; <a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a>; --<a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a>) {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Refs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> = 0, <a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a> = Refs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>(); <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a> != <a class="code" href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a>; ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>)</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        NextRefs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(Refs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].subtree(<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>));</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      (this-&gt;*<a class="code" href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a>)(Refs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a>);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    }</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    Refs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    Refs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#abd962b7b01f49ce61ea41ee10c49e313">swap</a>(NextRefs);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// Visit all leaf nodes.</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Refs.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    (this-&gt;*f)(Refs[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], 0);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">deleteNode</a>(<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> Node, <span class="keywordtype">unsigned</span> Level) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">if</span> (Level)</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    deleteNode(&amp;Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Branch&gt;());</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    deleteNode(&amp;Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Leaf&gt;());</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;}</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85"> 1282</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85">clear</a>() {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">if</span> (branched()) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    visitNodes(&amp;IntervalMap::deleteNode);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    switchRootToLeaf();</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  rootSize = 0;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">//---                   IntervalMap::const_iterator                       ----//</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html"> 1295</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>&lt;<a class="code" href="classKeyT.html">KeyT</a>, ValT, N, Traits&gt;::<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> :</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keyword">public</span> std::iterator&lt;std::bidirectional_iterator_tag, ValT&gt; {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l01298"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ae974639f12394e77cf9c059c6b064499"> 1298</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// The map referred to.</span></div><div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a24c3474afac43c88fc6a212441971a90"> 1301</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> *<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a24c3474afac43c88fc6a212441971a90">map</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="comment">// We store a full path from the root to the current position.</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="comment">// The path may be partially filled, but never between iterator calls.</span></div><div class="line"><a name="l01305"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a9698a846e49b6c946d5fbe616dc9e2ea"> 1305</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a9698a846e49b6c946d5fbe616dc9e2ea">path</a>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a19785dafd2ac873fe41085bf3125e0f9"> 1307</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a19785dafd2ac873fe41085bf3125e0f9">const_iterator</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;map) :</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    map(const_cast&lt;<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>*&gt;(&amp;map)) {}</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a11fffe57200ea10359adb562d75106df"> 1310</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a11fffe57200ea10359adb562d75106df">branched</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    assert(map &amp;&amp; <span class="stringliteral">&quot;Invalid iterator&quot;</span>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span> map-&gt;branched();</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa02ccfd91f0ae5d754f370be26e3191e"> 1315</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa02ccfd91f0ae5d754f370be26e3191e">setRoot</a>(<span class="keywordtype">unsigned</span> Offset) {</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> (branched())</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a4ad7abf532bcf6e64587359c9e5321f6">setRoot</a>(&amp;map-&gt;rootBranch(), map-&gt;rootSize, Offset);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a4ad7abf532bcf6e64587359c9e5321f6">setRoot</a>(&amp;map-&gt;rootLeaf(), map-&gt;rootSize, Offset);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordtype">void</span> pathFillFind(<a class="code" href="classKeyT.html">KeyT</a> x);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordtype">void</span> treeFind(<a class="code" href="classKeyT.html">KeyT</a> x);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="keywordtype">void</span> treeAdvanceTo(<a class="code" href="classKeyT.html">KeyT</a> x);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">  /// unsafeStart - Writable access to start() for iterator.</span></div><div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa6ba9ab0e8d1e6a4c8ff131e71ab708b"> 1327</a></span>&#160;<span class="comment"></span>  <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa6ba9ab0e8d1e6a4c8ff131e71ab708b">unsafeStart</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    assert(valid() &amp;&amp; <span class="stringliteral">&quot;Cannot access invalid iterator&quot;</span>);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">return</span> branched() ? path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;().start(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>()) :</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                        path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;RootLeaf&gt;().start(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>());</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">  /// unsafeStop - Writable access to stop() for iterator.</span></div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a72d38c76a340724e3c6f84b602a2734e"> 1334</a></span>&#160;<span class="comment"></span>  <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a72d38c76a340724e3c6f84b602a2734e">unsafeStop</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    assert(valid() &amp;&amp; <span class="stringliteral">&quot;Cannot access invalid iterator&quot;</span>);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">return</span> branched() ? path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;().stop(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>()) :</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                        path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;RootLeaf&gt;().stop(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>());</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment">  /// unsafeValue - Writable access to value() for iterator.</span></div><div class="line"><a name="l01341"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3c58151f4898d690fcd4160af48bd9e5"> 1341</a></span>&#160;<span class="comment"></span>  ValT &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3c58151f4898d690fcd4160af48bd9e5">unsafeValue</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    assert(valid() &amp;&amp; <span class="stringliteral">&quot;Cannot access invalid iterator&quot;</span>);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">return</span> branched() ? path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;().value(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>()) :</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                        path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;RootLeaf&gt;().value(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>());</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">  /// const_iterator - Create an iterator that isn&#39;t pointing anywhere.</span></div><div class="line"><a name="l01349"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8d059832dc8140131e42ca0308dc4703"> 1349</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8d059832dc8140131e42ca0308dc4703">const_iterator</a>() : map(0) {}</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment">  /// setMap - Change the map iterated over. This call must be followed by a</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="comment">  /// call to goToBegin(), goToEnd(), or find()</span></div><div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a16b2c8e378000a0894391bc4f741369a"> 1353</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a16b2c8e378000a0894391bc4f741369a">setMap</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;m) { map = <span class="keyword">const_cast&lt;</span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>*<span class="keyword">&gt;</span>(&amp;m); }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">  /// valid - Return true if the current position is valid, false for end().</span></div><div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a07f841fe8672bccb15d34e2b1bfc7196"> 1356</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a07f841fe8672bccb15d34e2b1bfc7196">valid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">valid</a>(); }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment">  /// atBegin - Return true if the current position is the first map entry.</span></div><div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#acd60f40361f7e4ac0238496ca4965c50"> 1359</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#acd60f40361f7e4ac0238496ca4965c50">atBegin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">atBegin</a>(); }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">  /// start - Return the beginning of the current interval.</span></div><div class="line"><a name="l01362"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3049c813a8223d4337b2d6102635ef51"> 1362</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3049c813a8223d4337b2d6102635ef51">start</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> unsafeStart(); }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">  /// stop - Return the end of the current interval.</span></div><div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a0af5a3c71d8ebee0b8524fb993b05f48"> 1365</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classKeyT.html">KeyT</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a0af5a3c71d8ebee0b8524fb993b05f48">stop</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> unsafeStop(); }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">  /// value - Return the mapped value at the current interval.</span></div><div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ac228028c444dd5125f19f23b4c404c8c"> 1368</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> ValT &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ac228028c444dd5125f19f23b4c404c8c">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> unsafeValue(); }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#abaa7e5b6d811368fa65d266642a7974a"> 1370</a></span>&#160;  <span class="keyword">const</span> ValT &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#abaa7e5b6d811368fa65d266642a7974a">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> value(); }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a80639e0b60c1ddb9fe15e4b03aa3e988"> 1372</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a80639e0b60c1ddb9fe15e4b03aa3e988">operator==</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    assert(map == RHS.<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a24c3474afac43c88fc6a212441971a90">map</a> &amp;&amp; <span class="stringliteral">&quot;Cannot compare iterators from different maps&quot;</span>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (!valid())</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="keywordflow">return</span> !RHS.<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a07f841fe8672bccb15d34e2b1bfc7196">valid</a>();</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">if</span> (path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>() != RHS.<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a9698a846e49b6c946d5fbe616dc9e2ea">path</a>.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>())</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">return</span> &amp;path.template leaf&lt;Leaf&gt;() == &amp;RHS.<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a9698a846e49b6c946d5fbe616dc9e2ea">path</a>.template leaf&lt;Leaf&gt;();</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8a2c34800f756936cf3ee4848cbcf436"> 1381</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8a2c34800f756936cf3ee4848cbcf436">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> &amp;RHS)<span class="keyword"> const </span>{</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="namespacellvm.html#a162c90bc179a6359438d060722bee35f">operator==</a>(RHS);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">  /// goToBegin - Move to the first interval in map.</span></div><div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#adaec49caab60813b87e4efb180ce1675"> 1386</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#adaec49caab60813b87e4efb180ce1675">goToBegin</a>() {</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    setRoot(0);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (branched())</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab252ce944fb2315d923f0d2f36523f0f">fillLeft</a>(map-&gt;height);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  }</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">  /// goToEnd - Move beyond the last interval in map.</span></div><div class="line"><a name="l01393"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a42aaf8d56d380b52f087ba238ce10c52"> 1393</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a42aaf8d56d380b52f087ba238ce10c52">goToEnd</a>() {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    setRoot(map-&gt;rootSize);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">  /// preincrement - move to the next interval.</span></div><div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab4ea1c76d9f9492798c69555ef0a2eda"> 1398</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab4ea1c76d9f9492798c69555ef0a2eda">operator++</a>() {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    assert(valid() &amp;&amp; <span class="stringliteral">&quot;Cannot increment end()&quot;</span>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">if</span> (++path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>() == path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">leafSize</a>() &amp;&amp; branched())</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8186267aca496ea543bd8d2ec77660f7">moveRight</a>(map-&gt;height);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">  /// postincrement - Dont do that!</span></div><div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aebe4ede02d1a719cd9bffee7c29c4ddf"> 1406</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aebe4ede02d1a719cd9bffee7c29c4ddf">operator++</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a> = *<span class="keyword">this</span>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    operator++();</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">  /// predecrement - move to the previous interval.</span></div><div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa5a19f3846b41a958eef8890dcab03f0"> 1413</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa5a19f3846b41a958eef8890dcab03f0">operator--</a>() {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>() &amp;&amp; (valid() || !branched()))</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      --path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>();</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae878a804adbd190aad9c23df62b0f352">moveLeft</a>(map-&gt;height);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  }</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">  /// postdecrement - Dont do that!</span></div><div class="line"><a name="l01422"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a904adab37bae4b17fc62f87dc7631c5d"> 1422</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a904adab37bae4b17fc62f87dc7631c5d">operator--</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a> = *<span class="keyword">this</span>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    operator--();</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  }</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">  /// find - Move to the first interval with stop &gt;= x, or end().</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">  /// This is a full search from the root, the current position is ignored.</span></div><div class="line"><a name="l01430"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab827f91e03f3338b2b943a00f0bee07d"> 1430</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab827f91e03f3338b2b943a00f0bee07d">find</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (branched())</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      treeFind(x);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      setRoot(map-&gt;rootLeaf().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#aa985e833e8285bdff17eeb00536a9120">findFrom</a>(0, map-&gt;rootSize, x));</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">  /// advanceTo - Move to the first interval with stop &gt;= x, or end().</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment">  /// The search is started from the current position, and no earlier positions</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">  /// can be found. This is much faster than find() for small moves.</span></div><div class="line"><a name="l01440"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a27e1981325e2267e65652eaddb2cb236"> 1440</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a27e1981325e2267e65652eaddb2cb236">advanceTo</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">if</span> (!valid())</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (branched())</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      treeAdvanceTo(x);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>() =</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        map-&gt;rootLeaf().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#aa985e833e8285bdff17eeb00536a9120">findFrom</a>(path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>(), map-&gt;rootSize, <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  }</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;};</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">/// pathFillFind - Complete path by searching for x.</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">/// @param x Key to search for.</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3187b02e986777ccb9953b73ac6fda6b">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01456"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3187b02e986777ccb9953b73ac6fda6b"> 1456</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3187b02e986777ccb9953b73ac6fda6b">const_iterator::pathFillFind</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> NR = path.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">subtree</a>(path.height());</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = map-&gt;height - path.height() - 1; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>; --<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Branch&gt;().safeFind(0, x);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    path.push(NR, p);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    NR = NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">subtree</a>(p);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  path.push(NR, NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Leaf&gt;().safeFind(0, x));</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">/// treeFind - Find in a branched tree.</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment">/// @param x Key to search for.</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aafa139bd49fa2f2b3df1e7a223e1bc2e">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aafa139bd49fa2f2b3df1e7a223e1bc2e"> 1470</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#aafa139bd49fa2f2b3df1e7a223e1bc2e">const_iterator::treeFind</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  setRoot(map-&gt;rootBranch().findFrom(0, map-&gt;rootSize, x));</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">if</span> (valid())</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    pathFillFind(x);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">/// treeAdvanceTo - Find position after the current one.</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">/// @param x Key to search for.</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a7136191f76b76ad1bef786f47f2c9846">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01480"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a7136191f76b76ad1bef786f47f2c9846"> 1480</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html#a7136191f76b76ad1bef786f47f2c9846">const_iterator::treeAdvanceTo</a>(<a class="code" href="classKeyT.html">KeyT</a> x) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="comment">// Can we stay on the same leaf node?</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keywordflow">if</span> (!Traits::stopLess(path.leaf&lt;Leaf&gt;().stop(path.leafSize() - 1), x)) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    path.leafOffset() = path.leaf&lt;Leaf&gt;().safeFind(path.leafOffset(), <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">// Drop the current leaf.</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  path.pop();</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">// Search towards the root for a usable subtree.</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">if</span> (path.height()) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a> = path.height() - 1; <a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>; --<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>) {</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">if</span> (!Traits::stopLess(path.node&lt;Branch&gt;(<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>).stop(path.offset(<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a>)), x)) {</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="comment">// The branch node at l+1 is usable</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        path.offset(<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a> + 1) =</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;          path.node&lt;Branch&gt;(<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a> + 1).safeFind(path.offset(<a class="code" href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a> + 1), <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordflow">return</span> pathFillFind(x);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      }</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      path.pop();</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    }</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// Is the level-1 Branch usable?</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (!Traits::stopLess(map-&gt;rootBranch().stop(path.offset(0)), x)) {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      path.offset(1) = path.node&lt;Branch&gt;(1).safeFind(path.offset(1), <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordflow">return</span> pathFillFind(x);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// We reached the root.</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  setRoot(map-&gt;rootBranch().findFrom(path.offset(0), map-&gt;rootSize, <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>));</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (valid())</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    pathFillFind(x);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;}</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment">//---                       IntervalMap::iterator                         ----//</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01519"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html"> 1519</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>&lt;<a class="code" href="classKeyT.html">KeyT</a>, ValT, N, Traits&gt;::<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> : <span class="keyword">public</span> <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a> {</div><div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#ae974639f12394e77cf9c059c6b064499"> 1520</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IntervalMapImpl::IdxPair</a> <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">IdxPair</a>;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a>(<a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;map) : <a class="code" href="classllvm_1_1IntervalMap_1_1const__iterator.html">const_iterator</a>(map) {}</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordtype">void</span> setNodeStop(<span class="keywordtype">unsigned</span> Level, <a class="code" href="classKeyT.html">KeyT</a> Stop);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordtype">bool</span> insertNode(<span class="keywordtype">unsigned</span> Level, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> Node, <a class="code" href="classKeyT.html">KeyT</a> Stop);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt; <span class="keywordtype">bool</span> overflow(<span class="keywordtype">unsigned</span> Level);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordtype">void</span> treeInsert(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordtype">void</span> eraseNode(<span class="keywordtype">unsigned</span> Level);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordtype">void</span> treeErase(<span class="keywordtype">bool</span> UpdateRoot = <span class="keyword">true</span>);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordtype">bool</span> canCoalesceLeft(<a class="code" href="classKeyT.html">KeyT</a> Start, ValT x);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordtype">bool</span> canCoalesceRight(<a class="code" href="classKeyT.html">KeyT</a> Stop, ValT x);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">  /// iterator - Create null iterator.</span></div><div class="line"><a name="l01536"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a309b05fd98e74135feeba4ee5b191080"> 1536</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a309b05fd98e74135feeba4ee5b191080">iterator</a>() {}</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="comment">  /// setStart - Move the start of the current interval.</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="comment">  /// This may cause coalescing with the previous interval.</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">  /// @param a New start key, must not overlap the previous interval.</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> setStart(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">  /// setStop - Move the end of the current interval.</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment">  /// This may cause coalescing with the following interval.</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">  /// @param b New stop key, must not overlap the following interval.</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> setStop(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">  /// setValue - Change the mapped value of the current interval.</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">  /// This may cause coalescing with the previous and following intervals.</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">  /// @param x New value.</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> setValue(ValT x);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">  /// setStartUnchecked - Move the start of the current interval without</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">  /// checking for coalescing or overlaps.</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">  /// This should only be used when it is known that coalescing is not required.</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">  /// @param a New start key.</span></div><div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a878452ac67d0cdcdc91fbfa0dfc22618"> 1557</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a878452ac67d0cdcdc91fbfa0dfc22618">setStartUnchecked</a>(<a class="code" href="classKeyT.html">KeyT</a> a) { this-&gt;unsafeStart() = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>; }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">  /// setStopUnchecked - Move the end of the current interval without checking</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">  /// for coalescing or overlaps.</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">  /// This should only be used when it is known that coalescing is not required.</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">  /// @param b New stop key.</span></div><div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#af5cd42ac53ce755ea03dc133ff9909af"> 1563</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#af5cd42ac53ce755ea03dc133ff9909af">setStopUnchecked</a>(<a class="code" href="classKeyT.html">KeyT</a> b) {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    this-&gt;unsafeStop() = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// Update keys in branch nodes as well.</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> (this-&gt;path.atLastEntry(<a class="code" href="Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a>-&gt;path.height()))</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      setNodeStop(this-&gt;path.height(), <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">  /// setValueUnchecked - Change the mapped value of the current interval</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">  /// without checking for coalescing.</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">  /// @param x New value.</span></div><div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a0cb691bb38afbd8c0007a69409d6967f"> 1573</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a0cb691bb38afbd8c0007a69409d6967f">setValueUnchecked</a>(ValT x) { this-&gt;unsafeValue() = <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>; }</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">  /// insert - Insert mapping [a;b] -&gt; y before the current position.</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> insert(<a class="code" href="classKeyT.html">KeyT</a> a, <a class="code" href="classKeyT.html">KeyT</a> b, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">  /// erase - Erase the current interval.</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> erase();</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a9c18468d453669b79f8144e9ae858287"> 1581</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a9c18468d453669b79f8144e9ae858287">operator++</a>() {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    const_iterator::operator++();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  }</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#ac040a53c837ba881f9958c11354f7cb4"> 1586</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#ac040a53c837ba881f9958c11354f7cb4">operator++</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a> = *<span class="keyword">this</span>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    operator++();</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a681bac255b31029241212bb9179de360"> 1592</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> &amp;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a681bac255b31029241212bb9179de360">operator--</a>() {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    const_iterator::operator--();</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a347a8aaf18227a5334501061b2aab694"> 1597</a></span>&#160;  <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a347a8aaf18227a5334501061b2aab694">operator--</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html">iterator</a> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a> = *<span class="keyword">this</span>;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    operator--();</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  }</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;};</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">/// canCoalesceLeft - Can the current interval coalesce to the left after</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">/// changing start or value?</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">/// @param Start New start of current interval.</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">/// @param Value New value for current interval.</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">/// @return True when updating the current interval would enable coalescing.</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::canCoalesceLeft</a>(<a class="code" href="classKeyT.html">KeyT</a> Start, ValT <a class="code" href="classllvm_1_1Value.html">Value</a>) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  Path &amp;P = this-&gt;path;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;branched()) {</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = P.leafOffset();</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    RootLeaf &amp;Node = P.leaf&lt;RootLeaf&gt;();</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">return</span> i &amp;&amp; Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(i-1) == Value &amp;&amp;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                Traits::adjacent(Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(i-1), Start);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// Branched.</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = P.leafOffset()) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    Leaf &amp;Node = P.leaf&lt;Leaf&gt;();</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1) == Value &amp;&amp; Traits::adjacent(Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-1), Start);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NodeRef NR = P.getLeftSibling(P.height())) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NR.size() - 1;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    Leaf &amp;Node = NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Leaf&gt;();</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">return</span> Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(i) == Value &amp;&amp; Traits::adjacent(Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(i), Start);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;}</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">/// canCoalesceRight - Can the current interval coalesce to the right after</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">/// changing stop or value?</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">/// @param Stop New stop of current interval.</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">/// @param Value New value for current interval.</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">/// @return True when updating the current interval would enable coalescing.</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::canCoalesceRight</a>(<a class="code" href="classKeyT.html">KeyT</a> Stop, ValT Value) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  Path &amp;P = this-&gt;path;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = P.leafOffset() + 1;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;branched()) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">if</span> (i &gt;= P.leafSize())</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    RootLeaf &amp;Node = P.leaf&lt;RootLeaf&gt;();</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">return</span> Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(i) == Value &amp;&amp; Traits::adjacent(Stop, Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(i));</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  }</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="comment">// Branched.</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">if</span> (i &lt; P.leafSize()) {</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    Leaf &amp;Node = P.leaf&lt;Leaf&gt;();</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">return</span> Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(i) == Value &amp;&amp; Traits::adjacent(Stop, Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(i));</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NodeRef NR = P.getRightSibling(P.height())) {</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    Leaf &amp;Node = NR.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">get</a>&lt;Leaf&gt;();</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">return</span> Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(0) == Value &amp;&amp; Traits::adjacent(Stop, Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(0));</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  }</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;}</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">/// setNodeStop - Update the stop key of the current node at level and above.</span></div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::setNodeStop</a>(<span class="keywordtype">unsigned</span> Level, <a class="code" href="classKeyT.html">KeyT</a> Stop) {</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="comment">// There are no references to the root node, so nothing to update.</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="keywordflow">if</span> (!Level)</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="comment">// Update nodes pointing to the current node.</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">while</span> (--Level) {</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">node</a>&lt;Branch&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>).stop(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level)) = Stop;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (!P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1a059f146407dab6cf651e0a15a4bb05">atLastEntry</a>(Level))</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// Update root separately since it has a different layout.</span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">node</a>&lt;RootBranch&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>).stop(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level)) = Stop;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a26702c94eead6ac6eac6da14b653d824">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a26702c94eead6ac6eac6da14b653d824"> 1681</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a26702c94eead6ac6eac6da14b653d824">iterator::setStart</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>) {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  assert(Traits::stopLess(a, this-&gt;stop()) &amp;&amp; <span class="stringliteral">&quot;Cannot move start beyond stop&quot;</span>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> &amp;CurStart = this-&gt;unsafeStart();</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <span class="keywordflow">if</span> (!Traits::startLess(a, CurStart) || !canCoalesceLeft(a, this-&gt;value())) {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    CurStart = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="comment">// Coalesce with the interval to the left.</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  --*<span class="keyword">this</span>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  a = this-&gt;start();</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  erase();</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  setStartUnchecked(a);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;}</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#ae84496bee4aead957e3193cfbe5ce3e8">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01697"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#ae84496bee4aead957e3193cfbe5ce3e8"> 1697</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#ae84496bee4aead957e3193cfbe5ce3e8">iterator::setStop</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>) {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  assert(Traits::stopLess(this-&gt;start(), b) &amp;&amp; <span class="stringliteral">&quot;Cannot move stop beyond start&quot;</span>);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (Traits::startLess(b, this-&gt;stop()) ||</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      !canCoalesceRight(b, this-&gt;value())) {</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    setStopUnchecked(b);</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  }</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">// Coalesce with interval to the right.</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a> = this-&gt;start();</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  erase();</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  setStartUnchecked(a);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a6c05bf6b202a8fe6d84f071b3b10ef9d">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a6c05bf6b202a8fe6d84f071b3b10ef9d"> 1712</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a6c05bf6b202a8fe6d84f071b3b10ef9d">iterator::setValue</a>(ValT x) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  setValueUnchecked(x);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="keywordflow">if</span> (canCoalesceRight(this-&gt;stop(), x)) {</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a> = this-&gt;start();</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    erase();</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    setStartUnchecked(a);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span> (canCoalesceLeft(this-&gt;start(), x)) {</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    --*<span class="keyword">this</span>;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a> = this-&gt;start();</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    erase();</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    setStartUnchecked(a);</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;}</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">/// insertNode - insert a node before the current path at level.</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">/// Leave the current path pointing at the new node.</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">/// @param Level path index of the node to be inserted.</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">/// @param Node The node to be inserted.</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">/// @param Stop The last index in the new node.</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">/// @return True if the tree height was increased.</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::insertNode</a>(<span class="keywordtype">unsigned</span> Level, <a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">IntervalMapImpl::NodeRef</a> Node, <a class="code" href="classKeyT.html">KeyT</a> Stop) {</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  assert(Level &amp;&amp; <span class="stringliteral">&quot;Cannot insert next to the root&quot;</span>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keywordtype">bool</span> SplitRoot = <span class="keyword">false</span>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;IM = *this-&gt;map;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="keywordflow">if</span> (Level == 1) {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// Insert into the root branch node.</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">if</span> (IM.rootSize &lt; RootBranch::Capacity) {</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      IM.rootBranch().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#af8deb6d8a06cd57e8268aef054879101">insert</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(0), IM.rootSize, Node, Stop);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(0, ++IM.rootSize);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">reset</a>(Level);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <span class="keywordflow">return</span> SplitRoot;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// We need to split the root while keeping our position.</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    SplitRoot = <span class="keyword">true</span>;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    IdxPair Offset = IM.splitRoot(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(0));</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0045511f2217fb2722053df480ca93d4">replaceRoot</a>(&amp;IM.rootBranch(), IM.rootSize, Offset);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">// Fall through to insert at the new higher level.</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    ++<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  }</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="comment">// When inserting before end(), make sure we have a valid path.</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab9434bd7ee08975d3ed2adca806f2096">legalizeForInsert</a>(--Level);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// Insert into the branch node at Level-1.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level) == Branch::Capacity) {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="comment">// Branch node is full, handle handle the overflow.</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    assert(!SplitRoot &amp;&amp; <span class="stringliteral">&quot;Cannot overflow after splitting the root&quot;</span>);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    SplitRoot = overflow&lt;Branch&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>);</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    Level += SplitRoot;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  }</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">node</a>&lt;Branch&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>).insert(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level), P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level), Node, Stop);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(Level, P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level) + 1);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1a059f146407dab6cf651e0a15a4bb05">atLastEntry</a>(Level))</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    setNodeStop(Level, Stop);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">reset</a>(Level + 1);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">return</span> SplitRoot;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">// insert</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a00ac0e9b32e19c2ba444dacfe1725098">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01780"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a00ac0e9b32e19c2ba444dacfe1725098"> 1780</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a00ac0e9b32e19c2ba444dacfe1725098">iterator::insert</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>) {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="keywordflow">if</span> (this-&gt;branched())</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">return</span> treeInsert(a, b, y);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;IM = *this-&gt;map;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// Try simple root leaf insert.</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordtype">unsigned</span> Size = IM.rootLeaf().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab0bd3e9464208516b824137ed7c70644">insertFrom</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>(), IM.rootSize, <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="comment">// Was the root node insert successful?</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">if</span> (Size &lt;= RootLeaf::Capacity) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(0, IM.rootSize = Size);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  }</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="comment">// Root leaf node is full, we must branch.</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  IdxPair Offset = IM.branchRoot(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>());</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0045511f2217fb2722053df480ca93d4">replaceRoot</a>(&amp;IM.rootBranch(), IM.rootSize, Offset);</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="comment">// Now it fits in the new leaf.</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  treeInsert(a, b, y);</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::treeInsert</a>(<a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="classKeyT.html">KeyT</a> <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, ValT <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>) {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  Path &amp;P = this-&gt;path;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="keywordflow">if</span> (!P.valid())</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    P.legalizeForInsert(<a class="code" href="Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a>-&gt;map-&gt;height);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="comment">// Check if this insertion will extend the node to the left.</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="keywordflow">if</span> (P.leafOffset() == 0 &amp;&amp; Traits::startLess(a, P.leaf&lt;Leaf&gt;().start(0))) {</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="comment">// Node is growing to the left, will it affect a left sibling node?</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">if</span> (NodeRef Sib = P.getLeftSibling(P.height())) {</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      Leaf &amp;SibLeaf = Sib.get&lt;Leaf&gt;();</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <span class="keywordtype">unsigned</span> SibOfs = Sib.size() - 1;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <span class="keywordflow">if</span> (SibLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(SibOfs) == y &amp;&amp;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          Traits::adjacent(SibLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(SibOfs), <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>)) {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <span class="comment">// This insertion will coalesce with the last entry in SibLeaf. We can</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="comment">// handle it in two ways:</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="comment">//  1. Extend SibLeaf.stop to b and be done, or</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="comment">//  2. Extend a to SibLeaf, erase the SibLeaf entry and continue.</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="comment">// We prefer 1., but need 2 when coalescing to the right as well.</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        Leaf &amp;CurLeaf = P.leaf&lt;Leaf&gt;();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        P.moveLeft(P.height());</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">if</span> (Traits::stopLess(b, CurLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(0)) &amp;&amp;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            (y != CurLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">value</a>(0) || !Traits::adjacent(b, CurLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(0)))) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;          <span class="comment">// Easy, just extend SibLeaf and we&#39;re done.</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;          setNodeStop(P.height(), SibLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(SibOfs) = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;          <span class="comment">// We have both left and right coalescing. Erase the old SibLeaf entry</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;          <span class="comment">// and continue inserting the larger interval.</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;          a = SibLeaf.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">start</a>(SibOfs);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          treeErase(<span class="comment">/* UpdateRoot= */</span><span class="keyword">false</span>);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      }</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      <span class="comment">// No left sibling means we are at begin(). Update cached bound.</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      this-&gt;map-&gt;rootBranchStart() = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// When we are inserting at the end of a leaf node, we must update stops.</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordtype">unsigned</span> Size = P.leafSize();</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordtype">bool</span> Grow = P.leafOffset() == Size;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  Size = P.leaf&lt;Leaf&gt;().insertFrom(P.leafOffset(), Size, <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// Leaf insertion unsuccessful? Overflow and try again.</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">if</span> (Size &gt; Leaf::Capacity) {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    overflow&lt;Leaf&gt;(P.height());</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    Grow = P.leafOffset() == P.leafSize();</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    Size = P.leaf&lt;Leaf&gt;().insertFrom(P.leafOffset(), P.leafSize(), <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>, <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>, <a class="code" href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a>);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    assert(Size &lt;= Leaf::Capacity &amp;&amp; <span class="stringliteral">&quot;overflow() didn&#39;t make room&quot;</span>);</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="comment">// Inserted, update offset and leaf size.</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  P.setSize(P.height(), Size);</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="comment">// Insert was the last node entry, update stops.</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">if</span> (Grow)</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    setNodeStop(P.height(), <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;}</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">/// erase - erase the current interval and move to the next position.</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a3b0dc2d50cb2de5563983618a99af467">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01870"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMap_1_1iterator.html#a3b0dc2d50cb2de5563983618a99af467"> 1870</a></span>&#160;<a class="code" href="classllvm_1_1IntervalMap_1_1iterator.html#a3b0dc2d50cb2de5563983618a99af467">iterator::erase</a>() {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;IM = *this-&gt;map;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  assert(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">valid</a>() &amp;&amp; <span class="stringliteral">&quot;Cannot erase end()&quot;</span>);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">if</span> (this-&gt;branched())</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> treeErase();</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  IM.rootLeaf().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">erase</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>(), IM.rootSize);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(0, --IM.rootSize);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">/// treeErase - erase() for a branched tree.</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::treeErase</a>(<span class="keywordtype">bool</span> UpdateRoot) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;IM = *this-&gt;map;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  Leaf &amp;Node = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;();</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="comment">// Nodes are not allowed to become empty.</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">leafSize</a>() == 1) {</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    IM.deleteNode(&amp;Node);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    eraseNode(IM.height);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="comment">// Update rootBranchStart if we erased begin().</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="keywordflow">if</span> (UpdateRoot &amp;&amp; IM.branched() &amp;&amp; P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">valid</a>() &amp;&amp; P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">atBegin</a>())</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      IM.rootBranchStart() = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;().start(0);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  }</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="comment">// Erase current entry.</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">erase</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>(), P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">leafSize</a>());</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <span class="keywordtype">unsigned</span> NewSize = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">leafSize</a>() - 1;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(IM.height, NewSize);</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <span class="comment">// When we erase the last entry, update stop and move to a legal position.</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">leafOffset</a>() == NewSize) {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    setNodeStop(IM.height, Node.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">stop</a>(NewSize - 1));</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8186267aca496ea543bd8d2ec77660f7">moveRight</a>(IM.height);</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (UpdateRoot &amp;&amp; P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">atBegin</a>())</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    IM.rootBranchStart() = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">leaf</a>&lt;Leaf&gt;().start(0);</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="comment">/// eraseNode - Erase the current node at Level from its parent and move path to</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">/// the first entry of the next sibling node.</span></div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="comment">/// The node must be deallocated by the caller.</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment">/// @param Level 1..height, the root node cannot be erased.</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::eraseNode</a>(<span class="keywordtype">unsigned</span> Level) {</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  assert(Level &amp;&amp; <span class="stringliteral">&quot;Cannot erase root node&quot;</span>);</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap</a> &amp;IM = *this-&gt;map;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  <a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html">IntervalMapImpl::Path</a> &amp;P = this-&gt;path;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (--Level == 0) {</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    IM.rootBranch().<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">erase</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(0), IM.rootSize);</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(0, --IM.rootSize);</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="comment">// If this cleared the root, switch to height=0.</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keywordflow">if</span> (IM.<a class="code" href="classllvm_1_1IntervalMap.html#a2250f0128adcaaca81ee79056ac77b87">empty</a>()) {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      IM.switchRootToLeaf();</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      this-&gt;setRoot(0);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="comment">// Remove node ref from branch node at Level.</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    Branch &amp;Parent = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">node</a>&lt;Branch&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level) == 1) {</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <span class="comment">// Branch node became empty, remove it recursively.</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      IM.deleteNode(&amp;Parent);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      eraseNode(Level);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      <span class="comment">// Branch node won&#39;t become empty.</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      Parent.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">erase</a>(P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level), P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level));</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordtype">unsigned</span> NewSize = P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">size</a>(Level) - 1;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">setSize</a>(Level, NewSize);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="comment">// If we removed the last branch, update stop and move to a legal pos.</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level) == NewSize) {</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        setNodeStop(Level, Parent.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a4083c478094668a21cc7fb1c4c7c8699">stop</a>(NewSize - 1));</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8186267aca496ea543bd8d2ec77660f7">moveRight</a>(Level);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      }</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    }</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  }</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">// Update path cache for the new right sibling position.</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">if</span> (P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">valid</a>()) {</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">reset</a>(Level + 1);</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    P.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">offset</a>(Level + 1) = 0;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  }</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;}</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment">/// overflow - Distribute entries of the current node evenly among</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">/// its siblings and ensure that the current node is not full.</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">/// This may require allocating a new node.</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/// @tparam NodeT The type of node at Level (Leaf or Branch).</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">/// @param Level path index of the overflowing node.</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">/// @return True when the tree height was changed.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyT, <span class="keyword">typename</span> ValT, <span class="keywordtype">unsigned</span> N, <span class="keyword">typename</span> Traits&gt;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeT&gt;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMap.html">IntervalMap&lt;KeyT, ValT, N, Traits&gt;::</a></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<a class="code" href="classllvm_1_1IntervalMap.html">iterator::overflow</a>(<span class="keywordtype">unsigned</span> Level) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keyword">using namespace </span>IntervalMapImpl;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  Path &amp;P = this-&gt;path;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordtype">unsigned</span> CurSize[4];</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  NodeT *Node[4];</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordtype">unsigned</span> Nodes = 0;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordtype">unsigned</span> Elements = 0;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordtype">unsigned</span> Offset = P.offset(Level);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="comment">// Do we have a left sibling?</span></div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  NodeRef LeftSib = P.getLeftSibling(Level);</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordflow">if</span> (LeftSib) {</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    Offset += Elements = CurSize[Nodes] = LeftSib.<a class="code" href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a88007711878dad632ddf3b39d2e92a5a">size</a>();</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    Node[Nodes++] = &amp;LeftSib.get&lt;NodeT&gt;();</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  }</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">// Current node.</span></div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  Elements += CurSize[Nodes] = P.size(Level);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  Node[Nodes++] = &amp;P.node&lt;NodeT&gt;(<a class="code" href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">Level</a>);</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="comment">// Do we have a right sibling?</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  NodeRef RightSib = P.getRightSibling(Level);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <span class="keywordflow">if</span> (RightSib) {</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    Elements += CurSize[Nodes] = RightSib.size();</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    Node[Nodes++] = &amp;RightSib.get&lt;NodeT&gt;();</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  }</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="comment">// Do we need to allocate a new node?</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="keywordtype">unsigned</span> NewNode = 0;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">if</span> (Elements + 1 &gt; Nodes * NodeT::Capacity) {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// Insert NewNode at the penultimate position, or after a single node.</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    NewNode = Nodes == 1 ? 1 : Nodes - 1;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    CurSize[Nodes] = CurSize[NewNode];</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    Node[Nodes] = Node[NewNode];</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    CurSize[NewNode] = 0;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    Node[NewNode] = this-&gt;map-&gt;template newNode&lt;NodeT&gt;();</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    ++Nodes;</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  }</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="comment">// Compute the new element distribution.</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="keywordtype">unsigned</span> NewSize[4];</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  IdxPair NewOffset = <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#adc507d70d9385ae35dcdb70dc1bebc19">distribute</a>(Nodes, Elements, NodeT::Capacity,</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                                 CurSize, NewSize, Offset, <span class="keyword">true</span>);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <a class="code" href="namespacellvm_1_1IntervalMapImpl.html#a1edda7c684a88b0c8aa8480aa869451b">adjustSiblingSizes</a>(Node, Nodes, CurSize, NewSize);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="comment">// Move current location to the leftmost node.</span></div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="keywordflow">if</span> (LeftSib)</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    P.moveLeft(Level);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="comment">// Elements have been rearranged, now update node sizes and stops.</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordtype">bool</span> SplitRoot = <span class="keyword">false</span>;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <span class="keywordtype">unsigned</span> Pos = 0;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <a class="code" href="classKeyT.html">KeyT</a> Stop = Node[Pos]-&gt;stop(NewSize[Pos]-1);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">if</span> (NewNode &amp;&amp; Pos == NewNode) {</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      SplitRoot = insertNode(Level, NodeRef(Node[Pos], NewSize[Pos]), Stop);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      Level += SplitRoot;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      P.setSize(Level, NewSize[Pos]);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      setNodeStop(Level, Stop);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">if</span> (Pos + 1 == Nodes)</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    P.moveRight(Level);</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    ++Pos;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  }</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="comment">// Where was I? Find NewOffset.</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">while</span>(Pos != NewOffset.first) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    P.moveLeft(Level);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    --Pos;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  P.offset(Level) = NewOffset.second;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <span class="keywordflow">return</span> SplitRoot;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;}</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="comment">//---                       IntervalMapOverlaps                           ----//</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="comment">/// IntervalMapOverlaps - Iterate over the overlaps of mapped intervals in two</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">/// IntervalMaps. The maps may be different, but the KeyT and Traits types</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">/// should be the same.</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment">/// Typical uses:</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="comment">/// 1. Test for overlap:</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">///    bool overlap = IntervalMapOverlaps(a, b).valid();</span></div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="comment">/// 2. Enumerate overlaps:</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="comment">///    for (IntervalMapOverlaps I(a, b); I.valid() ; ++I) { ... }</span></div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> MapA, <span class="keyword">typename</span> MapB&gt;</div><div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html"> 2058</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1IntervalMapOverlaps.html">IntervalMapOverlaps</a> {</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> MapA::KeyType KeyType;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> MapA::KeyTraits Traits;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="keyword">typename</span> MapA::const_iterator posA;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keyword">typename</span> MapB::const_iterator posB;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment">  /// advance - Move posA and posB forward until reaching an overlap, or until</span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment">  /// either meets end.</span></div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">  /// Don&#39;t move the iterators if they are already overlapping.</span></div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>() {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">if</span> (!valid())</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">if</span> (Traits::stopLess(posA.stop(), posB.start())) {</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <span class="comment">// A ends before B begins. Catch up.</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      posA.advanceTo(posB.start());</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <span class="keywordflow">if</span> (!posA.valid() || !Traits::stopLess(posB.stop(), posA.start()))</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Traits::stopLess(posB.stop(), posA.start())) {</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <span class="comment">// B ends before A begins. Catch up.</span></div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      posB.advanceTo(posA.start());</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">if</span> (!posB.valid() || !Traits::stopLess(posA.stop(), posB.start()))</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      <span class="comment">// Already overlapping.</span></div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="comment">// Make a.end &gt; b.start.</span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      posA.advanceTo(posB.start());</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <span class="keywordflow">if</span> (!posA.valid() || !Traits::stopLess(posB.stop(), posA.start()))</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <span class="comment">// Make b.end &gt; a.start.</span></div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      posB.advanceTo(posA.start());</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <span class="keywordflow">if</span> (!posB.valid() || !Traits::stopLess(posA.stop(), posB.start()))</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    }</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  }</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="comment">  /// IntervalMapOverlaps - Create an iterator for the overlaps of a and b.</span></div><div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a57afb249460a361774661a77e49e1f41"> 2099</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a57afb249460a361774661a77e49e1f41">IntervalMapOverlaps</a>(<span class="keyword">const</span> MapA &amp;a, <span class="keyword">const</span> MapB &amp;b)</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    : posA(b.empty() ? a.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>() : a.find(b.start())),</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      posB(posA.valid() ? b.find(posA.start()) : b.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()) { <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>(); }</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment">  /// valid - Return true if iterator is at an overlap.</span></div><div class="line"><a name="l02104"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a55450c323de3d0d4c9ea0ff041b08a89"> 2104</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a55450c323de3d0d4c9ea0ff041b08a89">valid</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">return</span> posA.valid() &amp;&amp; posB.valid();</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  }</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment">  /// a - access the left hand side in the overlap.</span></div><div class="line"><a name="l02109"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#ab5813479407e05556962a4bd50dc578b"> 2109</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <span class="keyword">typename</span> MapA::const_iterator &amp;<a class="code" href="classllvm_1_1IntervalMapOverlaps.html#ab5813479407e05556962a4bd50dc578b">a</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> posA; }</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment">  /// b - access the right hand side in the overlap.</span></div><div class="line"><a name="l02112"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a604c3ff32ec30c4e7cf2e5667b625a95"> 2112</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <span class="keyword">typename</span> MapB::const_iterator &amp;<a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a604c3ff32ec30c4e7cf2e5667b625a95">b</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> posB; }</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="comment">  /// start - Beginning of the overlapping interval.</span></div><div class="line"><a name="l02115"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a8e0c5486344f2bdc41c99134cf6b544e"> 2115</a></span>&#160;<span class="comment"></span>  KeyType <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a8e0c5486344f2bdc41c99134cf6b544e">start</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    KeyType ak = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>().start();</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    KeyType bk = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>().start();</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">return</span> Traits::startLess(ak, bk) ? bk : ak;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  }</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">  /// stop - End of the overlapping interval.</span></div><div class="line"><a name="l02122"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a61dcbb7063017adc8609c6ac0d5c71f3"> 2122</a></span>&#160;<span class="comment"></span>  KeyType <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a61dcbb7063017adc8609c6ac0d5c71f3">stop</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    KeyType ak = <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>().stop();</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    KeyType bk = <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a>().stop();</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">return</span> Traits::startLess(ak, bk) ? ak : bk;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  }</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="comment">  /// skipA - Move to the next overlap that doesn&#39;t involve a().</span></div><div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a5720a7ad08cea2e6add75cc60595de16"> 2129</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a5720a7ad08cea2e6add75cc60595de16">skipA</a>() {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    ++posA;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>();</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  }</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">  /// skipB - Move to the next overlap that doesn&#39;t involve b().</span></div><div class="line"><a name="l02135"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a40a00589246eced9934d7f52ed88d75e"> 2135</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a40a00589246eced9934d7f52ed88d75e">skipB</a>() {</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    ++posB;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>();</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="comment">  /// Preincrement - Move to the next overlap.</span></div><div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a59351cdcff974642fe08d0f56416fc19"> 2141</a></span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1IntervalMapOverlaps.html">IntervalMapOverlaps</a> &amp;<a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a59351cdcff974642fe08d0f56416fc19">operator++</a>() {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="comment">// Bump the iterator that ends first. The other one may have more overlaps.</span></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (Traits::startLess(posB.stop(), posA.stop()))</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      skipB();</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      skipA();</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  }</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="comment">  /// advanceTo - Move to the first overlapping interval with</span></div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="comment">  /// stopLess(x, stop()).</span></div><div class="line"><a name="l02152"></a><span class="lineno"><a class="line" href="classllvm_1_1IntervalMapOverlaps.html#a9b702a1f885add62ca0bb7dccaaab2c8"> 2152</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1IntervalMapOverlaps.html#a9b702a1f885add62ca0bb7dccaaab2c8">advanceTo</a>(KeyType x) {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">if</span> (!valid())</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="comment">// Make sure advanceTo sees monotonic keys.</span></div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">if</span> (Traits::stopLess(posA.stop(), <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>))</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      posA.advanceTo(x);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">if</span> (Traits::stopLess(posB.stop(), <a class="code" href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a>))</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      posB.advanceTo(x);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">advance</a>();</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;};</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;} <span class="comment">// namespace llvm</span></div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a72d38c76a340724e3c6f84b602a2734e"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a72d38c76a340724e3c6f84b602a2734e">llvm::IntervalMap::const_iterator::unsafeStop</a></div><div class="ttdeci">KeyT &amp; unsafeStop() const </div><div class="ttdoc">unsafeStop - Writable access to stop() for iterator. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01334">IntervalMap.h:1334</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a0cb691bb38afbd8c0007a69409d6967f"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a0cb691bb38afbd8c0007a69409d6967f">llvm::IntervalMap::iterator::setValueUnchecked</a></div><div class="ttdeci">void setValueUnchecked(ValT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01573">IntervalMap.h:1573</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a255e04c741d52a321aa9f79b32094de3"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a255e04c741d52a321aa9f79b32094de3">llvm::IntervalMap::lookup</a></div><div class="ttdeci">ValT lookup(KeyT x, ValT NotFound=ValT()) const </div><div class="ttdoc">lookup - Return the mapped value at x or NotFound. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01083">IntervalMap.h:1083</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="PointerIntPair_8h_html"><div class="ttname"><a href="PointerIntPair_8h.html">PointerIntPair.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a6c05bf6b202a8fe6d84f071b3b10ef9d"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a6c05bf6b202a8fe6d84f071b3b10ef9d">llvm::IntervalMap::iterator::setValue</a></div><div class="ttdeci">void setValue(ValT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01712">IntervalMap.h:1712</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a1f3758be51b1c7b31dd35602d524df95"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a1f3758be51b1c7b31dd35602d524df95">llvm::IntervalMapImpl::NodeBase::transferToLeftSib</a></div><div class="ttdeci">void transferToLeftSib(unsigned Size, NodeBase &amp;Sib, unsigned SSize, unsigned Count)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00285">IntervalMap.h:285</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a82bd4f4b721c049035c0d86cc261eadd"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a82bd4f4b721c049035c0d86cc261eadd">tmp</a></div><div class="ttdeci">alloca&lt; 16 x float &gt;, align 16%tmp2=alloca&lt; 16 x float &gt;, align 16 store&lt; 16 x float &gt;%A,&lt; 16 x float &gt; *%tmp%s=bitcast&lt; 16 x float &gt; *%tmp to i8 *%s2=bitcast&lt; 16 x float &gt; *%tmp2 to i8 *call void @llvm.memcpy.i64(i8 *%s, i8 *%s2, i64 64, i32 16)%R=load&lt; 16 x float &gt; *%tmp2 ret&lt; 16 x float &gt;%R}declare void @llvm.memcpy.i64(i8 *nocapture, i8 *nocapture, i64, i32) nounwind which compiles to:_foo:subl $140,%esp movaps%xmm3, 112(%esp) movaps%xmm2, 96(%esp) movaps%xmm1, 80(%esp) movaps%xmm0, 64(%esp) movl 60(%esp),%eax movl%eax, 124(%esp) movl 56(%esp),%eax movl%eax, 120(%esp) movl 52(%esp),%eax&lt; many many more 32-bit copies &gt; movaps(%esp),%xmm0 movaps 16(%esp),%xmm1 movaps 32(%esp),%xmm2 movaps 48(%esp),%xmm3 addl $140,%esp ret On Nehalem, it may even be cheaper to just use movups when unaligned than to fall back to lower-granularity chunks.Implement processor-specific optimizations for parity with GCC on these processors.GCC does two optimizations:1.ix86_pad_returns inserts a noop before ret instructions if immediately preceded by a conditional branch or is the target of a jump.2.ix86_avoid_jump_misspredicts inserts noops in cases where a 16-byte block of code contains more than 3 branches.The first one is done for all AMDs, Core2, and&quot;Generic&quot;The second one is done for:Atom, Pentium Pro, all AMDs, Pentium 4, Nocona, Core 2, and&quot;Generic&quot;Testcase:int x(int a){return(a &amp;0xf0)&gt;&gt;4 tmp</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01572">Target/X86/README.txt:1572</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_aff3d62f75e0ac5cade591e295c5b03d7"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#aff3d62f75e0ac5cade591e295c5b03d7">llvm::IntervalMap::find</a></div><div class="ttdeci">iterator find(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01142">IntervalMap.h:1142</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a28ff2f41afe22a42b271b12b4fb8d809"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a28ff2f41afe22a42b271b12b4fb8d809">llvm::IntervalMapImpl::NodeBase::copy</a></div><div class="ttdeci">void copy(const NodeBase&lt; T1, T2, M &gt; &amp;Other, unsigned i, unsigned j, unsigned Count)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00226">IntervalMap.h:226</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a4d45826116f9f6e37ceed4b3ad9c2b3e"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a4d45826116f9f6e37ceed4b3ad9c2b3e">llvm::IntervalMapImpl::NodeBase::second</a></div><div class="ttdeci">T2 second[N]</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00218">IntervalMap.h:218</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_aaa6329ac17c770c00c849c74fbe1c7b4"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#aaa6329ac17c770c00c849c74fbe1c7b4">llvm::IntervalMap::begin</a></div><div class="ttdeci">const_iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01110">IntervalMap.h:1110</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_a1edda7c684a88b0c8aa8480aa869451b"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#a1edda7c684a88b0c8aa8480aa869451b">llvm::IntervalMapImpl::adjustSiblingSizes</a></div><div class="ttdeci">void adjustSiblingSizes(NodeT *Node[], unsigned Nodes, unsigned CurSize[], const unsigned NewSize[])</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00330">IntervalMap.h:330</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html">llvm::IntervalMapImpl::BranchNode</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00180">IntervalMap.h:180</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a5a6a05b7d9e9efb3f7b098c20fa0088a"><div class="ttname"><a href="Target_2README_8txt.html#a5a6a05b7d9e9efb3f7b098c20fa0088a">s</a></div><div class="ttdeci">multiplies can be turned into SHL s</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00408">Target/README.txt:408</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapInfo_html"><div class="ttname"><a href="structllvm_1_1IntervalMapInfo.html">llvm::IntervalMapInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00132">IntervalMap.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ab9434bd7ee08975d3ed2adca806f2096"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab9434bd7ee08975d3ed2adca806f2096">llvm::IntervalMapImpl::Path::legalizeForInsert</a></div><div class="ttdeci">void legalizeForInsert(unsigned Level)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00913">IntervalMap.h:913</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html">llvm::IntervalMapOverlaps</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02058">IntervalMap.h:2058</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a58dc840fc84420b7f0b773794b8101c1"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a58dc840fc84420b7f0b773794b8101c1">llvm::SmallVectorTemplateCommon::front</a></div><div class="ttdeci">reference front()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00148">SmallVector.h:148</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapHalfOpenInfo_html"><div class="ttname"><a href="structllvm_1_1IntervalMapHalfOpenInfo.html">llvm::IntervalMapHalfOpenInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00155">IntervalMap.h:155</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a1ac0a858c492d8aa64d272896b471bec"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1ac0a858c492d8aa64d272896b471bec">llvm::IntervalMapImpl::Path::leafOffset</a></div><div class="ttdeci">unsigned &amp; leafOffset()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00804">IntervalMap.h:804</a></div></div>
<div class="ttc" id="RecyclingAllocator_8h_html"><div class="ttname"><a href="RecyclingAllocator_8h.html">RecyclingAllocator.h</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_a4083c478094668a21cc7fb1c4c7c8699"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a4083c478094668a21cc7fb1c4c7c8699">llvm::IntervalMapImpl::BranchNode::stop</a></div><div class="ttdeci">const KeyT &amp; stop(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00699">IntervalMap.h:699</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_aa6ba9ab0e8d1e6a4c8ff131e71ab708b"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa6ba9ab0e8d1e6a4c8ff131e71ab708b">llvm::IntervalMap::const_iterator::unsafeStart</a></div><div class="ttdeci">KeyT &amp; unsafeStart() const </div><div class="ttdoc">unsafeStart - Writable access to start() for iterator. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01327">IntervalMap.h:1327</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_acd60f40361f7e4ac0238496ca4965c50"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#acd60f40361f7e4ac0238496ca4965c50">llvm::IntervalMap::const_iterator::atBegin</a></div><div class="ttdeci">bool atBegin() const </div><div class="ttdoc">atBegin - Return true if the current position is the first map entry. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01359">IntervalMap.h:1359</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_adcafa0aa1b3e720d955d2e79e4f3e7d9"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#adcafa0aa1b3e720d955d2e79e4f3e7d9">llvm::IntervalMapImpl::LeafNode::stop</a></div><div class="ttdeci">const KeyT &amp; stop(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00562">IntervalMap.h:562</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a59351cdcff974642fe08d0f56416fc19"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a59351cdcff974642fe08d0f56416fc19">llvm::IntervalMapOverlaps::operator++</a></div><div class="ttdeci">IntervalMapOverlaps &amp; operator++()</div><div class="ttdoc">Preincrement - Move to the next overlap. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02141">IntervalMap.h:2141</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a5720a7ad08cea2e6add75cc60595de16"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a5720a7ad08cea2e6add75cc60595de16">llvm::IntervalMapOverlaps::skipA</a></div><div class="ttdeci">void skipA()</div><div class="ttdoc">skipA - Move to the next overlap that doesn&amp;#39;t involve a(). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02129">IntervalMap.h:2129</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a19785dafd2ac873fe41085bf3125e0f9"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a19785dafd2ac873fe41085bf3125e0f9">llvm::IntervalMap::const_iterator::const_iterator</a></div><div class="ttdeci">const_iterator(const IntervalMap &amp;map)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01307">IntervalMap.h:1307</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ae878a804adbd190aad9c23df62b0f352"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae878a804adbd190aad9c23df62b0f352">llvm::IntervalMapImpl::Path::moveLeft</a></div><div class="ttdeci">void moveLeft(unsigned Level)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8cpp_source.html#l00048">IntervalMap.cpp:48</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a22d1210e84586511677b003248e68a1f"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a22d1210e84586511677b003248e68a1f">llvm::IntervalMap::find</a></div><div class="ttdeci">const_iterator find(KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01136">IntervalMap.h:1136</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_ab1265749e1ed6cdf232373b29c7a2f6a"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#ab1265749e1ed6cdf232373b29c7a2f6a">llvm::IntervalMap::stop</a></div><div class="ttdeci">KeyT stop() const </div><div class="ttdoc">stop - Return the largest mapped key in a non-empty map. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01076">IntervalMap.h:1076</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a8a8bbc180b0fb593af60a451bec9c8d6"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8a8bbc180b0fb593af60a451bec9c8d6">llvm::IntervalMapImpl::Path::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdoc">pop - Remove the last path entry. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00836">IntervalMap.h:836</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a63cfcd5342f10be614aa7b2e26e345f4"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a63cfcd5342f10be614aa7b2e26e345f4">llvm::IntervalMapImpl::LeafNode::value</a></div><div class="ttdeci">ValT &amp; value(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00567">IntervalMap.h:567</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a61dcbb7063017adc8609c6ac0d5c71f3"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a61dcbb7063017adc8609c6ac0d5c71f3">llvm::IntervalMapOverlaps::stop</a></div><div class="ttdeci">KeyType stop() const </div><div class="ttdoc">stop - End of the overlapping interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02122">IntervalMap.h:2122</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a5775c44f1af915246431618090e08c0e"><div class="ttname"><a href="README-SSE_8txt.html#a5775c44f1af915246431618090e08c0e">x</a></div><div class="ttdeci">=x?x:x+x x</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00798">README-SSE.txt:798</a></div></div>
<div class="ttc" id="classllvm_1_1RecyclingAllocator_html_a15b55012c1a5fc0e82d13227332796b9"><div class="ttname"><a href="classllvm_1_1RecyclingAllocator.html#a15b55012c1a5fc0e82d13227332796b9">llvm::RecyclingAllocator::Deallocate</a></div><div class="ttdeci">void Deallocate(SubClass *E)</div><div class="ttdef"><b>Definition:</b> <a href="RecyclingAllocator_8h_source.html#l00052">RecyclingAllocator.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_ad78f3b51c6072c24a35fc1e435b6a163"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#ad78f3b51c6072c24a35fc1e435b6a163">llvm::IntervalMapImpl::NodeRef::NodeRef</a></div><div class="ttdeci">NodeRef()</div><div class="ttdoc">NodeRef - Create a null ref. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00496">IntervalMap.h:496</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a70a77b0f022fde493ace11aab5d70101"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a70a77b0f022fde493ace11aab5d70101">llvm::IntervalMapImpl::NodeBase::adjustFromLeftSib</a></div><div class="ttdeci">int adjustFromLeftSib(unsigned Size, NodeBase &amp;Sib, unsigned SSize, int Add)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00309">IntervalMap.h:309</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_adf3d3e60a7486b0f8bf501db8d00b855"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#adf3d3e60a7486b0f8bf501db8d00b855">llvm::IntervalMapImpl::Path::offset</a></div><div class="ttdeci">unsigned &amp; offset(unsigned Level)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00796">IntervalMap.h:796</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a16b2c8e378000a0894391bc4f741369a"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a16b2c8e378000a0894391bc4f741369a">llvm::IntervalMap::const_iterator::setMap</a></div><div class="ttdeci">void setMap(const IntervalMap &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01353">IntervalMap.h:1353</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a51e234ecb8eb36b77d36c3585f4d094b"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a51e234ecb8eb36b77d36c3585f4d094b">llvm::IntervalMap::end</a></div><div class="ttdeci">const_iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01122">IntervalMap.h:1122</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html">llvm::IntervalMapImpl::NodeRef</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00486">IntervalMap.h:486</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a681bac255b31029241212bb9179de360"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a681bac255b31029241212bb9179de360">llvm::IntervalMap::iterator::operator--</a></div><div class="ttdeci">iterator &amp; operator--()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01592">IntervalMap.h:1592</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ab252ce944fb2315d923f0d2f36523f0f"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ab252ce944fb2315d923f0d2f36523f0f">llvm::IntervalMapImpl::Path::fillLeft</a></div><div class="ttdeci">void fillLeft(unsigned Height)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00878">IntervalMap.h:878</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a309b05fd98e74135feeba4ee5b191080"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a309b05fd98e74135feeba4ee5b191080">llvm::IntervalMap::iterator::iterator</a></div><div class="ttdeci">iterator()</div><div class="ttdoc">iterator - Create null iterator. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01536">IntervalMap.h:1536</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapHalfOpenInfo_html_a84f9997a78b9bf6436f5cfd30eef254b"><div class="ttname"><a href="structllvm_1_1IntervalMapHalfOpenInfo.html#a84f9997a78b9bf6436f5cfd30eef254b">llvm::IntervalMapHalfOpenInfo::adjacent</a></div><div class="ttdeci">static bool adjacent(const T &amp;a, const T &amp;b)</div><div class="ttdoc">adjacent - Return true when the intervals [x;a) and [b;y) can coalesce. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00168">IntervalMap.h:168</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a901ce7389ca67dd79b8ab5b53c4a7da8"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a901ce7389ca67dd79b8ab5b53c4a7da8">d</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int int d</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00418">Target/ARM/README.txt:418</a></div></div>
<div class="ttc" id="classllvm_1_1Traits_html"><div class="ttname"><a href="classllvm_1_1Traits.html">Traits</a></div></div>
<div class="ttc" id="Allocator_8h_html"><div class="ttname"><a href="Allocator_8h.html">Allocator.h</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a3d414dde22d5689fbfa9048ec187352d"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a3d414dde22d5689fbfa9048ec187352d">llvm::IntervalMapImpl::LeafNode::safeLookup</a></div><div class="ttdeci">ValT safeLookup(KeyT x, ValT NotFound) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00604">IntervalMap.h:604</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a037975d2fde86f387cbf2f9842a9417a"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a037975d2fde86f387cbf2f9842a9417a">llvm::IntervalMapImpl::LeafNode::start</a></div><div class="ttdeci">const KeyT &amp; start(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00561">IntervalMap.h:561</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_aa02ccfd91f0ae5d754f370be26e3191e"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa02ccfd91f0ae5d754f370be26e3191e">llvm::IntervalMap::const_iterator::setRoot</a></div><div class="ttdeci">void setRoot(unsigned Offset)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01315">IntervalMap.h:1315</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ad1fb4a5767ee7d21e59e291741f70e50"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ad1fb4a5767ee7d21e59e291741f70e50">llvm::IntervalMapImpl::Path::leaf</a></div><div class="ttdeci">NodeT &amp; leaf() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00799">IntervalMap.h:799</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_a7f04e2592ce58b637a44a5ba88b3df6e"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a7f04e2592ce58b637a44a5ba88b3df6e">llvm::IntervalMapImpl::BranchNode::subtree</a></div><div class="ttdeci">const NodeRef &amp; subtree(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00700">IntervalMap.h:700</a></div></div>
<div class="ttc" id="namespacellvm_1_1object_html_a63a8f680ecd1aa68ae0efdd3b5c4f4a7"><div class="ttname"><a href="namespacellvm_1_1object.html#a63a8f680ecd1aa68ae0efdd3b5c4f4a7">llvm::object::advance</a></div><div class="ttdeci">static error_code advance(T &amp;it, size_t Val)</div><div class="ttdef"><b>Definition:</b> <a href="MachOObjectFile_8cpp_source.html#l00278">MachOObjectFile.cpp:278</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapInfo_html_addf29fc41435ca95da5e142086eac11c"><div class="ttname"><a href="structllvm_1_1IntervalMapInfo.html#addf29fc41435ca95da5e142086eac11c">llvm::IntervalMapInfo::stopLess</a></div><div class="ttdeci">static bool stopLess(const T &amp;b, const T &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00142">IntervalMap.h:142</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_ab4ea1c76d9f9492798c69555ef0a2eda"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab4ea1c76d9f9492798c69555ef0a2eda">llvm::IntervalMap::const_iterator::operator++</a></div><div class="ttdeci">const_iterator &amp; operator++()</div><div class="ttdoc">preincrement - move to the next interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01398">IntervalMap.h:1398</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a3c58151f4898d690fcd4160af48bd9e5"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3c58151f4898d690fcd4160af48bd9e5">llvm::IntervalMap::const_iterator::unsafeValue</a></div><div class="ttdeci">ValT &amp; unsafeValue() const </div><div class="ttdoc">unsafeValue - Writable access to value() for iterator. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01341">IntervalMap.h:1341</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a4b980c1f20e48e79647774737cf4f1ce">llvm::IntervalMapImpl::Log2CacheLine</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00424">IntervalMap.h:424</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html">llvm::IntervalMapImpl::LeafNode</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00179">IntervalMap.h:179</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a55450c323de3d0d4c9ea0ff041b08a89"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a55450c323de3d0d4c9ea0ff041b08a89">llvm::IntervalMapOverlaps::valid</a></div><div class="ttdeci">bool valid() const </div><div class="ttdoc">valid - Return true if iterator is at an overlap. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02104">IntervalMap.h:2104</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_a9fc0001da44f5b206f37160ee5c0ce27ab4675b39ebff7a48b8f66be1e97f1575"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27ab4675b39ebff7a48b8f66be1e97f1575">llvm::IntervalMapImpl::DesiredNodeBytes</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00426">IntervalMap.h:426</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a27e1981325e2267e65652eaddb2cb236"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a27e1981325e2267e65652eaddb2cb236">llvm::IntervalMap::const_iterator::advanceTo</a></div><div class="ttdeci">void advanceTo(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01440">IntervalMap.h:1440</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba359237c780f7c8e40645575826da8a3c">llvm::MCID::Branch</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00108">MCInstrDesc.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1RecyclingAllocator_html"><div class="ttname"><a href="classllvm_1_1RecyclingAllocator.html">llvm::RecyclingAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="RecyclingAllocator_8h_source.html#l00027">RecyclingAllocator.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a7136191f76b76ad1bef786f47f2c9846"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a7136191f76b76ad1bef786f47f2c9846">llvm::IntervalMap::const_iterator::treeAdvanceTo</a></div><div class="ttdeci">void treeAdvanceTo(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01480">IntervalMap.h:1480</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html">llvm::IntervalMap::iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01519">IntervalMap.h:1519</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a6f610f7305fd92aebf5c5d48b8888d56"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a6f610f7305fd92aebf5c5d48b8888d56">llvm::IntervalMap::ValueType</a></div><div class="ttdeci">ValT ValueType</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00964">IntervalMap.h:964</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_af674ca1316a7f725e3ee42c4c35eaaff"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#af674ca1316a7f725e3ee42c4c35eaaff">llvm::IntervalMapImpl::NodeRef::operator==</a></div><div class="ttdeci">bool operator==(const NodeRef &amp;RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00526">IntervalMap.h:526</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_a7ef44ea266e1d80c6c04ef5a1d0e0b3b"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a7ef44ea266e1d80c6c04ef5a1d0e0b3b">llvm::IntervalMapImpl::NodeRef::operator!=</a></div><div class="ttdeci">bool operator!=(const NodeRef &amp;RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00533">IntervalMap.h:533</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a0403a144a7d046d54a6d09a43f64059a"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a0403a144a7d046d54a6d09a43f64059a">llvm::IntervalMap::KeyType</a></div><div class="ttdeci">KeyT KeyType</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00963">IntervalMap.h:963</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a2250f0128adcaaca81ee79056ac77b87"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a2250f0128adcaaca81ee79056ac77b87">llvm::IntervalMap::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdoc">empty - Return true when no intervals are mapped. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01065">IntervalMap.h:1065</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapHalfOpenInfo_html_a20adb85b25d2fc3aea987343f828300c"><div class="ttname"><a href="structllvm_1_1IntervalMapHalfOpenInfo.html#a20adb85b25d2fc3aea987343f828300c">llvm::IntervalMapHalfOpenInfo::startLess</a></div><div class="ttdeci">static bool startLess(const T &amp;x, const T &amp;a)</div><div class="ttdoc">startLess - Return true if x is not in [a;b). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00158">IntervalMap.h:158</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_ab5813479407e05556962a4bd50dc578b"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#ab5813479407e05556962a4bd50dc578b">llvm::IntervalMapOverlaps::a</a></div><div class="ttdeci">const MapA::const_iterator &amp; a() const </div><div class="ttdoc">a - access the left hand side in the overlap. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02109">IntervalMap.h:2109</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a3b0dc2d50cb2de5563983618a99af467"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a3b0dc2d50cb2de5563983618a99af467">llvm::IntervalMap::iterator::erase</a></div><div class="ttdeci">void erase()</div><div class="ttdoc">erase - Erase the current interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01870">IntervalMap.h:1870</a></div></div>
<div class="ttc" id="namespacellvm_1_1CodeGenOpt_html_a411055ea15209051c2370bbf655ec8d4"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#a411055ea15209051c2370bbf655ec8d4">llvm::CodeGenOpt::Level</a></div><div class="ttdeci">Level</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00045">CodeGen.h:45</a></div></div>
<div class="ttc" id="classValT_html"><div class="ttname"><a href="classValT.html">ValT</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapImpl_1_1NodeSizer_html_a0d5ae5c295939d7f5039c1253c6ef753"><div class="ttname"><a href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a0d5ae5c295939d7f5039c1253c6ef753">llvm::IntervalMapImpl::NodeSizer::LeafBase</a></div><div class="ttdeci">NodeBase&lt; std::pair&lt; KeyT, KeyT &gt;, ValT, LeafSize &gt; LeafBase</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00443">IntervalMap.h:443</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_aecbd7712a5e471d6821af772a8e55f85"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#aecbd7712a5e471d6821af772a8e55f85">llvm::IntervalMap::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Remove all entries. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01282">IntervalMap.h:1282</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_aef5470188803d9a8cdda0ad4f98e1699"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#aef5470188803d9a8cdda0ad4f98e1699">llvm::IntervalMap::IntervalMap</a></div><div class="ttdeci">IntervalMap(Allocator &amp;a)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01053">IntervalMap.h:1053</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapImpl_1_1NodeSizer_html"><div class="ttname"><a href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html">llvm::IntervalMapImpl::NodeSizer</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00430">IntervalMap.h:430</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_aaf37f923ae0eb113a150b4931d037d78"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#aaf37f923ae0eb113a150b4931d037d78">llvm::IntervalMapImpl::NodeRef::subtree</a></div><div class="ttdeci">NodeRef &amp; subtree(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00516">IntervalMap.h:516</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_a725b89e7964f33d7dfeb38dfe00a45f8"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#a725b89e7964f33d7dfeb38dfe00a45f8">llvm::PointerIntPair::setInt</a></div><div class="ttdeci">void setInt(IntType IntVal)</div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00088">PointerIntPair.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a204f2d52ce0711f77b214b78e5206906"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a204f2d52ce0711f77b214b78e5206906">llvm::IntervalMap::KeyTraits</a></div><div class="ttdeci">Traits KeyTraits</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00965">IntervalMap.h:965</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_af8deb6d8a06cd57e8268aef054879101"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#af8deb6d8a06cd57e8268aef054879101">llvm::IntervalMapImpl::BranchNode::insert</a></div><div class="ttdeci">void insert(unsigned i, unsigned Size, NodeRef Node, KeyT Stop)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00746">IntervalMap.h:746</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a8e0c5486344f2bdc41c99134cf6b544e"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a8e0c5486344f2bdc41c99134cf6b544e">llvm::IntervalMapOverlaps::start</a></div><div class="ttdeci">KeyType start() const </div><div class="ttdoc">start - Beginning of the overlapping interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02115">IntervalMap.h:2115</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a01bdf3dc12c07694d5f64d8a83dc21f5"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a01bdf3dc12c07694d5f64d8a83dc21f5">llvm::IntervalMapImpl::NodeBase::erase</a></div><div class="ttdeci">void erase(unsigned i, unsigned j, unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00262">IntervalMap.h:262</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_abed52bd8600aaa49567ed0f533cbf1d0"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#abed52bd8600aaa49567ed0f533cbf1d0">llvm::IntervalMapImpl::NodeBase::transferToRightSib</a></div><div class="ttdeci">void transferToRightSib(unsigned Size, NodeBase &amp;Sib, unsigned SSize, unsigned Count)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00296">IntervalMap.h:296</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a878452ac67d0cdcdc91fbfa0dfc22618"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a878452ac67d0cdcdc91fbfa0dfc22618">llvm::IntervalMap::iterator::setStartUnchecked</a></div><div class="ttdeci">void setStartUnchecked(KeyT a)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01557">IntervalMap.h:1557</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a720d259e041e9f9cdd9cfb1f5354f7c9"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a720d259e041e9f9cdd9cfb1f5354f7c9">llvm::IntervalMapImpl::LeafNode::safeFind</a></div><div class="ttdeci">unsigned safeFind(unsigned i, KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00590">IntervalMap.h:590</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_a88007711878dad632ddf3b39d2e92a5a"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a88007711878dad632ddf3b39d2e92a5a">llvm::IntervalMapImpl::NodeRef::size</a></div><div class="ttdeci">unsigned size() const </div><div class="ttdoc">size - Return the number of elements in the referenced node. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00508">IntervalMap.h:508</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a3049c813a8223d4337b2d6102635ef51"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3049c813a8223d4337b2d6102635ef51">llvm::IntervalMap::const_iterator::start</a></div><div class="ttdeci">const KeyT &amp; start() const </div><div class="ttdoc">start - Return the beginning of the current interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01362">IntervalMap.h:1362</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_adc507d70d9385ae35dcdb70dc1bebc19"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#adc507d70d9385ae35dcdb70dc1bebc19">llvm::IntervalMapImpl::distribute</a></div><div class="ttdeci">IdxPair distribute(unsigned Nodes, unsigned Elements, unsigned Capacity, const unsigned *CurSize, unsigned NewSize[], unsigned Position, bool Grow)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8cpp_source.html#l00120">IntervalMap.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a0045511f2217fb2722053df480ca93d4"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0045511f2217fb2722053df480ca93d4">llvm::IntervalMapImpl::Path::replaceRoot</a></div><div class="ttdeci">void replaceRoot(void *Root, unsigned Size, IdxPair Offsets)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8cpp_source.html#l00019">IntervalMap.cpp:19</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_acd9e771a3296c6b24146955754620557"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#acd9e771a3296c6b24146955754620557">llvm::SmallVectorTemplateCommon::back</a></div><div class="ttdeci">reference back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00157">SmallVector.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00396">SmallVector.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html">llvm::PointerIntPair&lt; void *, Log2CacheLine, unsigned, CacheAlignedPointerTraits &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_abd962b7b01f49ce61ea41ee10c49e313"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#abd962b7b01f49ce61ea41ee10c49e313">llvm::SmallVectorImpl::swap</a></div><div class="ttdeci">void swap(SmallVectorImpl &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00710">SmallVector.h:710</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ace340a603baa58cc44953a022cec98d7"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ace340a603baa58cc44953a022cec98d7">llvm::IntervalMapImpl::Path::size</a></div><div class="ttdeci">unsigned size(unsigned Level) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00794">IntervalMap.h:794</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_ac39f13dd6ea8d7bed1ca4fdeeb409a39"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac39f13dd6ea8d7bed1ca4fdeeb409a39">llvm::IntervalMapImpl::NodeBase::moveRight</a></div><div class="ttdeci">void moveRight(unsigned i, unsigned j, unsigned Count)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00249">IntervalMap.h:249</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_adb7d9f7a99bf1090decff0ea8b50452d"><div class="ttname"><a href="README-SSE_8txt.html#adb7d9f7a99bf1090decff0ea8b50452d">node</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper node</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_ab827f91e03f3338b2b943a00f0bee07d"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#ab827f91e03f3338b2b943a00f0bee07d">llvm::IntervalMap::const_iterator::find</a></div><div class="ttdeci">void find(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01430">IntervalMap.h:1430</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_aa985e833e8285bdff17eeb00536a9120"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#aa985e833e8285bdff17eeb00536a9120">llvm::IntervalMapImpl::LeafNode::findFrom</a></div><div class="ttdeci">unsigned findFrom(unsigned i, unsigned Size, KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00575">IntervalMap.h:575</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_aa5a19f3846b41a958eef8890dcab03f0"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#aa5a19f3846b41a958eef8890dcab03f0">llvm::IntervalMap::const_iterator::operator--</a></div><div class="ttdeci">const_iterator &amp; operator--()</div><div class="ttdoc">predecrement - move to the previous interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01413">IntervalMap.h:1413</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_adaec49caab60813b87e4efb180ce1675"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#adaec49caab60813b87e4efb180ce1675">llvm::IntervalMap::const_iterator::goToBegin</a></div><div class="ttdeci">void goToBegin()</div><div class="ttdoc">goToBegin - Move to the first interval in map. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01386">IntervalMap.h:1386</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a8a2c34800f756936cf3ee4848cbcf436"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8a2c34800f756936cf3ee4848cbcf436">llvm::IntervalMap::const_iterator::operator!=</a></div><div class="ttdeci">bool operator!=(const const_iterator &amp;RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01381">IntervalMap.h:1381</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html"><div class="ttname"><a href="classllvm_1_1IntervalMap.html">llvm::IntervalMap</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00931">IntervalMap.h:931</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a604c3ff32ec30c4e7cf2e5667b625a95"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a604c3ff32ec30c4e7cf2e5667b625a95">llvm::IntervalMapOverlaps::b</a></div><div class="ttdeci">const MapB::const_iterator &amp; b() const </div><div class="ttdoc">b - access the right hand side in the overlap. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02112">IntervalMap.h:2112</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_ae84496bee4aead957e3193cfbe5ce3e8"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#ae84496bee4aead957e3193cfbe5ce3e8">llvm::IntervalMap::iterator::setStop</a></div><div class="ttdeci">void setStop(KeyT b)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01697">IntervalMap.h:1697</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ab3b846f25e9b54e59ff1ee80f8f019d6"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ab3b846f25e9b54e59ff1ee80f8f019d6">h</a></div><div class="ttdeci">It appears gcc place string data with linkonce linkage in section coalesced instead of section coalesced Take a look at darwin h</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00343">Target/X86/README.txt:343</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapInfo_html_a2df1e86c9dbc6e42b1ddd61bd971c125"><div class="ttname"><a href="structllvm_1_1IntervalMapInfo.html#a2df1e86c9dbc6e42b1ddd61bd971c125">llvm::IntervalMapInfo::startLess</a></div><div class="ttdeci">static bool startLess(const T &amp;x, const T &amp;a)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00136">IntervalMap.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a57afb249460a361774661a77e49e1f41"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a57afb249460a361774661a77e49e1f41">llvm::IntervalMapOverlaps::IntervalMapOverlaps</a></div><div class="ttdeci">IntervalMapOverlaps(const MapA &amp;a, const MapB &amp;b)</div><div class="ttdoc">IntervalMapOverlaps - Create an iterator for the overlaps of a and b. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02099">IntervalMap.h:2099</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a9f207a7ea5e716ddd6e894086b593941"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a9f207a7ea5e716ddd6e894086b593941">llvm::IntervalMap::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01128">IntervalMap.h:1128</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_abf89f09e76ca3bcfb207cddc821f3299"><div class="ttname"><a href="Target_2X86_2README_8txt.html#abf89f09e76ca3bcfb207cddc821f3299">shift</a></div><div class="ttdeci">http eax xorl edx cl sete al setne dl sall eax sall edx But that requires good bit subreg support this might be better It s an extra shift</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00031">Target/X86/README.txt:31</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ae7bf3e9acd13b303b550b91fef0b7ae4"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae7bf3e9acd13b303b550b91fef0b7ae4">llvm::IntervalMapImpl::Path::leafOffset</a></div><div class="ttdeci">unsigned leafOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00803">IntervalMap.h:803</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_aebe4ede02d1a719cd9bffee7c29c4ddf"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#aebe4ede02d1a719cd9bffee7c29c4ddf">llvm::IntervalMap::const_iterator::operator++</a></div><div class="ttdeci">const_iterator operator++(int)</div><div class="ttdoc">postincrement - Dont do that! </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01406">IntervalMap.h:1406</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a29ff9cb22b8c56fae5edf737e3b30630"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a29ff9cb22b8c56fae5edf737e3b30630">llvm::IntervalMapImpl::Path::subtree</a></div><div class="ttdeci">NodeRef &amp; subtree(unsigned Level) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00818">IntervalMap.h:818</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_afb354c8aea0150628f8aa06c7f4a4168"><div class="ttname"><a href="README__ALTIVEC_8txt.html#afb354c8aea0150628f8aa06c7f4a4168">f</a></div><div class="ttdeci">vector float f(vector float a, vector float b)</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00205">README_ALTIVEC.txt:205</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html">llvm::IntervalMapImpl::NodeBase</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00213">IntervalMap.h:213</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_ae8f9fce2cb409f89c47535165f214a23"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#ae8f9fce2cb409f89c47535165f214a23">llvm::PointerIntPair::getInt</a></div><div class="ttdeci">IntType getInt() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00075">PointerIntPair.h:75</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapHalfOpenInfo_html_ae3ebdb2202a4f4f1586a93ccf6764309"><div class="ttname"><a href="structllvm_1_1IntervalMapHalfOpenInfo.html#ae3ebdb2202a4f4f1586a93ccf6764309">llvm::IntervalMapHalfOpenInfo::stopLess</a></div><div class="ttdeci">static bool stopLess(const T &amp;b, const T &amp;x)</div><div class="ttdoc">stopLess - Return true if x is not in [a;b). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00163">IntervalMap.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a40a00589246eced9934d7f52ed88d75e"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a40a00589246eced9934d7f52ed88d75e">llvm::IntervalMapOverlaps::skipB</a></div><div class="ttdeci">void skipB()</div><div class="ttdoc">skipB - Move to the next overlap that doesn&amp;#39;t involve b(). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02135">IntervalMap.h:2135</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_ab980af1c3f92a1b2d5013b2083f5221d"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab980af1c3f92a1b2d5013b2083f5221d">llvm::IntervalMapImpl::LeafNode::value</a></div><div class="ttdeci">const ValT &amp; value(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00563">IntervalMap.h:563</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a6b5820c9b102b4ec10c419ed414b760c"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6b5820c9b102b4ec10c419ed414b760c">llvm::IntervalMapImpl::Path::height</a></div><div class="ttdeci">unsigned height() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00813">IntervalMap.h:813</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_ab335e668fd33542ea14a2c7b527e64d3"><div class="ttname"><a href="Target_2README_8txt.html#ab335e668fd33542ea14a2c7b527e64d3">n</a></div><div class="ttdeci">The same transformation can work with an even modulo with the addition of a and shrink the compare RHS by the same amount Unless the target supports that transformation probably isn t worthwhile The transformation can also easily be made to work with non zero equality for n</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00723">Target/README.txt:723</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a377d82c7830c58e7034baf6a9cf38ba3"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a377d82c7830c58e7034baf6a9cf38ba3">llvm::IntervalMap::insert</a></div><div class="ttdeci">void insert(KeyT a, KeyT b, ValT y)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01093">IntervalMap.h:1093</a></div></div>
<div class="ttc" id="classKeyT_html"><div class="ttname"><a href="classKeyT.html">KeyT</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a544ce2b7de50b042a2d052c3d2831598"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a544ce2b7de50b042a2d052c3d2831598">t</a></div><div class="ttdeci">We currently generate a but we really shouldn t</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01384">Target/X86/README.txt:1384</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_a2aafa035d16eddeaadc40efbf8c721e5"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#a2aafa035d16eddeaadc40efbf8c721e5">llvm::PointerIntPair::getPointer</a></div><div class="ttdeci">PointerTy getPointer() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00070">PointerIntPair.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a8d059832dc8140131e42ca0308dc4703"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a8d059832dc8140131e42ca0308dc4703">llvm::IntervalMap::const_iterator::const_iterator</a></div><div class="ttdeci">const_iterator()</div><div class="ttdoc">const_iterator - Create an iterator that isn&amp;#39;t pointing anywhere. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01349">IntervalMap.h:1349</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a347a8aaf18227a5334501061b2aab694"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a347a8aaf18227a5334501061b2aab694">llvm::IntervalMap::iterator::operator--</a></div><div class="ttdeci">iterator operator--(int)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01597">IntervalMap.h:1597</a></div></div>
<div class="ttc" id="classllvm_1_1BumpPtrAllocator_html"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocator.html">llvm::BumpPtrAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00090">Allocator.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_acda4d24c5647be5f48a39249ea638762"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#acda4d24c5647be5f48a39249ea638762">llvm::IntervalMap::start</a></div><div class="ttdeci">KeyT start() const </div><div class="ttdoc">start - Return the smallest mapped key in a non-empty map. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01070">IntervalMap.h:1070</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a08e57383fde63b9c4afa84ef93dcf59b"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a08e57383fde63b9c4afa84ef93dcf59b">llvm::IntervalMapImpl::NodeBase::moveLeft</a></div><div class="ttdeci">void moveLeft(unsigned i, unsigned j, unsigned Count)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00240">IntervalMap.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a281133d02e9939c431a4f005ccc9cbeb"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a281133d02e9939c431a4f005ccc9cbeb">llvm::IntervalMap::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01116">IntervalMap.h:1116</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_af2f46e115ca0a58b8d5aa446a1aca114"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#af2f46e115ca0a58b8d5aa446a1aca114">llvm::IntervalMapImpl::Path::node</a></div><div class="ttdeci">NodeT &amp; node(unsigned Level) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00791">IntervalMap.h:791</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; Entry, 4 &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a42aaf8d56d380b52f087ba238ce10c52"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a42aaf8d56d380b52f087ba238ce10c52">llvm::IntervalMap::const_iterator::goToEnd</a></div><div class="ttdeci">void goToEnd()</div><div class="ttdoc">goToEnd - Move beyond the last interval in map. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01393">IntervalMap.h:1393</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a6ab94f5053820bc64fbe8cb04c09b1d0"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a6ab94f5053820bc64fbe8cb04c09b1d0">llvm::IntervalMap::~IntervalMap</a></div><div class="ttdeci">~IntervalMap()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01059">IntervalMap.h:1059</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_a303028cf442ac06b5765df63bff4ecec"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a303028cf442ac06b5765df63bff4ecec">llvm::IntervalMapImpl::BranchNode::safeFind</a></div><div class="ttdeci">unsigned safeFind(unsigned i, KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00725">IntervalMap.h:725</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapImpl_1_1NodeSizer_html_a98b25dfe8d1491e2fa278afc22cf00db"><div class="ttname"><a href="structllvm_1_1IntervalMapImpl_1_1NodeSizer.html#a98b25dfe8d1491e2fa278afc22cf00db">llvm::IntervalMapImpl::NodeSizer::Allocator</a></div><div class="ttdeci">RecyclingAllocator&lt; BumpPtrAllocator, char, AllocBytes, CacheLineBytes &gt; Allocator</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00460">IntervalMap.h:460</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a26702c94eead6ac6eac6da14b653d824"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a26702c94eead6ac6eac6da14b653d824">llvm::IntervalMap::iterator::setStart</a></div><div class="ttdeci">void setStart(KeyT a)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01681">IntervalMap.h:1681</a></div></div>
<div class="ttc" id="classllvm_1_1PointerIntPair_html_a51d39f396d417f1bd9a2cc278cb8ba0c"><div class="ttname"><a href="classllvm_1_1PointerIntPair.html#a51d39f396d417f1bd9a2cc278cb8ba0c">llvm::PointerIntPair::getOpaqueValue</a></div><div class="ttdeci">void * getOpaqueValue() const </div><div class="ttdef"><b>Definition:</b> <a href="PointerIntPair_8h_source.html#l00127">PointerIntPair.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a0033e0f5c9ce99a8bf6fea5de3bac8bd"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0033e0f5c9ce99a8bf6fea5de3bac8bd">llvm::IntervalMapImpl::Path::valid</a></div><div class="ttdeci">bool valid() const </div><div class="ttdoc">valid - Return true if path is at a valid node, not at end(). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00807">IntervalMap.h:807</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a07f841fe8672bccb15d34e2b1bfc7196"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a07f841fe8672bccb15d34e2b1bfc7196">llvm::IntervalMap::const_iterator::valid</a></div><div class="ttdeci">bool valid() const </div><div class="ttdoc">valid - Return true if the current position is valid, false for end(). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01356">IntervalMap.h:1356</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a02f3b04989950f906fa5a9be5629d1c7"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a02f3b04989950f906fa5a9be5629d1c7">llvm::IntervalMapImpl::LeafNode::stop</a></div><div class="ttdeci">KeyT &amp; stop(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00566">IntervalMap.h:566</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapOverlaps_html_a9b702a1f885add62ca0bb7dccaaab2c8"><div class="ttname"><a href="classllvm_1_1IntervalMapOverlaps.html#a9b702a1f885add62ca0bb7dccaaab2c8">llvm::IntervalMapOverlaps::advanceTo</a></div><div class="ttdeci">void advanceTo(KeyType x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l02152">IntervalMap.h:2152</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a0b3124c4f83510dd0e86c97580bedcdf"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a0b3124c4f83510dd0e86c97580bedcdf">llvm::IntervalMapImpl::Path::reset</a></div><div class="ttdeci">void reset(unsigned Level)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00824">IntervalMap.h:824</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_ac1350c0a110ad03ba5425d534c85b28d"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#ac1350c0a110ad03ba5425d534c85b28d">llvm::IntervalMapImpl::NodeBase::erase</a></div><div class="ttdeci">void erase(unsigned i, unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00269">IntervalMap.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a3187b02e986777ccb9953b73ac6fda6b"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a3187b02e986777ccb9953b73ac6fda6b">llvm::IntervalMap::const_iterator::pathFillFind</a></div><div class="ttdeci">void pathFillFind(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01456">IntervalMap.h:1456</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a0af5a3c71d8ebee0b8524fb993b05f48"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a0af5a3c71d8ebee0b8524fb993b05f48">llvm::IntervalMap::const_iterator::stop</a></div><div class="ttdeci">const KeyT &amp; stop() const </div><div class="ttdoc">stop - Return the end of the current interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01365">IntervalMap.h:1365</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_af18dce9b09fd23b653e19a42e8d066a8"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#af18dce9b09fd23b653e19a42e8d066a8">llvm::IntervalMapImpl::Path::push</a></div><div class="ttdeci">void push(NodeRef Node, unsigned Offset)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00831">IntervalMap.h:831</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a8186267aca496ea543bd8d2ec77660f7"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a8186267aca496ea543bd8d2ec77660f7">llvm::IntervalMapImpl::Path::moveRight</a></div><div class="ttdeci">void moveRight(unsigned Level)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8cpp_source.html#l00098">IntervalMap.cpp:98</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html">llvm::IntervalMap::const_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01295">IntervalMap.h:1295</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a00ac0e9b32e19c2ba444dacfe1725098"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a00ac0e9b32e19c2ba444dacfe1725098">llvm::IntervalMap::iterator::insert</a></div><div class="ttdeci">void insert(KeyT a, KeyT b, ValT y)</div><div class="ttdoc">insert - Insert mapping [a;b] -&gt; y before the current position. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01780">IntervalMap.h:1780</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_ac040a53c837ba881f9958c11354f7cb4"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#ac040a53c837ba881f9958c11354f7cb4">llvm::IntervalMap::iterator::operator++</a></div><div class="ttdeci">iterator operator++(int)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01586">IntervalMap.h:1586</a></div></div>
<div class="ttc" id="Compiler_8h_html_a491a1f8e7aa0ef8681c1b5b5da3d6a49"><div class="ttname"><a href="Compiler_8h.html#a491a1f8e7aa0ef8681c1b5b5da3d6a49">LLVM_EXPLICIT</a></div><div class="ttdeci">#define LLVM_EXPLICIT</div><div class="ttdoc">Expands to explicit on compilers which support explicit conversion operators. Otherwise expands to no...</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00381">Compiler.h:381</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_aafa139bd49fa2f2b3df1e7a223e1bc2e"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#aafa139bd49fa2f2b3df1e7a223e1bc2e">llvm::IntervalMap::const_iterator::treeFind</a></div><div class="ttdeci">void treeFind(KeyT x)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01470">IntervalMap.h:1470</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a9698a846e49b6c946d5fbe616dc9e2ea"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a9698a846e49b6c946d5fbe616dc9e2ea">llvm::IntervalMap::const_iterator::path</a></div><div class="ttdeci">IntervalMapImpl::Path path</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01305">IntervalMap.h:1305</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_ae363eb50eee94c765ba0fb3bc09177f3"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#ae363eb50eee94c765ba0fb3bc09177f3">llvm::IntervalMapImpl::Path::leafSize</a></div><div class="ttdeci">unsigned leafSize() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00802">IntervalMap.h:802</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_ab0bd3e9464208516b824137ed7c70644"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#ab0bd3e9464208516b824137ed7c70644">llvm::IntervalMapImpl::LeafNode::insertFrom</a></div><div class="ttdeci">unsigned insertFrom(unsigned &amp;Pos, unsigned Size, KeyT a, KeyT b, ValT y)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00623">IntervalMap.h:623</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_html_a5b5b58a085785eb7ee2f221c5494ef41"><div class="ttname"><a href="classllvm_1_1IntervalMap.html#a5b5b58a085785eb7ee2f221c5494ef41">llvm::IntervalMap::Allocator</a></div><div class="ttdeci">Sizer::Allocator Allocator</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00962">IntervalMap.h:962</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="regcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html">llvm::IntervalMapImpl::Path</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00767">IntervalMap.h:767</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_a97df09146b41d31d23d0ba06b6536700"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#a97df09146b41d31d23d0ba06b6536700">llvm::IntervalMapImpl::BranchNode::subtree</a></div><div class="ttdeci">NodeRef &amp; subtree(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00703">IntervalMap.h:703</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_a5b285d7240f2ecc3c7cbfd2a836b9d30"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#a5b285d7240f2ecc3c7cbfd2a836b9d30">llvm::IntervalMapImpl::IdxPair</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; IdxPair</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00180">IntervalMap.h:180</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_a2379761a05413e1bdc6f2d0d4f7e014f"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a2379761a05413e1bdc6f2d0d4f7e014f">llvm::IntervalMapImpl::NodeRef::get</a></div><div class="ttdeci">NodeT &amp; get() const </div><div class="ttdoc">get - Dereference as a NodeT reference. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00522">IntervalMap.h:522</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_a1f2303df9bbee2233c11d61c2f6f7930"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#a1f2303df9bbee2233c11d61c2f6f7930">llvm::SmallVectorTemplateBase::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00260">SmallVector.h:260</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_aefd7aefc00f7e9a4b90e936a5bb74b45"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aefd7aefc00f7e9a4b90e936a5bb74b45">llvm::IntervalMapImpl::BranchNode::findFrom</a></div><div class="ttdeci">unsigned findFrom(unsigned i, unsigned Size, KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00711">IntervalMap.h:711</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a904adab37bae4b17fc62f87dc7631c5d"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a904adab37bae4b17fc62f87dc7631c5d">llvm::IntervalMap::const_iterator::operator--</a></div><div class="ttdeci">const_iterator operator--(int)</div><div class="ttdoc">postdecrement - Dont do that! </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01422">IntervalMap.h:1422</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a6c762791390588d7c49c220a08020580"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a6c762791390588d7c49c220a08020580">llvm::IntervalMapImpl::Path::atBegin</a></div><div class="ttdeci">bool atBegin() const </div><div class="ttdoc">atBegin - Return true if path is at begin(). </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00894">IntervalMap.h:894</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a92591742a3b0f07ae9f7aa40081d5c81"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a92591742a3b0f07ae9f7aa40081d5c81">llvm::IntervalMapImpl::Path::offset</a></div><div class="ttdeci">unsigned offset(unsigned Level) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00795">IntervalMap.h:795</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_a9c18468d453669b79f8144e9ae858287"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#a9c18468d453669b79f8144e9ae858287">llvm::IntervalMap::iterator::operator++</a></div><div class="ttdeci">iterator &amp; operator++()</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01581">IntervalMap.h:1581</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a56d3e243604b73a27ffb7929cdf71922"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a56d3e243604b73a27ffb7929cdf71922">llvm::IntervalMapImpl::NodeBase::first</a></div><div class="ttdeci">T1 first[N]</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00217">IntervalMap.h:217</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a11fffe57200ea10359adb562d75106df"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a11fffe57200ea10359adb562d75106df">llvm::IntervalMap::const_iterator::branched</a></div><div class="ttdeci">bool branched() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01310">IntervalMap.h:1310</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_aed07d31eff1a69ea96355c61e5904aa1"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#aed07d31eff1a69ea96355c61e5904aa1">llvm::IntervalMapImpl::BranchNode::stop</a></div><div class="ttdeci">KeyT &amp; stop(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00702">IntervalMap.h:702</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1iterator_html_af5cd42ac53ce755ea03dc133ff9909af"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1iterator.html#af5cd42ac53ce755ea03dc133ff9909af">llvm::IntervalMap::iterator::setStopUnchecked</a></div><div class="ttdeci">void setStopUnchecked(KeyT b)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01563">IntervalMap.h:1563</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1BranchNode_html_adbee537ca208112bb0a7818b13dba533"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1BranchNode.html#adbee537ca208112bb0a7818b13dba533">llvm::IntervalMapImpl::BranchNode::safeLookup</a></div><div class="ttdeci">NodeRef safeLookup(KeyT x) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00737">IntervalMap.h:737</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3b42845ada2673a44442c88221edf65f"><div class="ttname"><a href="Target_2README_8txt.html#a3b42845ada2673a44442c88221edf65f">l</a></div><div class="ttdeci">Which allows the multiply by constant to be CSE xmm1 movapd xmm2 addsd xmm2 subsd xmm0 mulsd xmm0 ret This doesn t need ffast math support at all This is particularly bad because the llvm gcc frontend is canonicalizing the later into the but clang doesn t have this problem These two functions should generate the same code on big endian int * l</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00138">Target/README.txt:138</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a4ad7abf532bcf6e64587359c9e5321f6"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a4ad7abf532bcf6e64587359c9e5321f6">llvm::IntervalMapImpl::Path::setRoot</a></div><div class="ttdeci">void setRoot(void *Node, unsigned Size, unsigned Offset)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00854">IntervalMap.h:854</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_a681d9ddb7d9204b40a7c425a600a3233"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a681d9ddb7d9204b40a7c425a600a3233">llvm::IntervalMapImpl::NodeRef::setSize</a></div><div class="ttdeci">void setSize(unsigned n)</div><div class="ttdoc">setSize - Update the node size. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00511">IntervalMap.h:511</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a668d6902e1f37328dfbbb1f75aa82fc9"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a></div><div class="ttdeci">=0.0?0.0:(a &gt; 0.0?1.0:-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00652">Target/X86/README.txt:652</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1LeafNode_html_a7f3edc193f92e2dceb8cd1fcab8c22ea"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1LeafNode.html#a7f3edc193f92e2dceb8cd1fcab8c22ea">llvm::IntervalMapImpl::LeafNode::start</a></div><div class="ttdeci">KeyT &amp; start(unsigned i)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00565">IntervalMap.h:565</a></div></div>
<div class="ttc" id="structllvm_1_1IntervalMapInfo_html_a881856fadba2f2683cbab155f0243311"><div class="ttname"><a href="structllvm_1_1IntervalMapInfo.html#a881856fadba2f2683cbab155f0243311">llvm::IntervalMapInfo::adjacent</a></div><div class="ttdeci">static bool adjacent(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00148">IntervalMap.h:148</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeBase_html_a7bbe7cab7dbadc3d8849ac3cfe4162c1"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeBase.html#a7bbe7cab7dbadc3d8849ac3cfe4162c1">llvm::IntervalMapImpl::NodeBase::shift</a></div><div class="ttdeci">void shift(unsigned i, unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00276">IntervalMap.h:276</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="SmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a80639e0b60c1ddb9fe15e4b03aa3e988"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a80639e0b60c1ddb9fe15e4b03aa3e988">llvm::IntervalMap::const_iterator::operator==</a></div><div class="ttdeci">bool operator==(const const_iterator &amp;RHS) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01372">IntervalMap.h:1372</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_abaa7e5b6d811368fa65d266642a7974a"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#abaa7e5b6d811368fa65d266642a7974a">llvm::IntervalMap::const_iterator::operator*</a></div><div class="ttdeci">const ValT &amp; operator*() const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01370">IntervalMap.h:1370</a></div></div>
<div class="ttc" id="namespacellvm_html_a162c90bc179a6359438d060722bee35f"><div class="ttname"><a href="namespacellvm.html#a162c90bc179a6359438d060722bee35f">llvm::operator==</a></div><div class="ttdeci">bool operator==(uint64_t V1, const APInt &amp;V2)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01684">APInt.h:1684</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_ac228028c444dd5125f19f23b4c404c8c"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#ac228028c444dd5125f19f23b4c404c8c">llvm::IntervalMap::const_iterator::value</a></div><div class="ttdeci">const ValT &amp; value() const </div><div class="ttdoc">value - Return the mapped value at the current interval. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01368">IntervalMap.h:1368</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a76eafaa98b54b2351dbd46792b93faa6"><div class="ttname"><a href="Target_2README_8txt.html#a76eafaa98b54b2351dbd46792b93faa6">y</a></div><div class="ttdeci">into llvm powi allowing the code generator to produce balanced multiplication trees the intrinsic needs to be extended to support and second the code generator needs to be enhanced to lower these to multiplication trees Interesting testcase for add shift mul int y</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00061">Target/README.txt:61</a></div></div>
<div class="ttc" id="namespacellvm_1_1IntervalMapImpl_html_a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221"><div class="ttname"><a href="namespacellvm_1_1IntervalMapImpl.html#a9fc0001da44f5b206f37160ee5c0ce27a22be8a9f335245b5ce05d2a3d35a9221">llvm::IntervalMapImpl::CacheLineBytes</a></div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00425">IntervalMap.h:425</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="Analysis_2README_8txt_html_ad5ccdce1179bbfb942a084b3005f360d"><div class="ttname"><a href="Analysis_2README_8txt.html#ad5ccdce1179bbfb942a084b3005f360d">this</a></div><div class="ttdeci">Analysis the ScalarEvolution expression for r is this</div><div class="ttdef"><b>Definition:</b> <a href="Analysis_2README_8txt_source.html#l00005">Analysis/README.txt:5</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMap_1_1const__iterator_html_a24c3474afac43c88fc6a212441971a90"><div class="ttname"><a href="classllvm_1_1IntervalMap_1_1const__iterator.html#a24c3474afac43c88fc6a212441971a90">llvm::IntervalMap::const_iterator::map</a></div><div class="ttdeci">IntervalMap * map</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l01301">IntervalMap.h:1301</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a984b07539b0e770760b2cfa8b2474fd8"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a984b07539b0e770760b2cfa8b2474fd8">llvm::IntervalMapImpl::Path::setSize</a></div><div class="ttdeci">void setSize(unsigned Level, unsigned Size)</div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00844">IntervalMap.h:844</a></div></div>
<div class="ttc" id="Mips16ISelLowering_8cpp_html_ac16509a75e3d3fc46b9df1726be486ec"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#ac16509a75e3d3fc46b9df1726be486ec">T1</a></div><div class="ttdeci">#define T1</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00348">Mips16ISelLowering.cpp:348</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1NodeRef_html_a916193f0e3cec258fe66c65c439de083"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1NodeRef.html#a916193f0e3cec258fe66c65c439de083">llvm::IntervalMapImpl::NodeRef::NodeRef</a></div><div class="ttdeci">NodeRef(NodeT *p, unsigned n)</div><div class="ttdoc">NodeRef - Create a reference to the node p with n elements. </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00503">IntervalMap.h:503</a></div></div>
<div class="ttc" id="classllvm_1_1IntervalMapImpl_1_1Path_html_a1a059f146407dab6cf651e0a15a4bb05"><div class="ttname"><a href="classllvm_1_1IntervalMapImpl_1_1Path.html#a1a059f146407dab6cf651e0a15a4bb05">llvm::IntervalMapImpl::Path::atLastEntry</a></div><div class="ttdeci">bool atLastEntry(unsigned Level) const </div><div class="ttdef"><b>Definition:</b> <a href="IntervalMap_8h_source.html#l00904">IntervalMap.h:904</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:07 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
