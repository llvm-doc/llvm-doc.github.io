<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: InlineFunction.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('InlineFunction_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">InlineFunction.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InlineFunction_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InlineFunction.cpp - Code to perform function inlining -------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements inlining of a function into a call site, resolving</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// parameters and the return value as appropriate.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Cloning_8h.html">llvm/Transforms/Utils/Cloning.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringExtras_8h.html">llvm/ADT/StringExtras.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfo_8h.html">llvm/DebugInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Intrinsics_8h.html">llvm/IR/Intrinsics.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallSite_8h.html">llvm/Support/CallSite.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">   34</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a>(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                          <span class="keywordtype">bool</span> InsertLifetime) {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">InlineFunction</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(CI), IFI, InsertLifetime);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab06cb0ca40f908f92c802230ab07505e">   38</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a>(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                          <span class="keywordtype">bool</span> InsertLifetime) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">InlineFunction</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(II), IFI, InsertLifetime);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">  /// A class for recording information about inlining through an invoke.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>InvokeInliningInfo {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OuterResumeDest; <span class="comment">///&lt; Destination of the invoke&#39;s unwind.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *InnerResumeDest; <span class="comment">///&lt; Destination for the callee&#39;s resume.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *CallerLPad;  <span class="comment">///&lt; LandingPadInst associated with the invoke.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *InnerEHValuesPHI;   <span class="comment">///&lt; PHI for EH values from landingpad insts.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value*, 8&gt;</a> UnwindDestPHIValues;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    InvokeInliningInfo(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      : OuterResumeDest(II-&gt;<a class="code" href="classllvm_1_1InvokeInst.html#a90beee7a8da6a92791f0c59ccf03a002">getUnwindDest</a>()), InnerResumeDest(0),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        CallerLPad(0), InnerEHValuesPHI(0) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="comment">// If there are PHI nodes in the unwind destination block, we need to keep</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="comment">// track of which values came into them from the invoke before removing</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="comment">// the edge from this block.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a> *InvokeBB = II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = OuterResumeDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">for</span> (; isa&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">// Save the value to use for this edge.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        UnwindDestPHIValues.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#a21960167f529265a1cb02ac1e8ad10f6">getIncomingValueForBlock</a>(InvokeBB));</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      CallerLPad = cast&lt;LandingPadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">    /// getOuterResumeDest - The outer unwind destination is the target of</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">    /// unwind edges introduced for calls within the inlined function.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *getOuterResumeDest()<span class="keyword"> const </span>{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keywordflow">return</span> OuterResumeDest;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *getInnerResumeDest();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *getLandingPadInst()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> CallerLPad; }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    /// forwardResume - Forward the &#39;resume&#39; instruction to the caller&#39;s landing</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    /// pad block. When the landing pad block has only one predecessor, this is</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">    /// a simple branch. When there is more than one predecessor, we need to</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    /// split the landing pad block after the landingpad instruction and jump</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    /// to there.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> forwardResume(<a class="code" href="classllvm_1_1ResumeInst.html">ResumeInst</a> *RI,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                       <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;LandingPadInst*, 16&gt;</a> &amp;InlinedLPads);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">    /// addIncomingPHIValuesFor - Add incoming-PHI values to the unwind</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">    /// destination block for the given basic block, using the values for the</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    /// original invoke&#39;s source block.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> addIncomingPHIValuesFor(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      addIncomingPHIValuesForInto(BB, OuterResumeDest);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordtype">void</span> addIncomingPHIValuesForInto(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *src, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = UnwindDestPHIValues.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *phi = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        phi-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(UnwindDestPHIValues[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>], src);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  };</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">/// getInnerResumeDest - Get or create a target for the branch from ResumeInsts.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *InvokeInliningInfo::getInnerResumeDest() {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (InnerResumeDest) <span class="keywordflow">return</span> InnerResumeDest;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Split the landing pad.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> SplitPoint = CallerLPad; ++SplitPoint;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  InnerResumeDest =</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    OuterResumeDest-&gt;splitBasicBlock(SplitPoint,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                     OuterResumeDest-&gt;getName() + <span class="stringliteral">&quot;.body&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// The number of incoming edges we expect to the inner landing pad.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> PHICapacity = 2;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Create corresponding new PHIs for all the PHIs in the outer landing pad.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPoint = InnerResumeDest-&gt;begin();</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = OuterResumeDest-&gt;begin();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = UnwindDestPHIValues.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *OuterPHI = cast&lt;PHINode&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *InnerPHI = <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(OuterPHI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), PHICapacity,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                        OuterPHI-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() + <span class="stringliteral">&quot;.lpad-body&quot;</span>,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                        InsertPoint);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    OuterPHI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(InnerPHI);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    InnerPHI-&gt;addIncoming(OuterPHI, OuterResumeDest);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// Create a PHI for the exception values.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  InnerEHValuesPHI = <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(CallerLPad-&gt;getType(), PHICapacity,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                     <span class="stringliteral">&quot;eh.lpad-body&quot;</span>, InsertPoint);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  CallerLPad-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(InnerEHValuesPHI);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  InnerEHValuesPHI-&gt;addIncoming(CallerLPad, OuterResumeDest);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// All done.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> InnerResumeDest;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/// forwardResume - Forward the &#39;resume&#39; instruction to the caller&#39;s landing pad</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/// block. When the landing pad block has only one predecessor, this is a simple</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/// branch. When there is more than one predecessor, we need to split the</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/// landing pad block after the landingpad instruction and jump to there.</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> InvokeInliningInfo::forwardResume(<a class="code" href="classllvm_1_1ResumeInst.html">ResumeInst</a> *RI,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                               <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;LandingPadInst*, 16&gt;</a> &amp;InlinedLPads) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Dest = getInnerResumeDest();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *OuterLPad = getLandingPadInst();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Src = RI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">BranchInst::Create</a>(Dest, Src);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// Update the PHIs in the destination. They were inserted in an order which</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// makes this work.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  addIncomingPHIValuesForInto(Src, Dest);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  InnerEHValuesPHI-&gt;addIncoming(RI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), Src);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  RI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Append the clauses from the outer landing pad instruction into the inlined</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// landing pad instructions.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallPtrSetIterator.html">SmallPtrSet&lt;LandingPadInst*, 16&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InlinedLPads.<a class="code" href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">begin</a>(),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;         E = InlinedLPads.<a class="code" href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *InlinedLPad = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> OuterIdx = 0, OuterNum = OuterLPad-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#a0996e256e9037e03a45d904b48c90aac">getNumClauses</a>();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;         OuterIdx != OuterNum; ++OuterIdx)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      InlinedLPad-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#acfc7ce8a4359705f956484f74ca722c9">addClause</a>(OuterLPad-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#ac32253b1954f4abfcbff519ab343f2b1">getClause</a>(OuterIdx));</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">/// HandleCallsInBlockInlinedThroughInvoke - When we inline a basic block into</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/// an invoke, we have to turn all of the calls that can throw into</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/// invokes.  This function analyze BB to see if there are any calls, and if so,</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/// it rewrites them to be invokes that jump to InvokeDest and fills in the PHI</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/// nodes in that block with the values specified in InvokeDestPHIValues.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">/// Returns true to indicate that the next block should be skipped.</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#a8a5477ba7f5e6636e418ee33a310dba8">  177</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InlineFunction_8cpp.html#a8a5477ba7f5e6636e418ee33a310dba8">HandleCallsInBlockInlinedThroughInvoke</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                   InvokeInliningInfo &amp;Invoke) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *LPI = Invoke.getLandingPadInst();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> BBI = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(), E = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>(); BBI != E; ) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BBI++;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *L = dyn_cast&lt;LandingPadInst&gt;(I)) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordtype">unsigned</span> NumClauses = LPI-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#a0996e256e9037e03a45d904b48c90aac">getNumClauses</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      L-&gt;reserveClauses(NumClauses);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != NumClauses; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        L-&gt;addClause(LPI-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#ac32253b1954f4abfcbff519ab343f2b1">getClause</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// We only need to check for function calls: inlined invoke</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// instructions require no special handling.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1CallInst.html">CallInst</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// If this call cannot unwind, don&#39;t convert it to an invoke.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// Inline asm calls cannot throw.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (!CI || CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#ad5d54b274a058b7ebe313437325df069">doesNotThrow</a>() || isa&lt;InlineAsm&gt;(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>()))</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Convert this function call into an invoke instruction.  First, split the</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// basic block.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="SubtargetFeature_8cpp.html#aea2f934ca74dd1ab539c92107416777e">Split</a> = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">splitBasicBlock</a>(CI, CI-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+<span class="stringliteral">&quot;.noexc&quot;</span>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// Delete the unconditional branch inserted by splitBasicBlock</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#a7d1d4ff826882f1d65929653c293e5cc">pop_back</a>();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Create the new invoke instruction.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS(CI);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value*, 8&gt;</a> InvokeArgs(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>());</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = <a class="code" href="classllvm_1_1InvokeInst.html#a03007b982a936464f7116e3c47df89ee">InvokeInst::Create</a>(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">getCalledValue</a>(), <a class="code" href="SubtargetFeature_8cpp.html#aea2f934ca74dd1ab539c92107416777e">Split</a>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                        Invoke.getOuterResumeDest(),</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                        InvokeArgs, CI-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    II-&gt;setCallingConv(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a2a65eaf09953a013c2820f6857c647f0">getCallingConv</a>());</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    II-&gt;setAttributes(CI-&gt;<a class="code" href="classllvm_1_1CallInst.html#a39fed9e3fb9323a7eb73cb65409f5586">getAttributes</a>());</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    </div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// Make sure that anything using the call now uses the invoke!  This also</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// updates the CallGraph if present, because it uses a WeakVH.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    CI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(II);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Delete the original call</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    Split-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#a8049ceb2aa2c623ca851acd569e87ad7">pop_front</a>();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Update any PHI nodes in the exceptional block to indicate that there is</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// now a new entry in them.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    Invoke.addIncomingPHIValuesFor(BB);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/// HandleInlinedInvoke - If we inlined an invoke site, we need to convert calls</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">/// in the body of the inlined function into invokes.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">/// II is the invoke instruction being inlined.  FirstNewBlock is the first</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/// block of the inlined code (the last block is the end of the function),</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/// and InlineCodeInfo is information about the code that got inlined.</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#aae72e0be5e309374360bff57c16a31ee">  238</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="InlineFunction_8cpp.html#aae72e0be5e309374360bff57c16a31ee">HandleInlinedInvoke</a>(<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FirstNewBlock,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                <a class="code" href="structllvm_1_1ClonedCodeInfo.html">ClonedCodeInfo</a> &amp;InlinedCodeInfo) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *InvokeDest = II-&gt;<a class="code" href="classllvm_1_1InvokeInst.html#a90beee7a8da6a92791f0c59ccf03a002">getUnwindDest</a>();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = FirstNewBlock-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// The inlined code is currently at the end of the function, scan from the</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// start of the inlined code to its end, checking for stuff we need to</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// rewrite.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  InvokeInliningInfo Invoke(II);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// Get all of the inlined landing pad instructions.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;LandingPadInst*, 16&gt;</a> InlinedLPads;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FirstNewBlock, E = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getTerminator()))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      InlinedLPads.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(II-&gt;<a class="code" href="classllvm_1_1InvokeInst.html#af34d108a329d6aaaa2761b7b362bb9a3">getLandingPadInst</a>());</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = FirstNewBlock, E = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != E; ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>){</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (InlinedCodeInfo.<a class="code" href="structllvm_1_1ClonedCodeInfo.html#a6bbe5e652464ac9213907e3446874900">ContainsCalls</a>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InlineFunction_8cpp.html#a8a5477ba7f5e6636e418ee33a310dba8">HandleCallsInBlockInlinedThroughInvoke</a>(<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, Invoke)) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// Honor a request to skip the next block.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// Forward any resumes that are remaining here.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ResumeInst.html">ResumeInst</a> *RI = dyn_cast&lt;ResumeInst&gt;(<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getTerminator()))</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      Invoke.forwardResume(RI, InlinedLPads);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// Now that everything is happy, we have one final detail.  The PHI nodes in</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// the exception destination block still have entries due to the original</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// invoke instruction. Eliminate these entries (which might even delete the</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// PHI node) now.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  InvokeDest-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a6f6763e343549d530a1424f1b24053bb">removePredecessor</a>(II-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>());</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/// UpdateCallGraphAfterInlining - Once we have cloned code over from a callee</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">/// into the caller, update the specified callgraph to reflect the changes we</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">/// made.  Note that it&#39;s possible that not all code was copied over, so only</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// some edges of the callgraph may remain.</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#a1d19879a40bcc9f91d922869cc5938f1">  279</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="InlineFunction_8cpp.html#a1d19879a40bcc9f91d922869cc5938f1">UpdateCallGraphAfterInlining</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                         <a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> FirstNewBlock,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                         <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> &amp;VMap,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                         <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG = *IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#ac3ef4b4fdcc6fc9aba65a545c213d76a">CG</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>()-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CalleeNode = CG[Callee];</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CallerNode = CG[Caller];</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// Since we inlined some uninlined call sites in the callee into the caller,</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// add edges from the caller to all of the callees of the callee.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="classllvm_1_1CallGraphNode.html#aa09f788dd735e872f745a5490faced2f">CallGraphNode::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CalleeNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a4f29edc585030005e8215897bb1e792f">begin</a>(), E = CalleeNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a72b2e4575a6de8f1550d057ff1c23ea1">end</a>();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Consider the case where CalleeNode == CallerNode.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1CallGraphNode.html#ae71beaede002fa659398694f22b3312f">CallGraphNode::CalledFunctionsVector</a> CallCache;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (CalleeNode == CallerNode) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    CallCache.assign(I, E);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    I = CallCache.begin();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    E = CallCache.end();</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">for</span> (; I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *OrigCall = I-&gt;first;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="classllvm_1_1ValueMapIterator.html">ValueToValueMapTy::iterator</a> VMI = VMap.<a class="code" href="classllvm_1_1ValueMap.html#a7629b8c5f6a6802ee0fdc5c290769692">find</a>(OrigCall);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// Only copy the edge if the call was inlined!</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (VMI == VMap.<a class="code" href="classllvm_1_1ValueMap.html#ab871e2d0ebded563edfebd6766fc1a04">end</a>() || VMI-&gt;<a class="code" href="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy.html#a5bcf5b029fa9492c00d2329def9b5137">second</a> == 0)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    </div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// If the call was inlined, but then constant folded, there is no edge to</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// add.  Check for this case.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *NewCall = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(VMI-&gt;<a class="code" href="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy.html#a5bcf5b029fa9492c00d2329def9b5137">second</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (NewCall == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// Remember that this call site got inlined for the client of</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// InlineFunction.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">InlinedCalls</a>.push_back(NewCall);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// It&#39;s possible that inlining the callsite will cause it to go from an</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// indirect to a direct call by resolving a function pointer.  If this</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// happens, set the callee of the new call site to a more precise</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// destination.  This can also happen if the call graph node of the caller</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// was just unnecessarily imprecise.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (I-&gt;second-&gt;getFunction() == 0)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = <a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(NewCall).<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>()) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">// Indirect call site resolved to direct call.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        CallerNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a9fbce2784beecb38d29db7902c1018bc">addCalledFunction</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(NewCall), CG[<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>]);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    CallerNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a9fbce2784beecb38d29db7902c1018bc">addCalledFunction</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a>(NewCall), I-&gt;second);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  </div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// Update the call graph by deleting the edge from Callee to Caller.  We must</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// do this after the loop above in case Caller and Callee are the same.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  CallerNode-&gt;<a class="code" href="classllvm_1_1CallGraphNode.html#a33bacf0df6da5390db33bce272a70b20">removeCallEdgeFor</a>(CS);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/// HandleByValArgument - When inlining a call site that has a byval argument,</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">/// we have to make the implicit memcpy explicit by adding it.</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#a28e1413decf2fc1330e9016e49db9a96">  341</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InlineFunction_8cpp.html#a28e1413decf2fc1330e9016e49db9a96">HandleByValArgument</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Arg, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TheCall,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *CalledFunc,</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                  <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                  <span class="keywordtype">unsigned</span> ByValAlignment) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *AggTy = cast&lt;PointerType&gt;(Arg-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;getElementType();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// If the called function is readonly, then it could not mutate the caller&#39;s</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// copy of the byval&#39;d memory.  In this case, it is safe to elide the copy and</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// temporary.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a85df3357f7ec7e9610ee28f8d5613244">onlyReadsMemory</a>()) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// If the byval argument has a specified alignment that is greater than the</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// passed in pointer, then we either have to round up the input pointer or</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// give up on this transformation.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (ByValAlignment &lt;= 1)  <span class="comment">// 0 = unspecified, 1 = no particular alignment.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">return</span> Arg;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// If the pointer is already known to be sufficiently aligned, or if we can</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// round it up to a larger alignment, then we don&#39;t need a temporary.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a3dd948f1535b4b28f2a7d45a5c11a34a">getOrEnforceKnownAlignment</a>(Arg, ByValAlignment,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                   IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>) &gt;= ByValAlignment)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">return</span> Arg;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    </div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Otherwise, we have to make a memcpy to get a safe alignment.  This is bad</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// for code quality, but rarely happens and is required for correctness.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  </div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Context = Arg-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *VoidPtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(Context);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  </div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// Create the alloca.  If we have DataLayout, use nice alignment.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a> = 1;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    Align = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>-&gt;<a class="code" href="classllvm_1_1DataLayout.html#adfb7610cbc23430a7d4077a3cf9c22d3">getPrefTypeAlignment</a>(AggTy);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  </div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// If the byval had an alignment specified, we *must* use at least that</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// alignment, as it is required by the byval argument (and uses of the</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// pointer inside the callee).</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  Align = std::max(Align, ByValAlignment);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  </div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>(); </div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  </div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *NewAlloca = <span class="keyword">new</span> <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>(AggTy, 0, Align, Arg-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(), </div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                    &amp;*Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>()-&gt;begin());</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// Emit a memcpy.</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Tys[3] = {VoidPtrTy, VoidPtrTy, <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(Context)};</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *MemCpyFn = <a class="code" href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>(),</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                                 <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">Intrinsic::memcpy</a>, </div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                                 Tys);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DestCast = <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(NewAlloca, VoidPtrTy, <span class="stringliteral">&quot;tmp&quot;</span>, TheCall);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcCast = <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(Arg, VoidPtrTy, <span class="stringliteral">&quot;tmp&quot;</span>, TheCall);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  </div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Size;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a> == 0)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    Size = <a class="code" href="classllvm_1_1ConstantExpr.html#a778163e6ec80716a12ab3282cb97f0d9">ConstantExpr::getSizeOf</a>(AggTy);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    Size = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(Context),</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                            IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a4b979cd93852fd44c48851c94ee00758">getTypeStoreSize</a>(AggTy));</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  </div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// Always generate a memcpy of alignment 1 here because we don&#39;t know</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// the alignment of the src pointer.  Other optimizations can infer</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// better alignment.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CallArgs[] = {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    DestCast, SrcCast, Size,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(Context), 1),</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(Context) <span class="comment">// isVolatile</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  };</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a>(TheCall).CreateCall(MemCpyFn, CallArgs);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// Uses of the argument in the function should use our new alloca</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// instead.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">return</span> NewAlloca;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// isUsedByLifetimeMarker - Check whether this Value is used by a lifetime</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// intrinsic.</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#ae21f217cd2f8044e639f13111a0b37db">  417</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InlineFunction_8cpp.html#ae21f217cd2f8044e639f13111a0b37db">isUsedByLifetimeMarker</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = V-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = V-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); UI != UE;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;       ++UI) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(*UI)) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">switch</span> (II-&gt;getIntrinsicID()) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">Intrinsic::lifetime_start</a>:</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">Intrinsic::lifetime_end</a>:</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">// hasLifetimeMarkers - Check whether the given alloca already has</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">// lifetime.start or lifetime.end intrinsics.</span></div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#afaa78d0b3224d3175937f997dc2bc688">  434</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InlineFunction_8cpp.html#afaa78d0b3224d3175937f997dc2bc688">hasLifetimeMarkers</a>(<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Int8PtrTy = <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#af348d5ea83429d08ba891ca3dd0e92b2">getContext</a>());</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">getType</a>() == Int8PtrTy)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InlineFunction_8cpp.html#ae21f217cd2f8044e639f13111a0b37db">isUsedByLifetimeMarker</a>(AI);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// Do a scan to find all the casts to i8*.</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = AI-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = AI-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType() != Int8PtrTy) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;stripPointerCasts() != AI) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="InlineFunction_8cpp.html#ae21f217cd2f8044e639f13111a0b37db">isUsedByLifetimeMarker</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/// updateInlinedAtInfo - Helper function used by fixupLineNumbers to</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">/// recursively update InlinedAtEntry of a DebugLoc.</span></div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#ad85ea9d2b52150630da3211a12057dfe">  452</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> <a class="code" href="InlineFunction_8cpp.html#ad85ea9d2b52150630da3211a12057dfe">updateInlinedAtInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;DL, </div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> &amp;InlinedAtDL,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                    <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *IA = DL.<a class="code" href="classllvm_1_1DebugLoc.html#ad44be5c63b1dc3ed9be6fe3ea20632a0">getInlinedAt</a>(Ctx)) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> NewInlinedAtDL </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      = <a class="code" href="InlineFunction_8cpp.html#ad85ea9d2b52150630da3211a12057dfe">updateInlinedAtInfo</a>(<a class="code" href="classllvm_1_1DebugLoc.html#abaea04080b7572f8ddcddaf482b9908f">DebugLoc::getFromDILocation</a>(IA), InlinedAtDL, Ctx);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1DebugLoc.html#af63b4743ef1d470496c32ff88f4caa66">DebugLoc::get</a>(DL.<a class="code" href="classllvm_1_1DebugLoc.html#ace5b91e09e7b0aa7d88a500993a7502c">getLine</a>(), DL.<a class="code" href="classllvm_1_1DebugLoc.html#a434de54d8c6c36192e4b728fe5f00088">getCol</a>(), DL.<a class="code" href="classllvm_1_1DebugLoc.html#aa6c86151b0e4172d3d624661e1585f30">getScope</a>(Ctx),</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                         NewInlinedAtDL.<a class="code" href="classllvm_1_1DebugLoc.html#a18eb00c018b01e2d2783fffcbc314b3a">getAsMDNode</a>(Ctx));</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1DebugLoc.html#af63b4743ef1d470496c32ff88f4caa66">DebugLoc::get</a>(DL.<a class="code" href="classllvm_1_1DebugLoc.html#ace5b91e09e7b0aa7d88a500993a7502c">getLine</a>(), DL.<a class="code" href="classllvm_1_1DebugLoc.html#a434de54d8c6c36192e4b728fe5f00088">getCol</a>(), DL.<a class="code" href="classllvm_1_1DebugLoc.html#aa6c86151b0e4172d3d624661e1585f30">getScope</a>(Ctx),</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                       InlinedAtDL.<a class="code" href="classllvm_1_1DebugLoc.html#a18eb00c018b01e2d2783fffcbc314b3a">getAsMDNode</a>(Ctx));</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/// fixupLineNumbers - Update inlined instructions&#39; line numbers to </span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">/// to encode location where these instructions are inlined.</span></div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="InlineFunction_8cpp.html#a67d41e5dcf9429da9de95bfeed648c86">  468</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="InlineFunction_8cpp.html#a67d41e5dcf9429da9de95bfeed648c86">fixupLineNumbers</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *Fn, <a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> FI,</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                             <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TheCall) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> TheCallDL = TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#aab8e16a35183ce39aad394714087bcff">getDebugLoc</a>();</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (TheCallDL.<a class="code" href="classllvm_1_1DebugLoc.html#acb015270a969bc45af93da5d0ad45ba7">isUnknown</a>())</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">for</span> (; FI != Fn-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>(); ++FI) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> BI = FI-&gt;begin(), BE = FI-&gt;end();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         BI != BE; ++BI) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL = BI-&gt;getDebugLoc();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span> (!DL.<a class="code" href="classllvm_1_1DebugLoc.html#acb015270a969bc45af93da5d0ad45ba7">isUnknown</a>()) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        BI-&gt;setDebugLoc(<a class="code" href="InlineFunction_8cpp.html#ad85ea9d2b52150630da3211a12057dfe">updateInlinedAtInfo</a>(DL, TheCallDL, BI-&gt;getContext()));</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1DbgValueInst.html">DbgValueInst</a> *DVI = dyn_cast&lt;DbgValueInst&gt;(BI)) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> &amp;Ctx = BI-&gt;getContext();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *InlinedAt = BI-&gt;getDebugLoc().getInlinedAt(Ctx);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          DVI-&gt;setOperand(2, <a class="code" href="namespacellvm.html#a50597c243eba9da508c609f549835f1f">createInlinedVariable</a>(DVI-&gt;getVariable(), </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                                   InlinedAt, Ctx));</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/// InlineFunction - This function inlines the called function into the basic</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/// block of the caller.  This returns false if it is not possible to inline</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">/// this call.  The program is still in a well defined state if this occurs</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">/// though.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/// Note that this only does one level of inlining.  For example, if the</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// instruction &#39;call B&#39; is inlined, and &#39;B&#39; calls &#39;C&#39;, then the call to &#39;C&#39; now</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// exists in the instruction stream.  Similarly this will inline a recursive</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/// function by one level.</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="namespacellvm.html#a03ec816467e178af313d412b7be35889">  500</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a>(<a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS, <a class="code" href="classllvm_1_1InlineFunctionInfo.html">InlineFunctionInfo</a> &amp;IFI,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                          <span class="keywordtype">bool</span> InsertLifetime) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *TheCall = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">getInstruction</a>();</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  assert(TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() &amp;&amp; TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>() &amp;&amp;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         <span class="stringliteral">&quot;Instruction not in function!&quot;</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// If IFI has any state in it, zap it before we fill it in.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#acbbc7320e82682aed3c325a08b187a2f">reset</a>();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  </div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *CalledFunc = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (CalledFunc == 0 ||          <span class="comment">// Can&#39;t inline external function or indirect</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      CalledFunc-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>() || <span class="comment">// call, or call to a vararg function!</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">getFunctionType</a>()-&gt;<a class="code" href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">isVarArg</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// If the call to the callee is not a tail call, we must clear the &#39;tail&#39;</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// flags on any calls that we inline.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">bool</span> MustClearTailCallFlags =</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    !(isa&lt;CallInst&gt;(TheCall) &amp;&amp; cast&lt;CallInst&gt;(TheCall)-&gt;isTailCall());</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// If the call to the callee cannot throw, set the &#39;nounwind&#39; flag on any</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// calls that we inline.</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordtype">bool</span> MarkNoUnwind = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a4083036245b09eb316785a9535d3246c">doesNotThrow</a>();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OrigBB = TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Caller = OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>();</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">// GC poses two hazards to inlining, which only occur when the callee has GC:</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">//  1. If the caller has no GC, then the callee&#39;s GC must be propagated to the</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">//     caller.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">//  2. If the caller has a differing GC, it is invalid to inline.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span> (CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a988441f676bbcc064697039950ab9e45">hasGC</a>()) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (!Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a988441f676bbcc064697039950ab9e45">hasGC</a>())</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a51d1f1c6c59099ed1585ec20a2d7676c">setGC</a>(CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a83607e66d9d5dd8cd81458feba289eaa">getGC</a>());</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a83607e66d9d5dd8cd81458feba289eaa">getGC</a>() != Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a83607e66d9d5dd8cd81458feba289eaa">getGC</a>())</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// Get the personality function from the callee if it contains a landing pad.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CalleePersonality = 0;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), E = CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getTerminator())) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = II-&gt;getUnwindDest();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *LP = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#adf2126190885b10019398655f5e6b256">getLandingPadInst</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      CalleePersonality = LP-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#a7e36bd4ab20bc5b099513596126ff236">getPersonalityFn</a>();</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Find the personality function used by the landing pads of the caller. If it</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// exists, then check to see that it matches the personality function used in</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// the callee.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">if</span> (CalleePersonality) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>(), E = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getTerminator())) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = II-&gt;getUnwindDest();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1LandingPadInst.html">LandingPadInst</a> *LP = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#adf2126190885b10019398655f5e6b256">getLandingPadInst</a>();</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// If the personality functions match, then we can perform the</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment">// inlining. Otherwise, we can&#39;t inline.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">// TODO: This isn&#39;t 100% true. Some personality functions are proper</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment">//       supersets of others and can be used in place of the other.</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">if</span> (LP-&gt;<a class="code" href="classllvm_1_1LandingPadInst.html#a7e36bd4ab20bc5b099513596126ff236">getPersonalityFn</a>() != CalleePersonality)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// Get an iterator to the last basic block in the function, which will have</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// the new function inlined after it.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> LastBlock = &amp;Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a8ac50c3e2e6c3dd02e21c1ab2836aed6">back</a>();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Make sure to capture all of the return instructions from the cloned</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// function.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ReturnInst*, 8&gt;</a> Returns;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="structllvm_1_1ClonedCodeInfo.html">ClonedCodeInfo</a> InlinedFunctionInfo;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> FirstNewBlock;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  { <span class="comment">// Scope to destroy VMap after cloning.</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="classllvm_1_1ValueMap.html">ValueToValueMapTy</a> VMap;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    assert(CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#aef89c402976e04c0abe4b10a963d35e3">arg_size</a>() == CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">arg_size</a>() &amp;&amp;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;           <span class="stringliteral">&quot;No varargs calls can be inlined!&quot;</span>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Calculate the vector of arguments to pass into the function cloner, which</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// matches up the formal to the actual argument values.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classllvm_1_1Use.html">CallSite::arg_iterator</a> AI = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>();</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">unsigned</span> ArgNo = 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::const_arg_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">arg_begin</a>(),</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         E = CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">arg_end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, ++AI, ++ArgNo) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *ActualArg = *AI;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="comment">// When byval arguments actually inlined, we need to make the copy implied</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="comment">// by them explicit.  However, we don&#39;t do this if the callee is readonly</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="comment">// or readnone, because the copy would be unneeded: the callee doesn&#39;t</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="comment">// modify the struct.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a2b51df7c4694230be653c4b5a3186029">isByValArgument</a>(ArgNo)) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        ActualArg = <a class="code" href="InlineFunction_8cpp.html#a28e1413decf2fc1330e9016e49db9a96">HandleByValArgument</a>(ActualArg, TheCall, CalledFunc, IFI,</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                        CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a06618379597b0cf1b9f0dd1d42a6fc54">getParamAlignment</a>(ArgNo+1));</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="comment">// Calls that we inline may use the new alloca, so we need to clear</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="comment">// their &#39;tail&#39; flags if HandleByValArgument introduced a new alloca and</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">// the callee has calls.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        MustClearTailCallFlags |= ActualArg != *AI;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      VMap[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = ActualArg;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// We want the inliner to prune the code as it copies.  We would LOVE to</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// have no dead or constant instructions leftover after inlining occurs</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// (which can happen, e.g., because an argument was constant), but we&#39;ll be</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// happy with whatever the cloner can do.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="namespacellvm.html#a269a3ff9f285dc99aca7253d105e6807">CloneAndPruneFunctionInto</a>(Caller, CalledFunc, VMap, </div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                              <span class="comment">/*ModuleLevelChanges=*/</span><span class="keyword">false</span>, Returns, <span class="stringliteral">&quot;.i&quot;</span>,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                              &amp;InlinedFunctionInfo, IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>, TheCall);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// Remember the first block that is newly cloned over.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    FirstNewBlock = LastBlock; ++FirstNewBlock;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// Update the callgraph if requested.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#ac3ef4b4fdcc6fc9aba65a545c213d76a">CG</a>)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="InlineFunction_8cpp.html#a1d19879a40bcc9f91d922869cc5938f1">UpdateCallGraphAfterInlining</a>(CS, FirstNewBlock, VMap, IFI);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// Update inlined instructions&#39; line number information.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="InlineFunction_8cpp.html#a67d41e5dcf9429da9de95bfeed648c86">fixupLineNumbers</a>(Caller, FirstNewBlock, TheCall);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// If there are any alloca instructions in the block that used to be the entry</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// block for the callee, move them to the entry block of the caller.  First</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// calculate which instruction they should be inserted before.  We insert the</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// instructions at the end of the current alloca list.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> InsertPoint = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">begin</a>()-&gt;begin();</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FirstNewBlock-&gt;begin(),</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;         E = FirstNewBlock-&gt;end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a>&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">if</span> (AI == 0) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      </div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="comment">// If the alloca is now dead, remove it.  This often occurs due to code</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="comment">// specialization.</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">if</span> (AI-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        AI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a642f52c0f081ad0de10258c1d8d67b23">getArraySize</a>()))</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      </div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="comment">// Keep track of the static allocas that we inline into the caller.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.push_back(AI);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      </div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">// Scan for the block of allocas that we can move over, and move them</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">// all at once.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">while</span> (isa&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) &amp;&amp;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;             isa&lt;Constant&gt;(cast&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;getArraySize())) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.push_back(cast&lt;AllocaInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">// Transfer all of the allocas over in a block.  Using splice means</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="comment">// that the instructions aren&#39;t removed from the symbol table, then</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="comment">// reinserted.</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>().<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(InsertPoint,</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                                   FirstNewBlock-&gt;getInstList(),</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                                   AI, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// Leave lifetime markers for the static alloca&#39;s, scoping them to the</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// function we just inlined.</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (InsertLifetime &amp;&amp; !IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.empty()) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> builder(FirstNewBlock-&gt;begin());</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ai = 0, ae = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>.size(); ai != ae; ++ai) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">StaticAllocas</a>[ai];</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="comment">// If the alloca is already scoped to something smaller than the whole</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="comment">// function then there&#39;s no need to add redundant, less accurate markers.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InlineFunction_8cpp.html#afaa78d0b3224d3175937f997dc2bc688">hasLifetimeMarkers</a>(AI))</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="comment">// Try to determine the size of the allocation.</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *AllocaSize = 0;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *AIArraySize =</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;          dyn_cast&lt;ConstantInt&gt;(AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a642f52c0f081ad0de10258c1d8d67b23">getArraySize</a>())) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span> (IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <a class="code" href="classllvm_1_1Type.html">Type</a> *AllocaType = AI-&gt;<a class="code" href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">getAllocatedType</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          uint64_t AllocaTypeSize = IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(AllocaType);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          uint64_t AllocaArraySize = AIArraySize-&gt;getLimitedValue();</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          assert(AllocaArraySize &gt; 0 &amp;&amp; <span class="stringliteral">&quot;array size of AllocaInst is zero&quot;</span>);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;          <span class="comment">// Check that array size doesn&#39;t saturate uint64_t and doesn&#39;t</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <span class="comment">// overflow when it&#39;s multiplied by type size.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          <span class="keywordflow">if</span> (AllocaArraySize != ~0ULL &amp;&amp;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;              UINT64_MAX / AllocaArraySize &gt;= AllocaTypeSize) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            AllocaSize = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(AI-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()),</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                          AllocaArraySize * AllocaTypeSize);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      builder.CreateLifetimeStart(AI, AllocaSize);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> ri = 0, re = Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); ri != re; ++ri) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> builder(Returns[ri]);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        builder.<a class="code" href="classllvm_1_1IRBuilderBase.html#a9b1be210e6549573e2e46105c671d0be">CreateLifetimeEnd</a>(AI, AllocaSize);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// If the inlined code contained dynamic alloca instructions, wrap the inlined</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// code with llvm.stacksave/llvm.stackrestore intrinsics.</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (InlinedFunctionInfo.<a class="code" href="structllvm_1_1ClonedCodeInfo.html#a2eea9c7c9cadaa593a7a71c8d44aac25">ContainsDynamicAllocas</a>) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = Caller-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">getParent</a>();</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// Get the two intrinsics we care about.</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *StackSave = <a class="code" href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(M, <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa755a407bff5182ef275cde417b93f4b">Intrinsic::stacksave</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *StackRestore=<a class="code" href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">Intrinsic::getDeclaration</a>(M,<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf3edc45dd8ac3f95340ecec8b996818">Intrinsic::stackrestore</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// Insert the llvm.stacksave.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *SavedPtr = <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a>(FirstNewBlock, FirstNewBlock-&gt;begin())</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      .CreateCall(StackSave, <span class="stringliteral">&quot;savedstack&quot;</span>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Insert a call to llvm.stackrestore before any return instructions in the</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="comment">// inlined function.</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a>(Returns[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]).CreateCall(StackRestore, SavedPtr);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">// If we are inlining tail call instruction through a call site that isn&#39;t</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// marked &#39;tail&#39;, we must remove the tail marker for any calls in the inlined</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// code.  Also, calls inlined through a &#39;nounwind&#39; call site should be marked</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// &#39;nounwind&#39;.</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">if</span> (InlinedFunctionInfo.<a class="code" href="structllvm_1_1ClonedCodeInfo.html#a6bbe5e652464ac9213907e3446874900">ContainsCalls</a> &amp;&amp;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      (MustClearTailCallFlags || MarkNoUnwind)) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Function::iterator</a> <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = FirstNewBlock, E = Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>();</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;         <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> != E; ++<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;begin(), E = <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="keywordflow">if</span> (MustClearTailCallFlags)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            CI-&gt;setTailCall(<span class="keyword">false</span>);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <span class="keywordflow">if</span> (MarkNoUnwind)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            CI-&gt;setDoesNotThrow();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// If we are inlining for an invoke instruction, we must make sure to rewrite</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// any call instructions into invoke instructions.</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(TheCall))</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="InlineFunction_8cpp.html#aae72e0be5e309374360bff57c16a31ee">HandleInlinedInvoke</a>(II, FirstNewBlock, InlinedFunctionInfo);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// If we cloned in _exactly one_ basic block, and if that block ends in a</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// return instruction, we splice the body of the inlined callee directly into</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// the calling basic block.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() == 1 &amp;&amp; std::distance(FirstNewBlock, Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>()) == 1) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// Move all of the instructions right before the call.</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(TheCall, FirstNewBlock-&gt;getInstList(),</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                                 FirstNewBlock-&gt;begin(), FirstNewBlock-&gt;end());</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Remove the cloned basic block.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>().<a class="code" href="classllvm_1_1iplist.html#a7d1d4ff826882f1d65929653c293e5cc">pop_back</a>();</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// If the call site was an invoke instruction, add a branch to the normal</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// destination.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(TheCall)) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *NewBr = <a class="code" href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">BranchInst::Create</a>(II-&gt;getNormalDest(), TheCall);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      NewBr-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7bd545769621a0a9d2cfb074f86f4295">setDebugLoc</a>(Returns[0]-&gt;getDebugLoc());</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// If the return instruction returned a value, replace uses of the call with</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// uses of the returned value.</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (!TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *R = Returns[0];</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (TheCall == R-&gt;<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>())</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(R-&gt;<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>());</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// Since we are now done with the Call/Invoke, we can delete it.</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// Since we are now done with the return instruction, delete it also.</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    Returns[0]-&gt;eraseFromParent();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// We are now done with the inlining.</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// Otherwise, we have the normal case, of more than one block to inline or</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// multiple return sites.</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// We want to clone the entire callee function into the hole between the</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// &quot;starter&quot; and &quot;ender&quot; blocks.  How we accomplish this depends on whether</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="comment">// this is an invoke instruction or a call instruction.</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *AfterCallBB;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *CreatedBranchToNormalDest = NULL;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(TheCall)) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// Add an unconditional branch to make this look like the CallInst case...</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    CreatedBranchToNormalDest = <a class="code" href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">BranchInst::Create</a>(II-&gt;getNormalDest(), TheCall);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// Split the basic block.  This guarantees that no PHI nodes will have to be</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// updated due to new incoming edges, and make the invoke case more</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// symmetric to the call case.</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    AfterCallBB = OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">splitBasicBlock</a>(CreatedBranchToNormalDest,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                          CalledFunc-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+<span class="stringliteral">&quot;.exit&quot;</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  } <span class="keywordflow">else</span> {  <span class="comment">// It&#39;s a call</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// If this is a call instruction, we need to split the basic block that</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// the call lives in.</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    AfterCallBB = OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">splitBasicBlock</a>(TheCall,</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                          CalledFunc-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()+<span class="stringliteral">&quot;.exit&quot;</span>);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// Change the branch that used to go to AfterCallBB to branch to the first</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// basic block of the inlined function.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classllvm_1_1TerminatorInst.html">TerminatorInst</a> *Br = OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  assert(Br &amp;&amp; Br-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() == Instruction::Br &amp;&amp;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         <span class="stringliteral">&quot;splitBasicBlock broken!&quot;</span>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  Br-&gt;<a class="code" href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">setOperand</a>(0, FirstNewBlock);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// Now that the function is correct, make it a little bit nicer.  In</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// particular, move the basic blocks inserted from the end of the function</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// into the space made by splitting the source basic block.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(AfterCallBB, Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>(),</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                     FirstNewBlock, Caller-&gt;<a class="code" href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">end</a>());</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// Handle all of the return instructions that we just cloned in, and eliminate</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// any users of the original call/invoke instruction.</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *RTy = CalledFunc-&gt;<a class="code" href="classllvm_1_1Function.html#a26ccf11b81c01a45cb40137c775f7cad">getReturnType</a>();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">PHI</a> = 0;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">if</span> (Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>() &gt; 1) {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// The PHI node should go at the front of the new basic block to merge all</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// possible incoming values.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (!TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      PHI = <a class="code" href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">PHINode::Create</a>(RTy, Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(), TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>(),</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                            AfterCallBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>());</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="comment">// Anything that used the result of the function call should now use the</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="comment">// PHI node as their operand.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(PHI);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// Loop over all of the return instructions adding entries to the PHI node</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// as appropriate.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (PHI) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *RI = Returns[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        assert(RI-&gt;<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>()-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() == PHI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() &amp;&amp;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;               <span class="stringliteral">&quot;Ret value not consistent in function!&quot;</span>);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        PHI-&gt;<a class="code" href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">addIncoming</a>(RI-&gt;<a class="code" href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">getReturnValue</a>(), RI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>());</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Add a branch to the merge points and remove return instructions.</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> Loc;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Returns.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *RI = Returns[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a>* BI = <a class="code" href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">BranchInst::Create</a>(AfterCallBB, RI);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      Loc = RI-&gt;<a class="code" href="classllvm_1_1Instruction.html#aab8e16a35183ce39aad394714087bcff">getDebugLoc</a>();</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      BI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7bd545769621a0a9d2cfb074f86f4295">setDebugLoc</a>(Loc);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      RI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// We need to set the debug location to *somewhere* inside the</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// inlined function. The line number may be nonsensical, but the</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">// instruction will at least be associated with the right</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// function.</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (CreatedBranchToNormalDest)</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      CreatedBranchToNormalDest-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7bd545769621a0a9d2cfb074f86f4295">setDebugLoc</a>(Loc);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Returns.<a class="code" href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">empty</a>()) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// Otherwise, if there is exactly one return value, just replace anything</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// using the return value of the call with the computed value.</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (!TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">if</span> (TheCall == Returns[0]-&gt;getReturnValue())</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(Returns[0]-&gt;getReturnValue());</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">// Update PHI nodes that use the ReturnBB to use the AfterCallBB.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ReturnBB = Returns[0]-&gt;getParent();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    ReturnBB-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(AfterCallBB);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// Splice the code from the return block into the block that it will return</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// to, which contains the code that was after the call.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    AfterCallBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(AfterCallBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(),</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                      ReturnBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>());</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (CreatedBranchToNormalDest)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      CreatedBranchToNormalDest-&gt;<a class="code" href="classllvm_1_1Instruction.html#a7bd545769621a0a9d2cfb074f86f4295">setDebugLoc</a>(Returns[0]-&gt;getDebugLoc());</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">// Delete the return instruction now and empty ReturnBB now.</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    Returns[0]-&gt;eraseFromParent();</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    ReturnBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#ace1ad5ed624dd5df8efb4eb611cb71ff">eraseFromParent</a>();</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">use_empty</a>()) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// No returns, but something is using the return value of the call.  Just</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// nuke the result.</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(<a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(TheCall-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()));</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="comment">// Since we are now done with the Call/Invoke, we can delete it.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  TheCall-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// We should always be able to fold the entry block of the function into the</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// single predecessor of the block...</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  assert(cast&lt;BranchInst&gt;(Br)-&gt;isUnconditional() &amp;&amp; <span class="stringliteral">&quot;splitBasicBlock broken!&quot;</span>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *CalleeEntry = cast&lt;BranchInst&gt;(Br)-&gt;getSuccessor(0);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// Splice the code entry block into calling block, right before the</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="comment">// unconditional branch.</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  CalleeEntry-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(OrigBB);  <span class="comment">// Update PHI nodes</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">splice</a>(Br, CalleeEntry-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>());</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// Remove the unconditional branch.</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  OrigBB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">getInstList</a>().<a class="code" href="classllvm_1_1iplist.html#a5c2aa38108db7a66ac5e8da547f64ad7">erase</a>(Br);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Now we can remove the CalleeEntry block, which is now empty.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  Caller-&gt;<a class="code" href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">getBasicBlockList</a>().<a class="code" href="classllvm_1_1iplist.html#a5c2aa38108db7a66ac5e8da547f64ad7">erase</a>(CalleeEntry);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// If we inserted a phi node, check to see if it has a single value (e.g. all</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">// the entries are the same or undef).  If so, remove the PHI so it doesn&#39;t</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">// block other optimizations.</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordflow">if</span> (PHI) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">SimplifyInstruction</a>(PHI, IFI.<a class="code" href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">TD</a>)) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      PHI-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(V);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      PHI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a22a311dfe4c28a897de8a9365a4f0a84"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a22a311dfe4c28a897de8a9365a4f0a84">llvm::SmallVectorTemplateCommon&lt; T &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02279">Instructions.h:2279</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a6917dcd78ac6655e9640ac3a96175e39"><div class="ttname"><a href="classllvm_1_1CallInst.html#a6917dcd78ac6655e9640ac3a96175e39">llvm::CallInst::getCalledValue</a></div><div class="ttdeci">const Value * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01363">Instructions.h:1363</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa332b90dd5e4ebf4bbbcc0964220d373">llvm::Intrinsic::lifetime_end</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01254">Intrinsics.h:1254</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00445">Constants.cpp:445</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_acbbc7320e82682aed3c325a08b187a2f"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#acbbc7320e82682aed3c325a08b187a2f">llvm::InlineFunctionInfo::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00178">Cloning.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a6f6763e343549d530a1424f1b24053bb"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a6f6763e343549d530a1424f1b24053bb">llvm::BasicBlock::removePredecessor</a></div><div class="ttdeci">void removePredecessor(BasicBlock *Pred, bool DontDeleteUselessPHIs=false)</div><div class="ttdoc">Notify the BasicBlock that the predecessor Pred is no longer able to reach it. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00216">BasicBlock.cpp:216</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a089cccb6f231efee72abc76d0f9c695f"><div class="ttname"><a href="classllvm_1_1PHINode.html#a089cccb6f231efee72abc76d0f9c695f">llvm::PHINode::addIncoming</a></div><div class="ttdeci">void addIncoming(Value *V, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02100">Instructions.h:2100</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a269a3ff9f285dc99aca7253d105e6807"><div class="ttname"><a href="namespacellvm.html#a269a3ff9f285dc99aca7253d105e6807">llvm::CloneAndPruneFunctionInto</a></div><div class="ttdeci">void CloneAndPruneFunctionInto(Function *NewFunc, const Function *OldFunc, ValueToValueMapTy &amp;VMap, bool ModuleLevelChanges, SmallVectorImpl&lt; ReturnInst * &gt; &amp;Returns, const char *NameSuffix=&quot;&quot;, ClonedCodeInfo *CodeInfo=0, const DataLayout *TD=0, Instruction *TheCall=0)</div><div class="ttdef"><b>Definition:</b> <a href="CloneFunction_8cpp_source.html#l00365">CloneFunction.cpp:365</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_ac3ef4b4fdcc6fc9aba65a545c213d76a"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#ac3ef4b4fdcc6fc9aba65a545c213d76a">llvm::InlineFunctionInfo::CG</a></div><div class="ttdeci">CallGraph * CG</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00167">Cloning.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_a7d1d4ff826882f1d65929653c293e5cc"><div class="ttname"><a href="classllvm_1_1iplist.html#a7d1d4ff826882f1d65929653c293e5cc">llvm::iplist::pop_back</a></div><div class="ttdeci">void pop_back()</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00559">ilist.h:559</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a85df3357f7ec7e9610ee28f8d5613244"><div class="ttname"><a href="classllvm_1_1Function.html#a85df3357f7ec7e9610ee28f8d5613244">llvm::Function::onlyReadsMemory</a></div><div class="ttdeci">bool onlyReadsMemory() const </div><div class="ttdoc">Determine if the function does not access or only reads memory. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00246">Function.h:246</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="namespacellvm_html_ae907336cbc9a42264a3b9743a3042b31"><div class="ttname"><a href="namespacellvm.html#ae907336cbc9a42264a3b9743a3042b31">llvm::InlineFunction</a></div><div class="ttdeci">bool InlineFunction(CallInst *C, InlineFunctionInfo &amp;IFI, bool InsertLifetime=true)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00034">InlineFunction.cpp:34</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_ae4ca2261b8b901e415fda7feac5051ea"><div class="ttname"><a href="classllvm_1_1Function.html#ae4ca2261b8b901e415fda7feac5051ea">llvm::Function::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00397">Function.h:397</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a13ce8cb4c50c5b3505915467e14ad95a"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a13ce8cb4c50c5b3505915467e14ad95a">llvm::CallSiteBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00145">CallSite.h:145</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_adfb7610cbc23430a7d4077a3cf9c22d3"><div class="ttname"><a href="classllvm_1_1DataLayout.html#adfb7610cbc23430a7d4077a3cf9c22d3">llvm::DataLayout::getPrefTypeAlignment</a></div><div class="ttdeci">unsigned getPrefTypeAlignment(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00600">DataLayout.cpp:600</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a83607e66d9d5dd8cd81458feba289eaa"><div class="ttname"><a href="classllvm_1_1Function.html#a83607e66d9d5dd8cd81458feba289eaa">llvm::Function::getGC</a></div><div class="ttdeci">const char * getGC() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00315">Function.cpp:315</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a26ccf11b81c01a45cb40137c775f7cad"><div class="ttname"><a href="classllvm_1_1Function.html#a26ccf11b81c01a45cb40137c775f7cad">llvm::Function::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00179">Function.cpp:179</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8300ac1ef141b8a7c63c13fa9369d976"><div class="ttname"><a href="classllvm_1_1Function.html#a8300ac1ef141b8a7c63c13fa9369d976">llvm::Function::arg_end</a></div><div class="ttdeci">arg_iterator arg_end()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00418">Function.h:418</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_a18eb00c018b01e2d2783fffcbc314b3a"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a18eb00c018b01e2d2783fffcbc314b3a">llvm::DebugLoc::getAsMDNode</a></div><div class="ttdeci">MDNode * getAsMDNode(const LLVMContext &amp;Ctx) const </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00100">DebugLoc.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="classllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">MDNode - a tuple of other values. </div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00073">Metadata.h:73</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html">llvm::InlineFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00160">Cloning.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1LandingPadInst_html_a7e36bd4ab20bc5b099513596126ff236"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html#a7e36bd4ab20bc5b099513596126ff236">llvm::LandingPadInst::getPersonalityFn</a></div><div class="ttdeci">Value * getPersonalityFn() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02219">Instructions.h:2219</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_ad85ea9d2b52150630da3211a12057dfe"><div class="ttname"><a href="InlineFunction_8cpp.html#ad85ea9d2b52150630da3211a12057dfe">updateInlinedAtInfo</a></div><div class="ttdeci">static DebugLoc updateInlinedAtInfo(const DebugLoc &amp;DL, const DebugLoc &amp;InlinedAtDL, LLVMContext &amp;Ctx)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00452">InlineFunction.cpp:452</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00173">CallGraph.h:173</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">llvm::Intrinsic::memcpy</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01260">Intrinsics.h:1260</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a7bd545769621a0a9d2cfb074f86f4295"><div class="ttname"><a href="classllvm_1_1Instruction.html#a7bd545769621a0a9d2cfb074f86f4295">llvm::Instruction::setDebugLoc</a></div><div class="ttdeci">void setDebugLoc(const DebugLoc &amp;Loc)</div><div class="ttdoc">setDebugLoc - Set the debug location information for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00175">Instruction.h:175</a></div></div>
<div class="ttc" id="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy_html_a5bcf5b029fa9492c00d2329def9b5137"><div class="ttname"><a href="structllvm_1_1ValueMapIterator_1_1ValueTypeProxy.html#a5bcf5b029fa9492c00d2329def9b5137">llvm::ValueMapIterator::ValueTypeProxy::second</a></div><div class="ttdeci">ValueT &amp; second</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00293">ValueMap.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilderBase_html_a9b1be210e6549573e2e46105c671d0be"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a9b1be210e6549573e2e46105c671d0be">llvm::IRBuilderBase::CreateLifetimeEnd</a></div><div class="ttdeci">CallInst * CreateLifetimeEnd(Value *Ptr, ConstantInt *Size=0)</div><div class="ttdoc">Create a lifetime.end intrinsic. </div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8cpp_source.html#l00140">IRBuilder.cpp:140</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_aaeb48b6b184c2e314a9451904c7cf606"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#aaeb48b6b184c2e314a9451904c7cf606">dest</a></div><div class="ttdeci">rlwinm add r4 but are still a codesize win With preinc long * dest</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00071">Target/PowerPC/README.txt:71</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_a5e8919aeb8fba23fbe8d7384e7483ddf"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#a5e8919aeb8fba23fbe8d7384e7483ddf">llvm::InlineFunctionInfo::StaticAllocas</a></div><div class="ttdeci">SmallVector&lt; AllocaInst *, 4 &gt; StaticAllocas</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00172">Cloning.h:172</a></div></div>
<div class="ttc" id="CallSite_8h_html"><div class="ttname"><a href="CallSite_8h.html">CallSite.h</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_aef89c402976e04c0abe4b10a963d35e3"><div class="ttname"><a href="classllvm_1_1Function.html#aef89c402976e04c0abe4b10a963d35e3">llvm::Function::arg_size</a></div><div class="ttdeci">size_t arg_size() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00248">Function.cpp:248</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_a9fbce2784beecb38d29db7902c1018bc"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#a9fbce2784beecb38d29db7902c1018bc">llvm::CallGraphNode::addCalledFunction</a></div><div class="ttdeci">void addCalledFunction(CallSite CS, CallGraphNode *M)</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00262">CallGraph.h:262</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_aa09f788dd735e872f745a5490faced2f"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#aa09f788dd735e872f745a5490faced2f">llvm::CallGraphNode::iterator</a></div><div class="ttdeci">std::vector&lt; CallRecord &gt;::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00208">CallGraph.h:208</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_acb015270a969bc45af93da5d0ad45ba7"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#acb015270a969bc45af93da5d0ad45ba7">llvm::DebugLoc::isUnknown</a></div><div class="ttdeci">bool isUnknown() const </div><div class="ttdoc">isUnknown - Return true if this is an unknown location. </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00070">DebugLoc.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1ReturnInst_html_a7f6ab6ba1947d832a651e3589614a10d"><div class="ttname"><a href="classllvm_1_1ReturnInst.html#a7f6ab6ba1947d832a651e3589614a10d">llvm::ReturnInst::getReturnValue</a></div><div class="ttdeci">Value * getReturnValue() const </div><div class="ttdoc">Convenience accessor. Returns null if there is no return value. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02318">Instructions.h:2318</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_a72b2e4575a6de8f1550d057ff1c23ea1"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#a72b2e4575a6de8f1550d057ff1c23ea1">llvm::CallGraphNode::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00215">CallGraph.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder</a></div><div class="ttdoc">This provides a uniform API for creating instructions and inserting them into a basic block: either a...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00421">IRBuilder.h:421</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html_ae9cbc599309fd2da33ec1c61df01ce1f"><div class="ttname"><a href="classllvm_1_1BranchInst.html#ae9cbc599309fd2da33ec1c61df01ce1f">llvm::BranchInst::Create</a></div><div class="ttdeci">static BranchInst * Create(BasicBlock *IfTrue, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02373">Instructions.h:2373</a></div></div>
<div class="ttc" id="Attributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div><div class="ttdoc">This file contains the simple types necessary to represent the attributes associated with functions a...</div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa755a407bff5182ef275cde417b93f4b"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa755a407bff5182ef275cde417b93f4b">llvm::Intrinsic::stacksave</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02442">Intrinsics.h:2442</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a214c60dbb4f1ed467e5a3420db6eefd6"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a214c60dbb4f1ed467e5a3420db6eefd6">llvm::AllocaInst::getAllocatedType</a></div><div class="ttdeci">Type * getAllocatedType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00906">Instructions.cpp:906</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_ace5b91e09e7b0aa7d88a500993a7502c"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#ace5b91e09e7b0aa7d88a500993a7502c">llvm::DebugLoc::getLine</a></div><div class="ttdeci">unsigned getLine() const </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00072">DebugLoc.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html_af34d108a329d6aaaa2761b7b362bb9a3"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#af34d108a329d6aaaa2761b7b362bb9a3">llvm::InvokeInst::getLandingPadInst</a></div><div class="ttdeci">LandingPadInst * getLandingPadInst() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00607">Instructions.cpp:607</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_ad5d54b274a058b7ebe313437325df069"><div class="ttname"><a href="classllvm_1_1CallInst.html#ad5d54b274a058b7ebe313437325df069">llvm::CallInst::doesNotThrow</a></div><div class="ttdeci">bool doesNotThrow() const </div><div class="ttdoc">Determine if the call cannot unwind. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01331">Instructions.h:1331</a></div></div>
<div class="ttc" id="CallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a778163e6ec80716a12ab3282cb97f0d9"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a778163e6ec80716a12ab3282cb97f0d9">llvm::ConstantExpr::getSizeOf</a></div><div class="ttdeci">static Constant * getSizeOf(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01767">Constants.cpp:1767</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_a1d19879a40bcc9f91d922869cc5938f1"><div class="ttname"><a href="InlineFunction_8cpp.html#a1d19879a40bcc9f91d922869cc5938f1">UpdateCallGraphAfterInlining</a></div><div class="ttdeci">static void UpdateCallGraphAfterInlining(CallSite CS, Function::iterator FirstNewBlock, ValueToValueMapTy &amp;VMap, InlineFunctionInfo &amp;IFI)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00279">InlineFunction.cpp:279</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_af348d5ea83429d08ba891ca3dd0e92b2"><div class="ttname"><a href="classllvm_1_1Type.html#af348d5ea83429d08ba891ca3dd0e92b2">llvm::Type::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">getContext - Return the LLVMContext in which this type was uniqued. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00128">Type.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorBase_html_a8a8df4d85555c7954a95f86080cd3b64"><div class="ttname"><a href="classllvm_1_1SmallVectorBase.html#a8a8df4d85555c7954a95f86080cd3b64">llvm::SmallVectorBase::empty</a></div><div class="ttdeci">bool LLVM_ATTRIBUTE_UNUSED_RESULT empty() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00056">SmallVector.h:56</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8ac50c3e2e6c3dd02e21c1ab2836aed6"><div class="ttname"><a href="classllvm_1_1Function.html#a8ac50c3e2e6c3dd02e21c1ab2836aed6">llvm::Function::back</a></div><div class="ttdeci">const BasicBlock &amp; back() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00404">Function.h:404</a></div></div>
<div class="ttc" id="DebugInfo_8h_html"><div class="ttname"><a href="DebugInfo_8h.html">DebugInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMap_html_a7629b8c5f6a6802ee0fdc5c290769692"><div class="ttname"><a href="classllvm_1_1ValueMap.html#a7629b8c5f6a6802ee0fdc5c290769692">llvm::ValueMap::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00116">ValueMap.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03587">Instructions.h:3587</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a842176a2c8c60a94bc788454b0828ea2"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a842176a2c8c60a94bc788454b0828ea2">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=None)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00683">Function.cpp:683</a></div></div>
<div class="ttc" id="classllvm_1_1LandingPadInst_html_a0996e256e9037e03a45d904b48c90aac"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html#a0996e256e9037e03a45d904b48c90aac">llvm::LandingPadInst::getNumClauses</a></div><div class="ttdeci">unsigned getNumClauses() const </div><div class="ttdoc">getNumClauses - Get the number of clauses for this landing pad. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02250">Instructions.h:2250</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a88a5e60837674780a9d812d661897ac5"><div class="ttname"><a href="classllvm_1_1Function.html#a88a5e60837674780a9d812d661897ac5">llvm::Function::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00395">Function.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1LandingPadInst_html_acfc7ce8a4359705f956484f74ca722c9"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html#acfc7ce8a4359705f956484f74ca722c9">llvm::LandingPadInst::addClause</a></div><div class="ttdeci">void addClause(Value *ClauseVal)</div><div class="ttdoc">addClause - Add a catch or filter clause to the landing pad. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l00251">Instructions.cpp:251</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_a434de54d8c6c36192e4b728fe5f00088"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#a434de54d8c6c36192e4b728fe5f00088">llvm::DebugLoc::getCol</a></div><div class="ttdeci">unsigned getCol() const </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00076">DebugLoc.h:76</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_ae21f217cd2f8044e639f13111a0b37db"><div class="ttname"><a href="InlineFunction_8cpp.html#ae21f217cd2f8044e639f13111a0b37db">isUsedByLifetimeMarker</a></div><div class="ttdeci">static bool isUsedByLifetimeMarker(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00417">InlineFunction.cpp:417</a></div></div>
<div class="ttc" id="classllvm_1_1LandingPadInst_html_ac32253b1954f4abfcbff519ab343f2b1"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html#ac32253b1954f4abfcbff519ab343f2b1">llvm::LandingPadInst::getClause</a></div><div class="ttdeci">Value * getClause(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02237">Instructions.h:2237</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90acf3edc45dd8ac3f95340ecec8b996818"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90acf3edc45dd8ac3f95340ecec8b996818">llvm::Intrinsic::stackrestore</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02441">Intrinsics.h:2441</a></div></div>
<div class="ttc" id="classllvm_1_1LandingPadInst_html"><div class="ttname"><a href="classllvm_1_1LandingPadInst.html">llvm::LandingPadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02178">Instructions.h:2178</a></div></div>
<div class="ttc" id="classllvm_1_1TerminatorInst_html"><div class="ttname"><a href="classllvm_1_1TerminatorInst.html">llvm::TerminatorInst</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00035">InstrTypes.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_ae4c67f835911559821939fb23a2e7aff"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#ae4c67f835911559821939fb23a2e7aff">llvm::CallSiteBase::getInstruction</a></div><div class="ttdeci">InstrTy * getInstruction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00079">CallSite.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00037">LLVMContext.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a597c918a615f26a0cea7adb84f06fc3f"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a597c918a615f26a0cea7adb84f06fc3f">llvm::AllocaInst::getType</a></div><div class="ttdeci">PointerType * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00091">Instructions.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1ResumeInst_html"><div class="ttname"><a href="classllvm_1_1ResumeInst.html">llvm::ResumeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03090">Instructions.h:3090</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html_a03007b982a936464f7116e3c47df89ee"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#a03007b982a936464f7116e3c47df89ee">llvm::InvokeInst::Create</a></div><div class="ttdeci">static InvokeInst * Create(Value *Func, BasicBlock *IfNormal, BasicBlock *IfException, ArrayRef&lt; Value * &gt; Args, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02863">Instructions.h:2863</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_adf2126190885b10019398655f5e6b256"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#adf2126190885b10019398655f5e6b256">llvm::BasicBlock::getLandingPadInst</a></div><div class="ttdeci">LandingPadInst * getLandingPadInst()</div><div class="ttdoc">Return the landingpad instruction associated with the landing pad. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00366">BasicBlock.cpp:366</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_aab8e16a35183ce39aad394714087bcff"><div class="ttname"><a href="classllvm_1_1Instruction.html#aab8e16a35183ce39aad394714087bcff">llvm::Instruction::getDebugLoc</a></div><div class="ttdeci">const DebugLoc &amp; getDebugLoc() const </div><div class="ttdoc">getDebugLoc - Return the debug location for this node as a DebugLoc. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00178">Instruction.h:178</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_afb5e83bf5123ff7c51058eb0ebebcdc6"><div class="ttname"><a href="classllvm_1_1PHINode.html#afb5e83bf5123ff7c51058eb0ebebcdc6">llvm::PHINode::Create</a></div><div class="ttdeci">static PHINode * Create(Type *Ty, unsigned NumReservedValues, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=0)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02013">Instructions.h:2013</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_aaf3b82cc11d277accc62e3ebf9f9d28e"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#aaf3b82cc11d277accc62e3ebf9f9d28e">llvm::InlineFunctionInfo::InlinedCalls</a></div><div class="ttdeci">SmallVector&lt; WeakVH, 8 &gt; InlinedCalls</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00176">Cloning.h:176</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a531d11ba36ed48d86057d507cc8d5567"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a531d11ba36ed48d86057d507cc8d5567">llvm::BasicBlock::getInstList</a></div><div class="ttdeci">const InstListType &amp; getInstList() const </div><div class="ttdoc">Return the underlying instruction list container. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00214">BasicBlock.h:214</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_afaa78d0b3224d3175937f997dc2bc688"><div class="ttname"><a href="InlineFunction_8cpp.html#afaa78d0b3224d3175937f997dc2bc688">hasLifetimeMarkers</a></div><div class="ttdeci">static bool hasLifetimeMarkers(AllocaInst *AI)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00434">InlineFunction.cpp:434</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_ad44be5c63b1dc3ed9be6fe3ea20632a0"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#ad44be5c63b1dc3ed9be6fe3ea20632a0">llvm::DebugLoc::getInlinedAt</a></div><div class="ttdeci">MDNode * getInlinedAt(const LLVMContext &amp;Ctx) const </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00037">DebugLoc.cpp:37</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a8bf193a781a92cae52d7f9216d0824f8"><div class="ttname"><a href="classllvm_1_1Function.html#a8bf193a781a92cae52d7f9216d0824f8">llvm::Function::arg_begin</a></div><div class="ttdeci">arg_iterator arg_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00410">Function.h:410</a></div></div>
<div class="ttc" id="classllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01334">Constants.cpp:1334</a></div></div>
<div class="ttc" id="classllvm_1_1InlineFunctionInfo_html_a197ccf8a270cfd271e28e802e02c0794"><div class="ttname"><a href="classllvm_1_1InlineFunctionInfo.html#a197ccf8a270cfd271e28e802e02c0794">llvm::InlineFunctionInfo::TD</a></div><div class="ttdeci">const DataLayout * TD</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00168">Cloning.h:168</a></div></div>
<div class="ttc" id="namespacellvm_html_a50f8f41fccbea466816345520e9bfabb"><div class="ttname"><a href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">llvm::SimplifyInstruction</a></div><div class="ttdeci">Value * SimplifyInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03036">InstructionSimplify.cpp:3036</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00284">Type.cpp:284</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_a5c2aa38108db7a66ac5e8da547f64ad7"><div class="ttname"><a href="classllvm_1_1iplist.html#a5c2aa38108db7a66ac5e8da547f64ad7">llvm::iplist::erase</a></div><div class="ttdeci">iterator erase(iterator where)</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00465">ilist.h:465</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMapIterator_html"><div class="ttname"><a href="classllvm_1_1ValueMapIterator.html">llvm::ValueMapIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00041">ValueMap.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMap_html_ab871e2d0ebded563edfebd6766fc1a04"><div class="ttname"><a href="classllvm_1_1ValueMap.html#ab871e2d0ebded563edfebd6766fc1a04">llvm::ValueMap::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00099">ValueMap.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetIterator_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSetIterator.html">llvm::SmallPtrSetIterator</a></div><div class="ttdoc">SmallPtrSetIterator - This implements a const_iterator for SmallPtrSet. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00174">SmallPtrSet.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_aa6c86151b0e4172d3d624661e1585f30"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#aa6c86151b0e4172d3d624661e1585f30">llvm::DebugLoc::getScope</a></div><div class="ttdeci">MDNode * getScope(const LLVMContext &amp;Ctx) const </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00020">DebugLoc.cpp:20</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="SubtargetFeature_8cpp_html_aea2f934ca74dd1ab539c92107416777e"><div class="ttname"><a href="SubtargetFeature_8cpp.html#aea2f934ca74dd1ab539c92107416777e">Split</a></div><div class="ttdeci">static void Split(std::vector&lt; std::string &gt; &amp;V, const StringRef S)</div><div class="ttdef"><b>Definition:</b> <a href="SubtargetFeature_8cpp_source.html#l00068">SubtargetFeature.cpp:68</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a4d34a40b2667246539b80589adf2028e"><div class="ttname"><a href="classllvm_1_1Function.html#a4d34a40b2667246539b80589adf2028e">llvm::Function::getBasicBlockList</a></div><div class="ttdeci">const BasicBlockListType &amp; getBasicBlockList() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00374">Function.h:374</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html_a90beee7a8da6a92791f0c59ccf03a002"><div class="ttname"><a href="classllvm_1_1InvokeInst.html#a90beee7a8da6a92791f0c59ccf03a002">llvm::InvokeInst::getUnwindDest</a></div><div class="ttdeci">BasicBlock * getUnwindDest() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03006">Instructions.h:3006</a></div></div>
<div class="ttc" id="classllvm_1_1ValueMap_html"><div class="ttname"><a href="classllvm_1_1ValueMap.html">llvm::ValueMap</a></div><div class="ttdoc">See the file comment. </div><div class="ttdef"><b>Definition:</b> <a href="ValueMap_8h_source.html#l00075">ValueMap.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a4083036245b09eb316785a9535d3246c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a4083036245b09eb316785a9535d3246c">llvm::CallSiteBase::doesNotThrow</a></div><div class="ttdeci">bool doesNotThrow() const </div><div class="ttdoc">Determine if the call cannot unwind. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00240">CallSite.h:240</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a2b51df7c4694230be653c4b5a3186029"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a2b51df7c4694230be653c4b5a3186029">llvm::CallSiteBase::isByValArgument</a></div><div class="ttdeci">bool isByValArgument(unsigned ArgNo) const </div><div class="ttdoc">Determine whether this argument is passed by value. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00256">CallSite.h:256</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a1d6fcc02e91ba24510aba42660c90e29"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">llvm::DataLayout::getTypeAllocSize</a></div><div class="ttdeci">uint64_t getTypeAllocSize(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00326">DataLayout.h:326</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00195">BasicBlock.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_ace1ad5ed624dd5df8efb4eb611cb71ff"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#ace1ad5ed624dd5df8efb4eb611cb71ff">llvm::BasicBlock::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdoc">Unlink &amp;#39;this&amp;#39; from the containing function and delete it. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00100">BasicBlock.cpp:100</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="Cloning_8h_html"><div class="ttname"><a href="Cloning_8h.html">Cloning.h</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_a67d41e5dcf9429da9de95bfeed648c86"><div class="ttname"><a href="InlineFunction_8cpp.html#a67d41e5dcf9429da9de95bfeed648c86">fixupLineNumbers</a></div><div class="ttdeci">static void fixupLineNumbers(Function *Fn, Function::iterator FI, Instruction *TheCall)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00468">InlineFunction.cpp:468</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_afe55b235779222b867c16d3321c1cd16"><div class="ttname"><a href="classllvm_1_1iplist.html#afe55b235779222b867c16d3321c1cd16">llvm::iplist::splice</a></div><div class="ttdeci">void splice(iterator where, iplist &amp;L2)</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00570">ilist.h:570</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a5fa9b8e1842b354f64c1ba6be0a4a17f"><div class="ttname"><a href="classllvm_1_1User.html#a5fa9b8e1842b354f64c1ba6be0a4a17f">llvm::User::setOperand</a></div><div class="ttdeci">void setOperand(unsigned i, Value *Val)</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00092">User.h:92</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a21960167f529265a1cb02ac1e8ad10f6"><div class="ttname"><a href="classllvm_1_1PHINode.html#a21960167f529265a1cb02ac1e8ad10f6">llvm::PHINode::getIncomingValueForBlock</a></div><div class="ttdeci">Value * getIncomingValueForBlock(const BasicBlock *BB) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02139">Instructions.h:2139</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a988441f676bbcc064697039950ab9e45"><div class="ttname"><a href="classllvm_1_1Function.html#a988441f676bbcc064697039950ab9e45">llvm::Function::hasGC</a></div><div class="ttdeci">bool hasGC() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00310">Function.cpp:310</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a51d1f1c6c59099ed1585ec20a2d7676c"><div class="ttname"><a href="classllvm_1_1Function.html#a51d1f1c6c59099ed1585ec20a2d7676c">llvm::Function::setGC</a></div><div class="ttdeci">void setGC(const char *Str)</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00321">Function.cpp:321</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a39fed9e3fb9323a7eb73cb65409f5586"><div class="ttname"><a href="classllvm_1_1CallInst.html#a39fed9e3fb9323a7eb73cb65409f5586">llvm::CallInst::getAttributes</a></div><div class="ttdeci">const AttributeSet &amp; getAttributes() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01260">Instructions.h:1260</a></div></div>
<div class="ttc" id="structllvm_1_1ClonedCodeInfo_html_a6bbe5e652464ac9213907e3446874900"><div class="ttname"><a href="structllvm_1_1ClonedCodeInfo.html#a6bbe5e652464ac9213907e3446874900">llvm::ClonedCodeInfo::ContainsCalls</a></div><div class="ttdeci">bool ContainsCalls</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00057">Cloning.h:57</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_a8a5477ba7f5e6636e418ee33a310dba8"><div class="ttname"><a href="InlineFunction_8cpp.html#a8a5477ba7f5e6636e418ee33a310dba8">HandleCallsInBlockInlinedThroughInvoke</a></div><div class="ttdeci">static bool HandleCallsInBlockInlinedThroughInvoke(BasicBlock *BB, InvokeInliningInfo &amp;Invoke)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00177">InlineFunction.cpp:177</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_af63b4743ef1d470496c32ff88f4caa66"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#af63b4743ef1d470496c32ff88f4caa66">llvm::DebugLoc::get</a></div><div class="ttdeci">static DebugLoc get(unsigned Line, unsigned Col, MDNode *Scope, MDNode *InlinedAt=0)</div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00074">DebugLoc.cpp:74</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="StringExtras_8h_html"><div class="ttname"><a href="StringExtras_8h.html">StringExtras.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3dd948f1535b4b28f2a7d45a5c11a34a"><div class="ttname"><a href="namespacellvm.html#a3dd948f1535b4b28f2a7d45a5c11a34a">llvm::getOrEnforceKnownAlignment</a></div><div class="ttdeci">unsigned getOrEnforceKnownAlignment(Value *V, unsigned PrefAlign, const DataLayout *TD=0)</div><div class="ttdef"><b>Definition:</b> <a href="Local_8cpp_source.html#l00922">Local.cpp:922</a></div></div>
<div class="ttc" id="namespacellvm_html_a50597c243eba9da508c609f549835f1f"><div class="ttname"><a href="namespacellvm.html#a50597c243eba9da508c609f549835f1f">llvm::createInlinedVariable</a></div><div class="ttdeci">DIVariable createInlinedVariable(MDNode *DV, MDNode *InlinedScope, LLVMContext &amp;VMContext)</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfo_8cpp_source.html#l00865">DebugInfo.cpp:865</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00072">CallGraph.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="Intrinsics_8h_html"><div class="ttname"><a href="Intrinsics_8h.html">Intrinsics.h</a></div></div>
<div class="ttc" id="classllvm_1_1DbgValueInst_html"><div class="ttname"><a href="classllvm_1_1DbgValueInst.html">llvm::DbgValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00097">IntrinsicInst.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1ImmutableCallSite_html"><div class="ttname"><a href="classllvm_1_1ImmutableCallSite.html">llvm::ImmutableCallSite</a></div><div class="ttdoc">ImmutableCallSite - establish a view to a call site for examination. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00318">CallSite.h:318</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00120">BasicBlock.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_adf66d58e85fb4e46e9c1ae55186a6930"><div class="ttname"><a href="classllvm_1_1Function.html#adf66d58e85fb4e46e9c1ae55186a6930">llvm::Function::getFunctionType</a></div><div class="ttdeci">FunctionType * getFunctionType() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00171">Function.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a7f055d0b03ebf1d6a5988b178e9b8f4f"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a7f055d0b03ebf1d6a5988b178e9b8f4f">llvm::SmallPtrSet::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00279">SmallPtrSet.h:279</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_a28e1413decf2fc1330e9016e49db9a96"><div class="ttname"><a href="InlineFunction_8cpp.html#a28e1413decf2fc1330e9016e49db9a96">HandleByValArgument</a></div><div class="ttdeci">static Value * HandleByValArgument(Value *Arg, Instruction *TheCall, const Function *CalledFunc, InlineFunctionInfo &amp;IFI, unsigned ByValAlignment)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00341">InlineFunction.cpp:341</a></div></div>
<div class="ttc" id="structllvm_1_1ClonedCodeInfo_html"><div class="ttname"><a href="structllvm_1_1ClonedCodeInfo.html">llvm::ClonedCodeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00054">Cloning.h:54</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html_abaea04080b7572f8ddcddaf482b9908f"><div class="ttname"><a href="classllvm_1_1DebugLoc.html#abaea04080b7572f8ddcddaf482b9908f">llvm::DebugLoc::getFromDILocation</a></div><div class="ttdeci">static DebugLoc getFromDILocation(MDNode *N)</div><div class="ttdoc">getFromDILocation - Translate the DILocation quad into a DebugLoc. </div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8cpp_source.html#l00117">DebugLoc.cpp:117</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a19445f836d9e1ecb32cba27ec4338fff"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a19445f836d9e1ecb32cba27ec4338fff">llvm::BasicBlock::splitBasicBlock</a></div><div class="ttdeci">BasicBlock * splitBasicBlock(iterator I, const Twine &amp;BBName=&quot;&quot;)</div><div class="ttdoc">Split the basic block into two basic blocks at the specified instruction. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00298">BasicBlock.cpp:298</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a4b979cd93852fd44c48851c94ee00758"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a4b979cd93852fd44c48851c94ee00758">llvm::DataLayout::getTypeStoreSize</a></div><div class="ttdeci">uint64_t getTypeStoreSize(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00311">DataLayout.h:311</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="IRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_ab9b67f93a2231970abb3d95636660ffc"><div class="ttname"><a href="classllvm_1_1FunctionType.html#ab9b67f93a2231970abb3d95636660ffc">llvm::FunctionType::isVarArg</a></div><div class="ttdeci">bool isVarArg() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00120">DerivedTypes.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ac38c53f76ef532f91f1666c8a87370e9"><div class="ttname"><a href="classllvm_1_1Value.html#ac38c53f76ef532f91f1666c8a87370e9">llvm::Value::use_empty</a></div><div class="ttdeci">bool use_empty() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00149">Value.h:149</a></div></div>
<div class="ttc" id="structllvm_1_1ClonedCodeInfo_html_a2eea9c7c9cadaa593a7a71c8d44aac25"><div class="ttname"><a href="structllvm_1_1ClonedCodeInfo.html#a2eea9c7c9cadaa593a7a71c8d44aac25">llvm::ClonedCodeInfo::ContainsDynamicAllocas</a></div><div class="ttdeci">bool ContainsDynamicAllocas</div><div class="ttdef"><b>Definition:</b> <a href="Cloning_8h_source.html#l00063">Cloning.h:63</a></div></div>
<div class="ttc" id="ARMSubtarget_8cpp_html_a4bd80d4e433d9f72af26b364036900dc"><div class="ttname"><a href="ARMSubtarget_8cpp.html#a4bd80d4e433d9f72af26b364036900dc">Align</a></div><div class="ttdeci">static cl::opt&lt; AlignMode &gt; Align(cl::desc(&quot;Load/store alignment support&quot;), cl::Hidden, cl::init(DefaultAlign), cl::values(clEnumValN(DefaultAlign,&quot;arm-default-align&quot;,&quot;Generate unaligned accesses only on hardware/OS &quot;&quot;combinations that are known to support them&quot;), clEnumValN(StrictAlign,&quot;arm-strict-align&quot;,&quot;Disallow all unaligned memory accesses&quot;), clEnumValN(NoStrictAlign,&quot;arm-no-strict-align&quot;,&quot;Allow unaligned memory accesses&quot;), clEnumValEnd))</div></div>
<div class="ttc" id="Local_8h_html"><div class="ttname"><a href="Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a06618379597b0cf1b9f0dd1d42a6fc54"><div class="ttname"><a href="classllvm_1_1Function.html#a06618379597b0cf1b9f0dd1d42a6fc54">llvm::Function::getParamAlignment</a></div><div class="ttdeci">unsigned getParamAlignment(unsigned i) const </div><div class="ttdoc">Extract the alignment for a call or parameter (0=unknown). </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00232">Function.h:232</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a9e1fc23a17e97d2d1732e753ae9251ac"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a9e1fc23a17e97d2d1732e753ae9251ac">llvm::GlobalValue::getParent</a></div><div class="ttdeci">Module * getParent()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00286">GlobalValue.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1iplist_html_a8049ceb2aa2c623ca851acd569e87ad7"><div class="ttname"><a href="classllvm_1_1iplist.html#a8049ceb2aa2c623ca851acd569e87ad7">llvm::iplist::pop_front</a></div><div class="ttdeci">void pop_front()</div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00555">ilist.h:555</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a669d599eeacffd29a09050e2af83bf67"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a669d599eeacffd29a09050e2af83bf67">llvm::SmallPtrSet::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00276">SmallPtrSet.h:276</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_a33bacf0df6da5390db33bce272a70b20"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#a33bacf0df6da5390db33bce272a70b20">llvm::CallGraphNode::removeCallEdgeFor</a></div><div class="ttdeci">void removeCallEdgeFor(CallSite CS)</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8cpp_source.html#l00206">CallGraph.cpp:206</a></div></div>
<div class="ttc" id="SmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html_a642f52c0f081ad0de10258c1d8d67b23"><div class="ttname"><a href="classllvm_1_1AllocaInst.html#a642f52c0f081ad0de10258c1d8d67b23">llvm::AllocaInst::getArraySize</a></div><div class="ttdeci">const Value * getArraySize() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00086">Instructions.h:86</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02841">Instructions.h:2841</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_a4f29edc585030005e8215897bb1e792f"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#a4f29edc585030005e8215897bb1e792f">llvm::CallGraphNode::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00214">CallGraph.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html_a2a65eaf09953a013c2820f6857c647f0"><div class="ttname"><a href="classllvm_1_1CallInst.html#a2a65eaf09953a013c2820f6857c647f0">llvm::CallInst::getCallingConv</a></div><div class="ttdeci">CallingConv::ID getCallingConv() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01250">Instructions.h:1250</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_ae71beaede002fa659398694f22b3312f"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#ae71beaede002fa659398694f22b3312f">llvm::CallGraphNode::CalledFunctionsVector</a></div><div class="ttdeci">std::vector&lt; CallRecord &gt; CalledFunctionsVector</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00195">CallGraph.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae365354e47542c51f9bd46e329e3323e">llvm::Intrinsic::lifetime_start</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01255">Intrinsics.h:1255</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
<div class="ttc" id="InlineFunction_8cpp_html_aae72e0be5e309374360bff57c16a31ee"><div class="ttname"><a href="InlineFunction_8cpp.html#aae72e0be5e309374360bff57c16a31ee">HandleInlinedInvoke</a></div><div class="ttdeci">static void HandleInlinedInvoke(InvokeInst *II, BasicBlock *FirstNewBlock, ClonedCodeInfo &amp;InlinedCodeInfo)</div><div class="ttdef"><b>Definition:</b> <a href="InlineFunction_8cpp_source.html#l00238">InlineFunction.cpp:238</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:57 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
