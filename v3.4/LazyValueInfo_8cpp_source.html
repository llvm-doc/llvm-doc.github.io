<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: LazyValueInfo.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('LazyValueInfo_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LazyValueInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LazyValueInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LazyValueInfo.cpp - Value constraint analysis ----------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file defines the interface for lazy computation of value constraint</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// information.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="LazyValueInfo_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   15</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;lazy-value-info&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LazyValueInfo_8h.html">llvm/Analysis/LazyValueInfo.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseSet_8h.html">llvm/ADT/DenseSet.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2CFG_8h.html">llvm/Support/CFG.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/Support/ConstantRange.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/Support/PatternMatch.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/Support/ValueHandle.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetLibraryInfo_8h.html">llvm/Target/TargetLibraryInfo.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;stack&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span>PatternMatch;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#a05f79f79aad023d9141082450c80b4c7">LazyValueInfo::ID</a> = 0;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="LazyValueInfo_8cpp.html#aebfdf9230b5ac4389fa1645508f815bc">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1LazyValueInfo.html">LazyValueInfo</a>, <span class="stringliteral">&quot;lazy-value-info&quot;</span>,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                <span class="stringliteral">&quot;Lazy Value Information Analysis&quot;</span>, <span class="keyword">false</span>, <span class="keyword">true</span>)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a>)</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="LazyValueInfo_8cpp.html#ad7f64bcc544dcefb2e068282af1c549d">   41</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1LazyValueInfo.html">LazyValueInfo</a>, &quot;lazy-value-<a class="code" href="LazyValueInfo_8cpp.html#ad7f64bcc544dcefb2e068282af1c549d">info</a>&quot;,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                &quot;Lazy <a class="code" href="classllvm_1_1Value.html">Value</a> Information <a class="code" href="LazyValueInfo_8cpp.html#a665fd813b3d347f59e80e670babf2a57">Analysis</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacetrue.html">true</a>)</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;namespace <a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="namespacellvm.html#a58e4f6b6501f820ea77f199db3c4a8f7">   45</a></span>&#160;  <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html#a58e4f6b6501f820ea77f199db3c4a8f7">createLazyValueInfoPass</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> LazyValueInfo(); }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//                               LVILatticeVal</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">/// LVILatticeVal - This is the information tracked by LazyValueInfo for each</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// value.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// FIXME: This is basically just for bringup, this can be made a lot more rich</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// in the future.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">class </span>LVILatticeVal {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">enum</span> LatticeValueTy {<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">    /// undefined - This Value has no known value yet.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span>    undefined,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">    /// constant - This Value has a specific constant value.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span>    constant,<span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">    /// notconstant - This Value is known to not have the specified value.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span>    notconstant,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">    /// constantrange - The Value falls within this range.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span>    constantrange,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">    /// overdefined - This value is not known to be constant, and we know that</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">    /// it has a value.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span>    overdefined</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  };</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">  /// Val: This stores the current lattice value along with the Constant* for</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  /// the constant if this is a &#39;constant&#39; or &#39;notconstant&#39; value.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span>  LatticeValueTy Tag;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Val;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Range;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  </div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  LVILatticeVal() : Tag(undefined), Val(0), Range(1, <span class="keyword">true</span>) {}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">static</span> LVILatticeVal <span class="keyword">get</span>(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    LVILatticeVal Res;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;UndefValue&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      Res.markConstant(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keyword">static</span> LVILatticeVal getNot(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    LVILatticeVal Res;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;UndefValue&gt;(C))</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      Res.markNotConstant(C);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">static</span> LVILatticeVal getRange(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    LVILatticeVal Res;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    Res.markConstantRange(CR);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> Res;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  </div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordtype">bool</span> isUndefined()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> Tag == undefined; }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">bool</span> isConstant()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> Tag == constant; }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">bool</span> isNotConstant()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> Tag == notconstant; }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">bool</span> isConstantRange()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Tag == constantrange; }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">bool</span> isOverdefined()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> Tag == overdefined; }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  </div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getConstant()<span class="keyword"> const </span>{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    assert(isConstant() &amp;&amp; <span class="stringliteral">&quot;Cannot get the constant of a non-constant!&quot;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  </div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *getNotConstant()<span class="keyword"> const </span>{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    assert(isNotConstant() &amp;&amp; <span class="stringliteral">&quot;Cannot get the constant of a non-notconstant!&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> Val;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  </div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> getConstantRange()<span class="keyword"> const </span>{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    assert(isConstantRange() &amp;&amp;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;           <span class="stringliteral">&quot;Cannot get the constant-range of a non-constant-range!&quot;</span>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> Range;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">  /// markOverdefined - Return true if this is a change in status.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> markOverdefined() {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (isOverdefined())</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    Tag = overdefined;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">  /// markConstant - Return true if this is a change in status.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> markConstant(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *V) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    assert(V &amp;&amp; <span class="stringliteral">&quot;Marking constant with NULL&quot;</span>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">return</span> markConstantRange(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(CI-&gt;getValue()));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(V))</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    assert((!isConstant() || getConstant() == V) &amp;&amp;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;           <span class="stringliteral">&quot;Marking constant with different value&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    assert(isUndefined());</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    Tag = constant;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    Val = V;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// markNotConstant - Return true if this is a change in status.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> markNotConstant(<a class="code" href="classllvm_1_1Constant.html">Constant</a> *V) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    assert(V &amp;&amp; <span class="stringliteral">&quot;Marking constant with NULL&quot;</span>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(V))</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">return</span> markConstantRange(<a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(CI-&gt;getValue()+1, CI-&gt;getValue()));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(V))</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    assert((!isConstant() || getConstant() != V) &amp;&amp;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;           <span class="stringliteral">&quot;Marking constant !constant with same value&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    assert((!isNotConstant() || getNotConstant() == V) &amp;&amp;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;           <span class="stringliteral">&quot;Marking !constant with different value&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    assert(isUndefined() || isConstant());</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    Tag = notconstant;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    Val = V;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  /// markConstantRange - Return true if this is a change in status.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> markConstantRange(<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> NewR) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (isConstantRange()) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> (NewR.<a class="code" href="classllvm_1_1ConstantRange.html#ae02fb0a19012613dcf2f9f24a1a3cf99">isEmptySet</a>())</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordtype">bool</span> changed = Range != NewR;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      Range = NewR;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">return</span> changed;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    assert(isUndefined());</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (NewR.<a class="code" href="classllvm_1_1ConstantRange.html#ae02fb0a19012613dcf2f9f24a1a3cf99">isEmptySet</a>())</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    Tag = constantrange;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    Range = NewR;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  /// mergeIn - Merge the specified lattice value into this one, updating this</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">  /// one and returning true if anything changed.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> mergeIn(<span class="keyword">const</span> LVILatticeVal &amp;RHS) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (RHS.isUndefined() || isOverdefined()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (RHS.isOverdefined()) <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (isUndefined()) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      Tag = RHS.Tag;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      Val = RHS.Val;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      Range = RHS.Range;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (isConstant()) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (RHS.isConstant()) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (Val == RHS.Val)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (RHS.isNotConstant()) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (Val == RHS.Val)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// Unless we can prove that the two Constants are different, we must</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="comment">// move to overdefined.</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// FIXME: use DataLayout/TargetLibraryInfo for smarter constant folding.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Res = dyn_cast&lt;ConstantInt&gt;(</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                getConstant(),</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                                RHS.getNotConstant())))</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          <span class="keywordflow">if</span> (Res-&gt;isOne())</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">return</span> markNotConstant(RHS.getNotConstant());</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="comment">// RHS is a ConstantRange, LHS is a non-integer Constant.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="comment">// FIXME: consider the case where RHS is a range [1, 0) and LHS is</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="comment">// a function. The correct result is to pick up RHS.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (isNotConstant()) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">if</span> (RHS.isConstant()) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (Val == RHS.Val)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// Unless we can prove that the two Constants are different, we must</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// move to overdefined.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// FIXME: use DataLayout/TargetLibraryInfo for smarter constant folding.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Res = dyn_cast&lt;ConstantInt&gt;(</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                                getNotConstant(),</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                RHS.getConstant())))</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          <span class="keywordflow">if</span> (Res-&gt;isOne())</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">if</span> (RHS.isNotConstant()) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (Val == RHS.Val)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    assert(isConstantRange() &amp;&amp; <span class="stringliteral">&quot;New LVILattice type?&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (!RHS.isConstantRange())</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> NewR = Range.<a class="code" href="classllvm_1_1ConstantRange.html#ab353ab87642fc752aae14de85a860e5c">unionWith</a>(RHS.getConstantRange());</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (NewR.<a class="code" href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">isFullSet</a>())</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> markOverdefined();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> markConstantRange(NewR);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;};</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  </div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;} <span class="comment">// end anonymous namespace.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="namespacellvm.html#a6a02d446812b76c3b271d9e3e3c77b49">operator&lt;&lt;</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> LVILatticeVal &amp;Val)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="Compiler_8h.html#a6881c00738b22a600dfee25a1c32dab3">LLVM_ATTRIBUTE_USED</a>;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="namespacellvm.html#a663d661bbce509e98c459c48c80a0973">  277</a></span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="namespacellvm.html#a6a02d446812b76c3b271d9e3e3c77b49">operator&lt;&lt;</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> LVILatticeVal &amp;Val) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (Val.isUndefined())</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">return</span> OS &lt;&lt; <span class="stringliteral">&quot;undefined&quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (Val.isOverdefined())</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> OS &lt;&lt; <span class="stringliteral">&quot;overdefined&quot;</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (Val.isNotConstant())</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> OS &lt;&lt; <span class="stringliteral">&quot;notconstant&lt;&quot;</span> &lt;&lt; *Val.getNotConstant() &lt;&lt; <span class="charliteral">&#39;&gt;&#39;</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Val.isConstantRange())</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> OS &lt;&lt; <span class="stringliteral">&quot;constantrange&lt;&quot;</span> &lt;&lt; Val.getConstantRange().getLower() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;              &lt;&lt; Val.getConstantRange().getUpper() &lt;&lt; <span class="charliteral">&#39;&gt;&#39;</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">return</span> OS &lt;&lt; <span class="stringliteral">&quot;constant&lt;&quot;</span> &lt;&lt; *Val.getConstant() &lt;&lt; <span class="charliteral">&#39;&gt;&#39;</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">//                          LazyValueInfoCache Decl</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">  /// LVIValueHandle - A callback value handle updates the cache when</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">  /// values are erased.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>LazyValueInfoCache;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">struct </span>LVIValueHandle : <span class="keyword">public</span> <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a> {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    LazyValueInfoCache *Parent;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      </div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    LVIValueHandle(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, LazyValueInfoCache *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      : <a class="code" href="classllvm_1_1CallbackVH.html">CallbackVH</a>(V), Parent(P) { }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      </div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">void</span> deleted();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">void</span> allUsesReplacedWith(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      deleted();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  };</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keyword">namespace </span>{ <span class="comment"></span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">  /// LazyValueInfoCache - This is the cache kept by LazyValueInfo which</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  /// maintains information about queries across the clients&#39; queries.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>LazyValueInfoCache {<span class="comment"></span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">    /// ValueCacheEntryTy - This is all of the cached block information for</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    /// exactly one Value*.  The entries are sorted by the BasicBlock* of the</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">    /// entries, allowing us to do a lookup with a binary search.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> std::map&lt;AssertingVH&lt;BasicBlock&gt;, LVILatticeVal&gt; ValueCacheEntryTy;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">    /// ValueCache - This is all of the cached information for all values,</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">    /// mapped from Value* to key information.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"></span>    std::map&lt;LVIValueHandle, ValueCacheEntryTy&gt; ValueCache;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">    /// OverDefinedCache - This tracks, on a per-block basis, the set of </span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    /// values that are over-defined at the end of that block.  This is required</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    /// for cache updating.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span>    <span class="keyword">typedef</span> std::pair&lt;AssertingVH&lt;BasicBlock&gt;, <a class="code" href="classllvm_1_1Value.html">Value</a>*&gt; OverDefinedPairTy;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;OverDefinedPairTy&gt;</a> OverDefinedCache;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">    /// SeenBlocks - Keep track of all blocks that we have ever seen, so we</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">    /// don&#39;t spend time removing unused blocks from our caches.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;AssertingVH&lt;BasicBlock&gt;</a> &gt; SeenBlocks;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">    /// BlockValueStack - This stack holds the state of the value solver</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">    /// during a query.  It basically emulates the callstack of the naive</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">    /// recursive value lookup process.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span>    std::stack&lt;std::pair&lt;BasicBlock*, Value*&gt; &gt; BlockValueStack;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">friend</span> <span class="keyword">struct </span>LVIValueHandle;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    /// OverDefinedCacheUpdater - A helper object that ensures that the</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">    /// OverDefinedCache is updated whenever solveBlockValue returns.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span>    <span class="keyword">struct </span>OverDefinedCacheUpdater {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      LazyValueInfoCache *Parent;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Val;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      LVILatticeVal &amp;BBLV;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      </div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      OverDefinedCacheUpdater(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, LVILatticeVal &amp;LV,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                       LazyValueInfoCache *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        : Parent(P), Val(V), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>(B), BBLV(LV) { }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      </div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordtype">bool</span> markResult(<span class="keywordtype">bool</span> changed) { </div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span> (changed &amp;&amp; BBLV.isOverdefined())</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;          Parent-&gt;OverDefinedCache.insert(std::make_pair(BB, Val));</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">return</span> changed;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    };</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    </div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    LVILatticeVal getBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordtype">bool</span> getEdgeValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="classT.html">T</a>,</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                      LVILatticeVal &amp;Result);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">bool</span> hasBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// These methods process one work item and may add more. A false value</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// returned means that the work item was not completely processed and must</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// be revisited after going through the new items.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">bool</span> solveBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">bool</span> solveBlockValueNonLocal(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">bool</span> solveBlockValuePHINode(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">bool</span> solveBlockValueConstantRange(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *BBI, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">void</span> solve();</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    </div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    ValueCacheEntryTy &amp;<a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">return</span> ValueCache[LVIValueHandle(V, <span class="keyword">this</span>)];</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    /// getValueInBlock - This is the query interface to determine the lattice</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    /// value for the specified Value* at the end of the specified block.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span>    LVILatticeVal getValueInBlock(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">    /// getValueOnEdge - This is the query interface to determine the lattice</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">    /// value for the specified Value* that is true on the specified edge.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span>    LVILatticeVal getValueOnEdge(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB,<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ToBB);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">    /// threadEdge - This is the update interface to inform the cache that an</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">    /// edge from PredBB to OldSucc has been threaded to be from PredBB to</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">    /// NewSucc.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> threadEdge(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB,<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OldSucc,<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewSucc);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">    /// eraseBlock - This is part of the update interface to inform the cache</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">    /// that a block has been deleted.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> eraseBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">    /// clear - Empty the cache.</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> clear() {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      SeenBlocks.<a class="code" href="classllvm_1_1DenseSet.html#a7322098c8038d765afb7a5bb167c2815">clear</a>();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      ValueCache.clear();</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      OverDefinedCache.<a class="code" href="classllvm_1_1DenseSet.html#a7322098c8038d765afb7a5bb167c2815">clear</a>();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  };</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;} <span class="comment">// end anonymous namespace</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="keywordtype">void</span> LVIValueHandle::deleted() {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keyword">typedef</span> std::pair&lt;AssertingVH&lt;BasicBlock&gt;, <a class="code" href="classllvm_1_1Value.html">Value</a>*&gt; OverDefinedPairTy;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  </div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OverDefinedPairTy, 4&gt;</a> ToErase;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseSet_1_1Iterator.html">DenseSet&lt;OverDefinedPairTy&gt;::iterator</a> </div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Parent-&gt;OverDefinedCache.begin(),</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;       E = Parent-&gt;OverDefinedCache.end();</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second == getValPtr())</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;OverDefinedPairTy&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;       E = ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    Parent-&gt;OverDefinedCache.erase(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  </div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// This erasure deallocates *this, so it MUST happen after we&#39;re done</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// using any and all members of *this.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  Parent-&gt;ValueCache.erase(*<span class="keyword">this</span>);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="keywordtype">void</span> LazyValueInfoCache::eraseBlock(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// Shortcut if we have never seen this block.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;AssertingVH&lt;BasicBlock&gt;</a> &gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = SeenBlocks.find(BB);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (I == SeenBlocks.<a class="code" href="classllvm_1_1DenseSet.html#a33bf9e8d62adbf5e2d52c5d7c1c1094b">end</a>())</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  SeenBlocks.erase(I);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;OverDefinedPairTy, 4&gt;</a> ToErase;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseSet_1_1Iterator.html">DenseSet&lt;OverDefinedPairTy&gt;::iterator</a>  I = OverDefinedCache.<a class="code" href="classllvm_1_1DenseSet.html#aee8f4c3fefab2a8e9c62622527c8b60c">begin</a>(),</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;       E = OverDefinedCache.end(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (I-&gt;first == BB)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(*I);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classT.html">SmallVectorImpl&lt;OverDefinedPairTy&gt;::iterator</a> I = ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;       E = ToErase.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    OverDefinedCache.erase(*I);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">for</span> (std::map&lt;LVIValueHandle, ValueCacheEntryTy&gt;::iterator</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;       I = ValueCache.<a class="code" href="classllvm_1_1DenseSet.html#aee8f4c3fefab2a8e9c62622527c8b60c">begin</a>(), E = ValueCache.end(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    I-&gt;second.<a class="code" href="classllvm_1_1DenseSet.html#a72c5c6170a25fd911db5f4461221befd">erase</a>(BB);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keywordtype">void</span> LazyValueInfoCache::solve() {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">while</span> (!BlockValueStack.empty()) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    std::pair&lt;BasicBlock*, Value*&gt; &amp;e = BlockValueStack.top();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (solveBlockValue(e.second, e.first)) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      assert(BlockValueStack.top() == e);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      BlockValueStack.pop();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keywordtype">bool</span> LazyValueInfoCache::hasBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// If already a constant, there is nothing to compute.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Val))</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  LVIValueHandle ValHandle(Val, <span class="keyword">this</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  std::map&lt;LVIValueHandle, ValueCacheEntryTy&gt;::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    ValueCache.find(ValHandle);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (I == ValueCache.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">return</span> I-&gt;second.count(BB);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;LVILatticeVal LazyValueInfoCache::getBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// If already a constant, there is nothing to compute.</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a> = dyn_cast&lt;Constant&gt;(Val))</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">LVILatticeVal::get</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  SeenBlocks.insert(BB);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(Val)[<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keywordtype">bool</span> LazyValueInfoCache::solveBlockValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (isa&lt;Constant&gt;(Val))</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  ValueCacheEntryTy &amp;Cache = <a class="code" href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a>(Val);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  SeenBlocks.insert(BB);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  LVILatticeVal &amp;BBLV = Cache[<a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>];</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// OverDefinedCacheUpdater is a helper object that will update</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// the OverDefinedCache for us when this method exits.  Make sure to</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// call markResult on it as we exist, passing a bool to indicate if the</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// cache needs updating, i.e. if we have solve a new value or not.</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  OverDefinedCacheUpdater ODCacheUpdater(Val, BB, BBLV, <span class="keyword">this</span>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// If we&#39;ve already computed this block&#39;s value, return it.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">if</span> (!BBLV.isUndefined()) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  reuse BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() &lt;&lt; <span class="stringliteral">&quot;&#39; val=&quot;</span> &lt;&lt; BBLV &lt;&lt;<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    </div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// Since we&#39;re reusing a cached value here, we don&#39;t need to update the </span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// OverDefinedCahce.  The cache will have been properly updated </span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// whenever the cached value was inserted.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    ODCacheUpdater.markResult(<span class="keyword">false</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// Otherwise, this is the first time we&#39;re seeing this block.  Reset the</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// lattice value to overdefined, so that cycles will terminate and be</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// conservatively correct.</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  BBLV.markOverdefined();</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  </div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *BBI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(Val);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (BBI == 0 || BBI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() != <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> ODCacheUpdater.markResult(solveBlockValueNonLocal(BBLV, Val, BB));</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = dyn_cast&lt;PHINode&gt;(BBI)) {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> ODCacheUpdater.markResult(solveBlockValuePHINode(BBLV, PN, BB));</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AllocaInst.html">AllocaInst</a> *AI = dyn_cast&lt;AllocaInst&gt;(BBI)) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    BBLV = LVILatticeVal::getNot(<a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(AI-&gt;getType()));</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> ODCacheUpdater.markResult(<span class="keyword">true</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// We can only analyze the definitions of certain classes of instructions</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// (integral binops and casts at the moment), so bail if this isn&#39;t one.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  LVILatticeVal Result;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> ((!isa&lt;BinaryOperator&gt;(BBI) &amp;&amp; !isa&lt;CastInst&gt;(BBI)) ||</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;     !BBI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>()) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; compute BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;&#39; - overdefined because inst def found.\n&quot;</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    BBLV.markOverdefined();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> ODCacheUpdater.markResult(<span class="keyword">true</span>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// FIXME: We&#39;re currently limited to binops with a constant RHS.  This should</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// be improved.</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(BBI);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (BO &amp;&amp; !isa&lt;ConstantInt&gt;(BO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) { </div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; compute BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;&#39; - overdefined because inst def found.\n&quot;</span>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    BBLV.markOverdefined();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> ODCacheUpdater.markResult(<span class="keyword">true</span>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">return</span> ODCacheUpdater.markResult(solveBlockValueConstantRange(BBLV, BBI, BB));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="LazyValueInfo_8cpp.html#a60af32d86930119903085db5cd189d5f">  557</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LazyValueInfo_8cpp.html#a60af32d86930119903085db5cd189d5f">InstructionDereferencesPointer</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *L = dyn_cast&lt;LoadInst&gt;(I)) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> L-&gt;getPointerAddressSpace() == 0 &amp;&amp;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(L-&gt;getPointerOperand()) == Ptr;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = dyn_cast&lt;StoreInst&gt;(I)) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getPointerAddressSpace() == 0 &amp;&amp;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>-&gt;getPointerOperand()) == Ptr;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = dyn_cast&lt;MemIntrinsic&gt;(I)) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>-&gt;isVolatile()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">// FIXME: check whether it has a valuerange that excludes zero?</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *Len = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>-&gt;getLength());</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span> (!Len || Len-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>-&gt;getDestAddressSpace() == 0)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>-&gt;getRawDest()) == Ptr)</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MemTransferInst.html">MemTransferInst</a> *MTI = dyn_cast&lt;MemTransferInst&gt;(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>))</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">if</span> (MTI-&gt;getSourceAddressSpace() == 0)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(MTI-&gt;getRawSource()) == Ptr)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="keywordtype">bool</span> LazyValueInfoCache::solveBlockValueNonLocal(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  LVILatticeVal Result;  <span class="comment">// Start Undefined.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// If this is a pointer, and there&#39;s a load from that pointer in this BB,</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// then we know that the pointer can&#39;t be NULL.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordtype">bool</span> NotNull = <span class="keyword">false</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (Val-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">isKnownNonNull</a>(Val)) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      NotNull = <span class="keyword">true</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnderlyingVal = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(Val);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="comment">// If &#39;GetUnderlyingObject&#39; didn&#39;t converge, skip it. It won&#39;t converge</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="comment">// inside InstructionDereferencesPointer either.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">if</span> (UnderlyingVal == <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(UnderlyingVal, NULL, 1)) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">BasicBlock::iterator</a> BI = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">begin</a>(), BE = BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">end</a>();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;             BI != BE; ++BI) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="LazyValueInfo_8cpp.html#a60af32d86930119903085db5cd189d5f">InstructionDereferencesPointer</a>(BI, UnderlyingVal)) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            NotNull = <span class="keyword">true</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;          }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// If this is the entry block, we must be asking about an argument.  The</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// value is overdefined.</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> (BB == &amp;BB-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>()) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    assert(isa&lt;Argument&gt;(Val) &amp;&amp; <span class="stringliteral">&quot;Unknown live-in to the entry block&quot;</span>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (NotNull) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = cast&lt;PointerType&gt;(Val-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      Result = LVILatticeVal::getNot(<a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(PTy));</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      Result.markOverdefined();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    BBLV = Result;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// Loop over all of our predecessors, merging what we know from them into</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// result.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordtype">bool</span> EdgesMissing = <span class="keyword">false</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1PredIterator.html">pred_iterator</a> PI = <a class="code" href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">pred_begin</a>(BB), E = <a class="code" href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">pred_end</a>(BB); PI != E; ++PI) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    LVILatticeVal EdgeResult;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    EdgesMissing |= !getEdgeValue(Val, *PI, BB, EdgeResult);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (EdgesMissing)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    Result.mergeIn(EdgeResult);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// If we hit overdefined, exit early.  The BlockVals entry is already set</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">// to overdefined.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (Result.isOverdefined()) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; compute BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;&#39; - overdefined because of pred.\n&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="comment">// If we previously determined that this is a pointer that can&#39;t be null</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="comment">// then return that rather than giving up entirely.</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">if</span> (NotNull) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = cast&lt;PointerType&gt;(Val-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        Result = LVILatticeVal::getNot(<a class="code" href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">ConstantPointerNull::get</a>(PTy));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      </div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      BBLV = Result;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (EdgesMissing)</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// Return the merged value, which is more precise than &#39;overdefined&#39;.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  assert(!Result.isOverdefined());</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  BBLV = Result;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  </div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="keywordtype">bool</span> LazyValueInfoCache::solveBlockValuePHINode(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                                <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  LVILatticeVal Result;  <span class="comment">// Start Undefined.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">// Loop over all of our predecessors, merging what we know from them into</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="comment">// result.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordtype">bool</span> EdgesMissing = <span class="keyword">false</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PhiBB = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">getIncomingBlock</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *PhiVal = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    LVILatticeVal EdgeResult;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    EdgesMissing |= !getEdgeValue(PhiVal, PhiBB, BB, EdgeResult);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (EdgesMissing)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    Result.mergeIn(EdgeResult);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// If we hit overdefined, exit early.  The BlockVals entry is already set</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// to overdefined.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (Result.isOverdefined()) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; compute BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;&#39; - overdefined because of pred.\n&quot;</span>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      </div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      BBLV = Result;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">if</span> (EdgesMissing)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// Return the merged value, which is more precise than &#39;overdefined&#39;.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  assert(!Result.isOverdefined() &amp;&amp; <span class="stringliteral">&quot;Possible PHI in entry block?&quot;</span>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  BBLV = Result;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="keywordtype">bool</span> LazyValueInfoCache::solveBlockValueConstantRange(LVILatticeVal &amp;BBLV,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                                      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *BBI,</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                                      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// Figure out the range of the LHS.  If that fails, bail.</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">if</span> (!hasBlockValue(BBI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>)) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    BlockValueStack.push(std::make_pair(BB, BBI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0)));</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  LVILatticeVal LHSVal = getBlockValue(BBI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), <a class="code" href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (!LHSVal.isConstantRange()) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    BBLV.markOverdefined();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  </div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHSRange = LHSVal.getConstantRange();</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHSRange(1);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *ResultTy = cast&lt;IntegerType&gt;(BBI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (isa&lt;BinaryOperator&gt;(BBI)) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *RHS = dyn_cast&lt;ConstantInt&gt;(BBI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      RHSRange = <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(RHS-&gt;getValue());</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      BBLV.markOverdefined();</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// NOTE: We&#39;re currently limited by the set of operations that ConstantRange</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// can evaluate symbolically.  Enhancing that set will allows us to analyze</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// more definitions.</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  LVILatticeVal Result;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">switch</span> (BBI-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">case</span> Instruction::Add:</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">add</a>(RHSRange));</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a01ce1521a447c4ba16f34f7a98118b67">sub</a>(RHSRange));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul:</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">multiply</a>(RHSRange));</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a433e889f2a65d5979f109e2d01e946c1">udiv</a>(RHSRange));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a256240dcf6bb0e19af3d5cf452372cfb">shl</a>(RHSRange));</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#ae137c3605771212550c5e80ff0d2e942">lshr</a>(RHSRange));</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">truncate</a>(ResultTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">getBitWidth</a>()));</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">case</span> Instruction::SExt:</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">signExtend</a>(ResultTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">getBitWidth</a>()));</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">case</span> Instruction::ZExt:</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">zeroExtend</a>(ResultTy-&gt;<a class="code" href="classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">getBitWidth</a>()));</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">case</span> Instruction::BitCast:</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    Result.markConstantRange(LHSRange);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>:</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#a86e20ed4fbcbede69e52b825d09f444e">binaryAnd</a>(RHSRange));</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    Result.markConstantRange(LHSRange.<a class="code" href="classllvm_1_1ConstantRange.html#acef23d72e7a91d7ceb6cd432b43c2b47">binaryOr</a>(RHSRange));</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  </div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// Unhandled instructions are overdefined.</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; compute BB &#39;&quot;</span> &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>()</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;&#39; - overdefined because inst def found.\n&quot;</span>);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    Result.markOverdefined();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  </div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  BBLV = Result;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">/// \brief Compute the value of Val on the edge BBFrom -&gt; BBTo. Returns false if</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">/// Val is not constrained on the edge.</span></div><div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="LazyValueInfo_8cpp.html#a34f6a932c1583a5f355e696225904bdb">  779</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LazyValueInfo_8cpp.html#a34f6a932c1583a5f355e696225904bdb">getEdgeValueLocal</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBFrom,</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                              <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBTo, LVILatticeVal &amp;Result) {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// TODO: Handle more complex conditionals.  If (v == 0 || v2 &lt; 1) is false, we</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// know that v != 0.</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BranchInst.html">BranchInst</a> *BI = dyn_cast&lt;BranchInst&gt;(BBFrom-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>())) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// If this is a conditional branch and only one successor goes to BBTo, then</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// we maybe able to infer something from the condition. </span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span> (BI-&gt;isConditional() &amp;&amp;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        BI-&gt;getSuccessor(0) != BI-&gt;getSuccessor(1)) {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordtype">bool</span> isTrueDest = BI-&gt;getSuccessor(0) == BBTo;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      assert(BI-&gt;getSuccessor(!isTrueDest) == BBTo &amp;&amp;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;             <span class="stringliteral">&quot;BBTo isn&#39;t a successor of BBFrom&quot;</span>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      </div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="comment">// If V is the condition of the branch itself, then we know exactly what</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="comment">// it is.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span> (BI-&gt;getCondition() == Val) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        Result = <a class="code" href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">LVILatticeVal::get</a>(<a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                              <a class="code" href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">Type::getInt1Ty</a>(Val-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>()), isTrueDest));</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      </div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="comment">// If the condition of the branch is an equality comparison, we may be</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="comment">// able to infer the value.</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ICI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a>&gt;(BI-&gt;getCondition());</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span> (ICI &amp;&amp; isa&lt;Constant&gt;(ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1))) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">if</span> (ICI-&gt;<a class="code" href="classllvm_1_1ICmpInst.html#abe8988eef2e6fc2baba032cb22afedd7">isEquality</a>() &amp;&amp; ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == Val) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          <span class="comment">// We know that V has the RHS constant if this is a true SETEQ or</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          <span class="comment">// false SETNE. </span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;          <span class="keywordflow">if</span> (isTrueDest == (ICI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>() == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            Result = <a class="code" href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">LVILatticeVal::get</a>(cast&lt;Constant&gt;(ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            Result = LVILatticeVal::getNot(cast&lt;Constant&gt;(ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1)));</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">// Recognize the range checking idiom that InstCombine produces.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment">// (X-C1) u&lt; C2 --&gt; [C1, C1+C2)</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *NegOffset = 0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> (ICI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>() == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;          <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Val),</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                          <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(NegOffset)));</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1));</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">if</span> (CI &amp;&amp; (ICI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == Val || NegOffset)) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          <span class="comment">// Calculate the range of values that would satisfy the comparison.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CmpRange(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> TrueValues =</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="classllvm_1_1ConstantRange.html#a1e2111f6405de8f2b3bd8fff249e2bb1">ConstantRange::makeICmpRegion</a>(ICI-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>(), CmpRange);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          <span class="keywordflow">if</span> (NegOffset) <span class="comment">// Apply the offset from above.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            TrueValues = TrueValues.<a class="code" href="classllvm_1_1ConstantRange.html#acb48ab169ff254ba03e74f72f6f8e678">subtract</a>(NegOffset-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;          <span class="comment">// If we&#39;re interested in the false dest, invert the condition.</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          <span class="keywordflow">if</span> (!isTrueDest) TrueValues = TrueValues.<a class="code" href="classllvm_1_1ConstantRange.html#a3b6b85760d6f19980ca3f98b7dc6fad4">inverse</a>();</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;          Result = LVILatticeVal::getRange(TrueValues);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">// If the edge was formed by a switch on the value, then we may know exactly</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// what it is.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SwitchInst.html">SwitchInst</a> *SI = dyn_cast&lt;SwitchInst&gt;(BBFrom-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">getTerminator</a>())) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (SI-&gt;getCondition() != Val)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">bool</span> DefaultCase = SI-&gt;getDefaultDest() == BBTo;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">unsigned</span> BitWidth = Val-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">getIntegerBitWidth</a>();</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> EdgesVals(BitWidth, DefaultCase<span class="comment">/*isFullSet*/</span>);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SwitchInst_1_1CaseIt.html">SwitchInst::CaseIt</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = SI-&gt;case_begin(), e = SI-&gt;case_end();</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;         <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> EdgeVal(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>.getCaseValue()-&gt;getValue());</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">if</span> (DefaultCase) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="comment">// It is possible that the default destination is the destination of</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="comment">// some cases. There is no need to perform difference for those cases.</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>.getCaseSuccessor() != BBTo)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;          EdgesVals = EdgesVals.<a class="code" href="classllvm_1_1ConstantRange.html#a80815170ea69bdbb48036841f3dde438">difference</a>(EdgeVal);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>.getCaseSuccessor() == BBTo)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        EdgesVals = EdgesVals.<a class="code" href="classllvm_1_1ConstantRange.html#ab353ab87642fc752aae14de85a860e5c">unionWith</a>(EdgeVal);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    Result = LVILatticeVal::getRange(EdgesVals);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">/// \brief Compute the value of Val on the edge BBFrom -&gt; BBTo, or the value at</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">/// the basic block if the edge does not constraint Val.</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> LazyValueInfoCache::getEdgeValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *Val, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBFrom,</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                      <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BBTo, LVILatticeVal &amp;Result) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// If already a constant, there is nothing to compute.</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a> = dyn_cast&lt;Constant&gt;(Val)) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    Result = <a class="code" href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">LVILatticeVal::get</a>(<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">VC</a>);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LazyValueInfo_8cpp.html#a34f6a932c1583a5f355e696225904bdb">getEdgeValueLocal</a>(Val, BBFrom, BBTo, Result)) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span> (!Result.isConstantRange() ||</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      Result.getConstantRange().getSingleElement())</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">// FIXME: this check should be moved to the beginning of the function when</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// LVI better supports recursive values. Even for the single value case, we</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// can intersect to detect dead code (an empty range).</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (!hasBlockValue(Val, BBFrom)) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      BlockValueStack.push(std::make_pair(BBFrom, Val));</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// Try to intersect ranges of the BB and the constraint on the edge.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    LVILatticeVal <a class="code" href="SelectionDAGBuilder_8cpp.html#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a> = getBlockValue(Val, BBFrom);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (!InBlock.isConstantRange())</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> Range =</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      Result.getConstantRange().intersectWith(InBlock.getConstantRange());</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    Result = LVILatticeVal::getRange(Range);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordflow">if</span> (!hasBlockValue(Val, BBFrom)) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    BlockValueStack.push(std::make_pair(BBFrom, Val));</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">// if we couldn&#39;t compute the value on the edge, use the value from the BB</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  Result = getBlockValue(Val, BBFrom);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;LVILatticeVal LazyValueInfoCache::getValueInBlock(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LVI Getting block end value &quot;</span> &lt;&lt; *V &lt;&lt; <span class="stringliteral">&quot; at &#39;&quot;</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        &lt;&lt; BB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  </div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  BlockValueStack.push(std::make_pair(BB, V));</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  solve();</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  LVILatticeVal Result = getBlockValue(V, BB);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Result = &quot;</span> &lt;&lt; Result &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;LVILatticeVal LazyValueInfoCache::</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;getValueOnEdge(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ToBB) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;LVI Getting edge value &quot;</span> &lt;&lt; *V &lt;&lt; <span class="stringliteral">&quot; from &#39;&quot;</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        &lt;&lt; FromBB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() &lt;&lt; <span class="stringliteral">&quot;&#39; to &#39;&quot;</span> &lt;&lt; ToBB-&gt;<a class="code" href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">getName</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  </div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  LVILatticeVal Result;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">if</span> (!getEdgeValue(V, FromBB, ToBB, Result)) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    solve();</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordtype">bool</span> WasFastQuery = getEdgeValue(V, FromBB, ToBB, Result);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    (void)WasFastQuery;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    assert(WasFastQuery &amp;&amp; <span class="stringliteral">&quot;More work to do after problem solved?&quot;</span>);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Result = &quot;</span> &lt;&lt; Result &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;}</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="keywordtype">void</span> LazyValueInfoCache::threadEdge(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OldSucc,</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                                    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewSucc) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// When an edge in the graph has been threaded, values that we could not </span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// determine a value for before (i.e. were marked overdefined) may be possible</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// to solve now.  We do NOT try to proactively update these values.  Instead,</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// we clear their entries from the cache, and allow lazy updating to recompute</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// them when needed.</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  </div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// The updating process is fairly simple: we need to dropped cached info</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// for all values that were marked overdefined in OldSucc, and for those same</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="comment">// values in any successor of OldSucc (except NewSucc) in which they were</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">// also marked overdefined.</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  std::vector&lt;BasicBlock*&gt; worklist;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  worklist.push_back(OldSucc);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  </div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value*&gt;</a> ClearSet;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseSet_1_1Iterator.html">DenseSet&lt;OverDefinedPairTy&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = OverDefinedCache.begin(),</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;       E = OverDefinedCache.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first == OldSucc)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      ClearSet.<a class="code" href="classllvm_1_1DenseSet.html#ab658e5485796a5ff90bd2dc3fca7d6d2">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  </div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// Use a worklist to perform a depth-first search of OldSucc&#39;s successors.</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// NOTE: We do not need a visited list since any blocks we have already</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="comment">// visited will have had their overdefined markers cleared already, and we</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// thus won&#39;t loop to their successors.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="keywordflow">while</span> (!worklist.empty()) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ToUpdate = worklist.<a class="code" href="classllvm_1_1BasicBlock.html#a6bce6440331683570a283df762902a09">back</a>();</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    worklist.pop_back();</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    </div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// Skip blocks only accessible through NewSucc.</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (ToUpdate == NewSucc) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    </div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DenseSet.html">DenseSet&lt;Value*&gt;::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ClearSet.<a class="code" href="classllvm_1_1DenseSet.html#aee8f4c3fefab2a8e9c62622527c8b60c">begin</a>(), E = ClearSet.<a class="code" href="classllvm_1_1DenseSet.html#a33bf9e8d62adbf5e2d52c5d7c1c1094b">end</a>();</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">// If a value was marked overdefined in OldSucc, and is here too...</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="classllvm_1_1DenseSet_1_1Iterator.html">DenseSet&lt;OverDefinedPairTy&gt;::iterator</a> OI =</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        OverDefinedCache.find(std::make_pair(ToUpdate, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>));</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">if</span> (OI == OverDefinedCache.end()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="comment">// Remove it from the caches.</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      ValueCacheEntryTy &amp;Entry = ValueCache[LVIValueHandle(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">this</span>)];</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      ValueCacheEntryTy::iterator CI = Entry.find(ToUpdate);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      assert(CI != Entry.end() &amp;&amp; <span class="stringliteral">&quot;Couldn&#39;t find entry to update?&quot;</span>);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      Entry.erase(CI);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      OverDefinedCache.erase(OI);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <span class="comment">// If we removed anything, then we potentially need to update </span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="comment">// blocks successors too.</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (!changed) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    </div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    worklist.insert(worklist.end(), <a class="code" href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">succ_begin</a>(ToUpdate), <a class="code" href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">succ_end</a>(ToUpdate));</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">//                            LazyValueInfo Impl</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">/// getCache - This lazily constructs the LazyValueInfoCache.</span></div><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8"> 1006</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> LazyValueInfoCache &amp;<a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(<span class="keywordtype">void</span> *&amp;PImpl) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">if</span> (!PImpl)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    PImpl = <span class="keyword">new</span> LazyValueInfoCache();</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span>LazyValueInfoCache*<span class="keyword">&gt;</span>(PImpl);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a9b20c00b53ee3bbe545cce5aff911b6b"> 1012</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#a9b20c00b53ee3bbe545cce5aff911b6b">LazyValueInfo::runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (PImpl)</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).clear();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  TD = getAnalysisIfAvailable&lt;DataLayout&gt;();</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  TLI = &amp;getAnalysis&lt;TargetLibraryInfo&gt;();</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// Fully lazy.</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#aa3da80c08ca09e6a98a200a2e40c32e9"> 1023</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#aa3da80c08ca09e6a98a200a2e40c32e9">LazyValueInfo::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a>&gt;();</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a308f229a14ee4bee15e17765ff4305d4"> 1028</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#a308f229a14ee4bee15e17765ff4305d4">LazyValueInfo::releaseMemory</a>() {</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="comment">// If the cache was allocated, free it.</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">if</span> (PImpl) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keyword">delete</span> &amp;<a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    PImpl = 0;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a62a3fa99aa6087232ffa579fb71d0b58"> 1036</a></span>&#160;<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="classllvm_1_1LazyValueInfo.html#a62a3fa99aa6087232ffa579fb71d0b58">LazyValueInfo::getConstant</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  LVILatticeVal Result = <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).getValueInBlock(V, BB);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  </div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (Result.isConstant())</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">return</span> Result.getConstant();</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (Result.isConstantRange()) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = Result.getConstantRange();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SingleVal = CR.<a class="code" href="classllvm_1_1ConstantRange.html#a30bd2b99971f13aac5d91b08daaf5987">getSingleElement</a>())</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), *SingleVal);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">/// getConstantOnEdge - Determine whether the specified value is known to be a</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">/// constant on the specified edge.  Return null if not.</span></div><div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#ab8dccf352a70e1a43f40a0b6efd1883a"> 1051</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="classllvm_1_1LazyValueInfo.html#ab8dccf352a70e1a43f40a0b6efd1883a">LazyValueInfo::getConstantOnEdge</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                           <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ToBB) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  LVILatticeVal Result = <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).getValueOnEdge(V, FromBB, ToBB);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  </div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="keywordflow">if</span> (Result.isConstant())</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">return</span> Result.getConstant();</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (Result.isConstantRange()) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = Result.getConstantRange();</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> *SingleVal = CR.<a class="code" href="classllvm_1_1ConstantRange.html#a30bd2b99971f13aac5d91b08daaf5987">getSingleElement</a>())</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), *SingleVal);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">/// getPredicateOnEdge - Determine whether the specified value comparison</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">/// with a constant is known to be true or false on the specified CFG edge.</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">/// Pred is a CmpInst predicate.</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1LazyValueInfo.html#a381305cf61c847551a489431c43cec47">LazyValueInfo::Tristate</a></div><div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a834d477925deb14fb669422a6b9b9a55"> 1069</a></span>&#160;<a class="code" href="classllvm_1_1LazyValueInfo.html#a834d477925deb14fb669422a6b9b9a55">LazyValueInfo::getPredicateOnEdge</a>(<span class="keywordtype">unsigned</span> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                                  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *FromBB, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *ToBB) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  LVILatticeVal Result = <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).getValueOnEdge(V, FromBB, ToBB);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  </div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// If we know the value is a constant, evaluate the conditional.</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Res = 0;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">if</span> (Result.isConstant()) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    Res = <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(Pred, Result.getConstant(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, TD,</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                          TLI);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *ResCI = dyn_cast&lt;ConstantInt&gt;(Res))</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">return</span> ResCI-&gt;isZero() ? False : True;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  </div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keywordflow">if</span> (Result.isConstantRange()) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!CI) <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    </div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> CR = Result.getConstantRange();</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">if</span> (!CR.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">return</span> False;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      </div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#ad176e8ea4bab83eff310eca866fbfee6">isSingleElement</a>() &amp;&amp; CR.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> True;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">if</span> (!CR.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">return</span> True;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      </div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span> (CR.<a class="code" href="classllvm_1_1ConstantRange.html#ad176e8ea4bab83eff310eca866fbfee6">isSingleElement</a>() &amp;&amp; CR.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()))</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">return</span> False;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    </div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// Handle more complex predicates.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> TrueValues =</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">ICmpInst::makeConstantRange</a>((<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">ICmpInst::Predicate</a>)Pred, CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (TrueValues.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CR))</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordflow">return</span> True;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> (TrueValues.<a class="code" href="classllvm_1_1ConstantRange.html#a3b6b85760d6f19980ca3f98b7dc6fad4">inverse</a>().<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(CR))</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">return</span> False;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  </div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (Result.isNotConstant()) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// If this is an equality comparison, we can try to fold it knowing that</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// &quot;V != C1&quot;.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="comment">// !C1 == C -&gt; false iff C1 == C.</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      Res = <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>,</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                            Result.getNotConstant(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, TD,</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                            TLI);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">if</span> (Res-&gt;<a class="code" href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">isNullValue</a>())</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">return</span> False;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>) {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="comment">// !C1 != C -&gt; true iff C1 == C.</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      Res = <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>,</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                            Result.getNotConstant(), <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, TD,</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                            TLI);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">if</span> (Res-&gt;<a class="code" href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">isNullValue</a>())</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">return</span> True;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  </div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">Unknown</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a2d8882611ee8586792f878c7e5d887d7"> 1136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#a2d8882611ee8586792f878c7e5d887d7">LazyValueInfo::threadEdge</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *PredBB, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *OldSucc,</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                               <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *NewSucc) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">if</span> (PImpl) <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).threadEdge(PredBB, OldSucc, NewSucc);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classllvm_1_1LazyValueInfo.html#a18a487981cb352f48a5328f9dfa39390"> 1141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LazyValueInfo.html#a18a487981cb352f48a5328f9dfa39390">LazyValueInfo::eraseBlock</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *BB) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span> (PImpl) <a class="code" href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a>(PImpl).eraseBlock(BB);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon&lt; T &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_a60af32d86930119903085db5cd189d5f"><div class="ttname"><a href="LazyValueInfo_8cpp.html#a60af32d86930119903085db5cd189d5f">InstructionDereferencesPointer</a></div><div class="ttdeci">static bool InstructionDereferencesPointer(Instruction *I, Value *Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00557">LazyValueInfo.cpp:557</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_aa75984a442f2379de0c66018201fa628"><div class="ttname"><a href="classllvm_1_1Type.html#aa75984a442f2379de0c66018201fa628">llvm::Type::getInt1Ty</a></div><div class="ttdeci">static IntegerType * getInt1Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00238">Type.cpp:238</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a6bce6440331683570a283df762902a09"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a6bce6440331683570a283df762902a09">llvm::BasicBlock::back</a></div><div class="ttdeci">const Instruction &amp; back() const </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00207">BasicBlock.h:207</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a30bd2b99971f13aac5d91b08daaf5987"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a30bd2b99971f13aac5d91b08daaf5987">llvm::ConstantRange::getSingleElement</a></div><div class="ttdeci">const APInt * getSingleElement() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00119">ConstantRange.h:119</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html"><div class="ttname"><a href="classllvm_1_1DenseSet.html">llvm::DenseSet</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00026">DenseSet.h:26</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdoc">unsigned less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00676">InstrTypes.h:676</a></div></div>
<div class="ttc" id="namespacellvm_html_a56d040fb4ab99ba83607e4d63d1f296d"><div class="ttname"><a href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">llvm::isKnownNonNull</a></div><div class="ttdeci">bool isKnownNonNull(const Value *V, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l02067">ValueTracking.cpp:2067</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a62a3fa99aa6087232ffa579fb71d0b58"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a62a3fa99aa6087232ffa579fb71d0b58">llvm::LazyValueInfo::getConstant</a></div><div class="ttdeci">Constant * getConstant(Value *V, BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01036">LazyValueInfo.cpp:1036</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_abe8988eef2e6fc2baba032cb22afedd7"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#abe8988eef2e6fc2baba032cb22afedd7">llvm::ICmpInst::isEquality</a></div><div class="ttdeci">static bool isEquality(Predicate P)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00997">Instructions.h:997</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1PredIterator_html"><div class="ttname"><a href="classllvm_1_1PredIterator.html">llvm::PredIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2CFG_8h_source.html#l00029">Support/CFG.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ad176e8ea4bab83eff310eca866fbfee6"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ad176e8ea4bab83eff310eca866fbfee6">llvm::ConstantRange::isSingleElement</a></div><div class="ttdeci">bool isSingleElement() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00127">ConstantRange.h:127</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_abbb369a53b046b9ae28c71b16adb08d8"><div class="ttname"><a href="LazyValueInfo_8cpp.html#abbb369a53b046b9ae28c71b16adb08d8">getCache</a></div><div class="ttdeci">static LazyValueInfoCache &amp; getCache(void *&amp;PImpl)</div><div class="ttdoc">getCache - This lazily constructs the LazyValueInfoCache. </div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01006">LazyValueInfo.cpp:1006</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html_a6f603ab84f6f7c79985036f58cca9d48"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a6f603ab84f6f7c79985036f58cca9d48">llvm::IntegerType::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">Get the number of bits in this IntegerType. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00061">DerivedTypes.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad452febc1ac0b394876e640ec03ffa38"><div class="ttname"><a href="classllvm_1_1Value.html#ad452febc1ac0b394876e640ec03ffa38">llvm::Value::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00167">Value.cpp:167</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0ed5f3ab3c2e4196ee0cffffa080c062"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0ed5f3ab3c2e4196ee0cffffa080c062">llvm::BasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00193">BasicBlock.h:193</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_ad7f64bcc544dcefb2e068282af1c549d"><div class="ttname"><a href="LazyValueInfo_8cpp.html#ad7f64bcc544dcefb2e068282af1c549d">info</a></div><div class="ttdeci">lazy value info</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00041">LazyValueInfo.cpp:41</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="namespacellvm_html_ace6c957db39858291c6ce01c38e78480"><div class="ttname"><a href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">llvm::GetUnderlyingObject</a></div><div class="ttdeci">Value * GetUnderlyingObject(Value *V, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01899">ValueTracking.cpp:1899</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00167">PassSupport.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_aec87cce4bfdfdc6c346c2a427b5c1c53"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#aec87cce4bfdfdc6c346c2a427b5c1c53">llvm::ConstantRange::truncate</a></div><div class="ttdeci">ConstantRange truncate(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00465">ConstantRange.cpp:465</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_a72c5c6170a25fd911db5f4461221befd"><div class="ttname"><a href="classllvm_1_1DenseSet.html#a72c5c6170a25fd911db5f4461221befd">llvm::DenseSet::erase</a></div><div class="ttdeci">bool erase(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00049">DenseSet.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&amp;#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00172">PassSupport.h:172</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_a665fd813b3d347f59e80e670babf2a57"><div class="ttname"><a href="LazyValueInfo_8cpp.html#a665fd813b3d347f59e80e670babf2a57">Analysis</a></div><div class="ttdeci">lazy value Lazy Value Information Analysis</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00041">LazyValueInfo.cpp:41</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a834d477925deb14fb669422a6b9b9a55"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a834d477925deb14fb669422a6b9b9a55">llvm::LazyValueInfo::getPredicateOnEdge</a></div><div class="ttdeci">Tristate getPredicateOnEdge(unsigned Pred, Value *V, Constant *C, BasicBlock *FromBB, BasicBlock *ToBB)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01069">LazyValueInfo.cpp:1069</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_abd2a83b070794748c9afdcb6049bbdf4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#abd2a83b070794748c9afdcb6049bbdf4">llvm::ConstantRange::signExtend</a></div><div class="ttdeci">ConstantRange signExtend(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00443">ConstantRange.cpp:443</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="TargetLibraryInfo_8h_html"><div class="ttname"><a href="TargetLibraryInfo_8h.html">TargetLibraryInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a305aa2e40f0c834bb9f2eda152699aa6"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a305aa2e40f0c834bb9f2eda152699aa6">llvm::ConstantRange::multiply</a></div><div class="ttdeci">ConstantRange multiply(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00581">ConstantRange.cpp:581</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a944c25ac9b73b02a17a20a08a25b9b21"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">llvm::PatternMatch::m_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add &gt; m_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00395">PatternMatch.h:395</a></div></div>
<div class="ttc" id="namespacellvm_html_a3720211f6e6389ab53734b989bfb6fce"><div class="ttname"><a href="namespacellvm.html#a3720211f6e6389ab53734b989bfb6fce">llvm::succ_begin</a></div><div class="ttdeci">Interval::succ_iterator succ_begin(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00107">Interval.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_aa3da80c08ca09e6a98a200a2e40c32e9"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#aa3da80c08ca09e6a98a200a2e40c32e9">llvm::LazyValueInfo::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01023">LazyValueInfo.cpp:1023</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46ac6213f855d747288b6e0017d9c711687">llvm::A64CC::VC</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00038">AArch64BaseInfo.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_af7e3d70a89d1fe893a6abb3fb28b6294"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00209">ConstantRange.cpp:209</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_a34f6a932c1583a5f355e696225904bdb"><div class="ttname"><a href="LazyValueInfo_8cpp.html#a34f6a932c1583a5f355e696225904bdb">getEdgeValueLocal</a></div><div class="ttdeci">static bool getEdgeValueLocal(Value *Val, BasicBlock *BBFrom, BasicBlock *BBTo, LVILatticeVal &amp;Result)</div><div class="ttdoc">Compute the value of Val on the edge BBFrom -&gt; BBTo. Returns false if Val is not constrained on the e...</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00779">LazyValueInfo.cpp:779</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a308f229a14ee4bee15e17765ff4305d4"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a308f229a14ee4bee15e17765ff4305d4">llvm::LazyValueInfo::releaseMemory</a></div><div class="ttdeci">virtual void releaseMemory()</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01028">LazyValueInfo.cpp:1028</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ab353ab87642fc752aae14de85a860e5c"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ab353ab87642fc752aae14de85a860e5c">llvm::ConstantRange::unionWith</a></div><div class="ttdeci">ConstantRange unionWith(const ConstantRange &amp;CR) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00342">ConstantRange.cpp:342</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a34a92072122412c6020d4afb43725bf4"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">m_ConstantInt() - Match an arbitrary ConstantInt and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00072">PatternMatch.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_acb48ab169ff254ba03e74f72f6f8e678"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#acb48ab169ff254ba03e74f72f6f8e678">llvm::ConstantRange::subtract</a></div><div class="ttdeci">ConstantRange subtract(const APInt &amp;CI) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00242">ConstantRange.cpp:242</a></div></div>
<div class="ttc" id="namespacellvm_html_a58e4f6b6501f820ea77f199db3c4a8f7"><div class="ttname"><a href="namespacellvm.html#a58e4f6b6501f820ea77f199db3c4a8f7">llvm::createLazyValueInfoPass</a></div><div class="ttdeci">FunctionPass * createLazyValueInfoPass()</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l00045">LazyValueInfo.cpp:45</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="namespacellvm_html_a069c4ae2290101bde0f8d6a5074dc72b"><div class="ttname"><a href="namespacellvm.html#a069c4ae2290101bde0f8d6a5074dc72b">llvm::succ_end</a></div><div class="ttdeci">Interval::succ_iterator succ_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00110">Interval.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02055">Instructions.h:2055</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_ab8dccf352a70e1a43f40a0b6efd1883a"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#ab8dccf352a70e1a43f40a0b6efd1883a">llvm::LazyValueInfo::getConstantOnEdge</a></div><div class="ttdeci">Constant * getConstantOnEdge(Value *V, BasicBlock *FromBB, BasicBlock *ToBB)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01051">LazyValueInfo.cpp:1051</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_a1c23e7f459a1051c48b302e7f4ff100e"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#a1c23e7f459a1051c48b302e7f4ff100e">get</a></div><div class="ttdeci">could compile rldicr blr rldicl blr we ori sldi blr sldi oris ori r4 addze r3 instead we get</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00038">Target/PowerPC/README.txt:38</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_1_1Iterator_html"><div class="ttname"><a href="classllvm_1_1DenseSet_1_1Iterator.html">llvm::DenseSet::Iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00064">DenseSet.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantPointerNull_html_a96f5c85e4022e369266541b2db3fda69"><div class="ttname"><a href="classllvm_1_1ConstantPointerNull.html#a96f5c85e4022e369266541b2db3fda69">llvm::ConstantPointerNull::get</a></div><div class="ttdeci">static ConstantPointerNull * get(PointerType *T)</div><div class="ttdoc">get() - Static factory methods - Return objects of the specified value </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01314">Constants.cpp:1314</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a2864c2988fff3cbc8e568ef5a36aef80"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">llvm::ConstantRange::isFullSet</a></div><div class="ttdeci">bool isFullSet() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00119">ConstantRange.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ae137c3605771212550c5e80ff0d2e942"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ae137c3605771212550c5e80ff0d2e942">llvm::ConstantRange::lshr</a></div><div class="ttdeci">ConstantRange lshr(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00699">ConstantRange.cpp:699</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00072">BasicBlock.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1BranchInst_html"><div class="ttname"><a href="classllvm_1_1BranchInst.html">llvm::BranchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02350">Instructions.h:2350</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="Support_2CFG_8h_html"><div class="ttname"><a href="Support_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01845">APInt.h:1845</a></div></div>
<div class="ttc" id="namespacellvm_html_a7e108932dc3da5294aed99a353aac9c4"><div class="ttname"><a href="namespacellvm.html#a7e108932dc3da5294aed99a353aac9c4">llvm::pred_begin</a></div><div class="ttdeci">Interval::pred_iterator pred_begin(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00117">Interval.h:117</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">m_Specific - Match if we have a specific specified value. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00323">PatternMatch.h:323</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a433e889f2a65d5979f109e2d01e946c1"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a433e889f2a65d5979f109e2d01e946c1">llvm::ConstantRange::udiv</a></div><div class="ttdeci">ConstantRange udiv(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00627">ConstantRange.cpp:627</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_a4c25b6c00c4867281779c81ab64d2081"><div class="ttname"><a href="classllvm_1_1PHINode.html#a4c25b6c00c4867281779c81ab64d2081">llvm::PHINode::getIncomingBlock</a></div><div class="ttdeci">BasicBlock * getIncomingBlock(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02074">Instructions.h:2074</a></div></div>
<div class="ttc" id="DenseSet_8h_html"><div class="ttname"><a href="DenseSet_8h.html">DenseSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00911">Instructions.h:911</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00651">InstrTypes.h:651</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00293">Pass.h:293</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="namespacellvm_html_a5eeaf08e96168c2cac8960f87f0ef360"><div class="ttname"><a href="namespacellvm.html#a5eeaf08e96168c2cac8960f87f0ef360">llvm::pred_end</a></div><div class="ttdeci">Interval::pred_iterator pred_end(Interval *I)</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00120">Interval.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a01ce1521a447c4ba16f34f7a98118b67"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a01ce1521a447c4ba16f34f7a98118b67">llvm::ConstantRange::sub</a></div><div class="ttdeci">ConstantRange sub(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00560">ConstantRange.cpp:560</a></div></div>
<div class="ttc" id="namespacellvm_html_aa61b351a455e9229d3dc58e0883b6cef"><div class="ttname"><a href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">llvm::ConstantFoldCompareInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldCompareInstOperands(unsigned Predicate, Constant *LHS, Constant *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01053">ConstantFolding.cpp:1053</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Integer representation type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00037">DerivedTypes.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a72429f61714f5e61f03455d9e6718797"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a72429f61714f5e61f03455d9e6718797">llvm::ConstantRange::zeroExtend</a></div><div class="ttdeci">ConstantRange zeroExtend(uint32_t BitWidth) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00423">ConstantRange.cpp:423</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a05f79f79aad023d9141082450c80b4c7"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a05f79f79aad023d9141082450c80b4c7">llvm::LazyValueInfo::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8h_source.html#l00035">LazyValueInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ae02fb0a19012613dcf2f9f24a1a3cf99"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ae02fb0a19012613dcf2f9f24a1a3cf99">llvm::ConstantRange::isEmptySet</a></div><div class="ttdeci">bool isEmptySet() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00125">ConstantRange.cpp:125</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a80815170ea69bdbb48036841f3dde438"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a80815170ea69bdbb48036841f3dde438">llvm::ConstantRange::difference</a></div><div class="ttdeci">ConstantRange difference(const ConstantRange &amp;CR) const </div><div class="ttdoc">Subtract the specified range from this range (aka relative complement of the sets). </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00252">ConstantRange.cpp:252</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a0dcdf1ad93f0f1defd9c38d661289f2f"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a0dcdf1ad93f0f1defd9c38d661289f2f">llvm::ConstantRange::add</a></div><div class="ttdeci">ConstantRange add(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00539">ConstantRange.cpp:539</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a381305cf61c847551a489431c43cec47"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a381305cf61c847551a489431c43cec47">llvm::LazyValueInfo::Tristate</a></div><div class="ttdeci">Tristate</div><div class="ttdoc">Tristate - This is used to return true/false/dunno results. </div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8h_source.html#l00042">LazyValueInfo.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a9b20c00b53ee3bbe545cce5aff911b6b"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a9b20c00b53ee3bbe545cce5aff911b6b">llvm::LazyValueInfo::runOnFunction</a></div><div class="ttdeci">virtual bool runOnFunction(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01012">LazyValueInfo.cpp:1012</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_aee8f4c3fefab2a8e9c62622527c8b60c"><div class="ttname"><a href="classllvm_1_1DenseSet.html#aee8f4c3fefab2a8e9c62622527c8b60c">llvm::DenseSet::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00107">DenseSet.h:107</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_ab658e5485796a5ff90bd2dc3fca7d6d2"><div class="ttname"><a href="classllvm_1_1DenseSet.html#ab658e5485796a5ff90bd2dc3fca7d6d2">llvm::DenseSet::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const ValueT &amp;V)</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00117">DenseSet.h:117</a></div></div>
<div class="ttc" id="classllvm_1_1MemIntrinsic_html"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html">llvm::MemIntrinsic</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00118">IntrinsicInst.h:118</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="ConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a0519dc6e2f153aaed61eed17d965a9f0"><div class="ttname"><a href="classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00178">Type.cpp:178</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02059">Instructions.h:2059</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a0b4e7bee9b8575cc7db73329f1a561bd"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a0b4e7bee9b8575cc7db73329f1a561bd">llvm::BasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00195">BasicBlock.h:195</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a3b6b85760d6f19980ca3f98b7dc6fad4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a3b6b85760d6f19980ca3f98b7dc6fad4">llvm::ConstantRange::inverse</a></div><div class="ttdeci">ConstantRange inverse() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00711">ConstantRange.cpp:711</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00042">ConstantRange.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="LazyValueInfo_8cpp_html_aebfdf9230b5ac4389fa1645508f815bc"><div class="ttname"><a href="LazyValueInfo_8cpp.html#aebfdf9230b5ac4389fa1645508f815bc">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(LazyValueInfo,&quot;lazy-value-info&quot;,&quot;Lazy Value Information Analysis&quot;, false, true) INITIALIZE_PASS_END(LazyValueInfo</div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_ad7ec8482f19e8e86e3de573b060a17e5"><div class="ttname"><a href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00075">Constants.cpp:75</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs - Return a circular-buffered debug stream. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00101">Debug.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_acef23d72e7a91d7ceb6cd432b43c2b47"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#acef23d72e7a91d7ceb6cd432b43c2b47">llvm::ConstantRange::binaryOr</a></div><div class="ttdeci">ConstantRange binaryOr(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00669">ConstantRange.cpp:669</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_2README_8txt_source.html#l00036">CodeGen/README.txt:36</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="PatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a256240dcf6bb0e19af3d5cf452372cfb"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a256240dcf6bb0e19af3d5cf452372cfb">llvm::ConstantRange::shl</a></div><div class="ttdeci">ConstantRange shl(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00682">ConstantRange.cpp:682</a></div></div>
<div class="ttc" id="ConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01840">APInt.h:1840</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon&lt; T &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="ValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="X86InstrInfo_8cpp_html_a772a541f137327db635e21a1c8a2b7cd"><div class="ttname"><a href="X86InstrInfo_8cpp.html#a772a541f137327db635e21a1c8a2b7cd">lookup</a></div><div class="ttdeci">static const uint16_t * lookup(unsigned opcode, unsigned domain)</div><div class="ttdef"><b>Definition:</b> <a href="X86InstrInfo_8cpp_source.html#l05181">X86InstrInfo.cpp:5181</a></div></div>
<div class="ttc" id="classllvm_1_1MemTransferInst_html"><div class="ttname"><a href="classllvm_1_1MemTransferInst.html">llvm::MemTransferInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00213">IntrinsicInst.h:213</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a2d8882611ee8586792f878c7e5d887d7"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a2d8882611ee8586792f878c7e5d887d7">llvm::LazyValueInfo::threadEdge</a></div><div class="ttdeci">void threadEdge(BasicBlock *PredBB, BasicBlock *OldSucc, BasicBlock *NewSucc)</div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01136">LazyValueInfo.cpp:1136</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a1e2111f6405de8f2b3bd8fff249e2bb1"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a1e2111f6405de8f2b3bd8fff249e2bb1">llvm::ConstantRange::makeICmpRegion</a></div><div class="ttdeci">static ConstantRange makeICmpRegion(unsigned Pred, const ConstantRange &amp;Other)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00052">ConstantRange.cpp:52</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a86e20ed4fbcbede69e52b825d09f444e"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a86e20ed4fbcbede69e52b825d09f444e">llvm::ConstantRange::binaryAnd</a></div><div class="ttdeci">ConstantRange binaryAnd(const ConstantRange &amp;Other) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00656">ConstantRange.cpp:656</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_a5cb76a65b6524dba1493dd2b9dc3abbe"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a5cb76a65b6524dba1493dd2b9dc3abbe">llvm::BasicBlock::getTerminator</a></div><div class="ttdeci">TerminatorInst * getTerminator()</div><div class="ttdoc">Returns the terminator instruction if the block is well formed or null if the block is not well forme...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8cpp_source.html#l00120">BasicBlock.cpp:120</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_ac54ee9c0d3aa35349072cebce26af87b"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">llvm::ICmpInst::makeConstantRange</a></div><div class="ttdeci">static ConstantRange makeConstantRange(Predicate pred, const APInt &amp;C)</div><div class="ttdoc">Make a ConstantRange for a relation with a constant value. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03148">Instructions.cpp:3148</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_a7322098c8038d765afb7a5bb167c2815"><div class="ttname"><a href="classllvm_1_1DenseSet.html#a7322098c8038d765afb7a5bb167c2815">llvm::DenseSet::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00041">DenseSet.h:41</a></div></div>
<div class="ttc" id="namespacellvm_html_a6a02d446812b76c3b271d9e3e3c77b49"><div class="ttname"><a href="namespacellvm.html#a6a02d446812b76c3b271d9e3e3c77b49">llvm::operator&lt;&lt;</a></div><div class="ttdeci">raw_ostream &amp; operator&lt;&lt;(raw_ostream &amp;OS, const APInt &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01688">APInt.h:1688</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html_a18a487981cb352f48a5328f9dfa39390"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html#a18a487981cb352f48a5328f9dfa39390">llvm::LazyValueInfo::eraseBlock</a></div><div class="ttdeci">void eraseBlock(BasicBlock *BB)</div><div class="ttdoc">eraseBlock - Inform the analysis cache that we have erased a block. </div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8cpp_source.html#l01141">LazyValueInfo.cpp:1141</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdoc">equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_html"><div class="ttname"><a href="classllvm_1_1SwitchInst.html">llvm::SwitchInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02449">Instructions.h:2449</a></div></div>
<div class="ttc" id="classllvm_1_1LazyValueInfo_html"><div class="ttname"><a href="classllvm_1_1LazyValueInfo.html">llvm::LazyValueInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="LazyValueInfo_8h_source.html#l00028">LazyValueInfo.h:28</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="LazyValueInfo_8h_html"><div class="ttname"><a href="LazyValueInfo_8h.html">LazyValueInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="Debug_8h_html_aef41e8aaf4c60819b30faf396cdf4978"><div class="ttname"><a href="Debug_8h.html#aef41e8aaf4c60819b30faf396cdf4978">DEBUG</a></div><div class="ttdeci">#define DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00097">Debug.h:97</a></div></div>
<div class="ttc" id="classllvm_1_1CallbackVH_html"><div class="ttname"><a href="classllvm_1_1CallbackVH.html">llvm::CallbackVH</a></div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00341">ValueHandle.h:341</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1DenseSet_html_a33bf9e8d62adbf5e2d52c5d7c1c1094b"><div class="ttname"><a href="classllvm_1_1DenseSet.html#a33bf9e8d62adbf5e2d52c5d7c1c1094b">llvm::DenseSet::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseSet_8h_source.html#l00108">DenseSet.h:108</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eabd20bd987f5233a02a053b0c90f35aa6">llvm::Unknown</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="classllvm_1_1AllocaInst_html"><div class="ttname"><a href="classllvm_1_1AllocaInst.html">llvm::AllocaInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00058">Instructions.h:58</a></div></div>
<div class="ttc" id="classllvm_1_1SwitchInst_1_1CaseIt_html"><div class="ttname"><a href="classllvm_1_1SwitchInst_1_1CaseIt.html">llvm::SwitchInst::CaseIt</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02574">Instructions.h:2574</a></div></div>
<div class="ttc" id="SelectionDAGBuilder_8cpp_html_afcd7ba772e220bcd0907ee2f1aa61323"><div class="ttname"><a href="SelectionDAGBuilder_8cpp.html#afcd7ba772e220bcd0907ee2f1aa61323">InBlock</a></div><div class="ttdeci">static bool InBlock(const Value *V, const BasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGBuilder_8cpp_source.html#l01372">SelectionDAGBuilder.cpp:1372</a></div></div>
<div class="ttc" id="Compiler_8h_html_a6881c00738b22a600dfee25a1c32dab3"><div class="ttname"><a href="Compiler_8h.html#a6881c00738b22a600dfee25a1c32dab3">LLVM_ATTRIBUTE_USED</a></div><div class="ttdeci">#define LLVM_ATTRIBUTE_USED</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00179">Compiler.h:179</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:10 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
