<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: InstructionSimplify.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('InstructionSimplify_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">InstructionSimplify.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="InstructionSimplify_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- InstructionSimplify.cpp - Fold instruction operands ----------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file implements routines for folding instructions into simpler forms</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// that do not require creating new instructions.  This does constant folding</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// (&quot;add i32 1, 1&quot; -&gt; &quot;2&quot;) but can also handle non-constant operands, either</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// returning a constant (&quot;and i32 %x, 0&quot; -&gt; &quot;0&quot;) or an already existing value</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// (&quot;and i32 %x, %x&quot; -&gt; &quot;%x&quot;).  All operands are assumed to have already been</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// simplified: This is usually true and assuming it simplifies the logic (if</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// they have not been simplified then results are correct but maybe suboptimal).</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   20</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;instsimplify&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstructionSimplify_8h.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantFolding_8h.html">llvm/Analysis/ConstantFolding.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dominators_8h.html">llvm/Analysis/Dominators.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalAlias_8h.html">llvm/IR/GlobalAlias.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Operator_8h.html">llvm/IR/Operator.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ConstantRange_8h.html">llvm/Support/ConstantRange.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GetElementPtrTypeIterator_8h.html">llvm/Support/GetElementPtrTypeIterator.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PatternMatch_8h.html">llvm/Support/PatternMatch.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueHandle_8h.html">llvm/Support/ValueHandle.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">   38</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a> = 3 };</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="InstructionSimplify_8cpp.html#a9311e2e4f77e6e0d678e9f9873b72736">STATISTIC</a>(NumExpand,  <span class="stringliteral">&quot;Number of expansions&quot;</span>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="InstructionSimplify_8cpp.html#a9311e2e4f77e6e0d678e9f9873b72736">STATISTIC</a>(NumFactor , <span class="stringliteral">&quot;Number of factorizations&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="InstructionSimplify_8cpp.html#a9311e2e4f77e6e0d678e9f9873b72736">STATISTIC</a>(NumReassoc, <span class="stringliteral">&quot;Number of reassociations&quot;</span>);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structQuery.html">   44</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structQuery.html">Query</a> {</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">   45</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">   46</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">   47</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *<a class="code" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">DT</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structQuery.html#a651a3dd1e7629a68a1b58d0841237f67">   49</a></span>&#160;  <a class="code" href="structQuery.html#a651a3dd1e7629a68a1b58d0841237f67">Query</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *<a class="code" href="Target_2X86_2README_8txt.html#a1b0f9b510ec52cc3cbaa14e6e6211168">td</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *tli,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *dt) : TD(td), TLI(tli), DT(dt) {}</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;};</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                            <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">SimplifyCmpInst</a>(<span class="keywordtype">unsigned</span>, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                              <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">SimplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Value.html">Value</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">SimplifyTruncInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *, <a class="code" href="classllvm_1_1Type.html">Type</a> *, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;, <span class="keywordtype">unsigned</span>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// getFalse - For a boolean type, or a vector of boolean type, return false, or</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// a vector with every element false, as appropriate for the type.</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">   64</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  assert(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1) &amp;&amp;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;         <span class="stringliteral">&quot;Expected i1 type or a vector of i1!&quot;</span>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Ty);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/// getTrue - For a boolean type, or a vector of boolean type, return true, or</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/// a vector with every element true, as appropriate for the type.</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">   72</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> *Ty) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  assert(Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1) &amp;&amp;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         <span class="stringliteral">&quot;Expected i1 type or a vector of i1!&quot;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Ty);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">/// isSameCompare - Is V equivalent to the comparison &quot;LHS Pred RHS&quot;?</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">   79</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                          <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a>&gt;(V);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (!Cmp)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> CPred = Cmp-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CLHS = Cmp-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *CRHS = Cmp-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (CPred == Pred &amp;&amp; CLHS == LHS &amp;&amp; CRHS == RHS)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> CPred == <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred) &amp;&amp; CLHS == RHS &amp;&amp;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    CRHS == LHS;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/// ValueDominatesPHI - Does the given value dominate the specified phi node?</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">   93</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(V);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (!I)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// Arguments and constants dominate all instructions.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// If we are processing instructions (and/or basic blocks) that have not been</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// fully added to a function, the parent nodes may still be null. Simply</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// return the conservative answer in these cases.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">if</span> (!I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() || !P-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() || !I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>())</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// If we have a DominatorTree then do a precise test.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (DT) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">isReachableFromEntry</a>(P-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()))</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (!DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">isReachableFromEntry</a>(I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()))</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> DT-&gt;<a class="code" href="classllvm_1_1DominatorTree.html#a6fe9272dc67fe2ff4cafc33b895c4a6c">dominates</a>(I, P);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// Otherwise, if the instruction is in the entry block, and is not an invoke,</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// then it obviously dominates all phi nodes.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>() == &amp;I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">getEntryBlock</a>() &amp;&amp;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      !isa&lt;InvokeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/// ExpandBinOp - Simplify &quot;A op (B op&#39; C)&quot; by distributing op over op&#39;, turning</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// it into &quot;(A op B) op&#39; (A op C)&quot;.  Here &quot;op&quot; is given by Opcode and &quot;op&#39;&quot; is</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// given by OpcodeToExpand, while &quot;A&quot; corresponds to LHS and &quot;B op&#39; C&quot; to RHS.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/// Also performs the transform &quot;(A op&#39; B) op C&quot; -&gt; &quot;(A op C) op&#39; (B op C)&quot;.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// Returns the simplified value, or null if no simplification was performed.</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">  128</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                          <span class="keywordtype">unsigned</span> OpcToExpand, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                          <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpcodeToExpand = (<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)OpcToExpand;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Check whether the expression has the form &quot;(A op&#39; B) op C&quot;.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op0 = dyn_cast&lt;BinaryOperator&gt;(LHS))</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (Op0-&gt;getOpcode() == OpcodeToExpand) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="comment">// It does!  Try turning it into &quot;(A op C) op&#39; (B op C)&quot;.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = Op0-&gt;getOperand(0), *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op0-&gt;getOperand(1), *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RHS;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="comment">// Do &quot;A op C&quot; and &quot;B op C&quot; both simplify?</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *L = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse)) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          <span class="comment">// They do! Return &quot;L op&#39; R&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;          <span class="comment">// If &quot;L op&#39; R&quot; equals &quot;A op&#39; B&quot; then &quot;L op&#39; R&quot; is just the LHS.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <span class="keywordflow">if</span> ((L == A &amp;&amp; R == <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>) || (<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">Instruction::isCommutative</a>(OpcodeToExpand)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                     &amp;&amp; L == <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> &amp;&amp; R == A)) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            ++NumExpand;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          <span class="comment">// Otherwise return &quot;L op&#39; R&quot; if it simplifies.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(OpcodeToExpand, L, R, Q, MaxRecurse)) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            ++NumExpand;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Check whether the expression has the form &quot;A op (B op&#39; C)&quot;.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op1 = dyn_cast&lt;BinaryOperator&gt;(RHS))</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (Op1-&gt;getOpcode() == OpcodeToExpand) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// It does!  Try turning it into &quot;(A op B) op&#39; (A op C)&quot;.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = LHS, *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op1-&gt;getOperand(0), *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;getOperand(1);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="comment">// Do &quot;A op B&quot; and &quot;A op C&quot; both simplify?</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *L = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, B, Q, MaxRecurse))</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *R = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse)) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          <span class="comment">// They do! Return &quot;L op&#39; R&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          <span class="comment">// If &quot;L op&#39; R&quot; equals &quot;B op&#39; C&quot; then &quot;L op&#39; R&quot; is just the RHS.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;          <span class="keywordflow">if</span> ((L == B &amp;&amp; R == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) || (<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">Instruction::isCommutative</a>(OpcodeToExpand)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                     &amp;&amp; L == <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> &amp;&amp; R == B)) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            ++NumExpand;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">return</span> RHS;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;          }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          <span class="comment">// Otherwise return &quot;L op&#39; R&quot; if it simplifies.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(OpcodeToExpand, L, R, Q, MaxRecurse)) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            ++NumExpand;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/// FactorizeBinOp - Simplify &quot;LHS Opcode RHS&quot; by factorizing out a common term</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">/// using the operation OpCodeToExtract.  For example, when Opcode is Add and</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/// OpCodeToExtract is Mul then this tries to turn &quot;(A*B)+(A*C)&quot; into &quot;A*(B+C)&quot;.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/// Returns the simplified value, or null if no simplification was performed.</span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">  189</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                             <span class="keywordtype">unsigned</span> OpcToExtract, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                             <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> OpcodeToExtract = (<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)OpcToExtract;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op0 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(LHS);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op1 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(RHS);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (!Op0 || Op0-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() != OpcodeToExtract ||</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      !Op1 || Op1-&gt;getOpcode() != OpcodeToExtract)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// The expression has the form &quot;(A op&#39; B) op (C op&#39; D)&quot;.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;getOperand(0), *D = Op1-&gt;getOperand(1);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// Use left distributivity, i.e. &quot;X op&#39; (Y op Z) = (X op&#39; Y) op (X op&#39; Z)&quot;.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// Does the instruction have the form &quot;(A op&#39; B) op (A op&#39; D)&quot; or, in the</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// commutative case, &quot;(A op&#39; B) op (C op&#39; A)&quot;?</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (A == C || (<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">Instruction::isCommutative</a>(OpcodeToExtract) &amp;&amp; A == D)) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da7b735c1bd406b9813cc83c8f7edc8ed8">DD</a> = A == C ? D : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Form &quot;A op&#39; (B op DD)&quot; if it simplifies completely.</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Does &quot;B op DD&quot; simplify?</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, DD, Q, MaxRecurse)) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="comment">// It does!  Return &quot;A op&#39; V&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// If V equals B then &quot;A op&#39; V&quot; is just the LHS.  If V equals DD then</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// &quot;A op&#39; V&quot; is just the RHS.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (V == <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> || V == DD) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        ++NumFactor;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">return</span> V == <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> ? LHS : RHS;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="comment">// Otherwise return &quot;A op&#39; V&quot; if it simplifies.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(OpcodeToExtract, A, V, Q, MaxRecurse)) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        ++NumFactor;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// Use right distributivity, i.e. &quot;(X op Y) op&#39; Z = (X op&#39; Z) op (Y op&#39; Z)&quot;.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Does the instruction have the form &quot;(A op&#39; B) op (C op&#39; B)&quot; or, in the</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// commutative case, &quot;(A op&#39; B) op (B op&#39; D)&quot;?</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == D || (<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">Instruction::isCommutative</a>(OpcodeToExtract) &amp;&amp; <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == C)) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a> = <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == D ? C : D;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// Form &quot;(A op CC) op&#39; B&quot; if it simplifies completely..</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Does &quot;A op CC&quot; simplify?</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, CC, Q, MaxRecurse)) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">// It does!  Return &quot;V op&#39; B&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// If V equals A then &quot;V op&#39; B&quot; is just the LHS.  If V equals CC then</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// &quot;V op&#39; B&quot; is just the RHS.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">if</span> (V == A || V == CC) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        ++NumFactor;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span> V == A ? LHS : RHS;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="comment">// Otherwise return &quot;V op&#39; B&quot; if it simplifies.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(OpcodeToExtract, V, <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>, Q, MaxRecurse)) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        ++NumFactor;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/// SimplifyAssociativeBinOp - Generic simplifications for associative binary</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/// operations.  Returns the simpler value, or null if none was found.</span></div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">  259</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(<span class="keywordtype">unsigned</span> Opc, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode = (<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a>)Opc;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  assert(<a class="code" href="classllvm_1_1Instruction.html#aa113b8a9ef3de9c2f075a046ad658717">Instruction::isAssociative</a>(Opcode) &amp;&amp; <span class="stringliteral">&quot;Not an associative operation!&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op0 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(LHS);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Op1 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(RHS);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// Transform: &quot;(A op B) op C&quot; ==&gt; &quot;A op (B op C)&quot; if it simplifies completely.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (Op0 &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == Opcode) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RHS;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// Does &quot;B op C&quot; simplify?</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, B, C, Q, MaxRecurse)) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="comment">// It does!  Return &quot;A op V&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="comment">// If V equals B then &quot;A op V&quot; is just the LHS.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (V == B) <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="comment">// Otherwise return &quot;A op V&quot; if it simplifies.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, V, Q, MaxRecurse)) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Transform: &quot;A op (B op C)&quot; ==&gt; &quot;(A op B) op C&quot; if it simplifies completely.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (Op1 &amp;&amp; Op1-&gt;getOpcode() == Opcode) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = LHS;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op1-&gt;getOperand(0);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;getOperand(1);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// Does &quot;A op B&quot; simplify?</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, A, B, Q, MaxRecurse)) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// It does!  Return &quot;V op C&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="comment">// If V equals B then &quot;V op C&quot; is just the RHS.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">if</span> (V == B) <span class="keywordflow">return</span> RHS;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="comment">// Otherwise return &quot;V op C&quot; if it simplifies.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, V, C, Q, MaxRecurse)) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// The remaining transforms require commutativity as well as associativity.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">Instruction::isCommutative</a>(Opcode))</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// Transform: &quot;(A op B) op C&quot; ==&gt; &quot;(C op A) op B&quot; if it simplifies completely.</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (Op0 &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == Opcode) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op0-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RHS;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// Does &quot;C op A&quot; simplify?</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, C, A, Q, MaxRecurse)) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// It does!  Return &quot;V op B&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// If V equals A then &quot;V op B&quot; is just the LHS.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (V == A) <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="comment">// Otherwise return &quot;V op B&quot; if it simplifies.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, V, B, Q, MaxRecurse)) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Transform: &quot;A op (B op C)&quot; ==&gt; &quot;B op (C op A)&quot; if it simplifies completely.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (Op1 &amp;&amp; Op1-&gt;getOpcode() == Opcode) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = LHS;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Op1-&gt;getOperand(0);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = Op1-&gt;getOperand(1);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// Does &quot;C op A&quot; simplify?</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, C, A, Q, MaxRecurse)) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="comment">// It does!  Return &quot;B op V&quot; if it simplifies or is already available.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// If V equals C then &quot;B op V&quot; is just the RHS.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">if</span> (V == C) <span class="keywordflow">return</span> RHS;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="comment">// Otherwise return &quot;B op V&quot; if it simplifies.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, B, V, Q, MaxRecurse)) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/// ThreadBinOpOverSelect - In the case of a binary operation with a select</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">/// instruction as an operand, try to simplify the binop by seeing whether</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/// evaluating it on both branches of the select results in the same value.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">/// Returns the common value if so, otherwise returns null.</span></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">  358</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(LHS)) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    SI = cast&lt;SelectInst&gt;(LHS);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    assert(isa&lt;SelectInst&gt;(RHS) &amp;&amp; <span class="stringliteral">&quot;No select instruction operand!&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    SI = cast&lt;SelectInst&gt;(RHS);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// Evaluate the BinOp on the true and false branches of the select.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TV;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FV;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (SI == LHS) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    TV = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>(), RHS, Q, MaxRecurse);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    FV = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>(), RHS, Q, MaxRecurse);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    TV = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, LHS, SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>(), Q, MaxRecurse);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    FV = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, LHS, SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>(), Q, MaxRecurse);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// If they simplified to the same value, then return the common value.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// If they both failed to simplify then return null.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (TV == FV)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> TV;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// If one branch simplified to undef, return the other one.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span> (TV &amp;&amp; isa&lt;UndefValue&gt;(TV))</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> FV;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (FV &amp;&amp; isa&lt;UndefValue&gt;(FV))</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> TV;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// If applying the operation did not change the true and false select values,</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// then the result of the binop is the select itself.</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (TV == SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>() &amp;&amp; FV == SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>())</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> SI;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// If one branch simplified and the other did not, and the simplified</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// value is equal to the unsimplified one, return the simplified value.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// For example, select (cond, X, X &amp; Z) &amp; Z -&gt; X &amp; Z.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">if</span> ((FV &amp;&amp; !TV) || (TV &amp;&amp; !FV)) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// Check that the simplified value has the form &quot;X op Y&quot; where &quot;op&quot; is the</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// same as the original operation.</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Simplified = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a>&gt;(FV ? FV : TV);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (Simplified &amp;&amp; Simplified-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>() == Opcode) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="comment">// The value that didn&#39;t simplify is &quot;UnsimplifiedLHS op UnsimplifiedRHS&quot;.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="comment">// We already know that &quot;op&quot; is the same as for the simplified value.  See</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="comment">// if the operands match too.  If so, return the simplified value.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedBranch = FV ? SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>() : SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedLHS = SI == LHS ? UnsimplifiedBranch : LHS;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *UnsimplifiedRHS = SI == LHS ? RHS : UnsimplifiedBranch;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (Simplified-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == UnsimplifiedLHS &amp;&amp;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          Simplified-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == UnsimplifiedRHS)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">return</span> Simplified;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">if</span> (Simplified-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">isCommutative</a>() &amp;&amp;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          Simplified-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == UnsimplifiedLHS &amp;&amp;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          Simplified-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0) == UnsimplifiedRHS)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span> Simplified;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/// ThreadCmpOverSelect - In the case of a comparison with a select instruction,</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">/// try to simplify the comparison by seeing whether both branches of the select</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">/// result in the same value.  Returns the common value if so, otherwise returns</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">/// null.</span></div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a79d8a039f8f6169c758874ea23f24e30">  430</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a79d8a039f8f6169c758874ea23f24e30">ThreadCmpOverSelect</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                  <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                  <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// Make sure the select is on the LHS.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;SelectInst&gt;(LHS)) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  assert(isa&lt;SelectInst&gt;(LHS) &amp;&amp; <span class="stringliteral">&quot;Not comparing with a select instruction!&quot;</span>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = cast&lt;SelectInst&gt;(LHS);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Cond = SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>();</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TV = SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">getTrueValue</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FV = SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">getFalseValue</a>();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">// Now that we have &quot;cmp select(Cond, TV, FV), RHS&quot;, analyse it.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Does &quot;cmp TV, RHS&quot; simplify?</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *TCmp = <a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">SimplifyCmpInst</a>(Pred, TV, RHS, Q, MaxRecurse);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">if</span> (TCmp == Cond) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// It not only simplified, it simplified to the select condition.  Replace</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// it with &#39;true&#39;.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    TCmp = <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(Cond-&gt;getType());</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!TCmp) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// It didn&#39;t simplify.  However if &quot;cmp TV, RHS&quot; is equal to the select</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// condition then we can replace it with &#39;true&#39;.  Otherwise give up.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a>(Cond, Pred, TV, RHS))</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    TCmp = <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(Cond-&gt;getType());</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Does &quot;cmp FV, RHS&quot; simplify?</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *FCmp = <a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">SimplifyCmpInst</a>(Pred, FV, RHS, Q, MaxRecurse);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (FCmp == Cond) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// It not only simplified, it simplified to the select condition.  Replace</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// it with &#39;false&#39;.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    FCmp = <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(Cond-&gt;getType());</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!FCmp) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// It didn&#39;t simplify.  However if &quot;cmp FV, RHS&quot; is equal to the select</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// condition then we can replace it with &#39;false&#39;.  Otherwise give up.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a>(Cond, Pred, FV, RHS))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    FCmp = <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(Cond-&gt;getType());</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// If both sides simplified to the same value, then use it as the result of</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// the original comparison.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (TCmp == FCmp)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> TCmp;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// The remaining cases only make sense if the select condition has the same</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// type as the result of the comparison, so bail out if this is not so.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">if</span> (Cond-&gt;getType()-&gt;isVectorTy() != RHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// If the false value simplified to false, then the result of the compare</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// is equal to &quot;Cond &amp;&amp; TCmp&quot;.  This also catches the case when the false</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">// value simplified to false and the true value to true, returning &quot;Cond&quot;.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(Cond, TCmp, Q, MaxRecurse))</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// If the true value simplified to true, then the result of the compare</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// is equal to &quot;Cond || FCmp&quot;.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">SimplifyOrInst</a>(Cond, FCmp, Q, MaxRecurse))</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// Finally, if the false value simplified to true and the true value to</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// false, then the result of the compare is equal to &quot;!Cond&quot;.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(FCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()) &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(TCmp, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V =</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(Cond, <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Cond-&gt;getType()),</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        Q, MaxRecurse))</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/// ThreadBinOpOverPHI - In the case of a binary operation with an operand that</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">/// is a PHI instruction, try to simplify the binop by seeing whether evaluating</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">/// it on the incoming phi values yields the same result for every value.  If so</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/// returns the common value, otherwise returns null.</span></div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">  512</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PI;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(LHS)) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    PI = cast&lt;PHINode&gt;(LHS);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// Bail out if RHS and the phi may be mutually interdependent due to a loop.</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a>(RHS, PI, Q.<a class="code" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">DT</a>))</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    assert(isa&lt;PHINode&gt;(RHS) &amp;&amp; <span class="stringliteral">&quot;No PHI instruction operand!&quot;</span>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    PI = cast&lt;PHINode&gt;(RHS);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// Bail out if LHS and the phi may be mutually interdependent due to a loop.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a>(LHS, PI, Q.<a class="code" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">DT</a>))</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// Evaluate the BinOp on the incoming phi values.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (Incoming == PI) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = PI == LHS ?</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, Incoming, RHS, Q, MaxRecurse) :</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Opcode, LHS, Incoming, Q, MaxRecurse);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// If the operation failed to simplify, or simplified to a different value</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// to previously, then give up.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (!V || (CommonValue &amp;&amp; V != CommonValue))</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    CommonValue = V;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">/// ThreadCmpOverPHI - In the case of a comparison with a PHI instruction, try</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">/// try to simplify the comparison by seeing whether comparing with all of the</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">/// incoming phi values yields the same result every time.  If so returns the</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">/// common result, otherwise returns null.</span></div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#af29902082da4b919f6265eb08e85308d">  555</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#af29902082da4b919f6265eb08e85308d">ThreadCmpOverPHI</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Recursion is always used, so bail out at once if we already hit the limit.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (!MaxRecurse--)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// Make sure the phi is on the LHS.</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;PHINode&gt;(LHS)) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  assert(isa&lt;PHINode&gt;(LHS) &amp;&amp; <span class="stringliteral">&quot;Not comparing with a phi instruction!&quot;</span>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PI = cast&lt;PHINode&gt;(LHS);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">// Bail out if RHS and the phi may be mutually interdependent due to a loop.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a>(RHS, PI, Q.<a class="code" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">DT</a>))</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Evaluate the BinOp on the incoming phi values.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = 0;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming = PI-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (Incoming == PI) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">SimplifyCmpInst</a>(Pred, Incoming, RHS, Q, MaxRecurse);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// If the operation failed to simplify, or simplified to a different value</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// to previously, then give up.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (!V || (CommonValue &amp;&amp; V != CommonValue))</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    CommonValue = V;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">/// SimplifyAddInst - Given operands for an Add, see if we can</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a4c32ee4f47160b37158ce14c53bf95f7">  592</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">SimplifyAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::Add, CLHS-&gt;getType(), Ops,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                      Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="comment">// X + undef -&gt; undef</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// X + 0 -&gt; X</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// X + (Y - X) -&gt; Y</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// (Y - X) + X -&gt; Y</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// Eg: X + -X -&gt; 0</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = 0;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))) ||</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// X + ~X -&gt; -1   since   ~X = -X-1</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">  /// i1 add -&gt; xor.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(Op0, Op1, Q, MaxRecurse-1))</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(Instruction::Add, Op0, Op1, Q,</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                          MaxRecurse))</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// Mul distributes over Add.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(Instruction::Add, Op0, Op1, Instruction::Mul,</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                Q, MaxRecurse))</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// Threading Add over selects and phi nodes is pointless, so don&#39;t bother.</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// Threading over the select in &quot;A + select(cond, B, C)&quot; means evaluating</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// &quot;A+B&quot; and &quot;A+C&quot; and seeing if they are equal; but they are equal if and</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// &quot;A+B&quot; and &quot;A+C&quot; thus gains nothing, but costs compile time.  Similarly</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">  653</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">llvm::SimplifyAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a4c32ee4f47160b37158ce14c53bf95f7">return ::SimplifyAddInst</a>(Op0, Op1, isNSW, isNUW, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                           <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">/// \brief Compute the base pointer and cumulative constant offsets for V.</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// This strips all constant offsets off of V, leaving it the base pointer, and</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">/// accumulates the total constant offset applied in the returned constant. It</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">/// returns 0 if V is not a pointer, and returns the constant &#39;0&#39; if there are</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">/// no constant offsets applied.</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">/// This is very similar to GetPointerBaseWithConstantOffset except it doesn&#39;t</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">/// follow non-inbounds geps. This allows it to remain usable for icmp ult/etc.</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">/// folding.</span></div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">  670</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                                <a class="code" href="classllvm_1_1Value.html">Value</a> *&amp;V,</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                                <span class="keywordtype">bool</span> AllowNonInbounds = <span class="keyword">false</span>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>());</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">// Without DataLayout, just be conservative for now. Theoretically, more could</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// be done in this case.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">if</span> (!TD)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">IntegerType::get</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>(), 64), 0);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntPtrTy = TD-&gt;<a class="code" href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">getIntPtrType</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;getScalarType();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> Offset = <a class="code" href="classllvm_1_1APInt.html#a4ba7d7f0a1e911c8384e236b5f6c1959">APInt::getNullValue</a>(IntPtrTy-&gt;<a class="code" href="classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">getIntegerBitWidth</a>());</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// Even though we don&#39;t look through PHI nodes, we could be called on an</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// instruction in an unreachable block, which may be on a cycle.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Value *, 4&gt;</a> Visited;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">insert</a>(V);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GEP = dyn_cast&lt;GEPOperator&gt;(V)) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">if</span> ((!AllowNonInbounds &amp;&amp; !GEP-&gt;isInBounds()) ||</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          !GEP-&gt;accumulateConstantOffset(*TD, Offset))</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      V = GEP-&gt;getPointerOperand();</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">Operator::getOpcode</a>(V) == Instruction::BitCast) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      V = cast&lt;Operator&gt;(V)-&gt;getOperand(0);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalAlias.html">GlobalAlias</a> *GA = dyn_cast&lt;GlobalAlias&gt;(V)) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">if</span> (GA-&gt;mayBeOverridden())</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      V = GA-&gt;getAliasee();</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    assert(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>() &amp;&amp;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;           <span class="stringliteral">&quot;Unexpected operand type!&quot;</span>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  } <span class="keywordflow">while</span> (Visited.insert(V));</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *OffsetIntPtr = <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(IntPtrTy, Offset);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">if</span> (V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">isVectorTy</a>())</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantVector.html#a5ce0c10fc8f570a6411da209203a1c6e">ConstantVector::getSplat</a>(V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad8f27f0b94a56abcd296b8461737a3af">getVectorNumElements</a>(),</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                    OffsetIntPtr);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">return</span> OffsetIntPtr;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">/// \brief Compute the constant difference between two pointer values.</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">/// If the difference is not a constant, returns zero.</span></div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab811cd0931849fab3917ea90342ba730">  715</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#ab811cd0931849fab3917ea90342ba730">computePointerDifference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                                          <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, LHS);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, RHS);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// If LHS and RHS are not related via constant offsets to the same base</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// value, there is nothing we can do here.</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">if</span> (LHS != RHS)</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// Otherwise, the difference of LHS - RHS can be computed as:</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">//    LHS - RHS</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">//  = (LHSOffset + Base) - (RHSOffset + Base)</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">//  = LHSOffset - RHSOffset</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">ConstantExpr::getSub</a>(LHSOffset, RHSOffset);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">/// SimplifySubInst - Given operands for a Sub, see if we can</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a7a221a3b87cff75f1dd16de3e0c54fd4">  734</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">SimplifySubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0))</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::Sub, CLHS-&gt;getType(),</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// X - undef -&gt; undef</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// undef - X -&gt; undef</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()) || <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// X - 0 -&gt; X</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// X - X -&gt; 0</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// (X*2) - X -&gt; X</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// (X&lt;&lt;1) - X -&gt; X</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = 0;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">m_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), m_ConstantInt&lt;2&gt;())) ||</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1), <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>())))</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// (X + Y) - Z -&gt; X + (Y - Z) or Y + (X - Z) if everything simplifies.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// For example, (X + Y) - Y -&gt; X; (Y + X) - Y -&gt; X</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = 0, *Z = Op1;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y)))) { <span class="comment">// (X + Y) - Z</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// See if &quot;V === Y - Z&quot; simplifies.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, Y, Z, Q, MaxRecurse-1))</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="comment">// It does!  Now see if &quot;X + V&quot; simplifies.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Add, X, V, Q, MaxRecurse-1)) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// See if &quot;V === X - Z&quot; simplifies.</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, X, Z, Q, MaxRecurse-1))</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="comment">// It does!  Now see if &quot;Y + V&quot; simplifies.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Add, Y, V, Q, MaxRecurse-1)) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// X - (Y + Z) -&gt; (X - Y) - Z or (X - Z) - Y if everything simplifies.</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// For example, X - (X + 1) -&gt; -1</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  X = Op0;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">m_Add</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Z)))) { <span class="comment">// X - (Y + Z)</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// See if &quot;V === X - Y&quot; simplifies.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, X, Y, Q, MaxRecurse-1))</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="comment">// It does!  Now see if &quot;V - Z&quot; simplifies.</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, V, Z, Q, MaxRecurse-1)) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// See if &quot;V === X - Z&quot; simplifies.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, X, Z, Q, MaxRecurse-1))</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="comment">// It does!  Now see if &quot;V - Y&quot; simplifies.</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, V, Y, Q, MaxRecurse-1)) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// Z - (X - Y) -&gt; (Z - X) + Y if everything simplifies.</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">// For example, X - (X - Y) -&gt; Y.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  Z = Op0;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">m_Sub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y)))) <span class="comment">// Z - (X - Y)</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// See if &quot;V === Z - X&quot; simplifies.</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, Z, X, Q, MaxRecurse-1))</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="comment">// It does!  Now see if &quot;V + Y&quot; simplifies.</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Add, V, Y, Q, MaxRecurse-1)) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment">// It does, we successfully reassociated!</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        ++NumReassoc;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// trunc(X) - trunc(Y) -&gt; trunc(X - Y) if everything simplifies.</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X))) &amp;&amp;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">m_Trunc</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y))))</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (X-&gt;getType() == Y-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="comment">// See if &quot;V === X - Y&quot; simplifies.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(Instruction::Sub, X, Y, Q, MaxRecurse-1))</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="comment">// It does!  Now see if &quot;trunc V&quot; simplifies.</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *W = <a class="code" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">SimplifyTruncInst</a>(V, Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), Q, MaxRecurse-1))</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          <span class="comment">// It does, return the simplified &quot;trunc V&quot;.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          <span class="keywordflow">return</span> W;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// Variations on GEP(base, I, ...) - GEP(base, i, ...) -&gt; GEP(null, I-i, ...).</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X))) &amp;&amp;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">m_PtrToInt</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(Y))))</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *Result = <a class="code" href="InstructionSimplify_8cpp.html#ab811cd0931849fab3917ea90342ba730">computePointerDifference</a>(Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, X, Y))</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a81ad2fffd14e2df92cad4f631ae76480">ConstantExpr::getIntegerCast</a>(Result, Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), <span class="keyword">true</span>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Mul distributes over Sub.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(Instruction::Sub, Op0, Op1, Instruction::Mul,</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                                Q, MaxRecurse))</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// i1 sub -&gt; xor.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(Op0, Op1, Q, MaxRecurse-1))</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// Threading Sub over selects and phi nodes is pointless, so don&#39;t bother.</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">// Threading over the select in &quot;A - select(cond, B, C)&quot; means evaluating</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="comment">// &quot;A-B&quot; and &quot;A-C&quot; and seeing if they are equal; but they are equal if and</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="comment">// &quot;A-B&quot; and &quot;A-C&quot; thus gains nothing, but costs compile time.  Similarly</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">  859</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">llvm::SimplifySubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a7a221a3b87cff75f1dd16de3e0c54fd4">return ::SimplifySubInst</a>(Op0, Op1, isNSW, isNUW, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                           <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">/// Given operands for an FAdd, see if we can fold the result.  If not, this</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">/// returns null.</span></div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a515aed98cbb04e89f9f967e3da3fc30b">  868</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48">SimplifyFAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::FAdd, CLHS-&gt;getType(),</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// fadd X, -0 ==&gt; X</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7aaf2b6996c2d98d36469bf005bba0b7">m_NegZero</a>()))</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// fadd X, 0 ==&gt; X, when we know X is not -0</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()) &amp;&amp;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb">noSignedZeros</a>() || <a class="code" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">CannotBeNegativeZero</a>(Op0)))</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// fadd [nnan ninf] X, (fsub [nnan ninf] 0, X) ==&gt; 0</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">//   where nnan and ninf have to occur at least once somewhere in this</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">//   expression</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *SubOp = 0;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">m_AnyZero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    SubOp = Op1;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">m_AnyZero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))))</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    SubOp = Op0;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (SubOp) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *FSub = cast&lt;Instruction&gt;(SubOp);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span> ((FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a8992b53ab1a19826bff82f975f6fd14c">noNaNs</a>() || FSub-&gt;<a class="code" href="classllvm_1_1Instruction.html#a2ea5ab5267aca8ac32495ee0b2e7e38d">hasNoNaNs</a>()) &amp;&amp;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#abc53bb0cd91711c57710f8de313f938d">noInfs</a>() || FSub-&gt;<a class="code" href="classllvm_1_1Instruction.html#af20bbe3776ed95ad3f1fac9ccc54920a">hasNoInfs</a>()))</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">/// Given operands for an FSub, see if we can fold the result.  If not, this</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">/// returns null.</span></div><div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ae30fc3c1e5f4ce9289bc7a77b8535e07">  910</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07">SimplifyFSubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::FSub, CLHS-&gt;getType(),</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// fsub X, 0 ==&gt; X</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// fsub X, -0 ==&gt; X, when we know X is not -0</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a7aaf2b6996c2d98d36469bf005bba0b7">m_NegZero</a>()) &amp;&amp;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb">noSignedZeros</a>() || <a class="code" href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">CannotBeNegativeZero</a>(Op0)))</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// fsub 0, (fsub -0.0, X) ==&gt; X</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">m_AnyZero</a>())) {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a7aaf2b6996c2d98d36469bf005bba0b7">m_NegZero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X))))</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb">noSignedZeros</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">m_FSub</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">m_AnyZero</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X))))</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="keywordflow">return</span> X;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  }</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// fsub nnan ninf x, x ==&gt; 0.0</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a8992b53ab1a19826bff82f975f6fd14c">noNaNs</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#abc53bb0cd91711c57710f8de313f938d">noInfs</a>() &amp;&amp; Op0 == Op1)</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">/// Given the operands for an FMul, see if we can fold the result</span></div><div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aaf1eabd5d9b7cd95724a53c7b9153d88">  946</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a603e39bd7102628d207431f0289a2942">SimplifyFMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                               <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::FMul, CLHS-&gt;getType(),</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; <span class="comment">// fmul X, 1.0 ==&gt; X</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">m_FPOne</a>()))</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; <span class="comment">// fmul nnan nsz X, 0 ==&gt; 0</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; <span class="keywordflow">if</span> (FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#a8992b53ab1a19826bff82f975f6fd14c">noNaNs</a>() &amp;&amp; FMF.<a class="code" href="classllvm_1_1FastMathFlags.html#ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb">noSignedZeros</a>() &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">m_AnyZero</a>()))</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">/// SimplifyMulInst - Given operands for a Mul, see if we can</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l00974"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#abc01555e7c8c2c38a270e1a2833be953">  974</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502">SimplifyMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                              <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::Mul, CLHS-&gt;getType(),</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  }</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// X * undef -&gt; 0</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">// X * 0 -&gt; 0</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// X * 1 -&gt; X</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// (X / Y) * Y -&gt; X if the division is exact.</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = 0;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a44d1e9e73bc9862b44a3037cefc34036">m_IDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) || <span class="comment">// (X / Y) * Y</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a44d1e9e73bc9862b44a3037cefc34036">m_IDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0)))))   <span class="comment">// Y * (X / Y)</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">return</span> X;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">// i1 mul -&gt; and.</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(Op0, Op1, Q, MaxRecurse-1))</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(Instruction::Mul, Op0, Op1, Q,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                          MaxRecurse))</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">// Mul distributes over Add.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a>(Instruction::Mul, Op0, Op1, Instruction::Add,</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                             Q, MaxRecurse))</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(Instruction::Mul, Op0, Op1, Q,</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                         MaxRecurse))</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(Instruction::Mul, Op0, Op1, Q,</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                                      MaxRecurse))</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48"> 1037</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48">llvm::SimplifyFAddInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a515aed98cbb04e89f9f967e3da3fc30b">return ::SimplifyFAddInst</a>(Op0, Op1, FMF, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07"> 1043</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07">llvm::SimplifyFSubInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ae30fc3c1e5f4ce9289bc7a77b8535e07">return ::SimplifyFSubInst</a>(Op0, Op1, FMF, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="namespacellvm.html#a603e39bd7102628d207431f0289a2942"> 1049</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a603e39bd7102628d207431f0289a2942">llvm::SimplifyFMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                              <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a> FMF,</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aaf1eabd5d9b7cd95724a53c7b9153d88">return ::SimplifyFMulInst</a>(Op0, Op1, FMF, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502"> 1057</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502">llvm::SimplifyMulInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#abc01555e7c8c2c38a270e1a2833be953">return ::SimplifyMulInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">/// SimplifyDiv - Given operands for an SDiv or UDiv, see if we can</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a459cca9e97ecc929936dd17d5ccc6f4a"> 1065</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a459cca9e97ecc929936dd17d5ccc6f4a">SimplifyDiv</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C0 = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { C0, <a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> };</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Opcode, C0-&gt;getType(), Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">bool</span> isSigned = Opcode == Instruction::SDiv;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// X / undef -&gt; undef</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">// undef / X -&gt; 0</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// 0 / X -&gt; 0, we don&#39;t need to preserve faults!</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// X / 1 -&gt; X</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// It can&#39;t be division by zero, hence it must be division by one.</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="comment">// X / X -&gt; 1</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), 1);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// (X * Y) / Y -&gt; X if the multiplication does not overflow.</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a> = 0, *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> = 0;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">m_Mul</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>))) &amp;&amp; (X == Op1 || <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> == Op1)) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a> != Op1) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(X, <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>); <span class="comment">// Ensure expression is (X * Y) / Y, Y = Op1</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="classllvm_1_1OverflowingBinaryOperator.html">OverflowingBinaryOperator</a> *Mul = cast&lt;OverflowingBinaryOperator&gt;(Op0);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// If the Mul knows it does not overflow, then we are good to go.</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> ((isSigned &amp;&amp; Mul-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#a5a1ebefdf12a23a94f8a135cdfa0cd90">hasNoSignedWrap</a>()) ||</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        (!isSigned &amp;&amp; Mul-&gt;<a class="code" href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">hasNoUnsignedWrap</a>()))</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// If X has the form X = A / Y then X * Y cannot overflow.</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *Div = dyn_cast&lt;BinaryOperator&gt;(X))</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">if</span> (Div-&gt;getOpcode() == Opcode &amp;&amp; Div-&gt;getOperand(1) == <a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>)</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">return</span> X;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">// (X rem Y) / Y -&gt; 0</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">if</span> ((isSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">m_SRem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))) ||</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      (!isSigned &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))))</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">/// SimplifySDivInst - Given operands for an SDiv, see if we can</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#afa3db53aac2406cd433bfa7d2b59c249"> 1137</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad">SimplifySDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a459cca9e97ecc929936dd17d5ccc6f4a">SimplifyDiv</a>(Instruction::SDiv, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad"> 1145</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad">llvm::SimplifySDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#afa3db53aac2406cd433bfa7d2b59c249">return ::SimplifySDivInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">/// SimplifyUDivInst - Given operands for a UDiv, see if we can</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac8c641ba1d16b13768c902a449e66d26"> 1153</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e">SimplifyUDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a459cca9e97ecc929936dd17d5ccc6f4a">SimplifyDiv</a>(Instruction::UDiv, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e"> 1161</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e">llvm::SimplifyUDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ac8c641ba1d16b13768c902a449e66d26">return ::SimplifyUDivInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a11c6718a5a17381cf5cb389d10c898d3"> 1167</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb">SimplifyFDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                               <span class="keywordtype">unsigned</span>) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// undef / X -&gt; undef    (the undef could be a snan).</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// X / undef -&gt; undef</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb"> 1180</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb">llvm::SimplifyFDivInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a11c6718a5a17381cf5cb389d10c898d3">return ::SimplifyFDivInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">/// SimplifyRem - Given operands for an SRem or URem, see if we can</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a8ec6470e6455e8806d32ba07fd095ec9"> 1188</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a8ec6470e6455e8806d32ba07fd095ec9">SimplifyRem</a>(<a class="code" href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">Instruction::BinaryOps</a> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C0 = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { C0, <a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> };</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Opcode, C0-&gt;getType(), Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="comment">// X % undef -&gt; undef</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="comment">// undef % X -&gt; 0</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// 0 % X -&gt; 0, we don&#39;t need to preserve faults!</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// X % 0 -&gt; undef, we don&#39;t need to preserve faults!</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// X % 1 -&gt; 0</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1))</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="comment">// It can&#39;t be remainder by zero, hence it must be remainder by one.</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">// X % X -&gt; 0</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">/// SimplifySRemInst - Given operands for an SRem, see if we can</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#adf9127162fae808a675cd1d44a8e38b2"> 1242</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804">SimplifySRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a8ec6470e6455e8806d32ba07fd095ec9">SimplifyRem</a>(Instruction::SRem, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804"> 1250</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804">llvm::SimplifySRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#adf9127162fae808a675cd1d44a8e38b2">return ::SimplifySRemInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">/// SimplifyURemInst - Given operands for a URem, see if we can</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aaffd3bfa7400523c828ba30144b7aae4"> 1258</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35">SimplifyURemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                               <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a8ec6470e6455e8806d32ba07fd095ec9">SimplifyRem</a>(Instruction::URem, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;}</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"><a class="line" href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35"> 1266</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35">llvm::SimplifyURemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aaffd3bfa7400523c828ba30144b7aae4">return ::SimplifyURemInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab33202840b77d70fcd2cb4357a3dd403"> 1272</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a">SimplifyFRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;,</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                               <span class="keywordtype">unsigned</span>) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// undef % X -&gt; undef    (the undef could be a snan).</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// X % undef -&gt; undef</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;}</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"><a class="line" href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a"> 1285</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a">llvm::SimplifyFRemInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ab33202840b77d70fcd2cb4357a3dd403">return ::SimplifyFRemInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">/// SimplifyShift - Given operands for an Shl, LShr or AShr, see if we can</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b"> 1293</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b">SimplifyShift</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1,</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C0 = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { C0, <a class="code" href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a> };</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Opcode, C0-&gt;getType(), Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// 0 shift by X -&gt; 0</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="comment">// X shift by 0 -&gt; X</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="comment">// X shift by undef -&gt; undef because it may shift by the bitwidth.</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">// Shifting by the bitwidth or more is undefined.</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(Op1))</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> (CI-&gt;getValue().getLimitedValue() &gt;=</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">getScalarSizeInBits</a>())</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(Opcode, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">/// SimplifyShlInst - Given operands for an Shl, see if we can</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01337"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa6cb344bb3e84a4f93e71295466474ef"> 1337</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044">SimplifyShlInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b">SimplifyShift</a>(Instruction::Shl, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// undef &lt;&lt; X -&gt; 0</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// (X &gt;&gt; A) &lt;&lt; A -&gt; X</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">m_Exact</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a8429e9826885bbef0cfb350bbc49f5db">m_Shr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1)))))</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">return</span> X;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;}</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044"> 1353</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044">llvm::SimplifyShlInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isNSW, <span class="keywordtype">bool</span> isNUW,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aa6cb344bb3e84a4f93e71295466474ef">return ::SimplifyShlInst</a>(Op0, Op1, isNSW, isNUW, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                           <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">/// SimplifyLShrInst - Given operands for an LShr, see if we can</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01362"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ad335041b5d161895eb7cb20fa023eefc"> 1362</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46">SimplifyLShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isExact,</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b">SimplifyShift</a>(Instruction::LShr, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">// X &gt;&gt; X -&gt; 0</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">// undef &gt;&gt;l X -&gt; 0</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// (X &lt;&lt; A) &gt;&gt; A -&gt; X</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) &amp;&amp;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      cast&lt;OverflowingBinaryOperator&gt;(Op0)-&gt;hasNoUnsignedWrap())</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">return</span> X;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46"> 1384</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46">llvm::SimplifyLShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isExact,</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ad335041b5d161895eb7cb20fa023eefc">return ::SimplifyLShrInst</a>(Op0, Op1, isExact, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;}</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">/// SimplifyAShrInst - Given operands for an AShr, see if we can</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01394"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a41e5cfcd9440dd9a108a59b4a9d49c44"> 1394</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266">SimplifyAShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isExact,</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b">SimplifyShift</a>(Instruction::AShr, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">// X &gt;&gt; X -&gt; 0</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="comment">// all ones &gt;&gt;a X -&gt; all ones</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">// undef &gt;&gt;a X -&gt; all ones</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="comment">// (X &lt;&lt; A) &gt;&gt; A -&gt; X</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">X</a>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">m_Shl</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(X), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) &amp;&amp;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      cast&lt;OverflowingBinaryOperator&gt;(Op0)-&gt;hasNoSignedWrap())</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> X;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266"> 1420</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266">llvm::SimplifyAShrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keywordtype">bool</span> isExact,</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a41e5cfcd9440dd9a108a59b4a9d49c44">return ::SimplifyAShrInst</a>(Op0, Op1, isExact, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">/// SimplifyAndInst - Given operands for an And, see if we can</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01430"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aa38e486f1adef6e6bd428a0b50e5f6a6"> 1430</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                              <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, CLHS-&gt;getType(),</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="comment">// X &amp; undef -&gt; 0</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// X &amp; X = X</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// X &amp; 0 = 0</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="comment">// X &amp; -1 = X</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// A &amp; ~A  =  ~A &amp; A  =  0</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">// (A | ?) &amp; A = A</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = 0, *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = 0;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>))) &amp;&amp;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      (A == Op1 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op1))</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// A &amp; (A | ?) = A</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>))) &amp;&amp;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      (A == Op0 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op0))</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// A &amp; (-A) = A if A is a power of two or zero.</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">m_Neg</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0)))) {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(Op0, <span class="comment">/*OrZero*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">isKnownToBeAPowerOfTwo</a>(Op1, <span class="comment">/*OrZero*/</span><span class="keyword">true</span>))</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  }</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, Q,</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                                          MaxRecurse))</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// And distributes over Or.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>,</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                             Q, MaxRecurse))</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// And distributes over Xor.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                             Q, MaxRecurse))</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="comment">// Or distributes over And.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                                Q, MaxRecurse))</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, Q,</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                                         MaxRecurse))</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Op0, Op1, Q,</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                      MaxRecurse))</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a"> 1521</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">llvm::SimplifyAndInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#aa38e486f1adef6e6bd428a0b50e5f6a6">return ::SimplifyAndInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">/// SimplifyOrInst - Given operands for an Or, see if we can</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01529"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a38bdade7a4f13d25ec79631ba5bbd5f5"> 1529</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">SimplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                             <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, CLHS-&gt;getType(),</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    }</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  }</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="comment">// X | undef -&gt; -1</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="comment">// X | X = X</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="comment">// X | 0 = X</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="comment">// X | -1 = -1</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">m_AllOnes</a>()))</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="comment">// A | ~A  =  ~A | A  =  -1</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">// (A &amp; ?) | A = A</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = 0, *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = 0;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>))) &amp;&amp;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      (A == Op1 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op1))</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="comment">// A | (A &amp; ?) = A</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>))) &amp;&amp;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      (A == Op0 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op0))</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// ~(A &amp; ?) | A = -1</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>)))) &amp;&amp;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      (A == Op1 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op1))</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op1-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="comment">// A | ~(A &amp; ?) = -1</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>)))) &amp;&amp;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      (A == Op0 || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == Op0))</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, Op0, Op1, Q,</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                                          MaxRecurse))</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="comment">// Or distributes over And.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>, Q,</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                             MaxRecurse))</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// And distributes over Or.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>,</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                Q, MaxRecurse))</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// If the operation is with the result of a select instruction, check whether</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(Op0) || isa&lt;SelectInst&gt;(Op1))</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, Op0, Op1, Q,</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                                         MaxRecurse))</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(Op0) || isa&lt;PHINode&gt;(Op1))</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>, Op0, Op1, Q, MaxRecurse))</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"><a class="line" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82"> 1615</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">llvm::SimplifyOrInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a38bdade7a4f13d25ec79631ba5bbd5f5">return ::SimplifyOrInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;}</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">/// SimplifyXorInst - Given operands for a Xor, see if we can</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01623"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a858d44cd009d82781c41c71ae61a451f"> 1623</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                              <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(Op0)) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(Op1)) {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Ops[] = { CLHS, CRHS };</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>, CLHS-&gt;getType(),</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                                      Ops, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="comment">// Canonicalize the constant to the RHS.</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(Op0, Op1);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  }</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <span class="comment">// A ^ undef -&gt; undef</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span> Op1;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="comment">// A ^ 0 = A</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> Op0;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="comment">// A ^ A = 0</span></div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">if</span> (Op0 == Op1)</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// A ^ ~A  =  ~A ^ A  =  -1</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op0, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op1))) ||</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Op1, <a class="code" href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">m_Not</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(Op0))))</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">Constant::getAllOnesValue</a>(Op0-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="comment">// Try some generic simplifications for associative operations.</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>, Op0, Op1, Q,</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                          MaxRecurse))</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="comment">// And distributes over Xor.  Try some generic simplifications based on this.</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a>(<a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>, Op0, Op1, <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                Q, MaxRecurse))</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">return</span> V;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="comment">// Threading Xor over selects and phi nodes is pointless, so don&#39;t bother.</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="comment">// Threading over the select in &quot;A ^ select(cond, B, C)&quot; means evaluating</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="comment">// &quot;A^B&quot; and &quot;A^C&quot; and seeing if they are equal; but they are equal if and</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="comment">// only if B and C are equal.  If B and C are equal then (since we assume</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="comment">// that operands have already been simplified) &quot;select(cond, B, C)&quot; should</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="comment">// have been simplified to the common value of B and C already.  Analysing</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <span class="comment">// &quot;A^B&quot; and &quot;A^C&quot; thus gains nothing, but costs compile time.  Similarly</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="comment">// for threading over phi nodes.</span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;}</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222"> 1675</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">llvm::SimplifyXorInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op0, <a class="code" href="classllvm_1_1Value.html">Value</a> *Op1, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a858d44cd009d82781c41c71ae61a451f">return ::SimplifyXorInst</a>(Op0, Op1, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951"> 1681</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op) {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">CmpInst::makeCmpResultType</a>(Op-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;}</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">/// ExtractEquivalentCondition - Rummage around inside V looking for something</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="comment">/// equivalent to the comparison &quot;LHS Pred RHS&quot;.  Return such a value if found,</span></div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment">/// otherwise return null.  Helper function for analyzing max/min idioms.</span></div><div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3"> 1688</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred,</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                                         <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS) {</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *SI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a>&gt;(V);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="keywordflow">if</span> (!SI)</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a> *Cmp = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1CmpInst.html">CmpInst</a>&gt;(SI-&gt;<a class="code" href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">getCondition</a>());</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">if</span> (!Cmp)</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CmpLHS = Cmp-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), *CmpRHS = Cmp-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordflow">if</span> (Pred == Cmp-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>() &amp;&amp; LHS == CmpLHS &amp;&amp; RHS == CmpRHS)</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">return</span> Cmp;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Cmp-&gt;<a class="code" href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">getPredicate</a>()) &amp;&amp;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      LHS == CmpRHS &amp;&amp; RHS == CmpLHS)</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">return</span> Cmp;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment">// A significant optimization not implemented here is assuming that alloca</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment">// addresses are not equal to incoming argument values. They don&#39;t *alias*,</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment">// as we say, but that doesn&#39;t mean they aren&#39;t equal, so we take a</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment">// conservative approach.</span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">// This is inspired in part by C++11 5.10p1:</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment">//   &quot;Two pointers of the same type compare equal if and only if they are both</span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment">//    null, both point to the same function, or both represent the same</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">//    address.&quot;</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">// This is pretty permissive.</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment">// It&#39;s also partly due to C11 6.5.9p6:</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment">//   &quot;Two pointers compare equal if and only if both are null pointers, both are</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment">//    pointers to the same object (including a pointer to an object and a</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment">//    subobject at its beginning) or function, both are pointers to one past the</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="comment">//    last element of the same array object, or one is a pointer to one past the</span></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="comment">//    end of one array object and the other is a pointer to the start of a</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="comment">//    different array object that happens to immediately follow the first array</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="comment">//    object in the address space.)</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment">// C11&#39;s version is more restrictive, however there&#39;s no reason why an argument</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">// couldn&#39;t be a one-past-the-end value for a stack object in the caller and be</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">// equal to the beginning of a stack object in the callee.</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">// If the C and C++ standards are ever made sufficiently restrictive in this</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">// area, it may be possible to update LLVM&#39;s semantics accordingly and reinstate</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">// this optimization.</span></div><div class="line"><a name="l01733"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a8273cb383aec5c7a0f2252e60170c908"> 1733</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="InstructionSimplify_8cpp.html#a8273cb383aec5c7a0f2252e60170c908">computePointerICmp</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                    <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred,</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                                    <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS) {</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">// First, skip past any trivial no-ops.</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  LHS = LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">stripPointerCasts</a>();</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  RHS = RHS-&gt;<a class="code" href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">stripPointerCasts</a>();</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="comment">// A non-null pointer is not equal to a null pointer.</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">llvm::isKnownNonNull</a>(LHS, TLI) &amp;&amp; isa&lt;ConstantPointerNull&gt;(RHS) &amp;&amp;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>))</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS),</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                            !<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred));</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="comment">// We can only fold certain predicates on pointer comparisons.</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">// Equality comaprisons are easy to fold.</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="comment">// We can only handle unsigned relational comparisons because &#39;inbounds&#39; on</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="comment">// a GEP only protects against unsigned wrapping.</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="comment">// However, we have to switch them to their signed variants to handle</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="comment">// negative indices from the base pointer.</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    Pred = <a class="code" href="classllvm_1_1ICmpInst.html#a07a99ca6c9f72dfa90f46a2b3ec22c86">ICmpInst::getSignedPredicate</a>(Pred);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// Strip off any constant offsets so that we can reason about them.</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// It&#39;s tempting to use getUnderlyingObject or even just stripInBoundsOffsets</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="comment">// here and compare base addresses like AliasAnalysis does, however there are</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="comment">// numerous hazards. AliasAnalysis and its utilities rely on special rules</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="comment">// governing loads and stores which don&#39;t apply to icmps. Also, AliasAnalysis</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="comment">// doesn&#39;t need to guarantee pointer inequality when it says NoAlias.</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, LHS);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSOffset = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, RHS);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="comment">// If LHS and RHS are related via constant offsets to the same base</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">// value, we can replace it with an icmp which just compares the offsets.</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">if</span> (LHS == RHS)</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(Pred, LHSOffset, RHSOffset);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="comment">// Various optimizations for (in)equality comparisons.</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a> || Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">// Different non-empty allocations that exist at the same time have</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">// different addresses (if the program can tell). Global variables always</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="comment">// exist, so they always exist during the lifetime of each other and all</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="comment">// allocas. Two different allocas usually have different addresses...</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="comment">// However, if there&#39;s an @llvm.stackrestore dynamically in between two</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="comment">// allocas, they may have the same address. It&#39;s tempting to reduce the</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="comment">// scope of the problem by only looking at *static* allocas here. That would</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="comment">// cover the majority of allocas while significantly reducing the likelihood</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="comment">// of having an @llvm.stackrestore pop up in the middle. However, it&#39;s not</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="comment">// actually impossible for an @llvm.stackrestore to pop up in the middle of</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="comment">// an entry block. Also, if we have a block that&#39;s not attached to a</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="comment">// function, we can&#39;t tell if it&#39;s &quot;static&quot; under the current definition.</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="comment">// Theoretically, this problem could be fixed by creating a new kind of</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">// instruction kind specifically for static allocas. Such a new instruction</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="comment">// could be required to be at the top of the entry block, thus preventing it</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">// from being subject to a @llvm.stackrestore. Instcombine could even</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="comment">// convert regular allocas into these special allocas. It&#39;d be nifty.</span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="comment">// However, until then, this problem remains open.</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="comment">// So, we&#39;ll assume that two non-empty allocas have different addresses</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">// for now.</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="comment">// With all that, if the offsets are within the bounds of their allocations</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="comment">// (and not one-past-the-end! so we can&#39;t use inbounds!), and their</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="comment">// allocations aren&#39;t the same, the pointers are not equal.</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="comment">// Note that it&#39;s not necessary to check for LHS being a global variable</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="comment">// address, due to canonicalization and constant folding.</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">if</span> (isa&lt;AllocaInst&gt;(LHS) &amp;&amp;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        (isa&lt;AllocaInst&gt;(RHS) || isa&lt;GlobalVariable&gt;(RHS))) {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *LHSOffsetCI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(LHSOffset);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *RHSOffsetCI = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a>&gt;(RHSOffset);</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      uint64_t LHSSize, RHSSize;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      <span class="keywordflow">if</span> (LHSOffsetCI &amp;&amp; RHSOffsetCI &amp;&amp;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          <a class="code" href="namespacellvm.html#ade9baf821f59f9a2977a1deaccb18023">getObjectSize</a>(LHS, LHSSize, TD, TLI) &amp;&amp;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;          <a class="code" href="namespacellvm.html#ade9baf821f59f9a2977a1deaccb18023">getObjectSize</a>(RHS, RHSSize, TD, TLI)) {</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;LHSOffsetValue = LHSOffsetCI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1APInt.html">APInt</a> &amp;RHSOffsetValue = RHSOffsetCI-&gt;getValue();</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="keywordflow">if</span> (!LHSOffsetValue.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>() &amp;&amp;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            !RHSOffsetValue.<a class="code" href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">isNegative</a>() &amp;&amp;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            LHSOffsetValue.<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(LHSSize) &amp;&amp;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            RHSOffsetValue.<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(RHSSize)) {</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS),</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                                  !<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred));</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        }</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      }</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      <span class="comment">// Repeat the above check but this time without depending on DataLayout</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <span class="comment">// or being able to compute a precise size.</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="keywordflow">if</span> (!cast&lt;PointerType&gt;(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;isEmptyTy() &amp;&amp;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;          !cast&lt;PointerType&gt;(RHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>())-&gt;isEmptyTy() &amp;&amp;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          LHSOffset-&gt;<a class="code" href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">isNullValue</a>() &amp;&amp;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;          RHSOffset-&gt;<a class="code" href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">isNullValue</a>())</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS),</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                !<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred));</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    }</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="comment">// Even if an non-inbounds GEP occurs along the path we can still optimize</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="comment">// equality comparisons concerning the result. We avoid walking the whole</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="comment">// chain again by starting where the last calls to</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="comment">// stripAndComputeConstantOffsets left off and accumulate the offsets.</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *LHSNoBound = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, LHS, <span class="keyword">true</span>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSNoBound = <a class="code" href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a>(TD, RHS, <span class="keyword">true</span>);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">if</span> (LHS == RHS)</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(Pred,</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                   <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(LHSOffset, LHSNoBound),</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                                   <a class="code" href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">ConstantExpr::getAdd</a>(RHSOffset, RHSNoBound));</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  }</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="comment">// Otherwise, fail.</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;}</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="comment">/// SimplifyICmpInst - Given operands for an ICmpInst, see if we can</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l01861"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a33faa8606af3eeea31426aed18edd16e"> 1861</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred = (<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a>)Predicate;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  assert(<a class="code" href="classllvm_1_1CmpInst.html#a9a85fb22d40ffa2b7dd4b199494528f8">CmpInst::isIntPredicate</a>(Pred) &amp;&amp; <span class="stringliteral">&quot;Not an integer compare!&quot;</span>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(LHS)) {</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(RHS))</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(Pred, CLHS, CRHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// If we have a constant, make sure it is on the RHS.</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  }</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ITy = <a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS); <span class="comment">// The return type.</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *OpTy = LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();   <span class="comment">// The operand type.</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="comment">// icmp X, X -&gt; true/false</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="comment">// X icmp undef -&gt; true/false.  For example, icmp ugt %X, undef -&gt; false</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="comment">// because X could be 0.</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keywordflow">if</span> (LHS == RHS || isa&lt;UndefValue&gt;(RHS))</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(ITy, <a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred));</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="comment">// Special case logic when the operands have i1 type.</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">if</span> (OpTy-&gt;<a class="code" href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">getScalarType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">isIntegerTy</a>(1)) {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="comment">// X == 1 -&gt; X</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      <span class="comment">// X != 0 -&gt; X</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="comment">// X &gt;u 0 -&gt; X</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="comment">// X &gt;=u 1 -&gt; X</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      <span class="comment">// X &lt;s 0 -&gt; X</span></div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>()))</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <span class="comment">// X &lt;=s -1 -&gt; X</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">m_One</a>()))</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">return</span> LHS;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="comment">// If we are comparing with zero then try hard since this is a common case.</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">m_Zero</a>())) {</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordtype">bool</span> LHSKnownNonNegative, LHSKnownNegative;</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(LHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>))</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(LHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>))</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, LHSKnownNonNegative, LHSKnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNegative)</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNonNegative)</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, LHSKnownNonNegative, LHSKnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNegative)</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNonNegative &amp;&amp; <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(LHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>))</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, LHSKnownNonNegative, LHSKnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNegative)</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNonNegative)</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, LHSKnownNonNegative, LHSKnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNegative)</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      <span class="keywordflow">if</span> (LHSKnownNonNegative &amp;&amp; <a class="code" href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">isKnownNonZero</a>(LHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>))</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    }</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  }</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="comment">// See if we are doing a comparison with a constant integer.</span></div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(RHS)) {</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="comment">// Rule out tautological comparisons (eg., ult 0 or uge 0).</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> RHS_CR = <a class="code" href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">ICmpInst::makeConstantRange</a>(Pred, CI-&gt;getValue());</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#ae02fb0a19012613dcf2f9f24a1a3cf99">isEmptySet</a>())</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">isFullSet</a>())</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="comment">// Many binary operators with constant RHS have easy to compute constant</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="comment">// range.  Use them to check whether the comparison is a tautology.</span></div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    uint32_t Width = CI-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">getBitWidth</a>();</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Lower = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(Width, 0);</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <a class="code" href="classllvm_1_1APInt.html">APInt</a> Upper = <a class="code" href="classllvm_1_1APInt.html">APInt</a>(Width, 0);</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI2;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <span class="comment">// &#39;urem x, CI2&#39; produces [0, CI2).</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      Upper = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">m_SRem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="comment">// &#39;srem x, CI2&#39; produces (-|CI2|, |CI2|).</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      Upper = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">abs</a>();</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      Lower = (-Upper) + 1;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <span class="comment">// &#39;udiv CI2, x&#39; produces [0, CI2].</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      Upper = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() + 1;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      <span class="comment">// &#39;udiv x, CI2&#39; produces [0, UINT_MAX / CI2].</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NegOne = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(Width);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">if</span> (!CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">isZero</a>())</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        Upper = NegOne.<a class="code" href="classllvm_1_1APInt.html#a793f3a97421b79af6bab764524a9b532">udiv</a>(CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()) + 1;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">m_SDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="comment">// &#39;sdiv x, CI2&#39; produces [INT_MIN / CI2, INT_MAX / CI2].</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntMin = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(Width);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntMax = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(Width);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> Val = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">abs</a>();</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <span class="keywordflow">if</span> (!Val.<a class="code" href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">isMinValue</a>()) {</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        Lower = IntMin.<a class="code" href="classllvm_1_1APInt.html#a482ad0f63ec145fdba2497e2298a5aa1">sdiv</a>(Val);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        Upper = IntMax.<a class="code" href="classllvm_1_1APInt.html#a482ad0f63ec145fdba2497e2298a5aa1">sdiv</a>(Val) + 1;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      }</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">m_LShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <span class="comment">// &#39;lshr x, CI2&#39; produces [0, UINT_MAX &gt;&gt; CI2].</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> NegOne = <a class="code" href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">APInt::getAllOnesValue</a>(Width);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <span class="keywordflow">if</span> (CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(Width))</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        Upper = NegOne.<a class="code" href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">lshr</a>(CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()) + 1;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">m_AShr</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="comment">// &#39;ashr x, CI2&#39; produces [INT_MIN &gt;&gt; CI2, INT_MAX &gt;&gt; CI2].</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntMin = <a class="code" href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">APInt::getSignedMinValue</a>(Width);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      <a class="code" href="classllvm_1_1APInt.html">APInt</a> IntMax = <a class="code" href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">APInt::getSignedMaxValue</a>(Width);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <span class="keywordflow">if</span> (CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">ult</a>(Width)) {</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        Lower = IntMin.<a class="code" href="classllvm_1_1APInt.html#a70a4dac7efca53879acb06d8cd2e9800">ashr</a>(CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>());</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        Upper = IntMax.<a class="code" href="classllvm_1_1APInt.html#a70a4dac7efca53879acb06d8cd2e9800">ashr</a>(CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>()) + 1;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      }</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">m_Or</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      <span class="comment">// &#39;or x, CI2&#39; produces [CI2, UINT_MAX].</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      Lower = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>();</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">m_And</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">m_ConstantInt</a>(CI2)))) {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <span class="comment">// &#39;and x, CI2&#39; produces [0, CI2].</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      Upper = CI2-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">getValue</a>() + 1;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    }</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">if</span> (Lower != Upper) {</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a> LHS_CR = <a class="code" href="classllvm_1_1ConstantRange.html">ConstantRange</a>(Lower, Upper);</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;      <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(LHS_CR))</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(RHS-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>());</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <span class="keywordflow">if</span> (RHS_CR.<a class="code" href="classllvm_1_1ConstantRange.html#a3b6b85760d6f19980ca3f98b7dc6fad4">inverse</a>().<a class="code" href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">contains</a>(LHS_CR))</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(RHS-&gt;<a class="code" href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">getContext</a>());</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="comment">// Compare of cast, for example (zext X) != 0 -&gt; X != 0</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <span class="keywordflow">if</span> (isa&lt;CastInst&gt;(LHS) &amp;&amp; (isa&lt;Constant&gt;(RHS) || isa&lt;CastInst&gt;(RHS))) {</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *LI = cast&lt;CastInst&gt;(LHS);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *SrcOp = LI-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *SrcTy = SrcOp-&gt;getType();</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *DstTy = LI-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="comment">// Turn icmp (ptrtoint x), (ptrtoint/constant) into a compare of the input</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// if the integer type is the same size as the pointer type.</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a> &amp;&amp; isa&lt;PtrToIntInst&gt;(LI) &amp;&amp;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>-&gt;<a class="code" href="classllvm_1_1DataLayout.html#add914112e0b2935dda06ad5dfd3a31db">getTypeSizeInBits</a>(SrcTy) == DstTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">getPrimitiveSizeInBits</a>()) {</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSC = dyn_cast&lt;Constant&gt;(RHS)) {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="comment">// Transfer the cast to the constant.</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, SrcOp,</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                                        <a class="code" href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">ConstantExpr::getIntToPtr</a>(RHSC, SrcTy),</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                                        Q, MaxRecurse-1))</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PtrToIntInst.html">PtrToIntInst</a> *RI = dyn_cast&lt;PtrToIntInst&gt;(RHS)) {</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        <span class="keywordflow">if</span> (RI-&gt;getOperand(0)-&gt;getType() == SrcTy)</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;          <span class="comment">// Compare without the cast.</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, SrcOp, RI-&gt;getOperand(0),</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                                          Q, MaxRecurse-1))</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      }</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span> (isa&lt;ZExtInst&gt;(LHS)) {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="comment">// Turn icmp (zext X), (zext Y) into a compare of X and Y if they have the</span></div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="comment">// same type.</span></div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ZExtInst.html">ZExtInst</a> *RI = dyn_cast&lt;ZExtInst&gt;(RHS)) {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; SrcTy == RI-&gt;getOperand(0)-&gt;getType())</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;          <span class="comment">// Compare X and Y.  Note that signed predicates become unsigned.</span></div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(<a class="code" href="classllvm_1_1ICmpInst.html#a472ce166c50612c9e0cf8fd4927978b5">ICmpInst::getUnsignedPredicate</a>(Pred),</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                                          SrcOp, RI-&gt;getOperand(0), Q,</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                                          MaxRecurse-1))</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      }</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      <span class="comment">// Turn icmp (zext X), Cst into a compare of X and Cst if Cst is extended</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <span class="comment">// too.  If not, then try to deduce the result of the comparison.</span></div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(RHS)) {</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="comment">// Compute the constant that would happen if we truncated to SrcTy then</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="comment">// reextended to DstTy.</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Trunc = <a class="code" href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">ConstantExpr::getTrunc</a>(CI, SrcTy);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RExt = <a class="code" href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">ConstantExpr::getCast</a>(CastInst::ZExt, Trunc, DstTy);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="comment">// If the re-extended constant didn&#39;t change then this is effectively</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <span class="comment">// also a case of comparing two zero-extended values.</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        <span class="keywordflow">if</span> (RExt == CI &amp;&amp; MaxRecurse)</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(<a class="code" href="classllvm_1_1ICmpInst.html#a472ce166c50612c9e0cf8fd4927978b5">ICmpInst::getUnsignedPredicate</a>(Pred),</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                                        SrcOp, Trunc, Q, MaxRecurse-1))</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="comment">// Otherwise the upper bits of LHS are zero while RHS has a non-zero bit</span></div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="comment">// there.  Use this to work out the result of the comparison.</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">if</span> (RExt != CI) {</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;          <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;          <span class="comment">// LHS &lt;u RHS.</span></div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;          <span class="comment">// LHS is non-negative.  If RHS is negative then LHS &gt;s LHS.  If RHS</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;          <span class="comment">// is non-negative then LHS &lt;s RHS.</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative() ?</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext()) :</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative() ?</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext()) :</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;          }</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      }</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SExtInst&gt;(LHS)) {</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="comment">// Turn icmp (sext X), (sext Y) into a compare of X and Y if they have the</span></div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="comment">// same type.</span></div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SExtInst.html">SExtInst</a> *RI = dyn_cast&lt;SExtInst&gt;(RHS)) {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; SrcTy == RI-&gt;getOperand(0)-&gt;getType())</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;          <span class="comment">// Compare X and Y.  Note that the predicate does not change.</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, SrcOp, RI-&gt;getOperand(0),</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                                          Q, MaxRecurse-1))</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      }</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="comment">// Turn icmp (sext X), Cst into a compare of X and Cst if Cst is extended</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="comment">// too.  If not, then try to deduce the result of the comparison.</span></div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CI = dyn_cast&lt;ConstantInt&gt;(RHS)) {</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="comment">// Compute the constant that would happen if we truncated to SrcTy then</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="comment">// reextended to DstTy.</span></div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Trunc = <a class="code" href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">ConstantExpr::getTrunc</a>(CI, SrcTy);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *RExt = <a class="code" href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">ConstantExpr::getCast</a>(CastInst::SExt, Trunc, DstTy);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <span class="comment">// If the re-extended constant didn&#39;t change then this is effectively</span></div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        <span class="comment">// also a case of comparing two sign-extended values.</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        <span class="keywordflow">if</span> (RExt == CI &amp;&amp; MaxRecurse)</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, SrcOp, Trunc, Q, MaxRecurse-1))</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <span class="comment">// Otherwise the upper bits of LHS are all equal, while RHS has varying</span></div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="comment">// bits there.  Use this to work out the result of the comparison.</span></div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">if</span> (RExt != CI) {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;          <span class="keywordflow">default</span>: <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown ICmp predicate!&quot;</span>);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;          <span class="comment">// If RHS is non-negative then LHS &lt;s RHS.  If RHS is negative then</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;          <span class="comment">// LHS &gt;s RHS.</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative() ?</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext()) :</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext());</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <span class="keywordflow">return</span> CI-&gt;getValue().isNegative() ?</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CI-&gt;getContext()) :</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;              <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CI-&gt;getContext());</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          <span class="comment">// If LHS is non-negative then LHS &lt;u RHS.  If LHS is negative then</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;          <span class="comment">// LHS &gt;u RHS.</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;            <span class="comment">// Comparison is true iff the LHS &lt;s 0.</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>, SrcOp,</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                              <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(SrcTy),</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                                              Q, MaxRecurse-1))</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <span class="comment">// Comparison is true iff the LHS &gt;=s 0.</span></div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>, SrcOp,</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                                              <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(SrcTy),</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                                              Q, MaxRecurse-1))</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;          }</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        }</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      }</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    }</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  }</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="comment">// Special logic for binary operators.</span></div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *LBO = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(LHS);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *RBO = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a>&gt;(RHS);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; (LBO || RBO)) {</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="comment">// Analyze the case when either LHS or RHS is an add instruction.</span></div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = 0, *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = 0, *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = 0, *D = 0;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="comment">// LHS = A + B (or A and B are null); RHS = C + D (or C and D are null).</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordtype">bool</span> NoLHSWrapProblem = <span class="keyword">false</span>, NoRHSWrapProblem = <span class="keyword">false</span>;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">if</span> (LBO &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == Instruction::Add) {</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      A = LBO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0); <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = LBO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      NoLHSWrapProblem = <a class="code" href="classllvm_1_1ICmpInst.html#a9adf718c253dc7c1c7e859265cd3fc3d">ICmpInst::isEquality</a>(Pred) ||</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        (<a class="code" href="classllvm_1_1CmpInst.html#acc4aad24e3e9f04088c9b7802a7a5718">CmpInst::isUnsigned</a>(Pred) &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a5b6cd6c043f54b40899aff62e6e40488">hasNoUnsignedWrap</a>()) ||</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        (<a class="code" href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">CmpInst::isSigned</a>(Pred) &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a07783e6f39803037259a1ebe376c2b1e">hasNoSignedWrap</a>());</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    }</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="keywordflow">if</span> (RBO &amp;&amp; RBO-&gt;getOpcode() == Instruction::Add) {</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = RBO-&gt;getOperand(0); D = RBO-&gt;getOperand(1);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      NoRHSWrapProblem = <a class="code" href="classllvm_1_1ICmpInst.html#a9adf718c253dc7c1c7e859265cd3fc3d">ICmpInst::isEquality</a>(Pred) ||</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        (<a class="code" href="classllvm_1_1CmpInst.html#acc4aad24e3e9f04088c9b7802a7a5718">CmpInst::isUnsigned</a>(Pred) &amp;&amp; RBO-&gt;hasNoUnsignedWrap()) ||</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        (<a class="code" href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">CmpInst::isSigned</a>(Pred) &amp;&amp; RBO-&gt;hasNoSignedWrap());</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    }</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="comment">// icmp (X+Y), X -&gt; icmp Y, 0 for equalities or if there is no overflow.</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">if</span> ((A == RHS || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == RHS) &amp;&amp; NoLHSWrapProblem)</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, A == RHS ? <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> : A,</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                                      <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(RHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()),</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                                      Q, MaxRecurse-1))</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="comment">// icmp X, (X+Y) -&gt; icmp 0, Y for equalities or if there is no overflow.</span></div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == LHS || D == LHS) &amp;&amp; NoRHSWrapProblem)</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred,</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                                      <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()),</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                                      <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> == LHS ? D : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q, MaxRecurse-1))</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="comment">// icmp (X+Y), (X+Z) -&gt; icmp Y,Z for equalities or if there is no overflow.</span></div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">if</span> (A &amp;&amp; C &amp;&amp; (A == C || A == D || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == C || <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == D) &amp;&amp;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        NoLHSWrapProblem &amp;&amp; NoRHSWrapProblem) {</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="comment">// Determine Y and Z in the form icmp (X+Y), (X+Z).</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a>, *Z;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordflow">if</span> (A == C) {</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="comment">// C + B == C + D  -&gt;  B == D</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        Y = <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        Z = D;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (A == D) {</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="comment">// D + B == C + D  -&gt;  B == C</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        Y = <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        Z = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == C) {</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="comment">// A + C == C + D  -&gt;  A == D</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        Y = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        Z = D;</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        assert(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> == D);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="comment">// A + D == C + D  -&gt;  A == C</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        Y = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        Z = <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      }</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, Y, Z, Q, MaxRecurse-1))</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    }</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  }</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="comment">// icmp pred (urem X, Y), Y</span></div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">if</span> (LBO &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(RHS)))) {</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordtype">bool</span> KnownNonNegative, KnownNegative;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(RHS, KnownNonNegative, KnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <span class="keywordflow">if</span> (!KnownNonNegative)</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(RHS, KnownNonNegative, KnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      <span class="keywordflow">if</span> (!KnownNonNegative)</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    }</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  }</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="comment">// icmp pred X, (urem Y, X)</span></div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <span class="keywordflow">if</span> (RBO &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">m_URem</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(), <a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(LHS)))) {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordtype">bool</span> KnownNonNegative, KnownNegative;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">ICmpInst::ICMP_SGT</a>:</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">ICmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, KnownNonNegative, KnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;      <span class="keywordflow">if</span> (!KnownNonNegative)</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">ICmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>:</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">ICmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">ICmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">ICmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <a class="code" href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">ComputeSignBit</a>(LHS, KnownNonNegative, KnownNegative, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <span class="keywordflow">if</span> (!KnownNonNegative)</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">ICmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">ICmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    }</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  }</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="comment">// x udiv y &lt;=u x.</span></div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (LBO &amp;&amp; <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LBO, <a class="code" href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">m_UDiv</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">m_Specific</a>(RHS), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>()))) {</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="comment">// icmp pred (X /u Y), X</span></div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">ICmpInst::ICMP_UGT</a>)</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">ICmpInst::ICMP_ULE</a>)</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">if</span> (MaxRecurse &amp;&amp; LBO &amp;&amp; RBO &amp;&amp; LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>() == RBO-&gt;getOpcode() &amp;&amp;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      LBO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1) == RBO-&gt;getOperand(1)) {</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">switch</span> (LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">getOpcode</a>()) {</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">ICmpInst::isSigned</a>(Pred))</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      <span class="comment">// fall-through</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordflow">case</span> Instruction::SDiv:</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      <span class="keywordflow">if</span> (!LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a0f67e7208255f5088f0d515185109174">isExact</a>() || !RBO-&gt;isExact())</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0),</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                                      RBO-&gt;getOperand(0), Q, MaxRecurse-1))</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="keywordflow">case</span> Instruction::Shl: {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      <span class="keywordtype">bool</span> NUW = LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a5b6cd6c043f54b40899aff62e6e40488">hasNoUnsignedWrap</a>() &amp;&amp; RBO-&gt;hasNoUnsignedWrap();</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      <span class="keywordtype">bool</span> NSW = LBO-&gt;<a class="code" href="classllvm_1_1BinaryOperator.html#a07783e6f39803037259a1ebe376c2b1e">hasNoSignedWrap</a>() &amp;&amp; RBO-&gt;hasNoSignedWrap();</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <span class="keywordflow">if</span> (!NUW &amp;&amp; !NSW)</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <span class="keywordflow">if</span> (!NSW &amp;&amp; <a class="code" href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">ICmpInst::isSigned</a>(Pred))</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Pred, LBO-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0),</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                                      RBO-&gt;getOperand(0), Q, MaxRecurse-1))</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    }</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    }</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  }</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="comment">// Simplify comparisons involving max/min.</span></div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>, *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> EqP; <span class="comment">// Chosen so that &quot;A == max/min(A,B)&quot; iff &quot;A EqP B&quot;.</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;  <span class="comment">// Signed variants on &quot;max(a,b)&gt;=a -&gt; true&quot;.</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp; (A == RHS || B == RHS)) {</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">if</span> (A != RHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// smax(A, B) pred A.</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>; <span class="comment">// &quot;A == smax(A, B)&quot; iff &quot;A sge B&quot;.</span></div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="comment">// We analyze this as smax(A, B) pred A.</span></div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    P = Pred;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;             (A == LHS || B == LHS)) {</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keywordflow">if</span> (A != LHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// A pred smax(A, B).</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>; <span class="comment">// &quot;A == smax(A, B)&quot; iff &quot;A sge B&quot;.</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">// We analyze this as smax(A, B) swapped-pred A.</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    P = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;             (A == RHS || B == RHS)) {</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="keywordflow">if</span> (A != RHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// smin(A, B) pred A.</span></div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>; <span class="comment">// &quot;A == smin(A, B)&quot; iff &quot;A sle B&quot;.</span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="comment">// We analyze this as smax(-A, -B) swapped-pred -A.</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    P = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;             (A == LHS || B == LHS)) {</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">if</span> (A != LHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// A pred smin(A, B).</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>; <span class="comment">// &quot;A == smin(A, B)&quot; iff &quot;A sle B&quot;.</span></div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="comment">// We analyze this as smax(-A, -B) pred -A.</span></div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    P = Pred;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  }</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="keywordflow">if</span> (P != <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>) {</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="comment">// Cases correspond to &quot;max(A, B) p A&quot;.</span></div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">switch</span> (P) {</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>:</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      <span class="comment">// Equivalent to &quot;A EqP B&quot;.  This may be the same as the condition tested</span></div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      <span class="comment">// in the max/min; if so, we can just return that.</span></div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(LHS, EqP, A, B))</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(RHS, EqP, A, B))</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      <span class="comment">// Otherwise, see if &quot;A EqP B&quot; simplifies.</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(EqP, A, B, Q, MaxRecurse-1))</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>: {</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> InvEqP = <a class="code" href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">CmpInst::getInversePredicate</a>(EqP);</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <span class="comment">// Equivalent to &quot;A InvEqP B&quot;.  This may be the same as the condition</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      <span class="comment">// tested in the max/min; if so, we can just return that.</span></div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(LHS, InvEqP, A, B))</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(RHS, InvEqP, A, B))</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      <span class="comment">// Otherwise, see if &quot;A InvEqP B&quot; simplifies.</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(InvEqP, A, B, Q, MaxRecurse-1))</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    }</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>:</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>:</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    }</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  }</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="comment">// Unsigned variants on &quot;max(a,b)&gt;=a -&gt; true&quot;.</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  P = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp; (A == RHS || B == RHS)) {</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordflow">if</span> (A != RHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// umax(A, B) pred A.</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>; <span class="comment">// &quot;A == umax(A, B)&quot; iff &quot;A uge B&quot;.</span></div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">// We analyze this as umax(A, B) pred A.</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    P = Pred;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;             (A == LHS || B == LHS)) {</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">if</span> (A != LHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// A pred umax(A, B).</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>; <span class="comment">// &quot;A == umax(A, B)&quot; iff &quot;A uge B&quot;.</span></div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="comment">// We analyze this as umax(A, B) swapped-pred A.</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    P = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;             (A == RHS || B == RHS)) {</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">if</span> (A != RHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// umin(A, B) pred A.</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>; <span class="comment">// &quot;A == umin(A, B)&quot; iff &quot;A ule B&quot;.</span></div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <span class="comment">// We analyze this as umax(-A, -B) swapped-pred -A.</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    P = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;             (A == LHS || B == LHS)) {</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">if</span> (A != LHS) <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(A, B); <span class="comment">// A pred umin(A, B).</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    EqP = <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>; <span class="comment">// &quot;A == umin(A, B)&quot; iff &quot;A ule B&quot;.</span></div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <span class="comment">// We analyze this as umax(-A, -B) pred -A.</span></div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="comment">// Note that we do not need to actually form -A or -B thanks to EqP.</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    P = Pred;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  }</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordflow">if</span> (P != <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05">CmpInst::BAD_ICMP_PREDICATE</a>) {</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">// Cases correspond to &quot;max(A, B) p A&quot;.</span></div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">switch</span> (P) {</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">CmpInst::ICMP_EQ</a>:</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>:</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      <span class="comment">// Equivalent to &quot;A EqP B&quot;.  This may be the same as the condition tested</span></div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="comment">// in the max/min; if so, we can just return that.</span></div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(LHS, EqP, A, B))</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(RHS, EqP, A, B))</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      <span class="comment">// Otherwise, see if &quot;A EqP B&quot; simplifies.</span></div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(EqP, A, B, Q, MaxRecurse-1))</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">CmpInst::ICMP_NE</a>:</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>: {</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> InvEqP = <a class="code" href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">CmpInst::getInversePredicate</a>(EqP);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <span class="comment">// Equivalent to &quot;A InvEqP B&quot;.  This may be the same as the condition</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      <span class="comment">// tested in the max/min; if so, we can just return that.</span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(LHS, InvEqP, A, B))</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a>(RHS, InvEqP, A, B))</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <span class="comment">// Otherwise, see if &quot;A InvEqP B&quot; simplifies.</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="keywordflow">if</span> (MaxRecurse)</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(InvEqP, A, B, Q, MaxRecurse-1))</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;          <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>:</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>:</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    }</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  }</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="comment">// Variants on &quot;max(x,y) &gt;= min(x,z)&quot;.</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, *D;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(C), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(D))) &amp;&amp;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      (A == C || A == D || B == C || B == D)) {</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="comment">// max(x, ?) pred min(x, ?).</span></div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">CmpInst::ICMP_SGE</a>)</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">CmpInst::ICMP_SLT</a>)</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">m_SMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">m_SMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(C), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(D))) &amp;&amp;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;             (A == C || A == D || B == C || B == D)) {</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="comment">// min(x, ?) pred max(x, ?).</span></div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">CmpInst::ICMP_SLE</a>)</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">CmpInst::ICMP_SGT</a>)</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(C), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(D))) &amp;&amp;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;             (A == C || A == D || B == C || B == D)) {</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="comment">// max(x, ?) pred min(x, ?).</span></div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">CmpInst::ICMP_UGE</a>)</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">CmpInst::ICMP_ULT</a>)</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(LHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">m_UMin</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(A), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(B))) &amp;&amp;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;             <a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(RHS, <a class="code" href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">m_UMax</a>(<a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(C), <a class="code" href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">m_Value</a>(D))) &amp;&amp;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;             (A == C || A == D || B == C || B == D)) {</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="comment">// min(x, ?) pred max(x, ?).</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">CmpInst::ICMP_ULE</a>)</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <span class="comment">// Always true.</span></div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a>(ITy);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">CmpInst::ICMP_UGT</a>)</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <span class="comment">// Always false.</span></div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a>(ITy);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  }</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="comment">// Simplify comparisons of related pointers using a powerful, recursive</span></div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="comment">// GEP-walk when we have target data available..</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <span class="keywordflow">if</span> (LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>())</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *C = <a class="code" href="InstructionSimplify_8cpp.html#a8273cb383aec5c7a0f2252e60170c908">computePointerICmp</a>(Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>, Pred, LHS, RHS))</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      <span class="keywordflow">return</span> C;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *GLHS = dyn_cast&lt;GetElementPtrInst&gt;(LHS)) {</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GEPOperator.html">GEPOperator</a> *GRHS = dyn_cast&lt;GEPOperator&gt;(RHS)) {</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      <span class="keywordflow">if</span> (GLHS-&gt;getPointerOperand() == GRHS-&gt;getPointerOperand() &amp;&amp;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;          GLHS-&gt;hasAllConstantIndices() &amp;&amp; GRHS-&gt;hasAllConstantIndices() &amp;&amp;</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;          (<a class="code" href="classllvm_1_1ICmpInst.html#a9adf718c253dc7c1c7e859265cd3fc3d">ICmpInst::isEquality</a>(Pred) ||</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;           (GLHS-&gt;isInBounds() &amp;&amp; GRHS-&gt;isInBounds() &amp;&amp;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            Pred == <a class="code" href="classllvm_1_1ICmpInst.html#a07a99ca6c9f72dfa90f46a2b3ec22c86">ICmpInst::getSignedPredicate</a>(Pred)))) {</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        <span class="comment">// The bases are equal and the indices are constant.  Build a constant</span></div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <span class="comment">// expression GEP with the same indices and a null base pointer to see</span></div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <span class="comment">// what constant folding can make out of it.</span></div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *Null = <a class="code" href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">Constant::getNullValue</a>(GLHS-&gt;getPointerOperandType());</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> IndicesLHS(GLHS-&gt;idx_begin(), GLHS-&gt;idx_end());</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewLHS = <a class="code" href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">ConstantExpr::getGetElementPtr</a>(Null, IndicesLHS);</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> IndicesRHS(GRHS-&gt;idx_begin(), GRHS-&gt;idx_end());</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *NewRHS = <a class="code" href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">ConstantExpr::getGetElementPtr</a>(Null, IndicesRHS);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">ConstantExpr::getICmp</a>(Pred, NewLHS, NewRHS);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      }</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    }</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  }</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="comment">// If the comparison is with the result of a select instruction, check whether</span></div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="comment">// comparing with either branch of the select always yields the same value.</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(LHS) || isa&lt;SelectInst&gt;(RHS))</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a79d8a039f8f6169c758874ea23f24e30">ThreadCmpOverSelect</a>(Pred, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="comment">// If the comparison is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="comment">// doing the compare with each incoming phi value yields a common result.</span></div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(LHS) || isa&lt;PHINode&gt;(RHS))</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#af29902082da4b919f6265eb08e85308d">ThreadCmpOverPHI</a>(Pred, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;}</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;</div><div class="line"><a name="l02590"></a><span class="lineno"><a class="line" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d"> 2590</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">llvm::SimplifyICmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a33faa8606af3eeea31426aed18edd16e">return ::SimplifyICmpInst</a>(Predicate, LHS, RHS, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;}</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="comment">/// SimplifyFCmpInst - Given operands for an FCmpInst, see if we can</span></div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l02600"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ab1aff146e89bcb2e41d7f5dbc8246295"> 2600</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374">SimplifyFCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a> Pred = (<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a>)Predicate;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  assert(<a class="code" href="classllvm_1_1CmpInst.html#a956c39af16b1990d82fac9f1a2fe304b">CmpInst::isFPPredicate</a>(Pred) &amp;&amp; <span class="stringliteral">&quot;Not an FP compare!&quot;</span>);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(LHS)) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(RHS))</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">ConstantFoldCompareInstOperands</a>(Pred, CLHS, CRHS, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="comment">// If we have a constant, make sure it is on the RHS.</span></div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <a class="code" href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a>(LHS, RHS);</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    Pred = <a class="code" href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">CmpInst::getSwappedPredicate</a>(Pred);</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  }</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <span class="comment">// Fold trivial predicates.</span></div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d">FCmpInst::FCMP_FALSE</a>)</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS), 0);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (Pred == <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5">FCmpInst::FCMP_TRUE</a>)</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS), 1);</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(RHS))                  <span class="comment">// fcmp pred X, undef -&gt; undef</span></div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS));</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="comment">// fcmp x,x -&gt; true/false.  Not all compares are foldable.</span></div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keywordflow">if</span> (LHS == RHS) {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">CmpInst::isTrueWhenEqual</a>(Pred))</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS), 1);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#af6a36e1e0483f9eb5954f83ad75e123c">CmpInst::isFalseWhenEqual</a>(Pred))</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">ConstantInt::get</a>(<a class="code" href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a>(LHS), 0);</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  }</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <span class="comment">// Handle fcmp with constant RHS</span></div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *RHSC = dyn_cast&lt;Constant&gt;(RHS)) {</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="comment">// If the constant is a nan, see if we can fold the comparison based on it.</span></div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantFP.html">ConstantFP</a> *CFP = dyn_cast&lt;ConstantFP&gt;(RHSC)) {</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="keywordflow">if</span> (CFP-&gt;getValueAPF().isNaN()) {</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a117239dd65156d5a0844675a51c54391">FCmpInst::isOrdered</a>(Pred))   <span class="comment">// True &quot;if ordered and foo&quot;</span></div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        assert(<a class="code" href="classllvm_1_1CmpInst.html#a045aad6723559dc8937fda41cb557124">FCmpInst::isUnordered</a>(Pred) &amp;&amp;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;               <span class="stringliteral">&quot;Comparison must be either ordered or unordered!&quot;</span>);</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        <span class="comment">// True if unordered.</span></div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;      }</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;      <span class="comment">// Check whether the constant is an infinity.</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;      <span class="keywordflow">if</span> (CFP-&gt;getValueAPF().isInfinity()) {</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">if</span> (CFP-&gt;getValueAPF().isNegative()) {</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">FCmpInst::FCMP_OLT</a>:</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;            <span class="comment">// No value is ordered and less than negative infinity.</span></div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">FCmpInst::FCMP_UGE</a>:</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            <span class="comment">// All values are unordered with or at least negative infinity.</span></div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;          <span class="keywordflow">default</span>:</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;          }</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;          <span class="keywordflow">switch</span> (Pred) {</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">FCmpInst::FCMP_OGT</a>:</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            <span class="comment">// No value is ordered and greater than infinity.</span></div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">ConstantInt::getFalse</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">FCmpInst::FCMP_ULE</a>:</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            <span class="comment">// All values are unordered with and at most infinity.</span></div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">ConstantInt::getTrue</a>(CFP-&gt;getContext());</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;          <span class="keywordflow">default</span>:</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;          }</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        }</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;      }</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    }</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  }</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="comment">// If the comparison is with the result of a select instruction, check whether</span></div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="comment">// comparing with either branch of the select always yields the same value.</span></div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(LHS) || isa&lt;SelectInst&gt;(RHS))</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a79d8a039f8f6169c758874ea23f24e30">ThreadCmpOverSelect</a>(Pred, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="comment">// If the comparison is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="comment">// doing the compare with each incoming phi value yields a common result.</span></div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(LHS) || isa&lt;PHINode&gt;(RHS))</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#af29902082da4b919f6265eb08e85308d">ThreadCmpOverPHI</a>(Pred, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;}</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;</div><div class="line"><a name="l02687"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374"> 2687</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374">llvm::SimplifyFCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ab1aff146e89bcb2e41d7f5dbc8246295">return ::SimplifyFCmpInst</a>(Predicate, LHS, RHS, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                            <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;}</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;<span class="comment">/// SimplifySelectInst - Given operands for a SelectInst, see if we can fold</span></div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="comment">/// the result.  If not, this returns null.</span></div><div class="line"><a name="l02697"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#ac0800a6f2644ffd041b6c750f31447c9"> 2697</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ab5ee1b3d80978be1bf429bb2f15d4954">SimplifySelectInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *CondVal, <a class="code" href="classllvm_1_1Value.html">Value</a> *TrueVal,</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                                 <a class="code" href="classllvm_1_1Value.html">Value</a> *FalseVal, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                                 <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="comment">// select true, X, Y  -&gt; X</span></div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="comment">// select false, X, Y -&gt; Y</span></div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CB = dyn_cast&lt;ConstantInt&gt;(CondVal))</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">return</span> CB-&gt;getZExtValue() ? TrueVal : FalseVal;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  <span class="comment">// select C, X, X -&gt; X</span></div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <span class="keywordflow">if</span> (TrueVal == FalseVal)</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">return</span> TrueVal;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(CondVal)) {  <span class="comment">// select undef, X, Y -&gt; X or Y</span></div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Constant&gt;(TrueVal))</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      <span class="keywordflow">return</span> TrueVal;</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">return</span> FalseVal;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  }</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(TrueVal))   <span class="comment">// select C, undef, X -&gt; X</span></div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordflow">return</span> FalseVal;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(FalseVal))   <span class="comment">// select C, X, undef -&gt; X</span></div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="keywordflow">return</span> TrueVal;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;}</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;</div><div class="line"><a name="l02722"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab5ee1b3d80978be1bf429bb2f15d4954"> 2722</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ab5ee1b3d80978be1bf429bb2f15d4954">llvm::SimplifySelectInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Cond, <a class="code" href="classllvm_1_1Value.html">Value</a> *TrueVal, <a class="code" href="classllvm_1_1Value.html">Value</a> *FalseVal,</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#ac0800a6f2644ffd041b6c750f31447c9">return ::SimplifySelectInst</a>(Cond, TrueVal, FalseVal, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;                              <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;}</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="comment">/// SimplifyGEPInst - Given operands for an GetElementPtrInst, see if we can</span></div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l02732"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a45972adf94be9aa2253a6ea0d9c3eb26"> 2732</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7fba1a9b7761f82c4e9da63290d71af5">SimplifyGEPInst</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Ops, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span>) {</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="comment">// The type of the GEP pointer operand.</span></div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  <a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PtrTy = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1PointerType.html">PointerType</a>&gt;(Ops[0]-&gt;getType());</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <span class="comment">// The GEP pointer operand is not a pointer, it&#39;s a vector of pointers.</span></div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="keywordflow">if</span> (!PtrTy)</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="comment">// getelementptr P -&gt; P.</span></div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>() == 1)</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(Ops[0])) {</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="comment">// Compute the (pointer) type returned by the GEP instruction.</span></div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *LastType = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a6bdc5f35d542c35932593fabf6811c68">GetElementPtrInst::getIndexedType</a>(PtrTy, Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a8a4a04e719ab242a67a91dbfd17e16b0">slice</a>(1));</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <a class="code" href="classllvm_1_1Type.html">Type</a> *GEPTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(LastType, PtrTy-&gt;<a class="code" href="classllvm_1_1PointerType.html#a921061a57ec3cfbaf6422f09f7d79fc3">getAddressSpace</a>());</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(GEPTy);</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  }</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <span class="keywordflow">if</span> (Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>() == 2) {</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <span class="comment">// getelementptr P, 0 -&gt; P.</span></div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;ConstantInt&gt;(Ops[1]))</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isZero())</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="comment">// getelementptr P, N -&gt; P if P points to a type of zero size.</span></div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="keywordflow">if</span> (Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>) {</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = PtrTy-&gt;<a class="code" href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">getElementType</a>();</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;      <span class="keywordflow">if</span> (Ty-&gt;<a class="code" href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">isSized</a>() &amp;&amp; Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>-&gt;<a class="code" href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">getTypeAllocSize</a>(Ty) == 0)</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        <span class="keywordflow">return</span> Ops[0];</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    }</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  }</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="comment">// Check to see if this is constant foldable.</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">size</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="keywordflow">if</span> (!isa&lt;Constant&gt;(Ops[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">ConstantExpr::getGetElementPtr</a>(cast&lt;Constant&gt;(Ops[0]), Ops.<a class="code" href="classllvm_1_1ArrayRef.html#a8a4a04e719ab242a67a91dbfd17e16b0">slice</a>(1));</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;}</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div><div class="line"><a name="l02771"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7fba1a9b7761f82c4e9da63290d71af5"> 2771</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a7fba1a9b7761f82c4e9da63290d71af5">llvm::SimplifyGEPInst</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Ops, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a45972adf94be9aa2253a6ea0d9c3eb26">return ::SimplifyGEPInst</a>(Ops, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="comment">/// SimplifyInsertValueInst - Given operands for an InsertValueInst, see if we</span></div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="comment">/// can fold the result.  If not, this returns null.</span></div><div class="line"><a name="l02779"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a8059af70098c05ece88252e8eff7ad65"> 2779</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a48d32fc3193ea5fa46bc005179beeab1">SimplifyInsertValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val,</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;                                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q,</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                                      <span class="keywordtype">unsigned</span>) {</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CAgg = dyn_cast&lt;Constant&gt;(Agg))</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CVal = dyn_cast&lt;Constant&gt;(Val))</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad7fa9b738742521d0a684cec016ef47e">ConstantFoldInsertValueInstruction</a>(CAgg, CVal, Idxs);</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  <span class="comment">// insertvalue x, undef, n -&gt; x</span></div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Val, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <span class="keywordflow">return</span> Agg;</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="comment">// insertvalue x, (extractvalue y, n), n</span></div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ExtractValueInst.html">ExtractValueInst</a> *EV = dyn_cast&lt;ExtractValueInst&gt;(Val))</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">if</span> (EV-&gt;getAggregateOperand()-&gt;getType() == Agg-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>() &amp;&amp;</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        EV-&gt;getIndices() == Idxs) {</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;      <span class="comment">// insertvalue undef, (extractvalue y, n), n -&gt; y</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">match</a>(Agg, <a class="code" href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">m_Undef</a>()))</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;        <span class="keywordflow">return</span> EV-&gt;getAggregateOperand();</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;      <span class="comment">// insertvalue y, (extractvalue y, n), n -&gt; y</span></div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;      <span class="keywordflow">if</span> (Agg == EV-&gt;getAggregateOperand())</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        <span class="keywordflow">return</span> Agg;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;}</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div><div class="line"><a name="l02806"></a><span class="lineno"><a class="line" href="namespacellvm.html#a48d32fc3193ea5fa46bc005179beeab1"> 2806</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a48d32fc3193ea5fa46bc005179beeab1">llvm::SimplifyInsertValueInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Agg, <a class="code" href="classllvm_1_1Value.html">Value</a> *Val,</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                                     <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;unsigned&gt;</a> Idxs,</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a8059af70098c05ece88252e8eff7ad65">return ::SimplifyInsertValueInst</a>(Agg, Val, Idxs, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                                   <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;}</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="comment">/// SimplifyPHINode - See if we can fold the given phi.  If not, returns null.</span></div><div class="line"><a name="l02816"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a92f84f160d842aee34717a28173b0e86"> 2816</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a92f84f160d842aee34717a28173b0e86">SimplifyPHINode</a>(<a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q) {</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="comment">// If all of the PHI&#39;s incoming values are the same then replace the PHI node</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  <span class="comment">// with the common value.</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *CommonValue = 0;</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordtype">bool</span> HasUndefInput = <span class="keyword">false</span>;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">getNumIncomingValues</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *Incoming = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">getIncomingValue</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="comment">// If the incoming value is the phi node itself, it can safely be skipped.</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <span class="keywordflow">if</span> (Incoming == PN) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(Incoming)) {</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;      <span class="comment">// Remember that we saw an undef value, but otherwise ignore them.</span></div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;      HasUndefInput = <span class="keyword">true</span>;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    }</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">if</span> (CommonValue &amp;&amp; Incoming != CommonValue)</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">return</span> 0;  <span class="comment">// Not the same, bail out.</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    CommonValue = Incoming;</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  }</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <span class="comment">// If CommonValue is null then all of the incoming values were either undef or</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="comment">// equal to the phi node itself.</span></div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="keywordflow">if</span> (!CommonValue)</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(PN-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>());</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="comment">// If we have a PHI node like phi(X, undef, X), where X is defined by some</span></div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <span class="comment">// instruction, we cannot return X as the result of the PHI node unless it</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <span class="comment">// dominates the PHI block.</span></div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="keywordflow">if</span> (HasUndefInput)</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a>(CommonValue, PN, Q.<a class="code" href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">DT</a>) ? CommonValue : 0;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;  <span class="keywordflow">return</span> CommonValue;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;}</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;</div><div class="line"><a name="l02849"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a7cdfcbc398bccb7bb8f1edd4f421527e"> 2849</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">SimplifyTruncInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span>) {</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(Op))</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Instruction::Trunc, Ty, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;}</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;</div><div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330"> 2856</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">llvm::SimplifyTruncInst</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *Op, <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a7cdfcbc398bccb7bb8f1edd4f421527e">return ::SimplifyTruncInst</a>(Op, Ty, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="comment">//=== Helper functions for higher up the class hierarchy.</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="comment">/// SimplifyBinOp - Given operands for a BinaryOperator, see if we can</span></div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="comment">/// fold the result.  If not, this returns null.</span></div><div class="line"><a name="l02866"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a66cf73f52b6fa384bfe0bed09574f7f1"> 2866</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">SimplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                            <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordflow">case</span> Instruction::Add:</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">SimplifyAddInst</a>(LHS, RHS, <span class="comment">/*isNSW*/</span><span class="keyword">false</span>, <span class="comment">/*isNUW*/</span><span class="keyword">false</span>,</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                           Q, MaxRecurse);</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  <span class="keywordflow">case</span> Instruction::FAdd:</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48">SimplifyFAddInst</a>(LHS, RHS, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">SimplifySubInst</a>(LHS, RHS, <span class="comment">/*isNSW*/</span><span class="keyword">false</span>, <span class="comment">/*isNUW*/</span><span class="keyword">false</span>,</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                           Q, MaxRecurse);</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <span class="keywordflow">case</span> Instruction::FSub:</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07">SimplifyFSubInst</a>(LHS, RHS, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502">SimplifyMulInst</a> (LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <span class="keywordflow">case</span> Instruction::FMul:</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a603e39bd7102628d207431f0289a2942">SimplifyFMulInst</a> (LHS, RHS, <a class="code" href="classllvm_1_1FastMathFlags.html">FastMathFlags</a>(), Q, MaxRecurse);</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad">SimplifySDivInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e">SimplifyUDivInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="keywordflow">case</span> Instruction::FDiv: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb">SimplifyFDivInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804">SimplifySRemInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;  <span class="keywordflow">case</span> Instruction::URem: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35">SimplifyURemInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keywordflow">case</span> Instruction::FRem: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a">SimplifyFRemInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044">SimplifyShlInst</a>(LHS, RHS, <span class="comment">/*isNSW*/</span><span class="keyword">false</span>, <span class="comment">/*isNUW*/</span><span class="keyword">false</span>,</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                           Q, MaxRecurse);</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46">SimplifyLShrInst</a>(LHS, RHS, <span class="comment">/*isExact*/</span><span class="keyword">false</span>, Q, MaxRecurse);</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266">SimplifyAShrInst</a>(LHS, RHS, <span class="comment">/*isExact*/</span><span class="keyword">false</span>, Q, MaxRecurse);</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">SimplifyOrInst</a> (LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>: <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CLHS = dyn_cast&lt;Constant&gt;(LHS))</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *CRHS = dyn_cast&lt;Constant&gt;(RHS)) {</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        <a class="code" href="classllvm_1_1Constant.html">Constant</a> *COps[] = {CLHS, CRHS};</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">ConstantFoldInstOperands</a>(Opcode, LHS-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), COps, Q.<a class="code" href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">TD</a>,</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                                        Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;      }</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="comment">// If the operation is associative, try some generic simplifications.</span></div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html#aa113b8a9ef3de9c2f075a046ad658717">Instruction::isAssociative</a>(Opcode))</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a>(Opcode, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="comment">// If the operation is with the result of a select instruction check whether</span></div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    <span class="comment">// operating on either branch of the select always yields the same value.</span></div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="keywordflow">if</span> (isa&lt;SelectInst&gt;(LHS) || isa&lt;SelectInst&gt;(RHS))</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a>(Opcode, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="comment">// If the operation is with the result of a phi instruction, check whether</span></div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <span class="comment">// operating on all incoming values of the phi always yields the same value.</span></div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <span class="keywordflow">if</span> (isa&lt;PHINode&gt;(LHS) || isa&lt;PHINode&gt;(RHS))</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *V = <a class="code" href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a>(Opcode, LHS, RHS, Q, MaxRecurse))</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        <span class="keywordflow">return</span> V;</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  }</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;}</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;</div><div class="line"><a name="l02929"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d"> 2929</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">llvm::SimplifyBinOp</a>(<span class="keywordtype">unsigned</span> Opcode, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a66cf73f52b6fa384bfe0bed09574f7f1">return ::SimplifyBinOp</a>(Opcode, LHS, RHS, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT), <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;}</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;<span class="comment">/// SimplifyCmpInst - Given operands for a CmpInst, see if we can</span></div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="comment">/// fold the result.</span></div><div class="line"><a name="l02937"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a759fc1f9b5d5b0d42df0d9167dc74390"> 2937</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">SimplifyCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CmpInst.html#a9a85fb22d40ffa2b7dd4b199494528f8">CmpInst::isIntPredicate</a>((<a class="code" href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">CmpInst::Predicate</a>)Predicate))</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(Predicate, LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374">SimplifyFCmpInst</a>(Predicate, LHS, RHS, Q, MaxRecurse);</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;}</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div><div class="line"><a name="l02944"></a><span class="lineno"><a class="line" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d"> 2944</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">llvm::SimplifyCmpInst</a>(<span class="keywordtype">unsigned</span> <a class="code" href="classPredicate.html">Predicate</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="code" href="classllvm_1_1Value.html">Value</a> *RHS,</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a759fc1f9b5d5b0d42df0d9167dc74390">return ::SimplifyCmpInst</a>(Predicate, LHS, RHS, <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT),</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                           <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;}</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;</div><div class="line"><a name="l02951"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#aeb0a68b9b86304b20e0bd4fd63716756"> 2951</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#aeb0a68b9b86304b20e0bd4fd63716756">IsIdempotent</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90">Intrinsic::ID</a> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>) {</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  <span class="keywordflow">switch</span> (ID) {</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="comment">// Unary idempotent: f(f(x)) = f(x)</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae5cfc8e1a94b46b64a26f1a6cb4e6ba0">Intrinsic::fabs</a>:</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa5e3272cd3a1252dab94b777ec25e949">Intrinsic::floor</a>:</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2107ef535957e9ea31e1fc60f5716e03">Intrinsic::ceil</a>:</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afcf978f83f97f765943aa6b0b679eb1d">Intrinsic::trunc</a>:</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a42b08bce2f24e45c11b2afeef6db32d4">Intrinsic::rint</a>:</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3f406d8b74c8f3009ee1fee5172b1415">Intrinsic::nearbyint</a>:</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">Intrinsic::round</a>:</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  }</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;}</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IterTy&gt;</div><div class="line"><a name="l02968"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a8f9c4576daf85f578f2c5156eb5e042f"> 2968</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="InstructionSimplify_8cpp.html#a8f9c4576daf85f578f2c5156eb5e042f">SimplifyIntrinsic</a>(<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90">Intrinsic::ID</a> IID, IterTy ArgBegin, IterTy ArgEnd,</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="comment">// Perform idempotent optimizations</span></div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="InstructionSimplify_8cpp.html#aeb0a68b9b86304b20e0bd4fd63716756">IsIdempotent</a>(IID))</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="comment">// Unary Ops</span></div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">if</span> (std::distance(ArgBegin, ArgEnd) == 1)</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *II = dyn_cast&lt;IntrinsicInst&gt;(*ArgBegin))</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;      <span class="keywordflow">if</span> (II-&gt;getIntrinsicID() == IID)</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordflow">return</span> II;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;}</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IterTy&gt;</div><div class="line"><a name="l02984"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a1c7181e85b969bbb8703c9dadd20a4a0"> 2984</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17">SimplifyCall</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, IterTy ArgBegin, IterTy ArgEnd,</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                           <span class="keyword">const</span> <a class="code" href="structQuery.html">Query</a> &amp;Q, <span class="keywordtype">unsigned</span> MaxRecurse) {</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *Ty = V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>();</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PointerType.html">PointerType</a> *PTy = dyn_cast&lt;PointerType&gt;(Ty))</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    Ty = PTy-&gt;getElementType();</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <a class="code" href="classllvm_1_1FunctionType.html">FunctionType</a> *FTy = cast&lt;FunctionType&gt;(Ty);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  <span class="comment">// call undef -&gt; undef</span></div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">if</span> (isa&lt;UndefValue&gt;(V))</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(FTy-&gt;<a class="code" href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">getReturnType</a>());</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Function.html">Function</a>&gt;(V);</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  <span class="keywordflow">if</span> (!F)</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> IID = F-&gt;<a class="code" href="classllvm_1_1Function.html#a7e47131185becc5c96731a2e28441b77">getIntrinsicID</a>())</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a> =</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        <a class="code" href="InstructionSimplify_8cpp.html#a8f9c4576daf85f578f2c5156eb5e042f">SimplifyIntrinsic</a>((<a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90">Intrinsic::ID</a>) IID, ArgBegin, ArgEnd, Q, MaxRecurse))</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">Ret</a>;</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">canConstantFoldCallTo</a>(F))</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Constant *, 4&gt;</a> ConstantArgs;</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  ConstantArgs.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">reserve</a>(ArgEnd - ArgBegin);</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">for</span> (IterTy <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = ArgBegin, E = ArgEnd; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1Constant.html">Constant</a>&gt;(*I);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    <span class="keywordflow">if</span> (!C)</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    ConstantArgs.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(C);</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  }</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#abaa7bb099e75b4a5dba358a498783f83">ConstantFoldCall</a>(F, ConstantArgs, Q.<a class="code" href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">TLI</a>);</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;}</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;</div><div class="line"><a name="l03019"></a><span class="lineno"><a class="line" href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17"> 3019</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17">llvm::SimplifyCall</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1Use.html">User::op_iterator</a> ArgBegin,</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                          <a class="code" href="classllvm_1_1Use.html">User::op_iterator</a> ArgEnd, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a1c7181e85b969bbb8703c9dadd20a4a0">return ::SimplifyCall</a>(V, ArgBegin, ArgEnd, <a class="code" href="structQuery.html">Query</a>(TD, TLI, DT),</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                        <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;}</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;</div><div class="line"><a name="l03027"></a><span class="lineno"><a class="line" href="namespacellvm.html#af1a1cfaddd57069fbc4b69c9d980e95e"> 3027</a></span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17">llvm::SimplifyCall</a>(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Value *&gt;</a> Args,</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD, <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;  <a class="code" href="InstructionSimplify_8cpp.html#a1c7181e85b969bbb8703c9dadd20a4a0">return ::SimplifyCall</a>(V, Args.<a class="code" href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">begin</a>(), Args.<a class="code" href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">end</a>(), <a class="code" href="structQuery.html">Query</a>(TD, TLI, DT),</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                        <a class="code" href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a>);</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;}</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="comment">/// SimplifyInstruction - See if we can compute a simplified version of this</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="comment">/// instruction.  If not, this returns null.</span></div><div class="line"><a name="l03036"></a><span class="lineno"><a class="line" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb"> 3036</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">llvm::SimplifyInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Result;</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <span class="keywordflow">switch</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">getOpcode</a>()) {</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    Result = <a class="code" href="namespacellvm.html#afaf85770fdd46c58822741178d7fd03d">ConstantFoldInstruction</a>(I, TD, TLI);</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  <span class="keywordflow">case</span> Instruction::FAdd:</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    Result = <a class="code" href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48">SimplifyFAddInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                              I-&gt;<a class="code" href="classllvm_1_1Instruction.html#ace8e61a4dcf2a13945cdde73a3a6805a">getFastMathFlags</a>(), TD, TLI, DT);</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="keywordflow">case</span> Instruction::Add:</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    Result = <a class="code" href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">SimplifyAddInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap(),</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoUnsignedWrap(),</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                             TD, TLI, DT);</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">case</span> Instruction::FSub:</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    Result = <a class="code" href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07">SimplifyFSubInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                              I-&gt;<a class="code" href="classllvm_1_1Instruction.html#ace8e61a4dcf2a13945cdde73a3a6805a">getFastMathFlags</a>(), TD, TLI, DT);</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  <span class="keywordflow">case</span> Instruction::Sub:</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    Result = <a class="code" href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">SimplifySubInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap(),</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoUnsignedWrap(),</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                             TD, TLI, DT);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">case</span> Instruction::FMul:</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    Result = <a class="code" href="namespacellvm.html#a603e39bd7102628d207431f0289a2942">SimplifyFMulInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;                              I-&gt;<a class="code" href="classllvm_1_1Instruction.html#ace8e61a4dcf2a13945cdde73a3a6805a">getFastMathFlags</a>(), TD, TLI, DT);</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <span class="keywordflow">case</span> Instruction::Mul:</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    Result = <a class="code" href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502">SimplifyMulInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  <span class="keywordflow">case</span> Instruction::SDiv:</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    Result = <a class="code" href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad">SimplifySDivInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  <span class="keywordflow">case</span> Instruction::UDiv:</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    Result = <a class="code" href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e">SimplifyUDivInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="keywordflow">case</span> Instruction::FDiv:</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    Result = <a class="code" href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb">SimplifyFDivInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  <span class="keywordflow">case</span> Instruction::SRem:</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    Result = <a class="code" href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804">SimplifySRemInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  <span class="keywordflow">case</span> Instruction::URem:</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    Result = <a class="code" href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35">SimplifyURemInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">case</span> Instruction::FRem:</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    Result = <a class="code" href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a">SimplifyFRemInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;  <span class="keywordflow">case</span> Instruction::Shl:</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    Result = <a class="code" href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044">SimplifyShlInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoSignedWrap(),</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                             cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;hasNoUnsignedWrap(),</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                             TD, TLI, DT);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;  <span class="keywordflow">case</span> Instruction::LShr:</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    Result = <a class="code" href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46">SimplifyLShrInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;                              cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isExact(),</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                              TD, TLI, DT);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <span class="keywordflow">case</span> Instruction::AShr:</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    Result = <a class="code" href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266">SimplifyAShrInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                              cast&lt;BinaryOperator&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isExact(),</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                              TD, TLI, DT);</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">Instruction::And</a>:</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    Result = <a class="code" href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">SimplifyAndInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">Instruction::Or</a>:</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    Result = <a class="code" href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">SimplifyOrInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">Instruction::Xor</a>:</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    Result = <a class="code" href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">SimplifyXorInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="keywordflow">case</span> Instruction::ICmp:</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    Result = <a class="code" href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">SimplifyICmpInst</a>(cast&lt;ICmpInst&gt;(I)-&gt;getPredicate(),</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                              I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  <span class="keywordflow">case</span> Instruction::FCmp:</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    Result = <a class="code" href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374">SimplifyFCmpInst</a>(cast&lt;FCmpInst&gt;(I)-&gt;getPredicate(),</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;                              I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1), TD, TLI, DT);</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">Instruction::Select</a>:</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    Result = <a class="code" href="namespacellvm.html#ab5ee1b3d80978be1bf429bb2f15d4954">SimplifySelectInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(1),</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                                I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(2), TD, TLI, DT);</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;  <span class="keywordflow">case</span> Instruction::GetElementPtr: {</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value*, 8&gt;</a> Ops(I-&gt;<a class="code" href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">op_begin</a>(), I-&gt;<a class="code" href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">op_end</a>());</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    Result = <a class="code" href="namespacellvm.html#a7fba1a9b7761f82c4e9da63290d71af5">SimplifyGEPInst</a>(Ops, TD, TLI, DT);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  }</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;  <span class="keywordflow">case</span> Instruction::InsertValue: {</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <a class="code" href="classllvm_1_1InsertValueInst.html">InsertValueInst</a> *IV = cast&lt;InsertValueInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    Result = <a class="code" href="namespacellvm.html#a48d32fc3193ea5fa46bc005179beeab1">SimplifyInsertValueInst</a>(IV-&gt;<a class="code" href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">getAggregateOperand</a>(),</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                                     IV-&gt;<a class="code" href="classllvm_1_1InsertValueInst.html#a9a004adbac8f42baab2ae52ae879a34b">getInsertedValueOperand</a>(),</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                                     IV-&gt;<a class="code" href="classllvm_1_1InsertValueInst.html#a1fb1cc7adc35b5742dc6760eb93630a7">getIndices</a>(), TD, TLI, DT);</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  }</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">Instruction::PHI</a>:</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    Result = <a class="code" href="InstructionSimplify_8cpp.html#a92f84f160d842aee34717a28173b0e86">SimplifyPHINode</a>(cast&lt;PHINode&gt;(I), <a class="code" href="structQuery.html">Query</a> (TD, TLI, DT));</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">Instruction::Call</a>: {</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <a class="code" href="classllvm_1_1CallSite.html">CallSite</a> CS(cast&lt;CallInst&gt;(I));</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    Result = <a class="code" href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17">SimplifyCall</a>(CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">getCalledValue</a>(), CS.<a class="code" href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">arg_begin</a>(), CS.<a class="code" href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">arg_end</a>(),</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                          TD, TLI, DT);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  }</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <span class="keywordflow">case</span> Instruction::Trunc:</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    Result = <a class="code" href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">SimplifyTruncInst</a>(I-&gt;<a class="code" href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">getOperand</a>(0), I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>(), TD, TLI, DT);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  }</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="comment">  /// If called on unreachable code, the above logic may report that the</span></div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<span class="comment">  /// instruction simplified to itself.  Make life easier for users by</span></div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="comment">  /// detecting that case here, returning a safe value instead.</span></div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="comment"></span>  <span class="keywordflow">return</span> Result == I ? <a class="code" href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">UndefValue::get</a>(I-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()) : Result;</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;}</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="comment"></span></div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="comment">/// \brief Implementation of recursive simplification through an instructions</span></div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;<span class="comment">/// uses.</span></div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;<span class="comment">/// This is the common implementation of the recursive simplification routines.</span></div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="comment">/// If we have a pre-simplified value in &#39;SimpleV&#39;, that is forcibly used to</span></div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="comment">/// replace the instruction &#39;I&#39;. Otherwise, we simply add &#39;I&#39; to the list of</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="comment">/// instructions to process and attempt to simplify it using</span></div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="comment">/// InstructionSimplify.</span></div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;<span class="comment">/// This routine returns &#39;true&#39; only when *it* simplifies something. The passed</span></div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;<span class="comment">/// in simplified value does not count toward this.</span></div><div class="line"><a name="l03170"></a><span class="lineno"><a class="line" href="InstructionSimplify_8cpp.html#a95ebf64fa2abaf48038836d49357063a"> 3170</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="InstructionSimplify_8cpp.html#a95ebf64fa2abaf48038836d49357063a">replaceAndRecursivelySimplifyImpl</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV,</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  <span class="keywordtype">bool</span> Simplified = <span class="keyword">false</span>;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Instruction *, 8&gt;</a> Worklist;</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <span class="comment">// If we have an explicit value to collapse to, do that round of the</span></div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <span class="comment">// simplification loop by hand initially.</span></div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  <span class="keywordflow">if</span> (SimpleV) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = I-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = I-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); UI != UE;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;         ++UI)</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;      <span class="keywordflow">if</span> (*UI != I)</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;        Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;Instruction&gt;(*UI));</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="comment">// Replace the instruction with its simplified value.</span></div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    I-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(SimpleV);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    <span class="comment">// Gracefully handle edge cases where the instruction is not wired into any</span></div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="comment">// parent block.</span></div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(I);</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  }</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;  <span class="comment">// Note that we must test the size on each iteration, the worklist can grow.</span></div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx != Worklist.<a class="code" href="classllvm_1_1SetVector.html#a95ea0587484ef2fc182e64dfd36a62c8">size</a>(); ++Idx) {</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    I = Worklist[Idx];</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="comment">// See if this instruction simplifies.</span></div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    SimpleV = <a class="code" href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">SimplifyInstruction</a>(I, TD, TLI, DT);</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="keywordflow">if</span> (!SimpleV)</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    Simplified = <span class="keyword">true</span>;</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <span class="comment">// Stash away all the uses of the old instruction so we can check them for</span></div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <span class="comment">// recursive simplifications after a RAUW. This is cheaper than checking all</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <span class="comment">// uses of To on the recursive step in most cases.</span></div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = I-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), UE = I-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); UI != UE;</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;         ++UI)</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      Worklist.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(cast&lt;Instruction&gt;(*UI));</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    <span class="comment">// Replace the instruction with its simplified value.</span></div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    I-&gt;<a class="code" href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">replaceAllUsesWith</a>(SimpleV);</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="comment">// Gracefully handle edge cases where the instruction is not wired into any</span></div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="comment">// parent block.</span></div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">if</span> (I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">getParent</a>())</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      I-&gt;<a class="code" href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">eraseFromParent</a>();</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  }</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  <span class="keywordflow">return</span> Simplified;</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;}</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;</div><div class="line"><a name="l03225"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa52d9a03afda2daa106d41ff5db565f7"> 3225</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa52d9a03afda2daa106d41ff5db565f7">llvm::recursivelySimplifyInstruction</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a95ebf64fa2abaf48038836d49357063a">replaceAndRecursivelySimplifyImpl</a>(I, 0, TD, TLI, DT);</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;}</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;</div><div class="line"><a name="l03232"></a><span class="lineno"><a class="line" href="namespacellvm.html#a75689d3e1098e4a4e5f915c89c6db541"> 3232</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a75689d3e1098e4a4e5f915c89c6db541">llvm::replaceAndRecursivelySimplify</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *SimpleV,</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *TD,</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLibraryInfo.html">TargetLibraryInfo</a> *TLI,</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1DominatorTree.html">DominatorTree</a> *DT) {</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  assert(I != SimpleV &amp;&amp; <span class="stringliteral">&quot;replaceAndRecursivelySimplify(X,X) is not valid!&quot;</span>);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  assert(SimpleV &amp;&amp; <span class="stringliteral">&quot;Must provide a simplified value.&quot;</span>);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="InstructionSimplify_8cpp.html#a95ebf64fa2abaf48038836d49357063a">replaceAndRecursivelySimplifyImpl</a>(I, SimpleV, TD, TLI, DT);</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;}</div><div class="ttc" id="Target_2X86_2README_8txt_html_a1b0f9b510ec52cc3cbaa14e6e6211168"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a1b0f9b510ec52cc3cbaa14e6e6211168">td</a></div><div class="ttdeci">gets compiled into this on rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movaps rsp movq rsp movq rsp movq rsp movq rsp movq rsp rax movq rsp rax movq rsp rsp rsp eax eax jbe LBB1_3 rcx rax movq rsp eax rsp ret ecx eax rcx movl rsp jmp LBB1_2 gcc rsp rax movq rsp rsp movq rsp rax movq rsp eax eax jb L6 rdx eax rsp ret p2align edx rdx eax movl rsp eax rsp ret and it gets compiled into this on ebp esp eax movl ebp eax movl ebp eax esp popl ebp ret gcc ebp eax popl ebp ret Teach tblgen not to check bitconvert source type in some cases This allows us to consolidate the following patterns in X86InstrMMX td</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l01367">Target/X86/README.txt:1367</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_adc571425e9aecccf7ebf5fcc3c678d94"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#adc571425e9aecccf7ebf5fcc3c678d94">llvm::PatternMatch::m_UMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umin_pred_ty &gt; m_UMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00958">PatternMatch.h:958</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a427435d4da769ae680a8e77ef89520aa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a427435d4da769ae680a8e77ef89520aa">llvm::PatternMatch::m_And</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::And &gt; m_And(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00467">PatternMatch.h:467</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a759fc1f9b5d5b0d42df0d9167dc74390"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a759fc1f9b5d5b0d42df0d9167dc74390">SimplifyCmpInst</a></div><div class="ttdeci">static Value * SimplifyCmpInst(unsigned, Value *, Value *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02937">InstructionSimplify.cpp:2937</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a70a4dac7efca53879acb06d8cd2e9800"><div class="ttname"><a href="classllvm_1_1APInt.html#a70a4dac7efca53879acb06d8cd2e9800">llvm::APInt::ashr</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT ashr(unsigned shiftAmt) const </div><div class="ttdoc">Arithmetic right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01038">APInt.cpp:1038</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase&lt; T, isPodLike&lt; T &gt;::value &gt;::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00098">DataLayout.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_aa7cce62ac5cc6df09cce0535874336b7"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#aa7cce62ac5cc6df09cce0535874336b7">llvm::ConstantInt::getFalse</a></div><div class="ttdeci">static ConstantInt * getFalse(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00445">Constants.cpp:445</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a24bca8838396aa81b87de8e7ac774b19"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a24bca8838396aa81b87de8e7ac774b19">llvm::PatternMatch::m_Value</a></div><div class="ttdeci">class_match&lt; Value &gt; m_Value()</div><div class="ttdoc">m_Value() - Match an arbitrary value and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00070">PatternMatch.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html"><div class="ttname"><a href="classllvm_1_1CmpInst.html">llvm::CmpInst</a></div><div class="ttdoc">Abstract base class of comparison instructions. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00633">InstrTypes.h:633</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a6cf95c37a0f5c48f2a4d13b7bfb34b5d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a6cf95c37a0f5c48f2a4d13b7bfb34b5d">llvm::PatternMatch::m_Undef</a></div><div class="ttdeci">class_match&lt; UndefValue &gt; m_Undef()</div><div class="ttdoc">m_Undef() - Match an arbitrary undef constant. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00076">PatternMatch.h:76</a></div></div>
<div class="ttc" id="structQuery_html_aa6ac7cd4e7d21d995134e488b207bfa8"><div class="ttname"><a href="structQuery.html#aa6ac7cd4e7d21d995134e488b207bfa8">Query::DT</a></div><div class="ttdeci">const DominatorTree * DT</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00047">InstructionSimplify.cpp:47</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html_a4786e64977a3af38f29adee46b70a863"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a4786e64977a3af38f29adee46b70a863">llvm::SmallVectorImpl::reserve</a></div><div class="ttdeci">void reserve(unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00425">SmallVector.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_ae130d109fdba9ebb976e4fe2621b374a"><div class="ttname"><a href="classllvm_1_1APInt.html#ae130d109fdba9ebb976e4fe2621b374a">llvm::APInt::abs</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT abs() const </div><div class="ttdoc">Get the absolute value;. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01521">APInt.h:1521</a></div></div>
<div class="ttc" id="classllvm_1_1ExtractValueInst_html"><div class="ttname"><a href="classllvm_1_1ExtractValueInst.html">llvm::ExtractValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01740">Instructions.h:1740</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a4c32ee4f47160b37158ce14c53bf95f7"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a4c32ee4f47160b37158ce14c53bf95f7">SimplifyAddInst</a></div><div class="ttdeci">static Value * SimplifyAddInst(Value *Op0, Value *Op1, bool isNSW, bool isNUW, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00592">InstructionSimplify.cpp:592</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a539bdb4fdbf46e0bfcefebf5ac6d21dd"><div class="ttname"><a href="classllvm_1_1APInt.html#a539bdb4fdbf46e0bfcefebf5ac6d21dd">llvm::APInt::getAllOnesValue</a></div><div class="ttdeci">static APInt getAllOnesValue(unsigned numBits)</div><div class="ttdoc">Get the all-ones value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00450">APInt.h:450</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a6fe2f06b8a4b2c3d6308afb223a0238a"><div class="ttname"><a href="classllvm_1_1Instruction.html#a6fe2f06b8a4b2c3d6308afb223a0238a">llvm::Instruction::eraseFromParent</a></div><div class="ttdeci">void eraseFromParent()</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00072">Instruction.cpp:72</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_ac3ed5602889a22db44a16e1b97fac5b8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ac3ed5602889a22db44a16e1b97fac5b8">llvm::PatternMatch::m_Sub</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Sub &gt; m_Sub(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00407">PatternMatch.h:407</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a082d322376f368b751695d3687954471"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a082d322376f368b751695d3687954471">llvm::InsertValueInst::getAggregateOperand</a></div><div class="ttdeci">Value * getAggregateOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01901">Instructions.h:1901</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a42b08bce2f24e45c11b2afeef6db32d4"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a42b08bce2f24e45c11b2afeef6db32d4">llvm::Intrinsic::rint</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02429">Intrinsics.h:2429</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a4b5e1f50cb0890ec60d8c61a61241170"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a4b5e1f50cb0890ec60d8c61a61241170">llvm::CmpInst::makeCmpResultType</a></div><div class="ttdeci">static Type * makeCmpResultType(Type *opnd_type)</div><div class="ttdoc">Create a result type for fcmp/icmp. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00832">InstrTypes.h:832</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a1fb1cc7adc35b5742dc6760eb93630a7"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a1fb1cc7adc35b5742dc6760eb93630a7">llvm::InsertValueInst::getIndices</a></div><div class="ttdeci">ArrayRef&lt; unsigned &gt; getIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01921">Instructions.h:1921</a></div></div>
<div class="ttc" id="namespacellvm_html_a520763107fcd73bc701d36cf8eff4330"><div class="ttname"><a href="namespacellvm.html#a520763107fcd73bc701d36cf8eff4330">llvm::SimplifyTruncInst</a></div><div class="ttdeci">Value * SimplifyTruncInst(Value *Op, Type *Ty, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02856">InstructionSimplify.cpp:2856</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad979b3c1bc975ee23810e3018ffe951b"><div class="ttname"><a href="classllvm_1_1Type.html#ad979b3c1bc975ee23810e3018ffe951b">llvm::Type::getScalarSizeInBits</a></div><div class="ttdeci">unsigned getScalarSizeInBits()</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00135">Type.cpp:135</a></div></div>
<div class="ttc" id="namespacellvm_html_a1169dcf3eb121e1b727bb8b532d7c69a"><div class="ttname"><a href="namespacellvm.html#a1169dcf3eb121e1b727bb8b532d7c69a">llvm::canConstantFoldCallTo</a></div><div class="ttdeci">bool canConstantFoldCallTo(const Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01180">ConstantFolding.cpp:1180</a></div></div>
<div class="ttc" id="GlobalAlias_8h_html"><div class="ttname"><a href="GlobalAlias_8h.html">GlobalAlias.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_acc2eeccdf71d83b3c08d6218317a1430"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#acc2eeccdf71d83b3c08d6218317a1430">llvm::CallSiteBase::arg_end</a></div><div class="ttdeci">IterTy arg_end() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00143">CallSite.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalAlias_html"><div class="ttname"><a href="classllvm_1_1GlobalAlias.html">llvm::GlobalAlias</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalAlias_8h_source.html#l00029">GlobalAlias.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a5ff15505ad3a19cbc8e6d4cb3633d669"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a5ff15505ad3a19cbc8e6d4cb3633d669">llvm::DominatorTree::isReachableFromEntry</a></div><div class="ttdeci">bool isReachableFromEntry(const BasicBlock *A) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00879">Dominators.h:879</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a42df6a41563b50a3fd1872230ed0b5ec"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42df6a41563b50a3fd1872230ed0b5ec">llvm::PatternMatch::m_SRem</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SRem &gt; m_SRem(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00455">PatternMatch.h:455</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_ab3b5beca3a0dedd21adac813123a2ae6"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ab3b5beca3a0dedd21adac813123a2ae6">llvm::PatternMatch::m_Zero</a></div><div class="ttdeci">match_zero m_Zero()</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00137">PatternMatch.h:137</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a58f423c78837f9854278b6026b34714a"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a58f423c78837f9854278b6026b34714a">llvm::ConstantInt::getBitWidth</a></div><div class="ttdeci">unsigned getBitWidth() const </div><div class="ttdoc">getBitWidth - Return the bitwidth of this constant. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00110">Constants.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1ZExtInst_html"><div class="ttname"><a href="classllvm_1_1ZExtInst.html">llvm::ZExtInst</a></div><div class="ttdoc">This class represents zero extension of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03211">Instructions.h:3211</a></div></div>
<div class="ttc" id="namespacellvm_html_a7aa0f1b2e1db694bec5754e278005f07"><div class="ttname"><a href="namespacellvm.html#a7aa0f1b2e1db694bec5754e278005f07">llvm::SimplifyFSubInst</a></div><div class="ttdeci">Value * SimplifyFSubInst(Value *LHS, Value *RHS, FastMathFlags FMF, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01043">InstructionSimplify.cpp:1043</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html_a5a1ebefdf12a23a94f8a135cdfa0cd90"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#a5a1ebefdf12a23a94f8a135cdfa0cd90">llvm::OverflowingBinaryOperator::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00107">Operator.h:107</a></div></div>
<div class="ttc" id="DataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a117239dd65156d5a0844675a51c54391"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a117239dd65156d5a0844675a51c54391">llvm::CmpInst::isOrdered</a></div><div class="ttdeci">static bool isOrdered(unsigned short predicate)</div><div class="ttdoc">Determine if the predicate is an ordered operation. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03254">Instructions.cpp:3254</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a971522b36bf432ad69a0083581ab4108"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a971522b36bf432ad69a0083581ab4108">llvm::PatternMatch::m_Mul</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Mul &gt; m_Mul(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00419">PatternMatch.h:419</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a51940249c228e46f1f97932e5f4b8450"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a51940249c228e46f1f97932e5f4b8450">llvm::ConstantExpr::getGetElementPtr</a></div><div class="ttdeci">static Constant * getGetElementPtr(Constant *C, ArrayRef&lt; Constant * &gt; IdxList, bool InBounds=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l01012">Constants.h:1012</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a38ed8cc3c342ad6910e8c869d3e2b9cf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a38ed8cc3c342ad6910e8c869d3e2b9cf">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00098">ArrayRef.h:98</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00427">README-SSE.txt:427</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01978">Instructions.h:1978</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a1ea4ce74ed5b714a08df30aea632f45f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1ea4ce74ed5b714a08df30aea632f45f">SimplifyAssociativeBinOp</a></div><div class="ttdeci">static Value * SimplifyAssociativeBinOp(unsigned Opc, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00259">InstructionSimplify.cpp:259</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a3c76890714593c78e3b5d142c9030548"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a3c76890714593c78e3b5d142c9030548">llvm::CmpInst::getInversePredicate</a></div><div class="ttdeci">Predicate getInversePredicate() const </div><div class="ttdoc">Return the inverse of the instruction&amp;#39;s predicate. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00737">InstrTypes.h:737</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a050a395d1656e546679d8b144d951bb2"><div class="ttname"><a href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">llvm::PointerType::get</a></div><div class="ttdeci">static PointerType * get(Type *ElementType, unsigned AddressSpace)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00730">Type.cpp:730</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ad92f160316221fd4090520bb2b3cefc5">llvm::CmpInst::ICMP_ULE</a></div><div class="ttdoc">unsigned less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00677">InstrTypes.h:677</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a91d86a4753c8bd7624e01bf565d87f8e">llvm::CmpInst::ICMP_ULT</a></div><div class="ttdoc">unsigned less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00676">InstrTypes.h:676</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a64153676e101a130bbbaaf91635d253a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a64153676e101a130bbbaaf91635d253a">llvm::PatternMatch::m_AShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::AShr &gt; m_AShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00497">PatternMatch.h:497</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html_a9b6dd0fc7a648a939e571246045b673e"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html#a9b6dd0fc7a648a939e571246045b673e">llvm::SmallPtrSet::insert</a></div><div class="ttdeci">bool insert(PtrType Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00253">SmallPtrSet.h:253</a></div></div>
<div class="ttc" id="namespacellvm_html_a3466991e08873b107383c9d32fe581d2"><div class="ttname"><a href="namespacellvm.html#a3466991e08873b107383c9d32fe581d2">llvm::SimplifyAddInst</a></div><div class="ttdeci">Value * SimplifyAddInst(Value *LHS, Value *RHS, bool isNSW, bool isNUW, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00653">InstructionSimplify.cpp:653</a></div></div>
<div class="ttc" id="namespacellvm_html_a56d040fb4ab99ba83607e4d63d1f296d"><div class="ttname"><a href="namespacellvm.html#a56d040fb4ab99ba83607e4d63d1f296d">llvm::isKnownNonNull</a></div><div class="ttdeci">bool isKnownNonNull(const Value *V, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l02067">ValueTracking.cpp:2067</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a13f7eef27b0ecfe146cbac49b3054c91"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a13f7eef27b0ecfe146cbac49b3054c91">llvm::CmpInst::isSigned</a></div><div class="ttdeci">bool isSigned() const </div><div class="ttdoc">Determine if this instruction is using a signed comparison. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00780">InstrTypes.h:780</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a326bee0a4a424cef21c1cf8adb8b8dd8">llvm::CmpInst::FCMP_OLT</a></div><div class="ttdoc">0 1 0 0 True if ordered and less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00657">InstrTypes.h:657</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a731d303bf0e4c2bf8bfe546590cd8352">llvm::Intrinsic::round</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02430">Intrinsics.h:2430</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_ace8e61a4dcf2a13945cdde73a3a6805a"><div class="ttname"><a href="classllvm_1_1Instruction.html#ace8e61a4dcf2a13945cdde73a3a6805a">llvm::Instruction::getFastMathFlags</a></div><div class="ttdeci">FastMathFlags getFastMathFlags() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00175">Instruction.cpp:175</a></div></div>
<div class="ttc" id="classllvm_1_1BasicBlock_html_aca229503e4f5c83a187a6a921c625fa8"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#aca229503e4f5c83a187a6a921c625fa8">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const </div><div class="ttdoc">Return the enclosing method, or null if none. </div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00116">BasicBlock.h:116</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a1fe27735bc26d433b1bcd3a0357f34f4"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1fe27735bc26d433b1bcd3a0357f34f4">FactorizeBinOp</a></div><div class="ttdeci">static Value * FactorizeBinOp(unsigned Opcode, Value *LHS, Value *RHS, unsigned OpcToExtract, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00189">InstructionSimplify.cpp:189</a></div></div>
<div class="ttc" id="classllvm_1_1SExtInst_html"><div class="ttname"><a href="classllvm_1_1SExtInst.html">llvm::SExtInst</a></div><div class="ttdoc">This class represents a sign extension of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03247">Instructions.h:3247</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html_a921061a57ec3cfbaf6422f09f7d79fc3"><div class="ttname"><a href="classllvm_1_1PointerType.html#a921061a57ec3cfbaf6422f09f7d79fc3">llvm::PointerType::getAddressSpace</a></div><div class="ttdeci">unsigned getAddressSpace() const </div><div class="ttdoc">Return the address space of the Pointer type. </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00445">DerivedTypes.h:445</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aac83d9218356dfe82518cb81e3a53f2f"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aac83d9218356dfe82518cb81e3a53f2f">llvm::PatternMatch::m_FSub</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::FSub &gt; m_FSub(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00413">PatternMatch.h:413</a></div></div>
<div class="ttc" id="InstructionSimplify_8h_html"><div class="ttname"><a href="InstructionSimplify_8h.html">InstructionSimplify.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a48d32fc3193ea5fa46bc005179beeab1"><div class="ttname"><a href="namespacellvm.html#a48d32fc3193ea5fa46bc005179beeab1">llvm::SimplifyInsertValueInst</a></div><div class="ttdeci">Value * SimplifyInsertValueInst(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02806">InstructionSimplify.cpp:2806</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a565dd825f238fa0a8c4bbfe562635f7c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a565dd825f238fa0a8c4bbfe562635f7c">getTrue</a></div><div class="ttdeci">static Constant * getTrue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00072">InstructionSimplify.cpp:72</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a554ab77949b0a16670a83ec3307501eb"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a554ab77949b0a16670a83ec3307501eb">llvm::ConstantExpr::getSub</a></div><div class="ttdeci">static Constant * getSub(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02051">Constants.cpp:2051</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a7a221a3b87cff75f1dd16de3e0c54fd4"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a7a221a3b87cff75f1dd16de3e0c54fd4">SimplifySubInst</a></div><div class="ttdeci">static Value * SimplifySubInst(Value *Op0, Value *Op1, bool isNSW, bool isNUW, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00734">InstructionSimplify.cpp:734</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ab811cd0931849fab3917ea90342ba730"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab811cd0931849fab3917ea90342ba730">computePointerDifference</a></div><div class="ttdeci">static Constant * computePointerDifference(const DataLayout *TD, Value *LHS, Value *RHS)</div><div class="ttdoc">Compute the constant difference between two pointer values. If the difference is not a constant...</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00715">InstructionSimplify.cpp:715</a></div></div>
<div class="ttc" id="namespacellvm_html_ad2b02aaa059147fe5a834a84b7d74374"><div class="ttname"><a href="namespacellvm.html#ad2b02aaa059147fe5a834a84b7d74374">llvm::SimplifyFCmpInst</a></div><div class="ttdeci">Value * SimplifyFCmpInst(unsigned Predicate, Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02687">InstructionSimplify.cpp:2687</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ad335041b5d161895eb7cb20fa023eefc"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ad335041b5d161895eb7cb20fa023eefc">SimplifyLShrInst</a></div><div class="ttdeci">static Value * SimplifyLShrInst(Value *Op0, Value *Op1, bool isExact, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01362">InstructionSimplify.cpp:1362</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_a95ea0587484ef2fc182e64dfd36a62c8"><div class="ttname"><a href="classllvm_1_1SetVector.html#a95ea0587484ef2fc182e64dfd36a62c8">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00064">SetVector.h:64</a></div></div>
<div class="ttc" id="namespacellvm_html_ad7ee9212902791ff198d39227fb73f9e"><div class="ttname"><a href="namespacellvm.html#ad7ee9212902791ff198d39227fb73f9e">llvm::SimplifyUDivInst</a></div><div class="ttdeci">Value * SimplifyUDivInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01161">InstructionSimplify.cpp:1161</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a2eeb1c7ed1cfe403f2ae0470e36c07e2"><div class="ttname"><a href="classllvm_1_1User.html#a2eeb1c7ed1cfe403f2ae0470e36c07e2">llvm::User::op_begin</a></div><div class="ttdeci">op_iterator op_begin()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00116">User.h:116</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a562c9513409b74f02cb3a5c9bae672ea"><div class="ttname"><a href="classllvm_1_1APInt.html#a562c9513409b74f02cb3a5c9bae672ea">llvm::APInt::getSignedMaxValue</a></div><div class="ttdeci">static APInt getSignedMaxValue(unsigned numBits)</div><div class="ttdoc">Gets maximum signed value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00423">APInt.h:423</a></div></div>
<div class="ttc" id="namespacellvm_html_a4da5b3524ef6e4182893b97b5d8aadad"><div class="ttname"><a href="namespacellvm.html#a4da5b3524ef6e4182893b97b5d8aadad">llvm::SimplifySDivInst</a></div><div class="ttdeci">Value * SimplifySDivInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01145">InstructionSimplify.cpp:1145</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_aa6574d526b3e38a28f688a7bb4325c2c"><div class="ttname"><a href="classllvm_1_1Constant.html#aa6574d526b3e38a28f688a7bb4325c2c">llvm::Constant::getNullValue</a></div><div class="ttdeci">static Constant * getNullValue(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00111">Constants.cpp:111</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_ae6f1c15034bc5515033874630a8ecce6"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#ae6f1c15034bc5515033874630a8ecce6">llvm::ConstantExpr::getAdd</a></div><div class="ttdeci">static Constant * getAdd(Constant *C1, Constant *C2, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02040">Constants.cpp:2040</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90afcf978f83f97f765943aa6b0b679eb1d"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90afcf978f83f97f765943aa6b0b679eb1d">llvm::Intrinsic::trunc</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l02444">Intrinsics.h:2444</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a0e9a2d7ec903d191ef029589ec647cb6"><div class="ttname"><a href="classllvm_1_1APInt.html#a0e9a2d7ec903d191ef029589ec647cb6">llvm::APInt::isNegative</a></div><div class="ttdeci">bool isNegative() const </div><div class="ttdoc">Determine sign of this APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00322">APInt.h:322</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_af29902082da4b919f6265eb08e85308d"><div class="ttname"><a href="InstructionSimplify_8cpp.html#af29902082da4b919f6265eb08e85308d">ThreadCmpOverPHI</a></div><div class="ttdeci">static Value * ThreadCmpOverPHI(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00555">InstructionSimplify.cpp:555</a></div></div>
<div class="ttc" id="namespacellvm_1_1MCID_html_a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16"><div class="ttname"><a href="namespacellvm_1_1MCID.html#a8035044d40d3758eb45b65dce69dc90ba32dbd2c72a98eaee90e3ad5ef7b5af16">llvm::MCID::Select</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00113">MCInstrDesc.h:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a25d956d9e0beadd47ce4bc255dfa811d"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a25d956d9e0beadd47ce4bc255dfa811d">llvm::PatternMatch::match</a></div><div class="ttdeci">bool match(Val *V, const Pattern &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00042">PatternMatch.h:42</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_afa3db53aac2406cd433bfa7d2b59c249"><div class="ttname"><a href="InstructionSimplify_8cpp.html#afa3db53aac2406cd433bfa7d2b59c249">SimplifySDivInst</a></div><div class="ttdeci">static Value * SimplifySDivInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01137">InstructionSimplify.cpp:1137</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a2ea5ab5267aca8ac32495ee0b2e7e38d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a2ea5ab5267aca8ac32495ee0b2e7e38d">llvm::Instruction::hasNoNaNs</a></div><div class="ttdeci">bool hasNoNaNs() const </div><div class="ttdoc">Determine whether the no-NaNs flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00149">Instruction.cpp:149</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a11c6718a5a17381cf5cb389d10c898d3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a11c6718a5a17381cf5cb389d10c898d3">SimplifyFDivInst</a></div><div class="ttdeci">static Value * SimplifyFDivInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01167">InstructionSimplify.cpp:1167</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a81ad2fffd14e2df92cad4f631ae76480"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a81ad2fffd14e2df92cad4f631ae76480">llvm::ConstantExpr::getIntegerCast</a></div><div class="ttdeci">static Constant * getIntegerCast(Constant *C, Type *Ty, bool isSigned)</div><div class="ttdoc">Create a ZExt, Bitcast or Trunc for integer -&gt; integer casts. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01513">Constants.cpp:1513</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01430">Instructions.h:1430</a></div></div>
<div class="ttc" id="namespacellvm_html_ac53bb620387e76f170ba633e4e6d813a"><div class="ttname"><a href="namespacellvm.html#ac53bb620387e76f170ba633e4e6d813a">llvm::SimplifyAndInst</a></div><div class="ttdeci">Value * SimplifyAndInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01521">InstructionSimplify.cpp:1521</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_af8dde13a97efce293a7b04daf1e208fb"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#af8dde13a97efce293a7b04daf1e208fb">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const </div><div class="ttdoc">Return the constant&amp;#39;s value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00105">Constants.h:105</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a0d67a58f519c9ff820e1015ef3932f75"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a0d67a58f519c9ff820e1015ef3932f75">llvm::PatternMatch::m_Exact</a></div><div class="ttdeci">Exact_match&lt; T &gt; m_Exact(const T &amp;SubPattern)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00564">PatternMatch.h:564</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac17897ebf2f6a6986280fc3bdf28a30a">llvm::CmpInst::ICMP_NE</a></div><div class="ttdoc">not equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00673">InstrTypes.h:673</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a8429e9826885bbef0cfb350bbc49f5db"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8429e9826885bbef0cfb350bbc49f5db">llvm::PatternMatch::m_Shr</a></div><div class="ttdeci">BinOp2_match&lt; LHS, RHS, Instruction::LShr, Instruction::AShr &gt; m_Shr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">m_Shr - Matches LShr or AShr. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00528">PatternMatch.h:528</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_aa1953b3ad7ef6aa87dc0205db0c2ea45"><div class="ttname"><a href="classllvm_1_1APInt.html#aa1953b3ad7ef6aa87dc0205db0c2ea45">llvm::APInt::lshr</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT lshr(unsigned shiftAmt) const </div><div class="ttdoc">Logical right-shift function. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01127">APInt.cpp:1127</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a5b844aada27c4c6fdb87146ac458c0d8"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a5b844aada27c4c6fdb87146ac458c0d8">llvm::PatternMatch::m_Trunc</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::Trunc &gt; m_Trunc(const OpTy &amp;Op)</div><div class="ttdoc">m_Trunc </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00678">PatternMatch.h:678</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a33faa8606af3eeea31426aed18edd16e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a33faa8606af3eeea31426aed18edd16e">SimplifyICmpInst</a></div><div class="ttdeci">static Value * SimplifyICmpInst(unsigned Predicate, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01861">InstructionSimplify.cpp:1861</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abc3975f01f66a098a347a8262ff103e5ad86c5f61eff3b493d5beab893f054a57">RecursionLimit</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00038">InstructionSimplify.cpp:38</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00031">Instruction.h:31</a></div></div>
<div class="ttc" id="namespacellvm_html_a75689d3e1098e4a4e5f915c89c6db541"><div class="ttname"><a href="namespacellvm.html#a75689d3e1098e4a4e5f915c89c6db541">llvm::replaceAndRecursivelySimplify</a></div><div class="ttdeci">bool replaceAndRecursivelySimplify(Instruction *I, Value *SimpleV, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdoc">Replace all uses of &amp;#39;I&amp;#39; with &amp;#39;SimpleV&amp;#39; and simplify the uses recursively. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03232">InstructionSimplify.cpp:3232</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a41e5cfcd9440dd9a108a59b4a9d49c44"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a41e5cfcd9440dd9a108a59b4a9d49c44">SimplifyAShrInst</a></div><div class="ttdeci">static Value * SimplifyAShrInst(Value *Op0, Value *Op1, bool isExact, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01394">InstructionSimplify.cpp:1394</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a38bdade7a4f13d25ec79631ba5bbd5f5"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a38bdade7a4f13d25ec79631ba5bbd5f5">SimplifyOrInst</a></div><div class="ttdeci">static Value * SimplifyOrInst(Value *, Value *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01529">InstructionSimplify.cpp:1529</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90">llvm::Intrinsic::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00036">Intrinsics.h:36</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a4cfd328368353696e64a4d1b15a7cbfa"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a4cfd328368353696e64a4d1b15a7cbfa">llvm::PatternMatch::m_Not</a></div><div class="ttdeci">not_match&lt; LHS &gt; m_Not(const LHS &amp;L)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00738">PatternMatch.h:738</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a944c25ac9b73b02a17a20a08a25b9b21"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a944c25ac9b73b02a17a20a08a25b9b21">llvm::PatternMatch::m_Add</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Add &gt; m_Add(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00395">PatternMatch.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1PtrToIntInst_html"><div class="ttname"><a href="classllvm_1_1PtrToIntInst.html">llvm::PtrToIntInst</a></div><div class="ttdoc">This class represents a cast from a pointer to an integer. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03539">Instructions.h:3539</a></div></div>
<div class="ttc" id="Dominators_8h_html"><div class="ttname"><a href="Dominators_8h.html">Dominators.h</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a45972adf94be9aa2253a6ea0d9c3eb26"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a45972adf94be9aa2253a6ea0d9c3eb26">SimplifyGEPInst</a></div><div class="ttdeci">static Value * SimplifyGEPInst(ArrayRef&lt; Value * &gt; Ops, const Query &amp;Q, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02732">InstructionSimplify.cpp:2732</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a19cafe9b26f7b179609871db5d3f58f2"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a19cafe9b26f7b179609871db5d3f58f2">stripAndComputeConstantOffsets</a></div><div class="ttdeci">static Constant * stripAndComputeConstantOffsets(const DataLayout *TD, Value *&amp;V, bool AllowNonInbounds=false)</div><div class="ttdoc">Compute the base pointer and cumulative constant offsets for V. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00670">InstructionSimplify.cpp:670</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a515aed98cbb04e89f9f967e3da3fc30b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a515aed98cbb04e89f9f967e3da3fc30b">SimplifyFAddInst</a></div><div class="ttdeci">static Value * SimplifyFAddInst(Value *Op0, Value *Op1, FastMathFlags FMF, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00868">InstructionSimplify.cpp:868</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a66cf73f52b6fa384bfe0bed09574f7f1"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a66cf73f52b6fa384bfe0bed09574f7f1">SimplifyBinOp</a></div><div class="ttdeci">static Value * SimplifyBinOp(unsigned, Value *, Value *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02866">InstructionSimplify.cpp:2866</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html"><div class="ttname"><a href="classllvm_1_1FunctionType.html">llvm::FunctionType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00096">DerivedTypes.h:96</a></div></div>
<div class="ttc" id="classllvm_1_1FastMathFlags_html_abc53bb0cd91711c57710f8de313f938d"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#abc53bb0cd91711c57710f8de313f938d">llvm::FastMathFlags::noInfs</a></div><div class="ttdeci">bool noInfs()</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00196">Operator.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00102">SetVector.h:102</a></div></div>
<div class="ttc" id="Operator_8h_html"><div class="ttname"><a href="Operator_8h.html">Operator.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_af7e3d70a89d1fe893a6abb3fb28b6294"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#af7e3d70a89d1fe893a6abb3fb28b6294">llvm::ConstantRange::contains</a></div><div class="ttdeci">bool contains(const APInt &amp;Val) const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00209">ConstantRange.cpp:209</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_ac26154a24f393f523c87cc5f8239f36c"><div class="ttname"><a href="classllvm_1_1Instruction.html#ac26154a24f393f523c87cc5f8239f36c">llvm::Instruction::BinaryOps</a></div><div class="ttdeci">BinaryOps</div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00387">Instruction.h:387</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a9e56f302962d7d5ea2aadde17beb11c3"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a9e56f302962d7d5ea2aadde17beb11c3">ExtractEquivalentCondition</a></div><div class="ttdeci">static Value * ExtractEquivalentCondition(Value *V, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01688">InstructionSimplify.cpp:1688</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_aa113b8a9ef3de9c2f075a046ad658717"><div class="ttname"><a href="classllvm_1_1Instruction.html#aa113b8a9ef3de9c2f075a046ad658717">llvm::Instruction::isAssociative</a></div><div class="ttdeci">bool isAssociative() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00482">Instruction.cpp:482</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a92f84f160d842aee34717a28173b0e86"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a92f84f160d842aee34717a28173b0e86">SimplifyPHINode</a></div><div class="ttdeci">static Value * SimplifyPHINode(PHINode *PN, const Query &amp;Q)</div><div class="ttdoc">SimplifyPHINode - See if we can fold the given phi. If not, returns null. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02816">InstructionSimplify.cpp:2816</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a8a4a04e719ab242a67a91dbfd17e16b0"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a8a4a04e719ab242a67a91dbfd17e16b0">llvm::ArrayRef::slice</a></div><div class="ttdeci">ArrayRef&lt; T &gt; slice(unsigned N) const </div><div class="ttdoc">slice(n) - Chop off the first N elements of the array. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00134">ArrayRef.h:134</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a593bc53015a060d260c75fc599f9a7b1"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a593bc53015a060d260c75fc599f9a7b1">llvm::ConstantExpr::getICmp</a></div><div class="ttdeci">static Constant * getICmp(unsigned short pred, Constant *LHS, Constant *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01881">Constants.cpp:1881</a></div></div>
<div class="ttc" id="namespacellvm_html_a603e39bd7102628d207431f0289a2942"><div class="ttname"><a href="namespacellvm.html#a603e39bd7102628d207431f0289a2942">llvm::SimplifyFMulInst</a></div><div class="ttdeci">Value * SimplifyFMulInst(Value *LHS, Value *RHS, FastMathFlags FMF, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01049">InstructionSimplify.cpp:1049</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_af16a6c9336ca2a17389ea709b45fe7f5"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#af16a6c9336ca2a17389ea709b45fe7f5">llvm::PatternMatch::m_SMin</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smin_pred_ty &gt; m_SMin(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00946">PatternMatch.h:946</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a9311e2e4f77e6e0d678e9f9873b72736"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a9311e2e4f77e6e0d678e9f9873b72736">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumExpand,&quot;Number of expansions&quot;)</div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a7cdfcbc398bccb7bb8f1edd4f421527e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a7cdfcbc398bccb7bb8f1edd4f421527e">SimplifyTruncInst</a></div><div class="ttdeci">static Value * SimplifyTruncInst(Value *, Type *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02849">InstructionSimplify.cpp:2849</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00031">ArrayRef.h:31</a></div></div>
<div class="ttc" id="structQuery_html_a49e765d946d2df57f3b13cc5e5e9b065"><div class="ttname"><a href="structQuery.html#a49e765d946d2df57f3b13cc5e5e9b065">Query::TD</a></div><div class="ttdeci">const DataLayout * TD</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00045">InstructionSimplify.cpp:45</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html_a9a004adbac8f42baab2ae52ae879a34b"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html#a9a004adbac8f42baab2ae52ae879a34b">llvm::InsertValueInst::getInsertedValueOperand</a></div><div class="ttdeci">Value * getInsertedValueOperand()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01911">Instructions.h:1911</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a34a92072122412c6020d4afb43725bf4"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a34a92072122412c6020d4afb43725bf4">llvm::PatternMatch::m_ConstantInt</a></div><div class="ttdeci">class_match&lt; ConstantInt &gt; m_ConstantInt()</div><div class="ttdoc">m_ConstantInt() - Match an arbitrary ConstantInt and ignore it. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00072">PatternMatch.h:72</a></div></div>
<div class="ttc" id="namespacellvm_html_af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51"><div class="ttname"><a href="namespacellvm.html#af6d6a791770bad2303c4399986979e3eae411369b2f0d8f484fec62c3291b1b51">llvm::Call</a></div><div class="ttdef"><b>Definition:</b> <a href="CallingConvLower_8h_source.html#l00149">CallingConvLower.h:149</a></div></div>
<div class="ttc" id="namespacellvm_html_afaf85770fdd46c58822741178d7fd03d"><div class="ttname"><a href="namespacellvm.html#afaf85770fdd46c58822741178d7fd03d">llvm::ConstantFoldInstruction</a></div><div class="ttdeci">Constant * ConstantFoldInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00839">ConstantFolding.cpp:839</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_a472ce166c50612c9e0cf8fd4927978b5"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a472ce166c50612c9e0cf8fd4927978b5">llvm::ICmpInst::getUnsignedPredicate</a></div><div class="ttdeci">Predicate getUnsignedPredicate() const </div><div class="ttdoc">Return the unsigned version of the predicate. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00987">Instructions.h:987</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aa38e486f1adef6e6bd428a0b50e5f6a6"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa38e486f1adef6e6bd428a0b50e5f6a6">SimplifyAndInst</a></div><div class="ttdeci">static Value * SimplifyAndInst(Value *, Value *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01430">InstructionSimplify.cpp:1430</a></div></div>
<div class="ttc" id="namespacellvm_html_ad7fa9b738742521d0a684cec016ef47e"><div class="ttname"><a href="namespacellvm.html#ad7fa9b738742521d0a684cec016ef47e">llvm::ConstantFoldInsertValueInstruction</a></div><div class="ttdeci">Constant * ConstantFoldInsertValueInstruction(Constant *Agg, Constant *Val, ArrayRef&lt; unsigned &gt; Idxs)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFold_8cpp_source.html#l00839">ConstantFold.cpp:839</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a1abce20a9eff3d23ce05331962b1997c"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a1abce20a9eff3d23ce05331962b1997c">llvm::CallSiteBase::getCalledValue</a></div><div class="ttdeci">ValTy * getCalledValue() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00085">CallSite.h:85</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a3ab5fc45117b450e8bb04e564cb6e5f2"><div class="ttname"><a href="classllvm_1_1Value.html#a3ab5fc45117b450e8bb04e564cb6e5f2">llvm::Value::replaceAllUsesWith</a></div><div class="ttdeci">void replaceAllUsesWith(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00303">Value.cpp:303</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aec7ed52a34272bfdf93a65bc6c8ae413"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aec7ed52a34272bfdf93a65bc6c8ae413">ThreadBinOpOverSelect</a></div><div class="ttdeci">static Value * ThreadBinOpOverSelect(unsigned Opcode, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00358">InstructionSimplify.cpp:358</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ae30fc3c1e5f4ce9289bc7a77b8535e07"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ae30fc3c1e5f4ce9289bc7a77b8535e07">SimplifyFSubInst</a></div><div class="ttdeci">static Value * SimplifyFSubInst(Value *Op0, Value *Op1, FastMathFlags FMF, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00910">InstructionSimplify.cpp:910</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a15e279291892399c141cd01c7e358cbf"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a15e279291892399c141cd01c7e358cbf">llvm::ConstantExpr::getIntToPtr</a></div><div class="ttdeci">static Constant * getIntToPtr(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01660">Constants.cpp:1660</a></div></div>
<div class="ttc" id="structQuery_html_a651a3dd1e7629a68a1b58d0841237f67"><div class="ttname"><a href="structQuery.html#a651a3dd1e7629a68a1b58d0841237f67">Query::Query</a></div><div class="ttdeci">Query(const DataLayout *td, const TargetLibraryInfo *tli, const DominatorTree *dt)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00049">InstructionSimplify.cpp:49</a></div></div>
<div class="ttc" id="namespacellvm_html_a06316e4ad9eb44b69c40619212d5132d"><div class="ttname"><a href="namespacellvm.html#a06316e4ad9eb44b69c40619212d5132d">llvm::SimplifyICmpInst</a></div><div class="ttdeci">Value * SimplifyICmpInst(unsigned Predicate, Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02590">InstructionSimplify.cpp:2590</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html"><div class="ttname"><a href="classllvm_1_1DominatorTree.html">llvm::DominatorTree</a></div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00740">Dominators.h:740</a></div></div>
<div class="ttc" id="classllvm_1_1SequentialType_html_a39f2c3a62f293faf11ac28b15bc53359"><div class="ttname"><a href="classllvm_1_1SequentialType.html#a39f2c3a62f293faf11ac28b15bc53359">llvm::SequentialType::getElementType</a></div><div class="ttdeci">Type * getElementType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00319">DerivedTypes.h:319</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a76878250107ee24ef7339870bdda4bcf"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a76878250107ee24ef7339870bdda4bcf">llvm::ArrayRef::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdoc">size - Get the array size. </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00109">ArrayRef.h:109</a></div></div>
<div class="ttc" id="namespacellvm_html_a7fba1a9b7761f82c4e9da63290d71af5"><div class="ttname"><a href="namespacellvm.html#a7fba1a9b7761f82c4e9da63290d71af5">llvm::SimplifyGEPInst</a></div><div class="ttdeci">Value * SimplifyGEPInst(ArrayRef&lt; Value * &gt; Ops, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02771">InstructionSimplify.cpp:2771</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aaffd3bfa7400523c828ba30144b7aae4"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aaffd3bfa7400523c828ba30144b7aae4">SimplifyURemInst</a></div><div class="ttdeci">static Value * SimplifyURemInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01258">InstructionSimplify.cpp:1258</a></div></div>
<div class="ttc" id="classllvm_1_1PointerType_html"><div class="ttname"><a href="classllvm_1_1PointerType.html">llvm::PointerType</a></div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00425">DerivedTypes.h:425</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a1dc5339334162e650ff87e89629bf66c"><div class="ttname"><a href="classllvm_1_1APInt.html#a1dc5339334162e650ff87e89629bf66c">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned less than comparison. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l00515">APInt.cpp:515</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aa45f6c0433576e3858a6209a43750ad4"><div class="ttname"><a href="classllvm_1_1PHINode.html#aa45f6c0433576e3858a6209a43750ad4">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02055">Instructions.h:2055</a></div></div>
<div class="ttc" id="namespacellvm_html_abaa7bb099e75b4a5dba358a498783f83"><div class="ttname"><a href="namespacellvm.html#abaa7bb099e75b4a5dba358a498783f83">llvm::ConstantFoldCall</a></div><div class="ttdeci">Constant * ConstantFoldCall(Function *F, ArrayRef&lt; Constant * &gt; Operands, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01321">ConstantFolding.cpp:1321</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90aa5e3272cd3a1252dab94b777ec25e949"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90aa5e3272cd3a1252dab94b777ec25e949">llvm::Intrinsic::floor</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00390">Intrinsics.h:390</a></div></div>
<div class="ttc" id="README__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A,*B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00091">README_ALTIVEC.txt:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aa08fee11e8a5ec10c0cc2a7abbbd799a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aa08fee11e8a5ec10c0cc2a7abbbd799a">llvm::PatternMatch::m_LShr</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::LShr &gt; m_LShr(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00491">PatternMatch.h:491</a></div></div>
<div class="ttc" id="namespacellvm_1_1AArch64ISD_html_a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e"><div class="ttname"><a href="namespacellvm_1_1AArch64ISD.html#a246d89cb58f606179b1435937830bbdca84e96c468affe3b1fd3076b4fc5d063e">llvm::AArch64ISD::Ret</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64ISelLowering_8h_source.html#l00060">AArch64ISelLowering.h:60</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a8273cb383aec5c7a0f2252e60170c908"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a8273cb383aec5c7a0f2252e60170c908">computePointerICmp</a></div><div class="ttdeci">static Constant * computePointerICmp(const DataLayout *TD, const TargetLibraryInfo *TLI, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01733">InstructionSimplify.cpp:1733</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_ae5a9f5c71425f38b8874296c380567ad"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae5a9f5c71425f38b8874296c380567ad">llvm::PatternMatch::m_UMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, umax_pred_ty &gt; m_UMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00952">PatternMatch.h:952</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a741e3212cc4b9d94cd549d02d26e172b"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a741e3212cc4b9d94cd549d02d26e172b">llvm::PatternMatch::m_SDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::SDiv &gt; m_SDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00437">PatternMatch.h:437</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ac0800a6f2644ffd041b6c750f31447c9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac0800a6f2644ffd041b6c750f31447c9">SimplifySelectInst</a></div><div class="ttdeci">static Value * SimplifySelectInst(Value *CondVal, Value *TrueVal, Value *FalseVal, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02697">InstructionSimplify.cpp:2697</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a2864c2988fff3cbc8e568ef5a36aef80"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a2864c2988fff3cbc8e568ef5a36aef80">llvm::ConstantRange::isFullSet</a></div><div class="ttdeci">bool isFullSet() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00119">ConstantRange.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a42569041ddafba7d40243e126af07f42"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a42569041ddafba7d40243e126af07f42">llvm::PatternMatch::m_Or</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Or &gt; m_Or(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00473">PatternMatch.h:473</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6f725580f7834e2ca90762965866dad4"><div class="ttname"><a href="classllvm_1_1Type.html#a6f725580f7834e2ca90762965866dad4">llvm::Type::isVectorTy</a></div><div class="ttdeci">bool isVectorTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00229">Type.h:229</a></div></div>
<div class="ttc" id="structQuery_html_a1f806f9859d142bb4920a9f154bf20be"><div class="ttname"><a href="structQuery.html#a1f806f9859d142bb4920a9f154bf20be">Query::TLI</a></div><div class="ttdeci">const TargetLibraryInfo * TLI</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00046">InstructionSimplify.cpp:46</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a7e47131185becc5c96731a2e28441b77"><div class="ttname"><a href="classllvm_1_1Function.html#a7e47131185becc5c96731a2e28441b77">llvm::Function::getIntrinsicID</a></div><div class="ttdeci">unsigned getIntrinsicID() const LLVM_READONLY</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l00371">Function.cpp:371</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_a9adf718c253dc7c1c7e859265cd3fc3d"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a9adf718c253dc7c1c7e859265cd3fc3d">llvm::ICmpInst::isEquality</a></div><div class="ttdeci">bool isEquality() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01003">Instructions.h:1003</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">LLVM Constant Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a1c7181e85b969bbb8703c9dadd20a4a0"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a1c7181e85b969bbb8703c9dadd20a4a0">SimplifyCall</a></div><div class="ttdeci">static Value * SimplifyCall(Value *V, IterTy ArgBegin, IterTy ArgEnd, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02984">InstructionSimplify.cpp:2984</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_ad285a69e32ddeee367fed93b5f392801"><div class="ttname"><a href="classllvm_1_1SelectInst.html#ad285a69e32ddeee367fed93b5f392801">llvm::SelectInst::getCondition</a></div><div class="ttdeci">const Value * getCondition() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01466">Instructions.h:1466</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a79d8a039f8f6169c758874ea23f24e30"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a79d8a039f8f6169c758874ea23f24e30">ThreadCmpOverSelect</a></div><div class="ttdeci">static Value * ThreadCmpOverSelect(CmpInst::Predicate Pred, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00430">InstructionSimplify.cpp:430</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_adf9127162fae808a675cd1d44a8e38b2"><div class="ttname"><a href="InstructionSimplify_8cpp.html#adf9127162fae808a675cd1d44a8e38b2">SimplifySRemInst</a></div><div class="ttdeci">static Value * SimplifySRemInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01242">InstructionSimplify.cpp:1242</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a22f056804d2b9882f74adc905872bc39"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a22f056804d2b9882f74adc905872bc39">llvm::APIntOps::Or</a></div><div class="ttdeci">APInt Or(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise OR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01845">APInt.h:1845</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aaf1eabd5d9b7cd95724a53c7b9153d88"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aaf1eabd5d9b7cd95724a53c7b9153d88">SimplifyFMulInst</a></div><div class="ttdeci">static Value * SimplifyFMulInst(Value *Op0, Value *Op1, FastMathFlags FMF, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdoc">Given the operands for an FMul, see if we can fold the result. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00946">InstructionSimplify.cpp:946</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantFP_html"><div class="ttname"><a href="classllvm_1_1ConstantFP.html">llvm::ConstantFP</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00232">Constants.h:232</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_afc7c4d88d09cba0c5e920f8a3a3ace55"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#afc7c4d88d09cba0c5e920f8a3a3ace55">llvm::APIntOps::Xor</a></div><div class="ttdeci">APInt Xor(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise XOR function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01850">APInt.h:1850</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a459cca9e97ecc929936dd17d5ccc6f4a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a459cca9e97ecc929936dd17d5ccc6f4a">SimplifyDiv</a></div><div class="ttdeci">static Value * SimplifyDiv(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01065">InstructionSimplify.cpp:1065</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aaea0d5ebb8b57ddde2095f80e2e94bb2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aaea0d5ebb8b57ddde2095f80e2e94bb2">llvm::PatternMatch::m_AllOnes</a></div><div class="ttdeci">cst_pred_ty&lt; is_all_ones &gt; m_AllOnes()</div><div class="ttdoc">m_AllOnes() - Match an integer or vector with all bits set to true. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00265">PatternMatch.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a9a85fb22d40ffa2b7dd4b199494528f8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a9a85fb22d40ffa2b7dd4b199494528f8">llvm::CmpInst::isIntPredicate</a></div><div class="ttdeci">bool isIntPredicate() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00730">InstrTypes.h:730</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a2d9861feadd3a09792967a012559e7b2"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a2d9861feadd3a09792967a012559e7b2">llvm::PatternMatch::m_Specific</a></div><div class="ttdeci">specificval_ty m_Specific(const Value *V)</div><div class="ttdoc">m_Specific - Match if we have a specific specified value. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00323">PatternMatch.h:323</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_af41f58e730804d10b91fcff39b035f74"><div class="ttname"><a href="classllvm_1_1User.html#af41f58e730804d10b91fcff39b035f74">llvm::User::op_end</a></div><div class="ttdeci">op_iterator op_end()</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00118">User.h:118</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a37668d9884c78ac77254cf9fb8a4276a"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a37668d9884c78ac77254cf9fb8a4276a">llvm::PatternMatch::m_Shl</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::Shl &gt; m_Shl(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00485">PatternMatch.h:485</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_af6a36e1e0483f9eb5954f83ad75e123c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#af6a36e1e0483f9eb5954f83ad75e123c">llvm::CmpInst::isFalseWhenEqual</a></div><div class="ttdeci">bool isFalseWhenEqual() const </div><div class="ttdoc">Determine if this is false when both operands are the same. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00798">InstrTypes.h:798</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05">llvm::CmpInst::Predicate</a></div><div class="ttdeci">Predicate</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00651">InstrTypes.h:651</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html">llvm::OverflowingBinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00079">Operator.h:79</a></div></div>
<div class="ttc" id="classllvm_1_1ArrayRef_html_a836367b39ed630bf14db99923c22740e"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a836367b39ed630bf14db99923c22740e">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00097">ArrayRef.h:97</a></div></div>
<div class="ttc" id="namespacellvm_html_a2ec75001a2ff23312dba513b2f2bd044"><div class="ttname"><a href="namespacellvm.html#a2ec75001a2ff23312dba513b2f2bd044">llvm::SimplifyShlInst</a></div><div class="ttdeci">Value * SimplifyShlInst(Value *Op0, Value *Op1, bool isNSW, bool isNUW, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01353">InstructionSimplify.cpp:1353</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a482ad0f63ec145fdba2497e2298a5aa1"><div class="ttname"><a href="classllvm_1_1APInt.html#a482ad0f63ec145fdba2497e2298a5aa1">llvm::APInt::sdiv</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT sdiv(const APInt &amp;RHS) const </div><div class="ttdoc">Signed division function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01879">APInt.cpp:1879</a></div></div>
<div class="ttc" id="classllvm_1_1User_html_a997ff6a1758bf732b9b263fc61011644"><div class="ttname"><a href="classllvm_1_1User.html#a997ff6a1758bf732b9b263fc61011644">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00088">User.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a1c2048f254df730c4de1643ec791ddf9"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1c2048f254df730c4de1643ec791ddf9">llvm::Instruction::isCommutative</a></div><div class="ttdeci">bool isCommutative() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00269">Instruction.h:269</a></div></div>
<div class="ttc" id="namespacellvm_html_aa61b351a455e9229d3dc58e0883b6cef"><div class="ttname"><a href="namespacellvm.html#aa61b351a455e9229d3dc58e0883b6cef">llvm::ConstantFoldCompareInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldCompareInstOperands(unsigned Predicate, Constant *LHS, Constant *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l01053">ConstantFolding.cpp:1053</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a8afd4995fae596b2c86eeed85b3d388b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a8afd4995fae596b2c86eeed85b3d388b">llvm::CmpInst::getPredicate</a></div><div class="ttdeci">Predicate getPredicate() const </div><div class="ttdoc">Return the predicate for this instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00714">InstrTypes.h:714</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a4b9dacde854dce5754dc67e2be6735ff"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a4b9dacde854dce5754dc67e2be6735ff">ValueDominatesPHI</a></div><div class="ttdeci">static bool ValueDominatesPHI(Value *V, PHINode *P, const DominatorTree *DT)</div><div class="ttdoc">ValueDominatesPHI - Does the given value dominate the specified phi node? </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00093">InstructionSimplify.cpp:93</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_a4d51384de6e1798bb6aa875aebeea9f0"><div class="ttname"><a href="classllvm_1_1Constant.html#a4d51384de6e1798bb6aa875aebeea9f0">llvm::Constant::getAllOnesValue</a></div><div class="ttdeci">static Constant * getAllOnesValue(Type *Ty)</div><div class="ttdoc">Get the all ones value. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00163">Constants.cpp:163</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a0a33c71e3c5e8f128ca47539a85962f5">llvm::CmpInst::FCMP_TRUE</a></div><div class="ttdoc">1 1 1 1 Always true (always folded) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00668">InstrTypes.h:668</a></div></div>
<div class="ttc" id="classllvm_1_1DominatorTree_html_a6fe9272dc67fe2ff4cafc33b895c4a6c"><div class="ttname"><a href="classllvm_1_1DominatorTree.html#a6fe9272dc67fe2ff4cafc33b895c4a6c">llvm::DominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const DomTreeNode *A, const DomTreeNode *B) const </div><div class="ttdef"><b>Definition:</b> <a href="Dominators_8h_source.html#l00801">Dominators.h:801</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a8059af70098c05ece88252e8eff7ad65"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a8059af70098c05ece88252e8eff7ad65">SimplifyInsertValueInst</a></div><div class="ttdeci">static Value * SimplifyInsertValueInst(Value *Agg, Value *Val, ArrayRef&lt; unsigned &gt; Idxs, const Query &amp;Q, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02779">InstructionSimplify.cpp:2779</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a4578c914eb8072d8af6a538fbe6a1197"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a4578c914eb8072d8af6a538fbe6a1197">llvm::PatternMatch::m_AnyZero</a></div><div class="ttdeci">match_combine_or&lt; match_zero, match_neg_zero &gt; m_AnyZero()</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00157">PatternMatch.h:157</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_ae02fb0a19012613dcf2f9f24a1a3cf99"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#ae02fb0a19012613dcf2f9f24a1a3cf99">llvm::ConstantRange::isEmptySet</a></div><div class="ttdeci">bool isEmptySet() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00125">ConstantRange.cpp:125</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1UndefValue_html_a4ae5ff22b700a42bcc5d889233721335"><div class="ttname"><a href="classllvm_1_1UndefValue.html#a4ae5ff22b700a42bcc5d889233721335">llvm::UndefValue::get</a></div><div class="ttdeci">static UndefValue * get(Type *T)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01334">Constants.cpp:1334</a></div></div>
<div class="ttc" id="namespacellvm_html_a50f8f41fccbea466816345520e9bfabb"><div class="ttname"><a href="namespacellvm.html#a50f8f41fccbea466816345520e9bfabb">llvm::SimplifyInstruction</a></div><div class="ttdeci">Value * SimplifyInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03036">InstructionSimplify.cpp:3036</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_af85a4828b6b5a8de7fc0a55cc0e5b52f"><div class="ttname"><a href="classllvm_1_1Value.html#af85a4828b6b5a8de7fc0a55cc0e5b52f">llvm::Value::getContext</a></div><div class="ttdeci">LLVMContext &amp; getContext() const </div><div class="ttdoc">All values hold a context through their type. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00517">Value.cpp:517</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a07783e6f39803037259a1ebe376c2b1e"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a07783e6f39803037259a1ebe376c2b1e">llvm::BinaryOperator::hasNoSignedWrap</a></div><div class="ttdeci">bool hasNoSignedWrap() const </div><div class="ttdoc">hasNoSignedWrap - Determine whether the no signed wrap flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02013">Instructions.cpp:2013</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_a67bf091383cd61e1225445e78b61d9f9"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a67bf091383cd61e1225445e78b61d9f9">llvm::SelectInst::getTrueValue</a></div><div class="ttdeci">const Value * getTrueValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01467">Instructions.h:1467</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a396dda2571cd3c575f1d9cb44dc2cc09">llvm::CmpInst::FCMP_ULE</a></div><div class="ttdoc">1 1 0 1 True if unordered, less than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00666">InstrTypes.h:666</a></div></div>
<div class="ttc" id="namespacellvm_html_a9a0b7acac205af164daef4017f9d193d"><div class="ttname"><a href="namespacellvm.html#a9a0b7acac205af164daef4017f9d193d">llvm::SimplifyBinOp</a></div><div class="ttdeci">Value * SimplifyBinOp(unsigned Opcode, Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02929">InstructionSimplify.cpp:2929</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html">llvm::PatternMatch</a></div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00039">PatternMatch.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a720a42e85f7e981afd61e28473b0000a">llvm::CmpInst::ICMP_SGT</a></div><div class="ttdoc">signed greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00678">InstrTypes.h:678</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a9dfcb9eb1e2a7753f1b2862eea286c4c"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a9dfcb9eb1e2a7753f1b2862eea286c4c">ExpandBinOp</a></div><div class="ttdeci">static Value * ExpandBinOp(unsigned Opcode, Value *LHS, Value *RHS, unsigned OpcToExpand, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00128">InstructionSimplify.cpp:128</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a66117262c223380ed69d25376318a8b4"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a66117262c223380ed69d25376318a8b4">llvm::PatternMatch::m_Neg</a></div><div class="ttdeci">neg_match&lt; LHS &gt; m_Neg(const LHS &amp;L)</div><div class="ttdoc">m_Neg - Match an integer negate. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00764">PatternMatch.h:764</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_ae84bb2408dfffa4e8b5fe2ce0714a3bd"><div class="ttname"><a href="classllvm_1_1DataLayout.html#ae84bb2408dfffa4e8b5fe2ce0714a3bd">llvm::DataLayout::getIntPtrType</a></div><div class="ttdeci">IntegerType * getIntPtrType(LLVMContext &amp;C, unsigned AddressSpace=0) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8cpp_source.html#l00610">DataLayout.cpp:610</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ac8c641ba1d16b13768c902a449e66d26"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ac8c641ba1d16b13768c902a449e66d26">SimplifyUDivInst</a></div><div class="ttdeci">static Value * SimplifyUDivInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01153">InstructionSimplify.cpp:1153</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a4c399f525bbcf03d72af4b303e6eeca8">llvm::CmpInst::FCMP_OGT</a></div><div class="ttdoc">0 0 1 0 True if ordered and greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00655">InstrTypes.h:655</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a88505baf41407782678a5df1702d2d31"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a88505baf41407782678a5df1702d2d31">llvm::BinaryOperator::getOpcode</a></div><div class="ttdeci">BinaryOps getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00326">InstrTypes.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantVector_html_a5ce0c10fc8f570a6411da209203a1c6e"><div class="ttname"><a href="classllvm_1_1ConstantVector.html#a5ce0c10fc8f570a6411da209203a1c6e">llvm::ConstantVector::getSplat</a></div><div class="ttdeci">static Constant * getSplat(unsigned NumElts, Constant *Elt)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01021">Constants.cpp:1021</a></div></div>
<div class="ttc" id="classllvm_1_1IntegerType_html_a14f7b4f1aed38192fb6b7772eb506bdb"><div class="ttname"><a href="classllvm_1_1IntegerType.html#a14f7b4f1aed38192fb6b7772eb506bdb">llvm::IntegerType::get</a></div><div class="ttdeci">static IntegerType * get(LLVMContext &amp;C, unsigned NumBits)</div><div class="ttdoc">Get or create an IntegerType instance. </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00305">Type.cpp:305</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae41f9ca68ba5e8b9613cea03652ebd72">llvm::TargetOpcode::PHI</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00026">TargetOpcodes.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size. </div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00218">SetVector.h:218</a></div></div>
<div class="ttc" id="ConstantRange_8h_html"><div class="ttname"><a href="ConstantRange_8h.html">ConstantRange.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00236">SmallPtrSet.h:236</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a8ec6470e6455e8806d32ba07fd095ec9"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a8ec6470e6455e8806d32ba07fd095ec9">SimplifyRem</a></div><div class="ttdeci">static Value * SimplifyRem(Instruction::BinaryOps Opcode, Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01188">InstructionSimplify.cpp:1188</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a0519dc6e2f153aaed61eed17d965a9f0"><div class="ttname"><a href="classllvm_1_1Type.html#a0519dc6e2f153aaed61eed17d965a9f0">llvm::Type::getIntegerBitWidth</a></div><div class="ttdeci">unsigned getIntegerBitWidth() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00178">Type.cpp:178</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">Class for constant integers. </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00051">Constants.h:51</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aa6cb344bb3e84a4f93e71295466474ef"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aa6cb344bb3e84a4f93e71295466474ef">SimplifyShlInst</a></div><div class="ttdeci">static Value * SimplifyShlInst(Value *Op0, Value *Op1, bool isNSW, bool isNUW, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01337">InstructionSimplify.cpp:1337</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a2107ef535957e9ea31e1fc60f5716e03"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a2107ef535957e9ea31e1fc60f5716e03">llvm::Intrinsic::ceil</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00351">Intrinsics.h:351</a></div></div>
<div class="ttc" id="classllvm_1_1PHINode_html_aba6a4cc4ed6d6fef3664b8d65ef04820"><div class="ttname"><a href="classllvm_1_1PHINode.html#aba6a4cc4ed6d6fef3664b8d65ef04820">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02059">Instructions.h:2059</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_a1d6fcc02e91ba24510aba42660c90e29"><div class="ttname"><a href="classllvm_1_1DataLayout.html#a1d6fcc02e91ba24510aba42660c90e29">llvm::DataLayout::getTypeAllocSize</a></div><div class="ttdeci">uint64_t getTypeAllocSize(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00326">DataLayout.h:326</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_ad8f27f0b94a56abcd296b8461737a3af"><div class="ttname"><a href="classllvm_1_1Type.html#ad8f27f0b94a56abcd296b8461737a3af">llvm::Type::getVectorNumElements</a></div><div class="ttdeci">unsigned getVectorNumElements() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00214">Type.cpp:214</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a2a2df5a25b9c703e74e82b48a75d0c3d"><div class="ttname"><a href="Target_2README_8txt.html#a2a2df5a25b9c703e74e82b48a75d0c3d">C1</a></div><div class="ttdeci">instcombine should handle this C2 when C1</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00300">Target/README.txt:300</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html_a3b6b85760d6f19980ca3f98b7dc6fad4"><div class="ttname"><a href="classllvm_1_1ConstantRange.html#a3b6b85760d6f19980ca3f98b7dc6fad4">llvm::ConstantRange::inverse</a></div><div class="ttdeci">ConstantRange inverse() const </div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8cpp_source.html#l00711">ConstantRange.cpp:711</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1TargetLibraryInfo_html"><div class="ttname"><a href="classllvm_1_1TargetLibraryInfo.html">llvm::TargetLibraryInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00657">TargetLibraryInfo.h:657</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_ae1a04895305aaea96e5e82d95c39bbe0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#ae1a04895305aaea96e5e82d95c39bbe0">llvm::PatternMatch::m_URem</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::URem &gt; m_URem(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00449">PatternMatch.h:449</a></div></div>
<div class="ttc" id="structQuery_html"><div class="ttname"><a href="structQuery.html">Query</a></div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00044">InstructionSimplify.cpp:44</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantRange_html"><div class="ttname"><a href="classllvm_1_1ConstantRange.html">llvm::ConstantRange</a></div><div class="ttdef"><b>Definition:</b> <a href="ConstantRange_8h_source.html#l00042">ConstantRange.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html">llvm::BinaryOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00138">InstrTypes.h:138</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_abd9323a37d0beb24f9975b4d36994b24"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#abd9323a37d0beb24f9975b4d36994b24">llvm::PatternMatch::m_UDiv</a></div><div class="ttdeci">BinaryOp_match&lt; LHS, RHS, Instruction::UDiv &gt; m_UDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00431">PatternMatch.h:431</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a15ae464950ac676919c2f0c7aafc706c">llvm::CmpInst::ICMP_SLT</a></div><div class="ttdoc">signed less than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00680">InstrTypes.h:680</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_ab0fdfb9cef4a80aac8ae338e1d304131"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ab0fdfb9cef4a80aac8ae338e1d304131">llvm::CmpInst::isTrueWhenEqual</a></div><div class="ttdeci">bool isTrueWhenEqual() const </div><div class="ttdoc">Determine if this is true when both operands are the same. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00792">InstrTypes.h:792</a></div></div>
<div class="ttc" id="namespacellvm_html_affb36b53a017bc7fe4754691559e2cd6"><div class="ttname"><a href="namespacellvm.html#affb36b53a017bc7fe4754691559e2cd6">llvm::isKnownToBeAPowerOfTwo</a></div><div class="ttdeci">bool isKnownToBeAPowerOfTwo(Value *V, bool OrZero=false, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00821">ValueTracking.cpp:821</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a38ea12c04523d63adda732b9c5d6da0a"><div class="ttname"><a href="classllvm_1_1Value.html#a38ea12c04523d63adda732b9c5d6da0a">llvm::Value::stripPointerCasts</a></div><div class="ttdeci">Value * stripPointerCasts()</div><div class="ttdoc">Strips off any unneeded pointer casts, all-zero GEPs and aliases from the specified value...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00385">Value.cpp:385</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_ab5d3f9900a0284e85ee7a1520a4eeb60"><div class="ttname"><a href="classllvm_1_1CmpInst.html#ab5d3f9900a0284e85ee7a1520a4eeb60">llvm::CmpInst::getSwappedPredicate</a></div><div class="ttdeci">Predicate getSwappedPredicate() const </div><div class="ttdoc">Return the predicate as if the operands were swapped. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00753">InstrTypes.h:753</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a9105541412dab869e18b3cceebfff07d"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a9105541412dab869e18b3cceebfff07d">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool isSigned=false)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00492">Constants.cpp:492</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_ad4ea4748170f687710a54c919dde5625"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#ad4ea4748170f687710a54c919dde5625">llvm::ConstantInt::isZero</a></div><div class="ttdeci">bool isZero() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00160">Constants.h:160</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a31ec193d0d5389a485e47ce73bdf0d2b"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a31ec193d0d5389a485e47ce73bdf0d2b">SimplifyShift</a></div><div class="ttdeci">static Value * SimplifyShift(unsigned Opcode, Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01293">InstructionSimplify.cpp:1293</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_aca5cab6b8d2be24d0c857cc4a831feec"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#aca5cab6b8d2be24d0c857cc4a831feec">llvm::ConstantExpr::getTrunc</a></div><div class="ttdeci">static Constant * getTrunc(Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01538">Constants.cpp:1538</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a30f2c362631e3728d2f47a8203071ade"><div class="ttname"><a href="classllvm_1_1Function.html#a30f2c362631e3728d2f47a8203071ade">llvm::Function::getEntryBlock</a></div><div class="ttdeci">const BasicBlock &amp; getEntryBlock() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00380">Function.h:380</a></div></div>
<div class="ttc" id="namespacellvm_html_a842dbe70b763270b02de0473c3cc890d"><div class="ttname"><a href="namespacellvm.html#a842dbe70b763270b02de0473c3cc890d">llvm::SimplifyCmpInst</a></div><div class="ttdeci">Value * SimplifyCmpInst(unsigned Predicate, Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02944">InstructionSimplify.cpp:2944</a></div></div>
<div class="ttc" id="classllvm_1_1Constant_html_ad7ec8482f19e8e86e3de573b060a17e5"><div class="ttname"><a href="classllvm_1_1Constant.html#ad7ec8482f19e8e86e3de573b060a17e5">llvm::Constant::isNullValue</a></div><div class="ttdeci">bool isNullValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00075">Constants.cpp:75</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a0f67e7208255f5088f0d515185109174"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a0f67e7208255f5088f0d515185109174">llvm::BinaryOperator::isExact</a></div><div class="ttdeci">bool isExact() const </div><div class="ttdoc">isExact - Determine whether the exact flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02017">Instructions.cpp:2017</a></div></div>
<div class="ttc" id="namespacellvm_html_ae1b36d4d04580bacd19ea0c6f039d222"><div class="ttname"><a href="namespacellvm.html#ae1b36d4d04580bacd19ea0c6f039d222">llvm::SimplifyXorInst</a></div><div class="ttdeci">Value * SimplifyXorInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01675">InstructionSimplify.cpp:1675</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantInt_html_a82dbbd8e3688b0bc1eedb338864d0d0c"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a82dbbd8e3688b0bc1eedb338864d0d0c">llvm::ConstantInt::getTrue</a></div><div class="ttdeci">static ConstantInt * getTrue(LLVMContext &amp;Context)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00438">Constants.cpp:438</a></div></div>
<div class="ttc" id="classllvm_1_1GEPOperator_html"><div class="ttname"><a href="classllvm_1_1GEPOperator.html">llvm::GEPOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00357">Operator.h:357</a></div></div>
<div class="ttc" id="namespacestd_html_ab8424022895aee3e366fb9a32f2883cb"><div class="ttname"><a href="namespacestd.html#ab8424022895aee3e366fb9a32f2883cb">std::swap</a></div><div class="ttdeci">void swap(llvm::BitVector &amp;LHS, llvm::BitVector &amp;RHS)</div><div class="ttdoc">Implement std::swap in terms of BitVector swap. </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00591">BitVector.h:591</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a2751d6136a2819749dcef65dc19a4246">llvm::CmpInst::ICMP_SLE</a></div><div class="ttdoc">signed less or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00681">InstrTypes.h:681</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a8f9c4576daf85f578f2c5156eb5e042f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a8f9c4576daf85f578f2c5156eb5e042f">SimplifyIntrinsic</a></div><div class="ttdeci">static Value * SimplifyIntrinsic(Intrinsic::ID IID, IterTy ArgBegin, IterTy ArgEnd, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02968">InstructionSimplify.cpp:2968</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_adb39181b87dffcd61082d08e02bf314e"><div class="ttname"><a href="InstructionSimplify_8cpp.html#adb39181b87dffcd61082d08e02bf314e">getFalse</a></div><div class="ttdeci">static Constant * getFalse(Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00064">InstructionSimplify.cpp:64</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a6e328feb83afa5cf1c966d6704e43fc1"><div class="ttname"><a href="classllvm_1_1Type.html#a6e328feb83afa5cf1c966d6704e43fc1">llvm::Type::isIntegerTy</a></div><div class="ttdeci">bool isIntegerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00196">Type.h:196</a></div></div>
<div class="ttc" id="classllvm_1_1FastMathFlags_html_a8992b53ab1a19826bff82f975f6fd14c"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#a8992b53ab1a19826bff82f975f6fd14c">llvm::FastMathFlags::noNaNs</a></div><div class="ttdeci">bool noNaNs()</div><div class="ttdoc">Flag queries. </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00195">Operator.h:195</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a3ffbacd388121d5e3ba1c4360b7449d0"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a3ffbacd388121d5e3ba1c4360b7449d0">llvm::PatternMatch::m_PtrToInt</a></div><div class="ttdeci">CastClass_match&lt; OpTy, Instruction::PtrToInt &gt; m_PtrToInt(const OpTy &amp;Op)</div><div class="ttdoc">m_PtrToInt </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00671">PatternMatch.h:671</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a95ebf64fa2abaf48038836d49357063a"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a95ebf64fa2abaf48038836d49357063a">replaceAndRecursivelySimplifyImpl</a></div><div class="ttdeci">static bool replaceAndRecursivelySimplifyImpl(Instruction *I, Value *SimpleV, const DataLayout *TD, const TargetLibraryInfo *TLI, const DominatorTree *DT)</div><div class="ttdoc">Implementation of recursive simplification through an instructions uses. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03170">InstructionSimplify.cpp:3170</a></div></div>
<div class="ttc" id="PatternMatch_8h_html"><div class="ttname"><a href="PatternMatch_8h.html">PatternMatch.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90a3f406d8b74c8f3009ee1fee5172b1415"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90a3f406d8b74c8f3009ee1fee5172b1415">llvm::Intrinsic::nearbyint</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01929">Intrinsics.h:1929</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a963c4f881fbc3e316e8260bf98453ce4"><div class="ttname"><a href="classllvm_1_1APInt.html#a963c4f881fbc3e316e8260bf98453ce4">llvm::APInt::isMinValue</a></div><div class="ttdeci">bool isMinValue() const </div><div class="ttdoc">Determine if this is the smallest unsigned value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00365">APInt.h:365</a></div></div>
<div class="ttc" id="ConstantFolding_8h_html"><div class="ttname"><a href="ConstantFolding_8h.html">ConstantFolding.h</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a956c39af16b1990d82fac9f1a2fe304b"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a956c39af16b1990d82fac9f1a2fe304b">llvm::CmpInst::isFPPredicate</a></div><div class="ttdeci">bool isFPPredicate() const </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00729">InstrTypes.h:729</a></div></div>
<div class="ttc" id="namespacellvm_1_1APIntOps_html_a684cfe02c582e8d75cd6d457e63e6c25"><div class="ttname"><a href="namespacellvm_1_1APIntOps.html#a684cfe02c582e8d75cd6d457e63e6c25">llvm::APIntOps::And</a></div><div class="ttdeci">APInt And(const APInt &amp;LHS, const APInt &amp;RHS)</div><div class="ttdoc">Bitwise AND function for APInt. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01840">APInt.h:1840</a></div></div>
<div class="ttc" id="classllvm_1_1Operator_html_a2f14b03fb8025d2bfa20a34da2b20ccf"><div class="ttname"><a href="classllvm_1_1Operator.html#a2f14b03fb8025d2bfa20a34da2b20ccf">llvm::Operator::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00051">Operator.h:51</a></div></div>
<div class="ttc" id="namespacellvm_html_a9317b5c1851e0364c704a01d7163c758"><div class="ttname"><a href="namespacellvm.html#a9317b5c1851e0364c704a01d7163c758">llvm::ComputeSignBit</a></div><div class="ttdeci">void ComputeSignBit(Value *V, bool &amp;KnownZero, bool &amp;KnownOne, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00802">ValueTracking.cpp:802</a></div></div>
<div class="ttc" id="ValueHandle_8h_html"><div class="ttname"><a href="ValueHandle_8h.html">ValueHandle.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="GetElementPtrTypeIterator_8h_html"><div class="ttname"><a href="GetElementPtrTypeIterator_8h.html">GetElementPtrTypeIterator.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a8f87f39b5e0dedd0793bb3a450f463cf"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a8f87f39b5e0dedd0793bb3a450f463cf">llvm::PatternMatch::m_FPOne</a></div><div class="ttdeci">specific_fpval m_FPOne()</div><div class="ttdoc">Match a float 1.0 or vector with all elements equal to 1.0. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00348">PatternMatch.h:348</a></div></div>
<div class="ttc" id="namespacellvm_html_ac5f8ec2a1bbffc4a64095b4745be2804"><div class="ttname"><a href="namespacellvm.html#ac5f8ec2a1bbffc4a64095b4745be2804">llvm::SimplifySRemInst</a></div><div class="ttdeci">Value * SimplifySRemInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01250">InstructionSimplify.cpp:1250</a></div></div>
<div class="ttc" id="namespacellvm_html_ab5ee1b3d80978be1bf429bb2f15d4954"><div class="ttname"><a href="namespacellvm.html#ab5ee1b3d80978be1bf429bb2f15d4954">llvm::SimplifySelectInst</a></div><div class="ttdeci">Value * SimplifySelectInst(Value *Cond, Value *TrueVal, Value *FalseVal, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02722">InstructionSimplify.cpp:2722</a></div></div>
<div class="ttc" id="classPredicate_html"><div class="ttname"><a href="classPredicate.html">Predicate</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a793f3a97421b79af6bab764524a9b532"><div class="ttname"><a href="classllvm_1_1APInt.html#a793f3a97421b79af6bab764524a9b532">llvm::APInt::udiv</a></div><div class="ttdeci">APInt LLVM_ATTRIBUTE_UNUSED_RESULT udiv(const APInt &amp;RHS) const </div><div class="ttdoc">Unsigned division operation. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8cpp_source.html#l01842">APInt.cpp:1842</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a573bcd571c938fce863525330bbfc4b8">llvm::CmpInst::ICMP_UGE</a></div><div class="ttdoc">unsigned greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00675">InstrTypes.h:675</a></div></div>
<div class="ttc" id="namespacellvm_html_a35e45224cbdc6cd5bf6a988db6b61e82"><div class="ttname"><a href="namespacellvm.html#a35e45224cbdc6cd5bf6a988db6b61e82">llvm::SimplifyOrInst</a></div><div class="ttdeci">Value * SimplifyOrInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01615">InstructionSimplify.cpp:1615</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ab33202840b77d70fcd2cb4357a3dd403"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab33202840b77d70fcd2cb4357a3dd403">SimplifyFRemInst</a></div><div class="ttdeci">static Value * SimplifyFRemInst(Value *Op0, Value *Op1, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01272">InstructionSimplify.cpp:1272</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae5cfc8e1a94b46b64a26f1a6cb4e6ba0"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae5cfc8e1a94b46b64a26f1a6cb4e6ba0">llvm::Intrinsic::fabs</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l00389">Intrinsics.h:389</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_af20bbe3776ed95ad3f1fac9ccc54920a"><div class="ttname"><a href="classllvm_1_1Instruction.html#af20bbe3776ed95ad3f1fac9ccc54920a">llvm::Instruction::hasNoInfs</a></div><div class="ttdeci">bool hasNoInfs() const </div><div class="ttdoc">Determine whether the no-infs flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8cpp_source.html#l00155">Instruction.cpp:155</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a38a6a25e425f94c9836dda96f3718593"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a38a6a25e425f94c9836dda96f3718593">llvm::PatternMatch::m_SMax</a></div><div class="ttdeci">MaxMin_match&lt; ICmpInst, LHS, RHS, smax_pred_ty &gt; m_SMax(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00940">PatternMatch.h:940</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_abc01555e7c8c2c38a270e1a2833be953"><div class="ttname"><a href="InstructionSimplify_8cpp.html#abc01555e7c8c2c38a270e1a2833be953">SimplifyMulInst</a></div><div class="ttdeci">static Value * SimplifyMulInst(Value *Op0, Value *Op1, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00974">InstructionSimplify.cpp:974</a></div></div>
<div class="ttc" id="MemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_ac54ee9c0d3aa35349072cebce26af87b"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#ac54ee9c0d3aa35349072cebce26af87b">llvm::ICmpInst::makeConstantRange</a></div><div class="ttdeci">static ConstantRange makeConstantRange(Predicate pred, const APInt &amp;C)</div><div class="ttdoc">Make a ConstantRange for a relation with a constant value. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03148">Instructions.cpp:3148</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a8eafa71cf399da8f21b2af5549f3f9e7"><div class="ttname"><a href="classllvm_1_1Type.html#a8eafa71cf399da8f21b2af5549f3f9e7">llvm::Type::getScalarType</a></div><div class="ttdeci">const Type * getScalarType() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00051">Type.cpp:51</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a5a7cfa245af120b44ac8a86143bb9e57"><div class="ttname"><a href="classllvm_1_1Type.html#a5a7cfa245af120b44ac8a86143bb9e57">llvm::Type::getPrimitiveSizeInBits</a></div><div class="ttdeci">unsigned getPrimitiveSizeInBits() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00117">Type.cpp:117</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_aeb0a68b9b86304b20e0bd4fd63716756"><div class="ttname"><a href="InstructionSimplify_8cpp.html#aeb0a68b9b86304b20e0bd4fd63716756">IsIdempotent</a></div><div class="ttdeci">static bool IsIdempotent(Intrinsic::ID ID)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02951">InstructionSimplify.cpp:2951</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_affa0f3ae92ab8696fccd107c0addf5a2"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#affa0f3ae92ab8696fccd107c0addf5a2">llvm::CallSiteBase::arg_begin</a></div><div class="ttdeci">IterTy arg_begin() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00137">CallSite.h:137</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_ab1aff146e89bcb2e41d7f5dbc8246295"><div class="ttname"><a href="InstructionSimplify_8cpp.html#ab1aff146e89bcb2e41d7f5dbc8246295">SimplifyFCmpInst</a></div><div class="ttdeci">static Value * SimplifyFCmpInst(unsigned Predicate, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l02600">InstructionSimplify.cpp:2600</a></div></div>
<div class="ttc" id="namespacellvm_html_a1077d93bf3babca286b7a389f78e70cb"><div class="ttname"><a href="namespacellvm.html#a1077d93bf3babca286b7a389f78e70cb">llvm::SimplifyFDivInst</a></div><div class="ttdeci">Value * SimplifyFDivInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01180">InstructionSimplify.cpp:1180</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05aa719225e2de4059f93fd3209e1f48218">llvm::CmpInst::ICMP_EQ</a></div><div class="ttdoc">equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00672">InstrTypes.h:672</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a44d1e9e73bc9862b44a3037cefc34036"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a44d1e9e73bc9862b44a3037cefc34036">llvm::PatternMatch::m_IDiv</a></div><div class="ttdeci">BinOp2_match&lt; LHS, RHS, Instruction::SDiv, Instruction::UDiv &gt; m_IDiv(const LHS &amp;L, const RHS &amp;R)</div><div class="ttdoc">m_IDiv - Matches UDiv and SDiv. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00542">PatternMatch.h:542</a></div></div>
<div class="ttc" id="SetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a7eed428870efe1c2023decfb1eeadf7c"><div class="ttname"><a href="namespacellvm.html#a7eed428870efe1c2023decfb1eeadf7c">llvm::CannotBeNegativeZero</a></div><div class="ttdeci">bool CannotBeNegativeZero(const Value *V, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01426">ValueTracking.cpp:1426</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_acc4aad24e3e9f04088c9b7802a7a5718"><div class="ttname"><a href="classllvm_1_1CmpInst.html#acc4aad24e3e9f04088c9b7802a7a5718">llvm::CmpInst::isUnsigned</a></div><div class="ttdeci">bool isUnsigned() const </div><div class="ttdoc">Determine if this instruction is using an unsigned comparison. </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00786">InstrTypes.h:786</a></div></div>
<div class="ttc" id="namespacellvm_1_1X86II_html_a97dc14052814702ba0e2b14fb14dd02da7b735c1bd406b9813cc83c8f7edc8ed8"><div class="ttname"><a href="namespacellvm_1_1X86II.html#a97dc14052814702ba0e2b14fb14dd02da7b735c1bd406b9813cc83c8f7edc8ed8">llvm::X86II::DD</a></div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00331">X86BaseInfo.h:331</a></div></div>
<div class="ttc" id="classllvm_1_1FastMathFlags_html_ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html#ae8e4d6970c0b9ffda3b7bf9fd9ec7ecb">llvm::FastMathFlags::noSignedZeros</a></div><div class="ttdeci">bool noSignedZeros()</div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00197">Operator.h:197</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_a7aaf2b6996c2d98d36469bf005bba0b7"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#a7aaf2b6996c2d98d36469bf005bba0b7">llvm::PatternMatch::m_NegZero</a></div><div class="ttdeci">match_neg_zero m_NegZero()</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00152">PatternMatch.h:152</a></div></div>
<div class="ttc" id="classllvm_1_1FunctionType_html_a9eda832d6e80bc19b98f22f4ec714e3f"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a9eda832d6e80bc19b98f22f4ec714e3f">llvm::FunctionType::getReturnType</a></div><div class="ttdeci">Type * getReturnType() const </div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00121">DerivedTypes.h:121</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html_a6bdc5f35d542c35932593fabf6811c68"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a6bdc5f35d542c35932593fabf6811c68">llvm::GetElementPtrInst::getIndexedType</a></div><div class="ttdeci">static Type * getIndexedType(Type *Ptr, ArrayRef&lt; Value * &gt; IdxList)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l01384">Instructions.cpp:1384</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a8f877403433892e14ff0c692cbe9efdf"><div class="ttname"><a href="classllvm_1_1APInt.html#a8f877403433892e14ff0c692cbe9efdf">llvm::APInt::getSignedMinValue</a></div><div class="ttdeci">static APInt getSignedMinValue(unsigned numBits)</div><div class="ttdoc">Gets minimum signed value of APInt for a specific bit width. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00433">APInt.h:433</a></div></div>
<div class="ttc" id="namespacellvm_html_acf46bab8eca4c3c7204079f2cf80ab35"><div class="ttname"><a href="namespacellvm.html#acf46bab8eca4c3c7204079f2cf80ab35">llvm::SimplifyURemInst</a></div><div class="ttdeci">Value * SimplifyURemInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01266">InstructionSimplify.cpp:1266</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1BinaryOperator_html_a5b6cd6c043f54b40899aff62e6e40488"><div class="ttname"><a href="classllvm_1_1BinaryOperator.html#a5b6cd6c043f54b40899aff62e6e40488">llvm::BinaryOperator::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const </div><div class="ttdoc">hasNoUnsignedWrap - Determine whether the no unsigned wrap flag is set. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l02009">Instructions.cpp:2009</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae51609fc6a425f849d37c28cb9bc0344">llvm::CmpInst::FCMP_UGE</a></div><div class="ttdoc">1 0 1 1 True if unordered, greater than, or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00664">InstrTypes.h:664</a></div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a021bb7c9aad6003fe8089f6327356c6c"><div class="ttname"><a href="classllvm_1_1Instruction.html#a021bb7c9aad6003fe8089f6327356c6c">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const </div><div class="ttdoc">getOpcode() returns a member of one of the enums like Instruction::Add. </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00083">Instruction.h:83</a></div></div>
<div class="ttc" id="namespacellvm_1_1PatternMatch_html_aebdb2700a77d10ae6f0ce115e23d9f77"><div class="ttname"><a href="namespacellvm_1_1PatternMatch.html#aebdb2700a77d10ae6f0ce115e23d9f77">llvm::PatternMatch::m_One</a></div><div class="ttdeci">cst_pred_ty&lt; is_one &gt; m_One()</div><div class="ttdoc">m_One() - Match an integer 1 or a vector with all elements equal to 1. </div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00257">PatternMatch.h:257</a></div></div>
<div class="ttc" id="namespacellvm_html_ae6d4fc6679494de26fab48b36c9beb17"><div class="ttname"><a href="namespacellvm.html#ae6d4fc6679494de26fab48b36c9beb17">llvm::SimplifyCall</a></div><div class="ttdeci">Value * SimplifyCall(Value *V, User::op_iterator ArgBegin, User::op_iterator ArgEnd, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdoc">Given a function and iterators over arguments, see if we can fold the result. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03019">InstructionSimplify.cpp:3019</a></div></div>
<div class="ttc" id="namespacellvm_html_a5f77cf32ac3d55776431dade50fc2b46"><div class="ttname"><a href="namespacellvm.html#a5f77cf32ac3d55776431dade50fc2b46">llvm::SimplifyLShrInst</a></div><div class="ttdeci">Value * SimplifyLShrInst(Value *Op0, Value *Op1, bool isExact, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01384">InstructionSimplify.cpp:1384</a></div></div>
<div class="ttc" id="namespacellvm_html_a738c0f9bfa56a3d53d75b67dd1182063"><div class="ttname"><a href="namespacellvm.html#a738c0f9bfa56a3d53d75b67dd1182063">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(Value *V, const DataLayout *TD=0, unsigned Depth=0)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00980">ValueTracking.cpp:980</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a045aad6723559dc8937fda41cb557124"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a045aad6723559dc8937fda41cb557124">llvm::CmpInst::isUnordered</a></div><div class="ttdeci">static bool isUnordered(unsigned short predicate)</div><div class="ttdoc">Determine if the predicate is an unordered operation. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8cpp_source.html#l03263">Instructions.cpp:3263</a></div></div>
<div class="ttc" id="namespacellvm_html_a3e98ee8971fbf32f7f84f5a7399b5b67"><div class="ttname"><a href="namespacellvm.html#a3e98ee8971fbf32f7f84f5a7399b5b67">llvm::ConstantFoldInstOperands</a></div><div class="ttdeci">Constant * ConstantFoldInstOperands(unsigned Opcode, Type *DestTy, ArrayRef&lt; Constant * &gt; Ops, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0)</div><div class="ttdef"><b>Definition:</b> <a href="ConstantFolding_8cpp_source.html#l00954">ConstantFolding.cpp:954</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a9dc5111b1a9b1d5c4652d50f74fe850b"><div class="ttname"><a href="classllvm_1_1Type.html#a9dc5111b1a9b1d5c4652d50f74fe850b">llvm::Type::isSized</a></div><div class="ttdeci">bool isSized() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00278">Type.h:278</a></div></div>
<div class="ttc" id="classllvm_1_1DataLayout_html_add914112e0b2935dda06ad5dfd3a31db"><div class="ttname"><a href="classllvm_1_1DataLayout.html#add914112e0b2935dda06ad5dfd3a31db">llvm::DataLayout::getTypeSizeInBits</a></div><div class="ttdeci">uint64_t getTypeSizeInBits(Type *Ty) const </div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00459">DataLayout.h:459</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a9f5abda50b24bac58d2f20befd1954e6"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a9f5abda50b24bac58d2f20befd1954e6">ThreadBinOpOverPHI</a></div><div class="ttdeci">static Value * ThreadBinOpOverPHI(unsigned Opcode, Value *LHS, Value *RHS, const Query &amp;Q, unsigned MaxRecurse)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00512">InstructionSimplify.cpp:512</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html_a07a99ca6c9f72dfa90f46a2b3ec22c86"><div class="ttname"><a href="classllvm_1_1ICmpInst.html#a07a99ca6c9f72dfa90f46a2b3ec22c86">llvm::ICmpInst::getSignedPredicate</a></div><div class="ttdeci">Predicate getSignedPredicate() const </div><div class="ttdoc">Return the signed version of the predicate. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00975">Instructions.h:975</a></div></div>
<div class="ttc" id="classllvm_1_1SelectInst_html_a29a16f32075ee4f23cd769701463952c"><div class="ttname"><a href="classllvm_1_1SelectInst.html#a29a16f32075ee4f23cd769701463952c">llvm::SelectInst::getFalseValue</a></div><div class="ttdeci">const Value * getFalseValue() const </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01468">Instructions.h:1468</a></div></div>
<div class="ttc" id="classllvm_1_1FastMathFlags_html"><div class="ttname"><a href="classllvm_1_1FastMathFlags.html">llvm::FastMathFlags</a></div><div class="ttdoc">Convenience struct for specifying and reasoning about fast-math flags. </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00170">Operator.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a607cecdc5172814382033e001ed11fad">llvm::CmpInst::ICMP_UGT</a></div><div class="ttdoc">unsigned greater than </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00674">InstrTypes.h:674</a></div></div>
<div class="ttc" id="namespacellvm_html_a973f98a5bc51515b4348eb9207dd2e8a"><div class="ttname"><a href="namespacellvm.html#a973f98a5bc51515b4348eb9207dd2e8a">llvm::SimplifyFRemInst</a></div><div class="ttdeci">Value * SimplifyFRemInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01285">InstructionSimplify.cpp:1285</a></div></div>
<div class="ttc" id="namespacellvm_html_a0547bdf9e4fb916625839c190ef09266"><div class="ttname"><a href="namespacellvm.html#a0547bdf9e4fb916625839c190ef09266">llvm::SimplifyAShrInst</a></div><div class="ttdeci">Value * SimplifyAShrInst(Value *Op0, Value *Op1, bool isExact, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01420">InstructionSimplify.cpp:1420</a></div></div>
<div class="ttc" id="OcamlGCPrinter_8cpp_html_a1bdbcdc4205781eefd549946d40ff378"><div class="ttname"><a href="OcamlGCPrinter_8cpp.html#a1bdbcdc4205781eefd549946d40ff378">Y</a></div><div class="ttdeci">static GCMetadataPrinterRegistry::Add&lt; OcamlGCMetadataPrinter &gt; Y(&quot;ocaml&quot;,&quot;ocaml 3.10-compatible collector&quot;)</div></div>
<div class="ttc" id="namespacellvm_html_ade9baf821f59f9a2977a1deaccb18023"><div class="ttname"><a href="namespacellvm.html#ade9baf821f59f9a2977a1deaccb18023">llvm::getObjectSize</a></div><div class="ttdeci">bool getObjectSize(const Value *Ptr, uint64_t &amp;Size, const DataLayout *DL, const TargetLibraryInfo *TLI, bool RoundToAlign=false)</div><div class="ttdoc">Compute the size of the object pointed by Ptr. Returns true and the object size in Size if successful...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00365">MemoryBuiltins.cpp:365</a></div></div>
<div class="ttc" id="classllvm_1_1APInt_html_a4ba7d7f0a1e911c8384e236b5f6c1959"><div class="ttname"><a href="classllvm_1_1APInt.html#a4ba7d7f0a1e911c8384e236b5f6c1959">llvm::APInt::getNullValue</a></div><div class="ttdeci">static APInt getNullValue(unsigned numBits)</div><div class="ttdoc">Get the &amp;#39;0&amp;#39; value. </div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00457">APInt.h:457</a></div></div>
<div class="ttc" id="classllvm_1_1CallSite_html"><div class="ttname"><a href="classllvm_1_1CallSite.html">llvm::CallSite</a></div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00295">CallSite.h:295</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_afa748c1dffd997f9113b267fe5073c37"><div class="ttname"><a href="InstructionSimplify_8cpp.html#afa748c1dffd997f9113b267fe5073c37">isSameCompare</a></div><div class="ttdeci">static bool isSameCompare(Value *V, CmpInst::Predicate Pred, Value *LHS, Value *RHS)</div><div class="ttdoc">isSameCompare - Is V equivalent to the comparison &quot;LHS Pred RHS&quot;? </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00079">InstructionSimplify.cpp:79</a></div></div>
<div class="ttc" id="namespacellvm_html_a238dbee2124dc0bd7d658ad63fbad616"><div class="ttname"><a href="namespacellvm.html#a238dbee2124dc0bd7d658ad63fbad616">llvm::SimplifySubInst</a></div><div class="ttdeci">Value * SimplifySubInst(Value *LHS, Value *RHS, bool isNSW, bool isNUW, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l00859">InstructionSimplify.cpp:859</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html_a1e1ce75d651c76b6869b4218e34618c8"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html#a1e1ce75d651c76b6869b4218e34618c8">llvm::ConstantExpr::getCast</a></div><div class="ttdeci">static Constant * getCast(unsigned ops, Constant *C, Type *Ty)</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l01444">Constants.cpp:1444</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a858d44cd009d82781c41c71ae61a451f"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a858d44cd009d82781c41c71ae61a451f">SimplifyXorInst</a></div><div class="ttdeci">static Value * SimplifyXorInst(Value *, Value *, const Query &amp;, unsigned)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01623">InstructionSimplify.cpp:1623</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05a07aee43ffb66908a25c55c77ce4c0d05">llvm::CmpInst::BAD_ICMP_PREDICATE</a></div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00684">InstrTypes.h:684</a></div></div>
<div class="ttc" id="namespacellvm_html_a6569d00d31a5d74e563e2f39f82271ab"><div class="ttname"><a href="namespacellvm.html#a6569d00d31a5d74e563e2f39f82271ab">llvm::X</a></div><div class="ttdeci">static RegisterPass&lt; NVPTXAllocaHoisting &gt; X(&quot;alloca-hoisting&quot;,&quot;Hoisting alloca instructions in non-entry &quot;&quot;blocks to the entry block&quot;)</div></div>
<div class="ttc" id="classllvm_1_1Instruction_html_a9cd49851904f15060edb782ef4dd1b2d"><div class="ttname"><a href="classllvm_1_1Instruction.html#a9cd49851904f15060edb782ef4dd1b2d">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="Instruction_8h_source.html#l00052">Instruction.h:52</a></div></div>
<div class="ttc" id="InstructionSimplify_8cpp_html_a3df711e45e20e7e3c7633655592a0951"><div class="ttname"><a href="InstructionSimplify_8cpp.html#a3df711e45e20e7e3c7633655592a0951">GetCompareTy</a></div><div class="ttdeci">static Type * GetCompareTy(Value *Op)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01681">InstructionSimplify.cpp:1681</a></div></div>
<div class="ttc" id="classllvm_1_1OverflowingBinaryOperator_html_abe8af726db43885a1178cf75ed0725d9"><div class="ttname"><a href="classllvm_1_1OverflowingBinaryOperator.html#abe8af726db43885a1178cf75ed0725d9">llvm::OverflowingBinaryOperator::hasNoUnsignedWrap</a></div><div class="ttdeci">bool hasNoUnsignedWrap() const </div><div class="ttdef"><b>Definition:</b> <a href="Operator_8h_source.html#l00101">Operator.h:101</a></div></div>
<div class="ttc" id="namespacellvm_html_a16e6b2e2a8b7efd5ce9a39f39f045502"><div class="ttname"><a href="namespacellvm.html#a16e6b2e2a8b7efd5ce9a39f39f045502">llvm::SimplifyMulInst</a></div><div class="ttdeci">Value * SimplifyMulInst(Value *LHS, Value *RHS, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01057">InstructionSimplify.cpp:1057</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ae9c013750fff3023001d7e3af8df2d6d">llvm::CmpInst::FCMP_FALSE</a></div><div class="ttdoc">0 0 0 0 Always false (always folded) </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00653">InstrTypes.h:653</a></div></div>
<div class="ttc" id="classllvm_1_1CmpInst_html_a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc"><div class="ttname"><a href="classllvm_1_1CmpInst.html#a283f9a5d4d843d20c40bb4d3e364bb05ac1aa7b798ba11d2e497d5cce6ce6d3dc">llvm::CmpInst::ICMP_SGE</a></div><div class="ttdoc">signed greater or equal </div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l00679">InstrTypes.h:679</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="namespacellvm_html_a09528d8f6cef8c7b7878bcc4a265cb48"><div class="ttname"><a href="namespacellvm.html#a09528d8f6cef8c7b7878bcc4a265cb48">llvm::SimplifyFAddInst</a></div><div class="ttdeci">Value * SimplifyFAddInst(Value *LHS, Value *RHS, FastMathFlags FMF, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l01037">InstructionSimplify.cpp:1037</a></div></div>
<div class="ttc" id="classllvm_1_1InsertValueInst_html"><div class="ttname"><a href="classllvm_1_1InsertValueInst.html">llvm::InsertValueInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01846">Instructions.h:1846</a></div></div>
<div class="ttc" id="namespacellvm_html_aa52d9a03afda2daa106d41ff5db565f7"><div class="ttname"><a href="namespacellvm.html#aa52d9a03afda2daa106d41ff5db565f7">llvm::recursivelySimplifyInstruction</a></div><div class="ttdeci">bool recursivelySimplifyInstruction(Instruction *I, const DataLayout *TD=0, const TargetLibraryInfo *TLI=0, const DominatorTree *DT=0)</div><div class="ttdoc">Recursively attempt to simplify an instruction. </div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8cpp_source.html#l03225">InstructionSimplify.cpp:3225</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:59:06 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
