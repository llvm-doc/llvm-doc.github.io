<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: RegisterScavenging.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('RegisterScavenging_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RegisterScavenging.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RegisterScavenging_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- RegisterScavenging.h - Machine register scavenging ------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file declares the machine register scavenger class. It can provide</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// information such as unused register at any point in a machine basic block.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// It also provides a mechanism to make registers availbale by evicting them</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// to spill slots.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef LLVM_CODEGEN_REGISTERSCAVENGING_H</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define LLVM_CODEGEN_REGISTERSCAVENGING_H</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span>MachineRegisterInfo;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">class </span>TargetRegisterInfo;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">class </span>TargetInstrInfo;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">class </span>TargetRegisterClass;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html">   31</a></span>&#160;<span class="keyword">class </span><a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> *TRI;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> *TII;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a>* MRI;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> MBBI;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordtype">unsigned</span> NumPhysRegs;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">  /// Tracking - True if RegScavenger is currently tracking the liveness of </span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">  /// registers.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> Tracking;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">  /// Information on scavenged registers (held in a spill slot).</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>ScavengedInfo {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    ScavengedInfo(<span class="keywordtype">int</span> FI = -1) : <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>(FI), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>(0), Restore(NULL) {}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">    /// A spill slot used for scavenging a register post register allocation.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    /// If non-zero, the specific register is currently being</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    /// scavenged. That is, it is spilled to this scavenging stack slot.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    /// The instruction that restores the scavenged register from stack.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Restore;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  };</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">  /// A vector of information on scavenged registers.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ScavengedInfo, 2&gt;</a> Scavenged;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  /// CalleeSavedrRegs - A bitvector of callee saved registers for the target.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> CalleeSavedRegs;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">  /// RegsAvailable - The current state of all the physical registers immediately</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">  /// before MBBI. One bit per physical register. If bit is set that means it&#39;s</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  /// available, unset means the register is currently being used.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> RegsAvailable;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// These BitVectors are only used internally to forward(). They are members</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// to avoid frequent reallocations.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> KillRegs, DefRegs;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#adb6602585e2a1822aab3fdedaae3c81b">   75</a></span>&#160;  <a class="code" href="classllvm_1_1RegScavenger.html#adb6602585e2a1822aab3fdedaae3c81b">RegScavenger</a>()</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    : MBB(NULL), NumPhysRegs(0), Tracking(<a class="code" href="namespacefalse.html">false</a>) {}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">  /// enterBasicBlock - Start tracking liveness from the begin of the specific</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  /// basic block.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a20ef9205cdd28f324f8b04cd8a6e2c0b">enterBasicBlock</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *mbb);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">  /// initRegState - allow resetting register state info for multiple</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">  /// passes over/within the same function.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a2020f1652e642f4fe86c56a27c159ac0">initRegState</a>();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">  /// forward - Move the internal MBB iterator and update register states.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">forward</a>();</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">  /// forward - Move the internal MBB iterator and update register states until</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  /// it has processed the specific iterator.</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a6f2274acea772dd09fc952ed400fde3d">   91</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a6f2274acea772dd09fc952ed400fde3d">forward</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (!Tracking &amp;&amp; MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() != <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <a class="code" href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">forward</a>();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">while</span> (MBBI != I) <a class="code" href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">forward</a>();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">  /// Invert the behavior of forward() on the current instruction (undo the</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">  /// changes to the available registers made by forward()).</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a3b6446f0c0d972c19ec550752e7b8cf4">unprocess</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">  /// Unprocess instructions until you reach the provided iterator.</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a8a21206f055ef6bd97dd09430176d161">  101</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a8a21206f055ef6bd97dd09430176d161">unprocess</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">while</span> (MBBI != I) <a class="code" href="classllvm_1_1RegScavenger.html#a3b6446f0c0d972c19ec550752e7b8cf4">unprocess</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">  /// skipTo - Move the internal MBB iterator but do not update register states.</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a6009b68a4bb84dfeaad9d3afb28c39e8">  106</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a6009b68a4bb84dfeaad9d3afb28c39e8">skipTo</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (I == <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a>(NULL))</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      Tracking = <span class="keyword">false</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    MBBI = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a29946c1d30dc64fbdeb10f1faf56559e">  112</a></span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="classllvm_1_1RegScavenger.html#a29946c1d30dc64fbdeb10f1faf56559e">getCurrentPosition</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> MBBI;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">  /// getRegsUsed - return all registers currently in use in used.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#adf1066a889ca6e807f328e84a1731a5b">getRegsUsed</a>(<a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;<a class="code" href="README-SSE_8txt.html#aae2d2977835e891eef9c1569d44462d7">used</a>, <span class="keywordtype">bool</span> includeReserved);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">  /// getRegsAvailable - Return all available registers in the register class</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">  /// in Mask.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span>  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> <a class="code" href="classllvm_1_1RegScavenger.html#afaf92711851d9d2abd2ef7f6c1b68bf8">getRegsAvailable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">  /// FindUnusedReg - Find a unused register of the specified register class.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">  /// Return 0 if none is found.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1RegScavenger.html#a3254981145bf0eba65216d0d22f9d089">FindUnusedReg</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RegClass) <span class="keyword">const</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">  /// Add a scavenging frame index.</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#aecaae26e25f7f952810d98e50264b5fb">  128</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#aecaae26e25f7f952810d98e50264b5fb">addScavengingFrameIndex</a>(<span class="keywordtype">int</span> FI) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Scavenged.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(ScavengedInfo(FI));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">  /// Query whether a frame index is a scavenging frame index.</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a7c588215b6999395a74070d5e7fce162">  133</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1RegScavenger.html#a7c588215b6999395a74070d5e7fce162">isScavengingFrameIndex</a>(<span class="keywordtype">int</span> FI)<span class="keyword"> const </span>{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ScavengedInfo&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Scavenged.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;         <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = Scavenged.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;FrameIndex == FI)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  /// Get an array of scavenging frame indices.</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a5e164c874d4a0649aa57a23b6d07c963">  143</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#a5e164c874d4a0649aa57a23b6d07c963">getScavengingFrameIndices</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;int&gt;</a> &amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;ScavengedInfo&gt;::const_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Scavenged.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;         <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = Scavenged.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;FrameIndex &gt;= 0)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        A.<a class="code" href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">push_back</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;FrameIndex);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// scavengeRegister - Make a register of the specific register class</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// available and do the appropriate bookkeeping. SPAdj is the stack</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  /// adjustment due to call frame, it&#39;s passed along to eliminateFrameIndex().</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">  /// Returns the scavenged register.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1RegScavenger.html#a2134bf85be7643db8d1f65d6c9cdbe91">scavengeRegister</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RegClass,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                            <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keywordtype">int</span> SPAdj);</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classllvm_1_1RegScavenger.html#a7769202ceb2f55a680bbb6598d5d851a">  156</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1RegScavenger.html#a7769202ceb2f55a680bbb6598d5d851a">scavengeRegister</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RegClass, <span class="keywordtype">int</span> SPAdj) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1RegScavenger.html#a2134bf85be7643db8d1f65d6c9cdbe91">scavengeRegister</a>(RegClass, MBBI, SPAdj);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">  /// setUsed - Tell the scavenger a register is used.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#af9e12d41075c9a8a0c4aaa9fb12c69f8">setUsed</a>(<span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">  /// isReserved - Returns true if a register is reserved. It is never &quot;unused&quot;.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isReserved(<span class="keywordtype">unsigned</span> Reg)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">isReserved</a>(Reg); }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  /// isUsed - Test if a register is currently being used.  When called by the</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">  /// isAliasUsed function, we only check isReserved if this is the original</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  /// register, not an alias register.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isUsed(<span class="keywordtype">unsigned</span> Reg, <span class="keywordtype">bool</span> CheckReserved = <span class="keyword">true</span>)<span class="keyword"> const   </span>{</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> !RegsAvailable.<a class="code" href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">test</a>(Reg) || (CheckReserved &amp;&amp; isReserved(Reg));</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">  /// isAliasUsed - Is Reg or an alias currently in use?</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> isAliasUsed(<span class="keywordtype">unsigned</span> Reg) <span class="keyword">const</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  /// setUsed / setUnused - Mark the state of one or a number of registers.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1RegScavenger.html#af9e12d41075c9a8a0c4aaa9fb12c69f8">setUsed</a>(<a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;Regs) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    RegsAvailable.<a class="code" href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">reset</a>(Regs);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">void</span> setUnused(<a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;Regs) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    RegsAvailable |= Regs;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  /// Processes the current instruction and fill the KillRegs and DefRegs bit</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  /// vectors.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> determineKillsAndDefs();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">  /// Add Reg and all its sub-registers to BV.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> addRegWithSubRegs(<a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;BV, <span class="keywordtype">unsigned</span> Reg);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  /// findSurvivorReg - Return the candidate register that is unused for the</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  /// longest after StartMI. UseMI is set to the instruction where the search</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">  /// stopped.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  ///</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  /// No more than InstrLimit instructions are inspected.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> findSurvivorReg(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> StartMI,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                           <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;Candidates,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                           <span class="keywordtype">unsigned</span> InstrLimit,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                           <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> &amp;UseMI);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;};</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;} <span class="comment">// End llvm namespace</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateBase_html_ae1a10b90f22c0478960fb5798ff73916"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateBase.html#ae1a10b90f22c0478960fb5798ff73916">llvm::SmallVectorTemplateBase::push_back</a></div><div class="ttdeci">void push_back(const T &amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00236">SmallVector.h:236</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a6009b68a4bb84dfeaad9d3afb28c39e8"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a6009b68a4bb84dfeaad9d3afb28c39e8">llvm::RegScavenger::skipTo</a></div><div class="ttdeci">void skipTo(MachineBasicBlock::iterator I)</div><div class="ttdoc">skipTo - Move the internal MBB iterator but do not update register states. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00106">RegisterScavenging.h:106</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html"><div class="ttname"><a href="classllvm_1_1RegScavenger.html">llvm::RegScavenger</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00031">RegisterScavenging.h:31</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00035">APInt.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="MachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="BitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a29946c1d30dc64fbdeb10f1faf56559e"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a29946c1d30dc64fbdeb10f1faf56559e">llvm::RegScavenger::getCurrentPosition</a></div><div class="ttdeci">MachineBasicBlock::iterator getCurrentPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00112">RegisterScavenging.h:112</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_afe23dbb6421b62ff369b85cd8436d483"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#afe23dbb6421b62ff369b85cd8436d483">llvm::RegScavenger::forward</a></div><div class="ttdeci">void forward()</div><div class="ttdoc">forward - Move the internal MBB iterator and update register states. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00171">RegisterScavenging.cpp:171</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_afaf92711851d9d2abd2ef7f6c1b68bf8"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#afaf92711851d9d2abd2ef7f6c1b68bf8">llvm::RegScavenger::getRegsAvailable</a></div><div class="ttdeci">BitVector getRegsAvailable(const TargetRegisterClass *RC)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00271">RegisterScavenging.cpp:271</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_adb6602585e2a1822aab3fdedaae3c81b"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#adb6602585e2a1822aab3fdedaae3c81b">llvm::RegScavenger::RegScavenger</a></div><div class="ttdeci">RegScavenger()</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00075">RegisterScavenging.h:75</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00027">BitVector.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a8a21206f055ef6bd97dd09430176d161"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a8a21206f055ef6bd97dd09430176d161">llvm::RegScavenger::unprocess</a></div><div class="ttdeci">void unprocess(MachineBasicBlock::iterator I)</div><div class="ttdoc">Unprocess instructions until you reach the provided iterator. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00101">RegisterScavenging.h:101</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a20ef9205cdd28f324f8b04cd8a6e2c0b"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a20ef9205cdd28f324f8b04cd8a6e2c0b">llvm::RegScavenger::enterBasicBlock</a></div><div class="ttdeci">void enterBasicBlock(MachineBasicBlock *mbb)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00070">RegisterScavenging.cpp:70</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_af9e12d41075c9a8a0c4aaa9fb12c69f8"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#af9e12d41075c9a8a0c4aaa9fb12c69f8">llvm::RegScavenger::setUsed</a></div><div class="ttdeci">void setUsed(unsigned Reg)</div><div class="ttdoc">setUsed - Set the register and its sub-registers as being used. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00033">RegisterScavenging.cpp:33</a></div></div>
<div class="ttc" id="README-SSE_8txt_html_aae2d2977835e891eef9c1569d44462d7"><div class="ttname"><a href="README-SSE_8txt.html#aae2d2977835e891eef9c1569d44462d7">used</a></div><div class="ttdeci">This might compile to this xmm1 xorps xmm0 movss xmm0 ret Now consider if the code caused xmm1 to get spilled This might produce this xmm1 movaps xmm0 movaps xmm1 movss xmm0 ret since the reload is only used by these we could fold it into the producing something like xmm1 movaps xmm0 ret saving two instructions The basic idea is that a reload from a spill if only one byte chunk is used</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00299">README-SSE.txt:299</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a008f499ae277e4936b5b897ddb4bcb7e"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a008f499ae277e4936b5b897ddb4bcb7e">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(unsigned PhysReg) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00500">MachineRegisterInfo.h:500</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a3b6446f0c0d972c19ec550752e7b8cf4"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a3b6446f0c0d972c19ec550752e7b8cf4">llvm::RegScavenger::unprocess</a></div><div class="ttdeci">void unprocess()</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00152">RegisterScavenging.cpp:152</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a6f2274acea772dd09fc952ed400fde3d"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a6f2274acea772dd09fc952ed400fde3d">llvm::RegScavenger::forward</a></div><div class="ttdeci">void forward(MachineBasicBlock::iterator I)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00091">RegisterScavenging.h:91</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a5109693c2cdda2a4118e7d588b51bfa6"><div class="ttname"><a href="classllvm_1_1BitVector.html#a5109693c2cdda2a4118e7d588b51bfa6">llvm::BitVector::reset</a></div><div class="ttdeci">BitVector &amp; reset()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00275">BitVector.h:275</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00219">TargetRegisterInfo.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_adf1066a889ca6e807f328e84a1731a5b"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#adf1066a889ca6e807f328e84a1731a5b">llvm::RegScavenger::getRegsUsed</a></div><div class="ttdeci">void getRegsUsed(BitVector &amp;used, bool includeReserved)</div><div class="ttdoc">getRegsUsed - return all registers currently in use in used. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00249">RegisterScavenging.cpp:249</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a5e164c874d4a0649aa57a23b6d07c963"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a5e164c874d4a0649aa57a23b6d07c963">llvm::RegScavenger::getScavengingFrameIndices</a></div><div class="ttdeci">void getScavengingFrameIndices(SmallVectorImpl&lt; int &gt; &amp;A) const </div><div class="ttdoc">Get an array of scavenging frame indices. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00143">RegisterScavenging.h:143</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a7c588215b6999395a74070d5e7fce162"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a7c588215b6999395a74070d5e7fce162">llvm::RegScavenger::isScavengingFrameIndex</a></div><div class="ttdeci">bool isScavengingFrameIndex(int FI) const </div><div class="ttdoc">Query whether a frame index is a scavenging frame index. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00133">RegisterScavenging.h:133</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_aecaae26e25f7f952810d98e50264b5fb"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#aecaae26e25f7f952810d98e50264b5fb">llvm::RegScavenger::addScavengingFrameIndex</a></div><div class="ttdeci">void addScavengingFrameIndex(int FI)</div><div class="ttdoc">Add a scavenging frame index. </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00128">RegisterScavenging.h:128</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt; ScavengedInfo, 2 &gt;</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a20b6ba858cb2bb6d8d7fa553025c1f61"><div class="ttname"><a href="classllvm_1_1BitVector.html#a20b6ba858cb2bb6d8d7fa553025c1f61">llvm::BitVector::test</a></div><div class="ttdeci">bool test(unsigned Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00337">BitVector.h:337</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a3254981145bf0eba65216d0d22f9d089"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a3254981145bf0eba65216d0d22f9d089">llvm::RegScavenger::FindUnusedReg</a></div><div class="ttdeci">unsigned FindUnusedReg(const TargetRegisterClass *RegClass) const </div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00258">RegisterScavenging.cpp:258</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a7769202ceb2f55a680bbb6598d5d851a"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a7769202ceb2f55a680bbb6598d5d851a">llvm::RegScavenger::scavengeRegister</a></div><div class="ttdeci">unsigned scavengeRegister(const TargetRegisterClass *RegClass, int SPAdj)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00156">RegisterScavenging.h:156</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a2020f1652e642f4fe86c56a27c159ac0"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a2020f1652e642f4fe86c56a27c159ac0">llvm::RegScavenger::initRegState</a></div><div class="ttdeci">void initRegState()</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00046">RegisterScavenging.cpp:46</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html_a2134bf85be7643db8d1f65d6c9cdbe91"><div class="ttname"><a href="classllvm_1_1RegScavenger.html#a2134bf85be7643db8d1f65d6c9cdbe91">llvm::RegScavenger::scavengeRegister</a></div><div class="ttdeci">unsigned scavengeRegister(const TargetRegisterClass *RegClass, MachineBasicBlock::iterator I, int SPAdj)</div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8cpp_source.html#l00361">RegisterScavenging.cpp:361</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:01:10 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
