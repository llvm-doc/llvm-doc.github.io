<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: GlobalsModRef.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('GlobalsModRef_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GlobalsModRef.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="GlobalsModRef_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- GlobalsModRef.cpp - Simple Mod/Ref Analysis for Globals ------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This simple pass provides alias and mod/ref information for global values</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// that do not have their address taken, and keeps track of whether functions</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// read or write memory (are &quot;pure&quot;).  For this simple (but very common) case,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// we can provide pretty accurate and useful information.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="GlobalsModRef_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   17</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;globalsmodref-aa&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Analysis_2Passes_8h.html">llvm/Analysis/Passes.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SCCIterator_8h.html">llvm/ADT/SCCIterator.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AliasAnalysis_8h.html">llvm/Analysis/AliasAnalysis.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuiltins_8h.html">llvm/Analysis/MemoryBuiltins.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/Support/InstIterator.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a>(NumNonAddrTakenGlobalVars,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;          <span class="stringliteral">&quot;Number of global vars without address taken&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a>(NumNonAddrTakenFunctions,<span class="stringliteral">&quot;Number of functions without address taken&quot;</span>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a>(NumNoMemFunctions, <span class="stringliteral">&quot;Number of functions that do not access memory&quot;</span>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a>(NumReadMemFunctions, <span class="stringliteral">&quot;Number of functions that only read memory&quot;</span>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a>(NumIndirectGlobalVars, <span class="stringliteral">&quot;Number of indirect global objects&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span>{<span class="comment"></span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">  /// FunctionRecord - One instance of this structure is stored for every</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">  /// function in the program.  Later, the entries for these functions are</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  /// removed if the function is found to call an external function (in which</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">  /// case we know nothing about it.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>FunctionRecord {<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    /// GlobalInfo - Maintain mod/ref info for all of the globals without</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    /// addresses taken that are read or written (transitively) by this</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    /// function.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span>    std::map&lt;const GlobalValue*, unsigned&gt; GlobalInfo;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    /// MayReadAnyGlobal - May read global variables, but it is not known which.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> MayReadAnyGlobal;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">unsigned</span> getInfoForGlobal(<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV)<span class="keyword"> const </span>{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keywordtype">unsigned</span> Effect = MayReadAnyGlobal ? <a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">AliasAnalysis::Ref</a> : 0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      std::map&lt;const GlobalValue*, unsigned&gt;::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> =</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        GlobalInfo.find(GV);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">if</span> (I != GlobalInfo.end())</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        Effect |= I-&gt;second;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keywordflow">return</span> Effect;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">    /// FunctionEffect - Capture whether or not this function reads or writes to</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">    /// ANY memory.  If not, we can do a lot of aggressive analysis on it.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span>    <span class="keywordtype">unsigned</span> FunctionEffect;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    FunctionRecord() : MayReadAnyGlobal (<a class="code" href="namespacefalse.html">false</a>), FunctionEffect(0) {}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  };</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">  /// GlobalsModRef - The actual analysis pass.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span>  <span class="keyword">class </span>GlobalsModRef : <span class="keyword">public</span> <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>, <span class="keyword">public</span> <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a> {<span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /// NonAddressTakenGlobals - The globals that do not have their addresses</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">    /// taken.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span>    std::set&lt;const GlobalValue*&gt; NonAddressTakenGlobals;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">    /// IndirectGlobals - The memory pointed to by this global is known to be</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    /// &#39;owned&#39; by the global.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span>    std::set&lt;const GlobalValue*&gt; IndirectGlobals;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    /// AllocsForIndirectGlobals - If an instruction allocates memory for an</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    /// indirect global, this map indicates which one.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span>    std::map&lt;const Value*, const GlobalValue*&gt; AllocsForIndirectGlobals;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    /// FunctionInfo - For each function, keep track of what globals are</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">    /// modified or read.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span>    std::map&lt;const Function*, FunctionRecord&gt; FunctionInfo;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">ID</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    GlobalsModRef() : <a class="code" href="classllvm_1_1ModulePass.html">ModulePass</a>(ID) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="namespacellvm.html#a7edbaf82bbea047721e72b65355c6865">initializeGlobalsModRefPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">bool</span> runOnModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      InitializeAliasAnalysis(<span class="keyword">this</span>);                 <span class="comment">// set up super class</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      AnalyzeGlobals(M);                          <span class="comment">// find non-addr taken globals</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      AnalyzeCallGraph(getAnalysis&lt;CallGraph&gt;(), M); <span class="comment">// Propagate on CG</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="classllvm_1_1AliasAnalysis.html#aa2f12c9f80c62624255ac0f4893f496e">AliasAnalysis::getAnalysisUsage</a>(AU);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a>&gt;();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">setPreservesAll</a>();                         <span class="comment">// Does not transform code</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">//------------------------------------------------</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Implement the AliasAnalysis API</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    AliasResult alias(<span class="keyword">const</span> Location &amp;LocA, <span class="keyword">const</span> Location &amp;LocB);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    ModRefResult getModRefInfo(<a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                               <span class="keyword">const</span> Location &amp;Loc);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    ModRefResult getModRefInfo(<a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS1,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                               <a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS2) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">AliasAnalysis::getModRefInfo</a>(CS1, CS2);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">    /// getModRefBehavior - Return the behavior of the specified function if</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    /// called from the specified call site.  The call site may be null in which</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">    /// case the most generic behavior of this function should be returned.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span>    <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a> getModRefBehavior(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a> Min = UnknownModRefBehavior;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">if</span> (FunctionRecord *FR = getFunctionInfo(F)) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (FR-&gt;FunctionEffect == 0)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;          Min = DoesNotAccessMemory;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((FR-&gt;FunctionEffect &amp; Mod) == 0)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;          Min = OnlyReadsMemory;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html#a64eefe72b0df7de20f76983b398f72df">AliasAnalysis::getModRefBehavior</a>(F) &amp; Min);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">    /// getModRefBehavior - Return the behavior of the specified function if</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">    /// called from the specified call site.  The call site may be null in which</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">    /// case the most generic behavior of this function should be returned.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span>    <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a> getModRefBehavior(<a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a> Min = UnknownModRefBehavior;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a>* F = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>())</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (FunctionRecord *FR = getFunctionInfo(F)) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;          <span class="keywordflow">if</span> (FR-&gt;FunctionEffect == 0)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            Min = DoesNotAccessMemory;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((FR-&gt;FunctionEffect &amp; Mod) == 0)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            Min = OnlyReadsMemory;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a>(<a class="code" href="classllvm_1_1AliasAnalysis.html#a64eefe72b0df7de20f76983b398f72df">AliasAnalysis::getModRefBehavior</a>(CS) &amp; Min);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> deleteValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *V);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> copyValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *From, <a class="code" href="classllvm_1_1Value.html">Value</a> *To);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addEscapingUse(<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    /// getAdjustedAnalysisPointer - This method is used when a pass implements</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">    /// an analysis interface through multiple inheritance.  If needed, it</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">    /// should override this to adjust the this pointer as needed for the</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    /// specified pass info.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> *getAdjustedAnalysisPointer(<a class="code" href="namespacellvm.html#af58600f38ddfaf598037309c188dd773">AnalysisID</a> PI) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span> (PI == &amp;<a class="code" href="classllvm_1_1AliasAnalysis.html#ae46bcf64f0fc3010424d4582dbb44391">AliasAnalysis::ID</a>)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>*)<span class="keyword">this</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    </div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">    /// getFunctionInfo - Return the function info for the function, or null if</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    /// we don&#39;t have anything useful to say about it.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span>    FunctionRecord *getFunctionInfo(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *F) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      std::map&lt;const Function*, FunctionRecord&gt;::iterator I =</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        FunctionInfo.find(F);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span> (I != FunctionInfo.end())</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">return</span> &amp;I-&gt;second;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">void</span> AnalyzeGlobals(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">void</span> AnalyzeCallGraph(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">bool</span> AnalyzeUsesOfPointer(<a class="code" href="classllvm_1_1Value.html">Value</a> *V, std::vector&lt;Function*&gt; &amp;Readers,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                              std::vector&lt;Function*&gt; &amp;Writers,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                              <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *OkayStoreDest = 0);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">bool</span> AnalyzeIndirectGlobalMemory(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  };</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">GlobalsModRef::ID</a> = 0;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="GlobalsModRef_8cpp.html#a07f22bf5dbe1b3c39beb1271b61bd8d8">INITIALIZE_AG_PASS_BEGIN</a>(GlobalsModRef, <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="stringliteral">&quot;globalsmodref-aa&quot;</span>, <span class="stringliteral">&quot;Simple mod/ref analysis for globals&quot;</span>,    </div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">false</span>)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<a class="code" href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a>)</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="GlobalsModRef_8cpp.html#a487e75d3e630363402888cdbd572f7e7">  193</a></span>&#160;<a class="code" href="PassSupport_8h.html#abc3d271a86858b4b84312e0be52b5cdd">INITIALIZE_AG_PASS_END</a>(GlobalsModRef, <a class="code" href="classllvm_1_1AliasAnalysis.html">AliasAnalysis</a>,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                &quot;globalsmodref-<a class="code" href="GlobalsModRef_8cpp.html#a73e4df903f6b3ea46be617d7592bd059">aa</a>&quot;, &quot;Simple mod/ref analysis <a class="code" href="Target_2README_8txt.html#a7df6ed7588301267782c2bd4b7f6899d">for</a> <a class="code" href="GlobalsModRef_8cpp.html#a79a824a017314e01a69240621102bc28">globals</a>&quot;,    </div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacetrue.html">true</a>, false)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="namespacellvm.html#a10a618954e519b5a81bc7e29fc01da90">  197</a></span>&#160;<a class="code" href="classllvm_1_1Pass.html">Pass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a10a618954e519b5a81bc7e29fc01da90">createGlobalsModRefPass</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> GlobalsModRef(); }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// AnalyzeGlobals - Scan through the users of all of the internal</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// GlobalValue&#39;s in the program.  If none of them have their &quot;address taken&quot;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// (really, their address passed to something nontrivial), record this fact,</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// and record the functions that they are used directly in.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> GlobalsModRef::AnalyzeGlobals(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  std::vector&lt;Function*&gt; Readers, Writers;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::iterator</a> I = M.<a class="code" href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">begin</a>(), E = M.<a class="code" href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (I-&gt;hasLocalLinkage()) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span> (!AnalyzeUsesOfPointer(I, Readers, Writers)) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// Remember that we are tracking this global.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        NonAddressTakenGlobals.insert(I);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        ++NumNonAddrTakenFunctions;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      Readers.clear(); Writers.clear();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">Module::global_iterator</a> I = M.<a class="code" href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">global_begin</a>(), E = M.<a class="code" href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">global_end</a>();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;       I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (I-&gt;hasLocalLinkage()) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">if</span> (!AnalyzeUsesOfPointer(I, Readers, Writers)) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">// Remember that we are tracking this global, and the mod/ref fns</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        NonAddressTakenGlobals.insert(I);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Readers.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          FunctionInfo[Readers[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]].GlobalInfo[I] |= Ref;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (!I-&gt;isConstant())  <span class="comment">// No need to keep track of writers to constants</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = Writers.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            FunctionInfo[Writers[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]].GlobalInfo[I] |= Mod;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        ++NumNonAddrTakenGlobalVars;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">// If this global holds a pointer type, see if it is an indirect global.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (I-&gt;getType()-&gt;getElementType()-&gt;isPointerTy() &amp;&amp;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            AnalyzeIndirectGlobalMemory(I))</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          ++NumIndirectGlobalVars;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      Readers.clear(); Writers.clear();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">/// AnalyzeUsesOfPointer - Look at all of the users of the specified pointer.</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/// If this is used by anything complex (i.e., the address escapes), return</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/// true.  Also, while we are at it, keep track of those functions that read and</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/// write to the value.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/// If OkayStoreDest is non-null, stores into this global are allowed.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GlobalsModRef::AnalyzeUsesOfPointer(<a class="code" href="classllvm_1_1Value.html">Value</a> *V,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                         std::vector&lt;Function*&gt; &amp;Readers,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                         std::vector&lt;Function*&gt; &amp;Writers,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                         <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *OkayStoreDest) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (!V-&gt;<a class="code" href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">getType</a>()-&gt;<a class="code" href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">isPointerTy</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> UI = V-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E=V-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); UI != E; ++UI) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classllvm_1_1User.html">User</a> *U = *UI;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(U)) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      Readers.push_back(LI-&gt;getParent()-&gt;getParent());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(U)) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (V == SI-&gt;getOperand(1)) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        Writers.push_back(SI-&gt;getParent()-&gt;getParent());</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SI-&gt;getOperand(1) != OkayStoreDest) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// Storing the pointer</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *GEP = dyn_cast&lt;GetElementPtrInst&gt;(U)) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">if</span> (AnalyzeUsesOfPointer(GEP, Readers, Writers)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> *BCI = dyn_cast&lt;BitCastInst&gt;(U)) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">if</span> (AnalyzeUsesOfPointer(BCI, Readers, Writers, OkayStoreDest))</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a42a9f1e04ad580b344123c15dbb29d39">isFreeCall</a>(U, TLI)) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      Writers.push_back(cast&lt;Instruction&gt;(U)-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>()-&gt;<a class="code" href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a>());</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *CI = dyn_cast&lt;CallInst&gt;(U)) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="comment">// Make sure that this is just the function being called, not that it is</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="comment">// passing into the function.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = CI-&gt;getNumArgOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> (CI-&gt;getArgOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == V) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1InvokeInst.html">InvokeInst</a> *II = dyn_cast&lt;InvokeInst&gt;(U)) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="comment">// Make sure that this is just the function being called, not that it is</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="comment">// passing into the function.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = II-&gt;getNumArgOperands(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span> (II-&gt;getArgOperand(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) == V) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ConstantExpr.html">ConstantExpr</a> *CE = dyn_cast&lt;ConstantExpr&gt;(U)) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">if</span> (CE-&gt;getOpcode() == Instruction::GetElementPtr ||</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          CE-&gt;getOpcode() == Instruction::BitCast) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (AnalyzeUsesOfPointer(CE, Readers, Writers))</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ICmpInst.html">ICmpInst</a> *ICI = dyn_cast&lt;ICmpInst&gt;(U)) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> (!isa&lt;ConstantPointerNull&gt;(ICI-&gt;getOperand(1)))</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// Allow comparison against null.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/// AnalyzeIndirectGlobalMemory - We found an non-address-taken global variable</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">/// which holds a pointer type.  See if the global always points to non-aliased</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">/// heap memory: that is, all initializers of the globals are allocations, and</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">/// those allocations have no use other than initialization of the global.</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">/// Further, all loads out of GV must directly use the memory, not store the</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/// pointer somewhere.  If this is true, we consider the memory pointed to by</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">/// GV to be owned by GV and can disambiguate other pointers from it.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> GlobalsModRef::AnalyzeIndirectGlobalMemory(<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// Keep track of values related to the allocation of the memory, f.e. the</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">// value produced by the malloc call and any casts.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  std::vector&lt;Value*&gt; AllocRelatedValues;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// Walk the user list of the global.  If we find anything other than a direct</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// load or store, bail out.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1value__use__iterator.html">Value::use_iterator</a> I = GV-&gt;<a class="code" href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">use_begin</a>(), E = GV-&gt;<a class="code" href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">use_end</a>(); I != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>){</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classllvm_1_1User.html">User</a> *U = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(U)) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// The pointer loaded from the global can only be used in simple ways:</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// we allow addressing of it and loading storing to it.  We do *not* allow</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// storing the loaded pointer somewhere else or passing to a function.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      std::vector&lt;Function*&gt; ReadersWriters;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">if</span> (AnalyzeUsesOfPointer(LI, ReadersWriters, ReadersWriters))</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Loaded pointer escapes.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">// TODO: Could try some IP mod/ref of the loaded pointer.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(U)) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// Storing the global itself.</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (SI-&gt;getOperand(0) == GV) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// If storing the null pointer, ignore it.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span> (isa&lt;ConstantPointerNull&gt;(SI-&gt;getOperand(0)))</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">// Check the value being stored.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *Ptr = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(SI-&gt;getOperand(0));</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a0e0017717a140769348ff4379f97c28d">isAllocLikeFn</a>(Ptr, TLI))</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Too hard to analyze.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">// Analyze all uses of the allocation.  If any of them are used in a</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// non-simple way (e.g. stored to another global) bail out.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      std::vector&lt;Function*&gt; ReadersWriters;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="keywordflow">if</span> (AnalyzeUsesOfPointer(Ptr, ReadersWriters, ReadersWriters, GV))</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Loaded pointer escapes.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// Remember that this allocation is related to the indirect global.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      AllocRelatedValues.push_back(Ptr);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// Something complex, bail out.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// Okay, this is an indirect global.  Remember all of the allocations for</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// this global in AllocsForIndirectGlobals.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">while</span> (!AllocRelatedValues.empty()) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    AllocsForIndirectGlobals[AllocRelatedValues.back()] = GV;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    AllocRelatedValues.pop_back();</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  IndirectGlobals.insert(GV);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">/// AnalyzeCallGraph - At this point, we know the functions where globals are</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">/// immediately stored to and read from.  Propagate this information up the call</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/// graph to all callers and compute the mod/ref info for all memory for each</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">/// function.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> GlobalsModRef::AnalyzeCallGraph(<a class="code" href="classllvm_1_1CallGraph.html">CallGraph</a> &amp;CG, <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// We do a bottom-up SCC traversal of the call graph.  In other words, we</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// visit all callees before callers (leaf-first).</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1scc__iterator.html">scc_iterator&lt;CallGraph*&gt;</a> I = <a class="code" href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">scc_begin</a>(&amp;CG), E = <a class="code" href="namespacellvm.html#a221dd975c8835e667ee59a36d4d6cc92">scc_end</a>(&amp;CG); I != E;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    std::vector&lt;CallGraphNode *&gt; &amp;SCC = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    assert(!SCC.empty() &amp;&amp; <span class="stringliteral">&quot;SCC with no functions?&quot;</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (!SCC[0]-&gt;getFunction()) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="comment">// Calls externally - can&#39;t say anything useful.  Remove any existing</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="comment">// function records (may have been created when scanning globals).</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SCC.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        FunctionInfo.erase(SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction());</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    FunctionRecord &amp;FR = FunctionInfo[SCC[0]-&gt;getFunction()];</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">bool</span> KnowNothing = <span class="keyword">false</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">unsigned</span> FunctionEffect = 0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Collect the mod/ref properties due to called functions.  We only compute</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// one mod-ref set.</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SCC.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e &amp;&amp; !KnowNothing; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *F = SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">if</span> (!F) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        KnowNothing = <span class="keyword">true</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">isDeclaration</a>()) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// Try to get mod/ref behaviour from function attributes.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1Function.html#a5a2090e129aebfc961af01acff2033af">doesNotAccessMemory</a>()) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          <span class="comment">// Can&#39;t do better than that!</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (F-&gt;<a class="code" href="classllvm_1_1Function.html#a85df3357f7ec7e9610ee28f8d5613244">onlyReadsMemory</a>()) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          FunctionEffect |= Ref;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;          <span class="keywordflow">if</span> (!F-&gt;<a class="code" href="classllvm_1_1Function.html#a4b37898a6d26b0d5fcee66548f2621d3">isIntrinsic</a>())</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="comment">// This function might call back into the module and read a global -</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="comment">// consider every global as possibly being read by this function.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            FR.MayReadAnyGlobal = <span class="keyword">true</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          FunctionEffect |= ModRef;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <span class="comment">// Can&#39;t say anything useful unless it&#39;s an intrinsic - they don&#39;t</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          <span class="comment">// read or write global variables of the kind considered here.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          KnowNothing = !F-&gt;<a class="code" href="classllvm_1_1Function.html#a4b37898a6d26b0d5fcee66548f2621d3">isIntrinsic</a>();</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphNode.html#aa09f788dd735e872f745a5490faced2f">CallGraphNode::iterator</a> CI = SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>(), E = SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;           CI != E &amp;&amp; !KnowNothing; ++CI)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = CI-&gt;second-&gt;getFunction()) {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          <span class="keywordflow">if</span> (FunctionRecord *CalleeFR = getFunctionInfo(Callee)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="comment">// Propagate function effect up.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            FunctionEffect |= CalleeFR-&gt;FunctionEffect;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">// Incorporate callee&#39;s effects on globals into our info.</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">for</span> (std::map&lt;const GlobalValue*, unsigned&gt;::iterator GI =</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                   CalleeFR-&gt;GlobalInfo.begin(), E = CalleeFR-&gt;GlobalInfo.end();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                 GI != E; ++GI)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;              FR.GlobalInfo[GI-&gt;first] |= GI-&gt;second;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            FR.MayReadAnyGlobal |= CalleeFR-&gt;MayReadAnyGlobal;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="comment">// Can&#39;t say anything about it.  However, if it is inside our SCC,</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="comment">// then nothing needs to be done.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *CalleeNode = CG[Callee];</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> (std::find(SCC.begin(), SCC.end(), CalleeNode) == SCC.end())</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;              KnowNothing = <span class="keyword">true</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          KnowNothing = <span class="keyword">true</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// If we can&#39;t say anything useful about this SCC, remove all SCC functions</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// from the FunctionInfo map.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (KnowNothing) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SCC.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        FunctionInfo.erase(SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction());</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// Scan the function bodies for explicit loads or stores.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, e = SCC.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e &amp;&amp; FunctionEffect != ModRef;++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1InstIterator.html">inst_iterator</a> II = <a class="code" href="namespacellvm.html#a49a219f3fe3d7a6cc07c49a1ea766d6d">inst_begin</a>(SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction()),</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;             E = <a class="code" href="namespacellvm.html#a945cded5463e0ccd3cf5a6ac80542a94">inst_end</a>(SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction());</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;           II != E &amp;&amp; FunctionEffect != ModRef; ++II)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(&amp;*II)) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          FunctionEffect |= Ref;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <span class="keywordflow">if</span> (LI-&gt;isVolatile())</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="comment">// Volatile loads may have side-effects, so mark them as writing</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="comment">// memory (for example, a flag inside the processor).</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            FunctionEffect |= Mod;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *SI = dyn_cast&lt;StoreInst&gt;(&amp;*II)) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          FunctionEffect |= Mod;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="keywordflow">if</span> (SI-&gt;isVolatile())</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="comment">// Treat volatile stores as reading memory somewhere.</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            FunctionEffect |= Ref;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a455d82c49557ac1d6c8da8e8d86a94b5">isAllocationFn</a>(&amp;*II, TLI) || <a class="code" href="namespacellvm.html#a42a9f1e04ad580b344123c15dbb29d39">isFreeCall</a>(&amp;*II, TLI)) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          FunctionEffect |= ModRef;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1IntrinsicInst.html">IntrinsicInst</a> *Intrinsic = dyn_cast&lt;IntrinsicInst&gt;(&amp;*II)) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="comment">// The callgraph doesn&#39;t include intrinsic calls.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <a class="code" href="classllvm_1_1Function.html">Function</a> *Callee = Intrinsic-&gt;getCalledFunction();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <a class="code" href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a> Behaviour = <a class="code" href="classllvm_1_1AliasAnalysis.html#a64eefe72b0df7de20f76983b398f72df">AliasAnalysis::getModRefBehavior</a>(Callee);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          FunctionEffect |= (Behaviour &amp; ModRef);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> ((FunctionEffect &amp; Mod) == 0)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      ++NumReadMemFunctions;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (FunctionEffect == 0)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      ++NumNoMemFunctions;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    FR.FunctionEffect = FunctionEffect;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// Finally, now that we know the full effect on this SCC, clone the</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// information to each function in the SCC.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, e = SCC.size(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      FunctionInfo[SCC[<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;getFunction()] = FR;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/// alias - If one of the pointers is to a global that we are tracking, and the</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">/// other is some random pointer, we know there cannot be an alias, because the</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">/// address of the global isn&#39;t taken.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">AliasAnalysis::AliasResult</a></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;GlobalsModRef::alias(<span class="keyword">const</span> Location &amp;LocA,</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                     <span class="keyword">const</span> Location &amp;LocB) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">// Get the base object these pointers point to.</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *UV1 = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(LocA.Ptr);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *UV2 = <a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(LocB.Ptr);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">// If either of the underlying values is a global, they may be non-addr-taken</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// globals, which we can answer queries about.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV1 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a>&gt;(UV1);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV2 = <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a>&gt;(UV2);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (GV1 || GV2) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// If the global&#39;s address is taken, pretend we don&#39;t know it&#39;s a pointer to</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// the global.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (GV1 &amp;&amp; !NonAddressTakenGlobals.count(GV1)) GV1 = 0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (GV2 &amp;&amp; !NonAddressTakenGlobals.count(GV2)) GV2 = 0;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// If the two pointers are derived from two different non-addr-taken</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// globals, or if one is and the other isn&#39;t, we know these can&#39;t alias.</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> ((GV1 || GV2) &amp;&amp; GV1 != GV2)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keywordflow">return</span> NoAlias;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// Otherwise if they are both derived from the same addr-taken global, we</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// can&#39;t know the two accesses don&#39;t overlap.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// These pointers may be based on the memory owned by an indirect global.  If</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// so, we may be able to handle this.  First check to see if the base pointer</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// is a direct load from an indirect global.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  GV1 = GV2 = 0;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(UV1))</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = dyn_cast&lt;GlobalVariable&gt;(LI-&gt;getOperand(0)))</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span> (IndirectGlobals.count(GV))</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        GV1 = GV;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(UV2))</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = dyn_cast&lt;GlobalVariable&gt;(LI-&gt;getOperand(0)))</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (IndirectGlobals.count(GV))</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        GV2 = GV;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// These pointers may also be from an allocation for the indirect global.  If</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// so, also handle them.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (AllocsForIndirectGlobals.count(UV1))</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    GV1 = AllocsForIndirectGlobals[UV1];</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (AllocsForIndirectGlobals.count(UV2))</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    GV2 = AllocsForIndirectGlobals[UV2];</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// Now that we know whether the two pointers are related to indirect globals,</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// use this to disambiguate the pointers.  If either pointer is based on an</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// indirect global and if they are not both based on the same indirect global,</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// they cannot alias.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">if</span> ((GV1 || GV2) &amp;&amp; GV1 != GV2)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> NoAlias;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">AliasAnalysis::alias</a>(LocA, LocB);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<a class="code" href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">AliasAnalysis::ModRefResult</a></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;GlobalsModRef::getModRefInfo(<a class="code" href="classllvm_1_1ImmutableCallSite.html">ImmutableCallSite</a> CS,</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                             <span class="keyword">const</span> Location &amp;Loc) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">unsigned</span> Known = ModRef;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// If we are asking for mod/ref info of a direct call with a pointer to a</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// global we are tracking, return information if we have it.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV =</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        dyn_cast&lt;GlobalValue&gt;(<a class="code" href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">GetUnderlyingObject</a>(Loc.Ptr)))</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">hasLocalLinkage</a>())</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *F = CS.<a class="code" href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">getCalledFunction</a>())</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> (NonAddressTakenGlobals.count(GV))</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">const</span> FunctionRecord *FR = getFunctionInfo(F))</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            Known = FR-&gt;getInfoForGlobal(GV);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (Known == NoModRef)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> NoModRef; <span class="comment">// No need to query other mod/ref analyses</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">return</span> ModRefResult(Known &amp; <a class="code" href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">AliasAnalysis::getModRefInfo</a>(CS, Loc));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;}</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">// Methods to update the analysis as a result of the client transformation.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="keywordtype">void</span> GlobalsModRef::deleteValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *V) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html">GlobalValue</a> *GV = dyn_cast&lt;GlobalValue&gt;(V)) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (NonAddressTakenGlobals.erase(GV)) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="comment">// This global might be an indirect global.  If so, remove it and remove</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="comment">// any AllocRelatedValues for it.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">if</span> (IndirectGlobals.erase(GV)) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// Remove any entries in AllocsForIndirectGlobals for this global.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">for</span> (std::map&lt;const Value*, const GlobalValue*&gt;::iterator</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;             I = AllocsForIndirectGlobals.begin(),</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;             E = AllocsForIndirectGlobals.end(); I != E; ) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;          <span class="keywordflow">if</span> (I-&gt;second == GV) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            AllocsForIndirectGlobals.erase(I++);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// Otherwise, if this is an allocation related to an indirect global, remove</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// it.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  AllocsForIndirectGlobals.erase(V);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="classllvm_1_1AliasAnalysis.html#a2fc1bfe12fa3756cb293da322a3a0454">AliasAnalysis::deleteValue</a>(V);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="keywordtype">void</span> GlobalsModRef::copyValue(<a class="code" href="classllvm_1_1Value.html">Value</a> *From, <a class="code" href="classllvm_1_1Value.html">Value</a> *To) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classllvm_1_1AliasAnalysis.html#a533cd570eeebdb48681e253dc174a777">AliasAnalysis::copyValue</a>(From, To);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="keywordtype">void</span> GlobalsModRef::addEscapingUse(<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// For the purposes of this analysis, it is conservatively correct to treat</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// a newly escaping value equivalently to a deleted one.  We could perhaps</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// be more precise by processing the new use and attempting to update our</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// saved analysis results to accommodate it.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  deleteValue(U);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  </div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="classllvm_1_1AliasAnalysis.html#ab3cecb80aa774bc87bc9e136d245acba">AliasAnalysis::addEscapingUse</a>(U);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="ttc" id="classllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00082">Pass.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_ad86469939d2a8bdd4169be9403b89f5a"><div class="ttname"><a href="classllvm_1_1Value.html#ad86469939d2a8bdd4169be9403b89f5a">llvm::Value::use_end</a></div><div class="ttdeci">use_iterator use_end()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00152">Value.h:152</a></div></div>
<div class="ttc" id="namespacellvm_html_a455d82c49557ac1d6c8da8e8d86a94b5"><div class="ttname"><a href="namespacellvm.html#a455d82c49557ac1d6c8da8e8d86a94b5">llvm::isAllocationFn</a></div><div class="ttdeci">bool isAllocationFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates or reallocates memory (eith...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00150">MemoryBuiltins.cpp:150</a></div></div>
<div class="ttc" id="SCCIterator_8h_html"><div class="ttname"><a href="SCCIterator_8h.html">SCCIterator.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00181">Path.cpp:181</a></div></div>
<div class="ttc" id="GlobalsModRef_8cpp_html_a08f266fc794fdab9a59fcd972f6afa14"><div class="ttname"><a href="GlobalsModRef_8cpp.html#a08f266fc794fdab9a59fcd972f6afa14">STATISTIC</a></div><div class="ttdeci">STATISTIC(NumNonAddrTakenGlobalVars,&quot;Number of global vars without address taken&quot;)</div></div>
<div class="ttc" id="classllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00035">PassRegistry.cpp:35</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460a20c70d6d2838a070cafe0b3f82b7aee5">llvm::AliasAnalysis::Ref</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="Instructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a3f09a65a9c9d7bfff6c6271976d1baba"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a3f09a65a9c9d7bfff6c6271976d1baba">llvm::AliasAnalysis::getModRefInfo</a></div><div class="ttdeci">ModRefResult getModRefInfo(const Instruction *I, const Location &amp;Loc)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00353">AliasAnalysis.h:353</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a85df3357f7ec7e9610ee28f8d5613244"><div class="ttname"><a href="classllvm_1_1Function.html#a85df3357f7ec7e9610ee28f8d5613244">llvm::Function::onlyReadsMemory</a></div><div class="ttdeci">bool onlyReadsMemory() const </div><div class="ttdoc">Determine if the function does not access or only reads memory. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00246">Function.h:246</a></div></div>
<div class="ttc" id="DerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">The main container class for the LLVM Intermediate Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00112">Module.h:112</a></div></div>
<div class="ttc" id="IntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01161">Instructions.h:1161</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a4b37898a6d26b0d5fcee66548f2621d3"><div class="ttname"><a href="classllvm_1_1Function.html#a4b37898a6d26b0d5fcee66548f2621d3">llvm::Function::isIntrinsic</a></div><div class="ttdeci">bool isIntrinsic() const </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00156">Function.h:156</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a33706aab89e700b8f79e1fa6f4f0e3ee"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path)</div><div class="ttdoc">Get begin iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00173">Path.cpp:173</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00136">Instructions.h:136</a></div></div>
<div class="ttc" id="classllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00033">User.h:33</a></div></div>
<div class="ttc" id="Statistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a7df6ed7588301267782c2bd4b7f6899d"><div class="ttname"><a href="Target_2README_8txt.html#a7df6ed7588301267782c2bd4b7f6899d">for</a></div><div class="ttdeci">this could be done in SelectionDAGISel along with other special for</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00141">Target/README.txt:141</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00173">CallGraph.h:173</a></div></div>
<div class="ttc" id="namespacellvm_html_a42a9f1e04ad580b344123c15dbb29d39"><div class="ttname"><a href="namespacellvm.html#a42a9f1e04ad580b344123c15dbb29d39">llvm::isFreeCall</a></div><div class="ttdeci">const CallInst * isFreeCall(const Value *I, const TargetLibraryInfo *TLI)</div><div class="ttdoc">isFreeCall - Returns non-null if the value is a call to the builtin free() </div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00316">MemoryBuiltins.cpp:316</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraphNode_html_aa09f788dd735e872f745a5490faced2f"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html#aa09f788dd735e872f745a5490faced2f">llvm::CallGraphNode::iterator</a></div><div class="ttdeci">std::vector&lt; CallRecord &gt;::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00208">CallGraph.h:208</a></div></div>
<div class="ttc" id="namespacellvm_html_ace6c957db39858291c6ce01c38e78480"><div class="ttname"><a href="namespacellvm.html#ace6c957db39858291c6ce01c38e78480">llvm::GetUnderlyingObject</a></div><div class="ttdeci">Value * GetUnderlyingObject(Value *V, const DataLayout *TD=0, unsigned MaxLookup=6)</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l01899">ValueTracking.cpp:1899</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00055">PassAnalysisSupport.h:55</a></div></div>
<div class="ttc" id="PassSupport_8h_html_a14724f1ccf528e73bb29bc9230737967"><div class="ttname"><a href="PassSupport_8h.html#a14724f1ccf528e73bb29bc9230737967">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">#define INITIALIZE_PASS_DEPENDENCY(depName)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00167">PassSupport.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1InstIterator_html"><div class="ttname"><a href="classllvm_1_1InstIterator.html">llvm::InstIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00031">InstIterator.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1value__use__iterator_html"><div class="ttname"><a href="classllvm_1_1value__use__iterator.html">llvm::value_use_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00168">Use.h:168</a></div></div>
<div class="ttc" id="namespacellvm_html_a49a219f3fe3d7a6cc07c49a1ea766d6d"><div class="ttname"><a href="namespacellvm.html#a49a219f3fe3d7a6cc07c49a1ea766d6d">llvm::inst_begin</a></div><div class="ttdeci">inst_iterator inst_begin(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00128">InstIterator.h:128</a></div></div>
<div class="ttc" id="GlobalsModRef_8cpp_html_a73e4df903f6b3ea46be617d7592bd059"><div class="ttname"><a href="GlobalsModRef_8cpp.html#a73e4df903f6b3ea46be617d7592bd059">aa</a></div><div class="ttdeci">globalsmodref aa</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8cpp_source.html#l00193">GlobalsModRef.cpp:193</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa96743b70089c7a0ef5d935f34173826"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa96743b70089c7a0ef5d935f34173826">llvm::AliasAnalysis::AliasResult</a></div><div class="ttdeci">AliasResult</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00161">AliasAnalysis.h:161</a></div></div>
<div class="ttc" id="classllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00060">Use.h:60</a></div></div>
<div class="ttc" id="GlobalsModRef_8cpp_html_a07f22bf5dbe1b3c39beb1271b61bd8d8"><div class="ttname"><a href="GlobalsModRef_8cpp.html#a07f22bf5dbe1b3c39beb1271b61bd8d8">INITIALIZE_AG_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_AG_PASS_BEGIN(GlobalsModRef, AliasAnalysis,&quot;globalsmodref-aa&quot;,&quot;Simple mod/ref analysis for globals&quot;, false, true, false) INITIALIZE_AG_PASS_END(GlobalsModRef</div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html">llvm::AliasAnalysis</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00056">AliasAnalysis.h:56</a></div></div>
<div class="ttc" id="namespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00126">StackSlotColoring.cpp:126</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a533cd570eeebdb48681e253dc174a777"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a533cd570eeebdb48681e253dc174a777">llvm::AliasAnalysis::copyValue</a></div><div class="ttdeci">virtual void copyValue(Value *From, Value *To)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00068">AliasAnalysis.cpp:68</a></div></div>
<div class="ttc" id="namespacellvm_html_a71882a8257c58a4d9401db39622871a6"><div class="ttname"><a href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">llvm::scc_begin</a></div><div class="ttdeci">scc_iterator&lt; T &gt; scc_begin(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00199">SCCIterator.h:199</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a0567b31cf5caa26522fcc2e7cadc1dde"><div class="ttname"><a href="classllvm_1_1Module.html#a0567b31cf5caa26522fcc2e7cadc1dde">llvm::Module::global_begin</a></div><div class="ttdeci">global_iterator global_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00521">Module.h:521</a></div></div>
<div class="ttc" id="CallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="classllvm_1_1ConstantExpr_html"><div class="ttname"><a href="classllvm_1_1ConstantExpr.html">llvm::ConstantExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00790">Constants.h:790</a></div></div>
<div class="ttc" id="namespacellvm_html_a10a618954e519b5a81bc7e29fc01da90"><div class="ttname"><a href="namespacellvm.html#a10a618954e519b5a81bc7e29fc01da90">llvm::createGlobalsModRefPass</a></div><div class="ttdeci">Pass * createGlobalsModRefPass()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8cpp_source.html#l00197">GlobalsModRef.cpp:197</a></div></div>
<div class="ttc" id="GlobalsModRef_8cpp_html_a79a824a017314e01a69240621102bc28"><div class="ttname"><a href="GlobalsModRef_8cpp.html#a79a824a017314e01a69240621102bc28">globals</a></div><div class="ttdeci">globalsmodref Simple mod ref analysis for globals</div><div class="ttdef"><b>Definition:</b> <a href="GlobalsModRef_8cpp_source.html#l00193">GlobalsModRef.cpp:193</a></div></div>
<div class="ttc" id="Analysis_2Passes_8h_html"><div class="ttname"><a href="Analysis_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="classllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03587">Instructions.h:3587</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_ab3cecb80aa774bc87bc9e136d245acba"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#ab3cecb80aa774bc87bc9e136d245acba">llvm::AliasAnalysis::addEscapingUse</a></div><div class="ttdeci">virtual void addEscapingUse(Use &amp;U)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00073">AliasAnalysis.cpp:73</a></div></div>
<div class="ttc" id="classllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00255">Instructions.h:255</a></div></div>
<div class="ttc" id="namespacellvm_html_a7edbaf82bbea047721e72b65355c6865"><div class="ttname"><a href="namespacellvm.html#a7edbaf82bbea047721e72b65355c6865">llvm::initializeGlobalsModRefPass</a></div><div class="ttdeci">void initializeGlobalsModRefPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="classllvm_1_1Function_html_a5a2090e129aebfc961af01acff2033af"><div class="ttname"><a href="classllvm_1_1Function.html#a5a2090e129aebfc961af01acff2033af">llvm::Function::doesNotAccessMemory</a></div><div class="ttdeci">bool doesNotAccessMemory() const </div><div class="ttdoc">Determine if the function does not access memory. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00237">Function.h:237</a></div></div>
<div class="ttc" id="classllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00709">Instructions.h:709</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a221dd975c8835e667ee59a36d4d6cc92"><div class="ttname"><a href="namespacellvm.html#a221dd975c8835e667ee59a36d4d6cc92">llvm::scc_end</a></div><div class="ttdeci">scc_iterator&lt; T &gt; scc_end(const T &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00204">SCCIterator.h:204</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a59949d72986d3e9fdb7e7c9272c02f0f"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a59949d72986d3e9fdb7e7c9272c02f0f">llvm::AliasAnalysis::alias</a></div><div class="ttdeci">virtual AliasResult alias(const Location &amp;LocA, const Location &amp;LocB)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00052">AliasAnalysis.cpp:52</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="MemorySanitizer_8cpp_html_a4fb9a92499e70532fe8798b32bfd9e7b"><div class="ttname"><a href="MemorySanitizer_8cpp.html#a4fb9a92499e70532fe8798b32bfd9e7b">ModRefBehavior</a></div><div class="ttdeci">#define ModRefBehavior</div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00037">PassAnalysisSupport.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1ICmpInst_html"><div class="ttname"><a href="classllvm_1_1ICmpInst.html">llvm::ICmpInst</a></div><div class="ttdoc">Represent an integer comparison operator. </div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00911">Instructions.h:911</a></div></div>
<div class="ttc" id="InstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00035">GlobalVariable.h:35</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html_a2eba483f5cc876e824aa6c085736086b"><div class="ttname"><a href="classllvm_1_1Type.html#a2eba483f5cc876e824aa6c085736086b">llvm::Type::isPointerTy</a></div><div class="ttdeci">bool isPointerTy() const </div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00220">Type.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a2fc1bfe12fa3756cb293da322a3a0454"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a2fc1bfe12fa3756cb293da322a3a0454">llvm::AliasAnalysis::deleteValue</a></div><div class="ttdeci">virtual void deleteValue(Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00063">AliasAnalysis.cpp:63</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a64eefe72b0df7de20f76983b398f72df"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a64eefe72b0df7de20f76983b398f72df">llvm::AliasAnalysis::getModRefBehavior</a></div><div class="ttdeci">virtual ModRefBehavior getModRefBehavior(ImmutableCallSite CS)</div><div class="ttdoc">getModRefBehavior - Return the behavior when calling the given call site. </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00199">AliasAnalysis.cpp:199</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a19b72cdd81bd792545e25466b43ac7c2"><div class="ttname"><a href="classllvm_1_1Module.html#a19b72cdd81bd792545e25466b43ac7c2">llvm::Module::global_end</a></div><div class="ttdeci">global_iterator global_end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00523">Module.h:523</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html"><div class="ttname"><a href="classllvm_1_1GlobalValue.html">llvm::GlobalValue</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00029">GlobalValue.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="Module_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a0cf3748dba54f931bb1241ae4adc76bc"><div class="ttname"><a href="classllvm_1_1Value.html#a0cf3748dba54f931bb1241ae4adc76bc">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00111">Value.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1AnalysisUsage_html_af22b06a6a4f9df80454071685a0d6a02"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af22b06a6a4f9df80454071685a0d6a02">llvm::AnalysisUsage::setPreservesAll</a></div><div class="ttdeci">void setPreservesAll()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00094">PassAnalysisSupport.h:94</a></div></div>
<div class="ttc" id="Pass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_ae46bcf64f0fc3010424d4582dbb44391"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#ae46bcf64f0fc3010424d4582dbb44391">llvm::AliasAnalysis::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00077">AliasAnalysis.h:77</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html_a413abcab8dbc3900fc2fde96a5d8fca6"><div class="ttname"><a href="classllvm_1_1Value.html#a413abcab8dbc3900fc2fde96a5d8fca6">llvm::Value::use_begin</a></div><div class="ttdeci">use_iterator use_begin()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00150">Value.h:150</a></div></div>
<div class="ttc" id="AliasAnalysis_8h_html"><div class="ttname"><a href="AliasAnalysis_8h.html">AliasAnalysis.h</a></div></div>
<div class="ttc" id="classllvm_1_1CallGraph_html"><div class="ttname"><a href="classllvm_1_1CallGraph.html">llvm::CallGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00072">CallGraph.h:72</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_aa608a2d900dd6c15c18f4236b6548496"><div class="ttname"><a href="classllvm_1_1Module.html#aa608a2d900dd6c15c18f4236b6548496">llvm::Module::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00533">Module.h:533</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_a4640d98233102674ddb6d6efaf2b7f97"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a4640d98233102674ddb6d6efaf2b7f97">llvm::GlobalValue::isDeclaration</a></div><div class="ttdeci">bool isDeclaration() const </div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00066">Globals.cpp:66</a></div></div>
<div class="ttc" id="classllvm_1_1ImmutableCallSite_html"><div class="ttname"><a href="classllvm_1_1ImmutableCallSite.html">llvm::ImmutableCallSite</a></div><div class="ttdoc">ImmutableCallSite - establish a view to a call site for examination. </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00318">CallSite.h:318</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1ModulePass_html"><div class="ttname"><a href="classllvm_1_1ModulePass.html">llvm::ModulePass</a></div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00235">Pass.h:235</a></div></div>
<div class="ttc" id="namespacellvm_html_a0e0017717a140769348ff4379f97c28d"><div class="ttname"><a href="namespacellvm.html#a0e0017717a140769348ff4379f97c28d">llvm::isAllocLikeFn</a></div><div class="ttdeci">bool isAllocLikeFn(const Value *V, const TargetLibraryInfo *TLI, bool LookThroughBitCast=false)</div><div class="ttdoc">Tests if a value is a call or invoke to a library function that allocates memory (either malloc...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuiltins_8cpp_source.html#l00181">MemoryBuiltins.cpp:181</a></div></div>
<div class="ttc" id="classllvm_1_1Module_html_a279174d137c1ef32aa5b627f5e06620f"><div class="ttname"><a href="classllvm_1_1Module.html#a279174d137c1ef32aa5b627f5e06620f">llvm::Module::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00531">Module.h:531</a></div></div>
<div class="ttc" id="MemoryBuiltins_8h_html"><div class="ttname"><a href="MemoryBuiltins_8h.html">MemoryBuiltins.h</a></div></div>
<div class="ttc" id="ValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="namespacellvm_html_af58600f38ddfaf598037309c188dd773"><div class="ttname"><a href="namespacellvm.html#af58600f38ddfaf598037309c188dd773">llvm::AnalysisID</a></div><div class="ttdeci">const void * AnalysisID</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00047">Pass.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1GlobalValue_html_abefc2d8baa67d6f9e49c95912cfde480"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#abefc2d8baa67d6f9e49c95912cfde480">llvm::GlobalValue::hasLocalLinkage</a></div><div class="ttdeci">bool hasLocalLinkage() const </div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00211">GlobalValue.h:211</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_a83d29c51155787c607268c2659559460"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#a83d29c51155787c607268c2659559460">llvm::AliasAnalysis::ModRefResult</a></div><div class="ttdeci">ModRefResult</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00231">AliasAnalysis.h:231</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00297">Target/X86/README.txt:297</a></div></div>
<div class="ttc" id="BasicAliasAnalysis_8cpp_html_a2675de1d8479c7b00387979714da43f7"><div class="ttname"><a href="BasicAliasAnalysis_8cpp.html#a2675de1d8479c7b00387979714da43f7">getParent</a></div><div class="ttdeci">static const Function * getParent(const Value *V)</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8cpp_source.html#l00447">BasicAliasAnalysis.cpp:447</a></div></div>
<div class="ttc" id="classllvm_1_1AliasAnalysis_html_aa2f12c9f80c62624255ac0f4893f496e"><div class="ttname"><a href="classllvm_1_1AliasAnalysis.html#aa2f12c9f80c62624255ac0f4893f496e">llvm::AliasAnalysis::getAnalysisUsage</a></div><div class="ttdeci">virtual void getAnalysisUsage(AnalysisUsage &amp;AU) const </div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00482">AliasAnalysis.cpp:482</a></div></div>
<div class="ttc" id="classllvm_1_1InvokeInst_html"><div class="ttname"><a href="classllvm_1_1InvokeInst.html">llvm::InvokeInst</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02841">Instructions.h:2841</a></div></div>
<div class="ttc" id="PassSupport_8h_html_abc3d271a86858b4b84312e0be52b5cdd"><div class="ttname"><a href="PassSupport_8h.html#abc3d271a86858b4b84312e0be52b5cdd">INITIALIZE_AG_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_AG_PASS_END(passName, agName, arg, n, cfg, analysis, def)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00289">PassSupport.h:289</a></div></div>
<div class="ttc" id="namespacellvm_html_a945cded5463e0ccd3cf5a6ac80542a94"><div class="ttname"><a href="namespacellvm.html#a945cded5463e0ccd3cf5a6ac80542a94">llvm::inst_end</a></div><div class="ttdeci">inst_iterator inst_end(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00129">InstIterator.h:129</a></div></div>
<div class="ttc" id="classllvm_1_1IntrinsicInst_html"><div class="ttname"><a href="classllvm_1_1IntrinsicInst.html">llvm::IntrinsicInst</a></div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l00036">IntrinsicInst.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1scc__iterator_html"><div class="ttname"><a href="classllvm_1_1scc__iterator.html">llvm::scc_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00036">SCCIterator.h:36</a></div></div>
<div class="ttc" id="classllvm_1_1CallSiteBase_html_a7966cd72245302e38c19138b4ad408b4"><div class="ttname"><a href="classllvm_1_1CallSiteBase.html#a7966cd72245302e38c19138b4ad408b4">llvm::CallSiteBase::getCalledFunction</a></div><div class="ttdeci">FunTy * getCalledFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="CallSite_8h_source.html#l00093">CallSite.h:93</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:43 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
