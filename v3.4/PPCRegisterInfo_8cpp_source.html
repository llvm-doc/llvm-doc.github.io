<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: PPCRegisterInfo.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PPCRegisterInfo_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PPCRegisterInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PPCRegisterInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- PPCRegisterInfo.cpp - PowerPC Register Information ----------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains the PowerPC implementation of the TargetRegisterInfo</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// class.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="PPCRegisterInfo_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   15</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;reginfo&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCRegisterInfo_8h.html">PPCRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPC_8h.html">PPC.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCFrameLowering_8h.html">PPCFrameLowering.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCInstrBuilder_8h.html">PPCInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PPCSubtarget_8h.html">PPCSubtarget.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFrameInfo_8h.html">llvm/CodeGen/MachineFrameInfo.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBuilder_8h.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineModuleInfo_8h.html">llvm/CodeGen/MachineModuleInfo.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RegisterScavenging_8h.html">llvm/CodeGen/RegisterScavenging.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTypes_8h.html">llvm/CodeGen/ValueTypes.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallingConv_8h.html">llvm/IR/CallingConv.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetFrameLowering_8h.html">llvm/Target/TargetFrameLowering.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/Target/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Target_2TargetMachine_8h.html">llvm/Target/TargetMachine.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOptions_8h.html">llvm/Target/TargetOptions.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="PPCRegisterInfo_8cpp.html#a13b7359d3501128c4c130fd13756facc">   46</a></span>&#160;<span class="preprocessor">#define GET_REGINFO_TARGET_DESC</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;PPCGenRegisterInfo.inc&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="PPCRegisterInfo_8cpp.html#aad6afecfdd07d9f99a0e1ff057a057c0">EnableBasePointer</a>(<span class="stringliteral">&quot;ppc-use-base-pointer&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Enable use of a base pointer for complex stack frames&quot;</span>));</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<a class="code" href="PPCRegisterInfo_8cpp.html#ae02fdd16b4ab7a47d9d31256808ee89f">AlwaysBasePointer</a>(<span class="stringliteral">&quot;ppc-always-use-base-pointer&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Force the use of a base pointer in every function&quot;</span>));</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#adaf73c5c12f1f33216669755d4fa3a77">   59</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#adaf73c5c12f1f33216669755d4fa3a77">PPCRegisterInfo::PPCRegisterInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCSubtarget.html">PPCSubtarget</a> &amp;<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">ST</a>)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  : <a class="code" href="classPPCGenRegisterInfo.html">PPCGenRegisterInfo</a>(ST.isPPC64() ? <a class="code" href="Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::LR8 : <a class="code" href="Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a>::LR,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                       ST.isPPC64() ? 0 : 1,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                       ST.isPPC64() ? 0 : 1),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    Subtarget(ST) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  ImmToIdxMap[<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>]   = PPC::LDX;    ImmToIdxMap[PPC::STD]  = PPC::STDX;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  ImmToIdxMap[PPC::LBZ]  = PPC::LBZX;   ImmToIdxMap[PPC::STB]  = PPC::STBX;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  ImmToIdxMap[PPC::LHZ]  = PPC::LHZX;   ImmToIdxMap[PPC::LHA]  = PPC::LHAX;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  ImmToIdxMap[PPC::LWZ]  = PPC::LWZX;   ImmToIdxMap[PPC::LWA]  = PPC::LWAX;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  ImmToIdxMap[PPC::LFS]  = PPC::LFSX;   ImmToIdxMap[PPC::LFD]  = PPC::LFDX;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  ImmToIdxMap[PPC::STH]  = PPC::STHX;   ImmToIdxMap[PPC::STW]  = PPC::STWX;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  ImmToIdxMap[PPC::STFS] = PPC::STFSX;  ImmToIdxMap[PPC::STFD] = PPC::STFDX;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  ImmToIdxMap[PPC::ADDI] = PPC::ADD4;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  ImmToIdxMap[PPC::LWA_32] = PPC::LWAX_32;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// 64-bit</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  ImmToIdxMap[PPC::LHA8] = PPC::LHAX8; ImmToIdxMap[PPC::LBZ8] = PPC::LBZX8;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  ImmToIdxMap[PPC::LHZ8] = PPC::LHZX8; ImmToIdxMap[PPC::LWZ8] = PPC::LWZX8;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  ImmToIdxMap[PPC::STB8] = PPC::STBX8; ImmToIdxMap[PPC::STH8] = PPC::STHX8;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  ImmToIdxMap[PPC::STW8] = PPC::STWX8; ImmToIdxMap[PPC::STDU] = PPC::STDUX;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  ImmToIdxMap[PPC::ADDI8] = PPC::ADD8;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/// getPointerRegClass - Return the register class to use to hold pointers.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/// This is used for addressing modes.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span><span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a737dd9745612bee8cbac57c136399287">   85</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a737dd9745612bee8cbac57c136399287">PPCRegisterInfo::getPointerRegClass</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF, <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">Kind</a>)<span class="keyword"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">                                                                       const </span>{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Note that PPCInstrInfo::FoldImmediate also directly uses this Kind value</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// when it checks for ZERO folding.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (Kind == 1) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> &amp;PPC::G8RC_NOX0RegClass;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> &amp;PPC::GPRC_NOR0RegClass;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> &amp;PPC::G8RCRegClass;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">return</span> &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">const</span> uint16_t*</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a4c72532fa51eb93b0f5959f263c452da">  101</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a4c72532fa51eb93b0f5959f263c452da">PPCRegisterInfo::getCalleeSavedRegs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> *MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">isDarwinABI</a>())</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                  CSR_Darwin64_Altivec_SaveList :</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                  CSR_Darwin64_SaveList) :</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                 (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                  CSR_Darwin32_Altivec_SaveList :</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                  CSR_Darwin32_SaveList);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                CSR_SVR464_Altivec_SaveList :</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                CSR_SVR464_SaveList) :</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                               (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                CSR_SVR432_Altivec_SaveList :</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                CSR_SVR432_SaveList);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">const</span> uint32_t*</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a26f1a5d230abf644526c1816276a67fa">  119</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a26f1a5d230abf644526c1816276a67fa">PPCRegisterInfo::getCallPreservedMask</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">CallingConv::ID</a> <a class="code" href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">isDarwinABI</a>())</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                  CSR_Darwin64_Altivec_RegMask :</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                  CSR_Darwin64_RegMask) :</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                 (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                  CSR_Darwin32_Altivec_RegMask :</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                  CSR_Darwin32_RegMask);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                CSR_SVR464_Altivec_RegMask :</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                CSR_SVR464_RegMask) :</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                               (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>() ?</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                CSR_SVR432_Altivec_RegMask :</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                CSR_SVR432_RegMask);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">const</span> uint32_t*</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a9ee6e585cddd343ffca371e763dc8965">  137</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a9ee6e585cddd343ffca371e763dc8965">PPCRegisterInfo::getNoPreservedMask</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> CSR_NoRegs_RegMask;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a963c5f591e7ab574fec0dc740539602a">  141</a></span>&#160;<a class="code" href="classllvm_1_1BitVector.html">BitVector</a> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a963c5f591e7ab574fec0dc740539602a">PPCRegisterInfo::getReservedRegs</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> Reserved(getNumRegs());</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCFrameLowering.html">PPCFrameLowering</a> *PPCFI =</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1PPCFrameLowering.html">PPCFrameLowering</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>());</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// The ZERO register is not really a register, but the representation of r0</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// when used in instructions that treat r0 as the constant 0.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::ZERO);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::ZERO8);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// The FP register is also not really a register, but is the representation</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// of the frame pointer register used by ISD::FRAMEADDR.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::FP);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::FP8);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// The BP register is also not really a register, but is the representation</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// of the base pointer register used by setjmp.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::BP);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::BP8);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// The counter registers must be reserved so that counter-based loops can</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// be correctly formed (and the mtctr instructions are not DCE&#39;d).</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::CTR);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::CTR8);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::R1);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::LR);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::LR8);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(<a class="code" href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fab649a92948d9ef9d051acb0681fea44a">PPC::RM</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">isDarwinABI</a>() || !Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>())</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::VRSAVE);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// The SVR4 ABI reserves r2 and r13</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>()) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(<a class="code" href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">PPC::R2</a>);  <span class="comment">// System-reserved register</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::R13); <span class="comment">// Small Data Area pointer register</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// On PPC64, r13 is the thread pointer. Never allocate this register.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>()) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::R13);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::X1);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::X13);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (PPCFI-&gt;<a class="code" href="classllvm_1_1PPCFrameLowering.html#a4a2d4460149d7682613fa25af1b965be">needsFP</a>(MF))</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::X31);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">hasBasePointer</a>(MF))</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::X30);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// The 64-bit SVR4 ABI reserves r2 for the TOC pointer.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>()) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::X2);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span> (PPCFI-&gt;<a class="code" href="classllvm_1_1PPCFrameLowering.html#a4a2d4460149d7682613fa25af1b965be">needsFP</a>(MF))</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::R31);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">hasBasePointer</a>(MF))</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(PPC::R30);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Reserve Altivec registers when Altivec is unavailable.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">hasAltivec</a>())</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1TargetRegisterClass.html#a5919eff14f47c663b6dcf33f32777b21">TargetRegisterClass::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = PPC::VRRCRegClass.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">begin</a>(),</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a> = PPC::VRRCRegClass.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">IE</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      Reserved.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span> Reserved;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">unsigned</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#ad6d8d219c275e8a79f168dcdb653e4a7">  215</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#ad6d8d219c275e8a79f168dcdb653e4a7">PPCRegisterInfo::getRegPressureLimit</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                         <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> DefaultSafety = 1;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">switch</span> (RC-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#a25f9ba8e78af92ca34f9c1bba7881601">getID</a>()) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">case</span> PPC::G8RC_NOX0RegClassID:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">case</span> PPC::GPRC_NOR0RegClassID: </div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">case</span> PPC::G8RCRegClassID:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">case</span> PPC::GPRCRegClassID: {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">unsigned</span> FP = TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">hasFP</a>(MF) ? 1 : 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> 32 - FP - DefaultSafety;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">case</span> PPC::F8RCRegClassID:</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">case</span> PPC::F4RCRegClassID:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">case</span> PPC::VRRCRegClassID:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> 32 - DefaultSafety;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">case</span> PPC::CRRCRegClassID:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">return</span> 8 - DefaultSafety;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">// Stack Frame Processing methods</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/// lowerDynamicAlloc - Generate the code for allocating an object in the</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/// current frame.  The sequence of code with be in the general form</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">///   addi   R0, SP, \#frameSize ; get the address of the previous frame</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">///   stwxu  R0, SP, Rnegsize   ; add and update the SP with the negated size</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">///   addi   Rnew, SP, \#maxCalFrameSize ; get the top of the allocation</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#aa5f6261df90e69ab2f3bb40530686639">  250</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#aa5f6261df90e69ab2f3bb40530686639">PPCRegisterInfo::lowerDynamicAlloc</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II)<span class="keyword"> const </span>{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Get the basic block&#39;s function.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Get the frame info.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Get the instruction info.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// Determine whether 64-bit pointers are used.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">bool</span> LP64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Get the maximum call stack size.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordtype">unsigned</span> maxCallFrameSize = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a00e048d1d905fa65ee3377d99d4f2ae3">getMaxCallFrameSize</a>();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// Get the total frame size.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordtype">unsigned</span> FrameSize = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">getStackSize</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Get stack alignments.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">unsigned</span> TargetAlign = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">unsigned</span> MaxAlign = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">getMaxAlignment</a>();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  assert((maxCallFrameSize &amp; (MaxAlign-1)) == 0 &amp;&amp;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;         <span class="stringliteral">&quot;Maximum call-frame size not sufficiently aligned&quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Determine the previous frame&#39;s address.  If FrameSize can&#39;t be</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// represented as 16 bits or we need special alignment, then we load the</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// previous frame&#39;s address from 0(SP).  Why not do an addis of the hi? </span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// Because R0 is our only safe tmp register and addi/addis treat R0 as zero. </span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// Constructing the constant and adding would take 3 instructions. </span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Fortunately, a frame greater than 32K is rare.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *G8RC = &amp;PPC::G8RCRegClass;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(LP64 ? G8RC : GPRC);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (MaxAlign &lt; TargetAlign &amp;&amp; <a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(FrameSize)) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ADDI), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      .addReg(PPC::R31)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(FrameSize);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LP64) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      .addImm(0)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::X1);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      .addImm(0)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::R1);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordtype">bool</span> KillNegSizeReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordtype">unsigned</span> NegSizeReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// Grow the stack and update the stack pointer link, then determine the</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// address of new allocated space.</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">if</span> (LP64) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (MaxAlign &gt; TargetAlign) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordtype">unsigned</span> UnalNegSizeReg = NegSizeReg;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      NegSizeReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(G8RC);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="comment">// Unfortunately, there is no andi, only andi., and we can&#39;t insert that</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="comment">// here because we might clobber cr0 while it is live.</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI8), NegSizeReg)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        .addImm(~(MaxAlign-1));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordtype">unsigned</span> NegSizeReg1 = NegSizeReg;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      NegSizeReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(G8RC);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::AND8), NegSizeReg)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        .addReg(UnalNegSizeReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillNegSizeReg))</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        .addReg(NegSizeReg1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      KillNegSizeReg = <span class="keyword">true</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STDUX), PPC::X1)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::X1)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NegSizeReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillNegSizeReg));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ADDI8), MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      .addReg(PPC::X1)</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(maxCallFrameSize);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (MaxAlign &gt; TargetAlign) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordtype">unsigned</span> UnalNegSizeReg = NegSizeReg;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      NegSizeReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(GPRC);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="comment">// Unfortunately, there is no andi, only andi., and we can&#39;t insert that</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="comment">// here because we might clobber cr0 while it is live.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LI), NegSizeReg)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        .addImm(~(MaxAlign-1));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordtype">unsigned</span> NegSizeReg1 = NegSizeReg;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      NegSizeReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(GPRC);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(<a class="code" href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">PPC::AND</a>), NegSizeReg)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        .addReg(UnalNegSizeReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillNegSizeReg))</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        .addReg(NegSizeReg1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      KillNegSizeReg = <span class="keyword">true</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STWUX), PPC::R1)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(PPC::R1)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">addReg</a>(NegSizeReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(KillNegSizeReg));</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::ADDI), MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>())</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      .addReg(PPC::R1)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(maxCallFrameSize);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  </div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// Discard the DYNALLOC instruction.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(II);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/// lowerCRSpilling - Generate the code for spilling a CR register. Instead of</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">/// reserving a whole register (R0), we scrounge for one here. This generates</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/// code like this:</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">///   mfcr rA                  ; Move the conditional register into GPR rA.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">///   rlwinm rA, rA, SB, 0, 31 ; Shift the bits left so they are in CR0&#39;s slot.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">///   stw rA, FI               ; Store rA to the frame.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a6e4dbd3363d953b582f539ae32552302">  369</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a6e4dbd3363d953b582f539ae32552302">PPCRegisterInfo::lowerCRSpilling</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;       <span class="comment">// ; SPILL_CR &lt;SrcReg&gt;, &lt;offset&gt;</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordtype">bool</span> LP64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *G8RC = &amp;PPC::G8RCRegClass;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(LP64 ? G8RC : GPRC);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// We need to store the CR in the low 4-bits of the saved value. First, issue</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// an MFOCRF to save all of the CRBits and, if needed, kill the SrcReg.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::MFOCRF8 : <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">PPC::MFOCRF</a>), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>()));</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    </div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// If the saved register wasn&#39;t CR0, shift the bits left so that they are in</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// CR0&#39;s slot.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">if</span> (SrcReg != PPC::CR0) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">unsigned</span> Reg1 = <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    Reg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(LP64 ? G8RC : GPRC);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// rlwinm rA, rA, ShiftBits, 0, 31.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::RLWINM8 : PPC::RLWINM), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      .addReg(Reg1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(getEncodingValue(SrcReg) * 4)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(31);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::STW8 : PPC::STW))</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>),</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">// Discard the pseudo instruction.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(II);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a59ef2bbd23f611442e7527330196ab4e">  413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a59ef2bbd23f611442e7527330196ab4e">PPCRegisterInfo::lowerCRRestore</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II,</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                      <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;       <span class="comment">// ; &lt;DestReg&gt; = RESTORE_CR &lt;offset&gt;</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordtype">bool</span> LP64 = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *G8RC = &amp;PPC::G8RCRegClass;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(LP64 ? G8RC : GPRC);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  assert(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">definesRegister</a>(DestReg) &amp;&amp;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="stringliteral">&quot;RESTORE_CR does not define its destination&quot;</span>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::LWZ8 : PPC::LWZ),</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                              <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>), FrameIndex);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// If the reloaded register isn&#39;t CR0, shift the bits right so that they are</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// in the right CR&#39;s slot.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (DestReg != PPC::CR0) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordtype">unsigned</span> Reg1 = <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    Reg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(LP64 ? G8RC : GPRC);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">unsigned</span> ShiftBits = getEncodingValue(DestReg)*4;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// rlwinm r11, r11, 32-ShiftBits, 0, 31.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::RLWINM8 : PPC::RLWINM), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;             .addReg(Reg1, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(32-ShiftBits).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(0)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;             .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(31);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(LP64 ? PPC::MTOCRF8 : PPC::MTOCRF), DestReg)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;             .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">// Discard the pseudo instruction.</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(II);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a1aab38bf57be3d4259d90044441a27a6">  455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a1aab38bf57be3d4259d90044441a27a6">PPCRegisterInfo::lowerVRSAVESpilling</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;       <span class="comment">// ; SPILL_VRSAVE &lt;SrcReg&gt;, &lt;offset&gt;</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(GPRC);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordtype">unsigned</span> SrcReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::MFVRSAVEv), <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;          .addReg(SrcReg, <a class="code" href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">getKillRegState</a>(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">isKill</a>()));</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    </div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::STW))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>),</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// Discard the pseudo instruction.</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(II);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#adf5a8daa38aa690c5207f072b0c92312">  480</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#adf5a8daa38aa690c5207f072b0c92312">PPCRegisterInfo::lowerVRSAVERestore</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                         <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;       <span class="comment">// ; &lt;DestReg&gt; = RESTORE_VRSAVE &lt;offset&gt;</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(GPRC);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordtype">unsigned</span> DestReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  assert(MI.<a class="code" href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">definesRegister</a>(DestReg) &amp;&amp;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="stringliteral">&quot;RESTORE_VRSAVE does not define its destination&quot;</span>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">addFrameReference</a>(<a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::LWZ),</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                              <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>), FrameIndex);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(PPC::MTVRSAVEv), DestReg)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;             .addReg(Reg, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// Discard the pseudo instruction.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">erase</a>(II);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="keywordtype">bool</span></div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a38a718cd63711e048b4208d92eae69ab">  507</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a38a718cd63711e048b4208d92eae69ab">PPCRegisterInfo::hasReservedSpillSlot</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;              <span class="keywordtype">unsigned</span> <a class="code" href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a>, <span class="keywordtype">int</span> &amp;FrameIdx)<span class="keyword"> const </span>{</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// For the nonvolatile condition registers (CR2, CR3, CR4) in an SVR4</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// ABI, return true to prevent allocating an additional frame slot.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// For 64-bit, the CR save area is at SP+8; the value of FrameIdx = 0</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// is arbitrary and will be subsequently ignored.  For 32-bit, we have</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// previously created the stack slot if needed, so return its FrameIdx.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">isSVR4ABI</a>() &amp;&amp; PPC::CR2 &lt;= Reg &amp;&amp; Reg &lt;= PPC::CR4) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      FrameIdx = 0;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      FrameIdx = FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#aa2a3b758039ec4077ab1f93470163d67">getCRSpillFrameIndex</a>();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">// Figure out if the offset in the instruction must be a multiple of 4.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">// This is true for instructions like &quot;STD&quot;.</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="PPCRegisterInfo_8cpp.html#a6a85b2ced9b654f823c162320d451150">  529</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PPCRegisterInfo_8cpp.html#a6a85b2ced9b654f823c162320d451150">usesIXAddr</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>) {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordtype">unsigned</span> OpC = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">switch</span> (OpC) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">case</span> PPC::LWA:</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> PPC::LWA_32:</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">PPC::LD</a>:</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">case</span> PPC::STD:</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">// Return the OffsetOperandNo given the FIOperandNum (and the instruction).</span></div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">  544</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">getOffsetONFromFION</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                    <span class="keywordtype">unsigned</span> FIOperandNum) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// Take into account whether it&#39;s an add or mem instruction</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">unsigned</span> OffsetOperandNo = (FIOperandNum == 2) ? 1 : 2;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span> (MI.<a class="code" href="classllvm_1_1MachineInstr.html#acd9af7d3f8a155c4356edccbc0522c8e">isInlineAsm</a>())</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    OffsetOperandNo = FIOperandNum-1;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">return</span> OffsetOperandNo;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#abaffc47cf2c2e4278bf137c694426b5e">  555</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#abaffc47cf2c2e4278bf137c694426b5e">PPCRegisterInfo::eliminateFrameIndex</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> II,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                     <span class="keywordtype">int</span> SPAdj, <span class="keywordtype">unsigned</span> FIOperandNum,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                     <a class="code" href="classllvm_1_1RegScavenger.html">RegScavenger</a> *RS)<span class="keyword"> const </span>{</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  assert(SPAdj == 0 &amp;&amp; <span class="stringliteral">&quot;Unexpected&quot;</span>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// Get the instruction.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *II;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Get the instruction&#39;s basic block.</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI.<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// Get the basic block&#39;s function.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// Get the instruction info.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Get the frame info.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> dl = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">getDebugLoc</a>();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordtype">unsigned</span> OffsetOperandNo = <a class="code" href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">getOffsetONFromFION</a>(MI, FIOperandNum);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// Get the frame index.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">FrameIndex</a> = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">getIndex</a>();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// Get the frame pointer save index.  Users of this index are primarily</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// DYNALLOC instructions.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a> *FI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">getInfo</a>&lt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html">PPCFunctionInfo</a>&gt;();</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">int</span> FPSI = FI-&gt;<a class="code" href="classllvm_1_1PPCFunctionInfo.html#a0071b1186435b05bd312b95e5d09a50b">getFramePointerSaveIndex</a>();</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Get the instruction opcode.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordtype">unsigned</span> OpC = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  </div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// Special case for dynamic alloca.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span> (FPSI &amp;&amp; FrameIndex == FPSI &amp;&amp;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      (OpC == <a class="code" href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54">PPC::DYNALLOC</a> || OpC == PPC::DYNALLOC8)) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#aa5f6261df90e69ab2f3bb40530686639">lowerDynamicAlloc</a>(II);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// Special case for pseudo-ops SPILL_CR and RESTORE_CR, etc.</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">if</span> (OpC == PPC::SPILL_CR) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a6e4dbd3363d953b582f539ae32552302">lowerCRSpilling</a>(II, FrameIndex);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC == PPC::RESTORE_CR) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a59ef2bbd23f611442e7527330196ab4e">lowerCRRestore</a>(II, FrameIndex);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC == PPC::SPILL_VRSAVE) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a1aab38bf57be3d4259d90044441a27a6">lowerVRSAVESpilling</a>(II, FrameIndex);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC == PPC::RESTORE_VRSAVE) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classllvm_1_1PPCRegisterInfo.html#adf5a8daa38aa690c5207f072b0c92312">lowerVRSAVERestore</a>(II, FrameIndex);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">// Replace the FrameIndex with base register with GPR1 (SP) or GPR31 (FP).</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    FrameIndex &lt; 0 ? <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a1b0283d9242716fb53e448456ac85a85">getBaseRegister</a>(MF) : <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a49fada5ca633d94af9c4a5985560576b">getFrameRegister</a>(MF), <span class="keyword">false</span>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="comment">// Figure out if the offset in the instruction is shifted right two bits.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordtype">bool</span> isIXAddr = <a class="code" href="PPCRegisterInfo_8cpp.html#a6a85b2ced9b654f823c162320d451150">usesIXAddr</a>(MI);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// If the instruction is not present in ImmToIdxMap, then it has no immediate</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// form (and must be r+r).</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordtype">bool</span> noImmForm = !MI.<a class="code" href="classllvm_1_1MachineInstr.html#acd9af7d3f8a155c4356edccbc0522c8e">isInlineAsm</a>() &amp;&amp; !ImmToIdxMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(OpC);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// Now add the frame object offset to the offset from r1.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordtype">int</span> Offset = MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">getObjectOffset</a>(FrameIndex);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OffsetOperandNo).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// If we&#39;re not using a Frame Pointer that has been set to the value of the</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// SP before having the stack size subtracted from it, then add the stack size</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// to Offset to get the correct offset.</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// Naked functions have stack size 0, although getStackSize may not reflect that</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// because we didn&#39;t call all the pieces that compute it for naked functions.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (!MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        hasAttribute(AttributeSet::FunctionIndex, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">Attribute::Naked</a>)) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">hasBasePointer</a>(MF) &amp;&amp; FrameIndex &lt; 0))</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      Offset += MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">getStackSize</a>();</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// If we can, encode the offset directly into the instruction.  If this is a</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// normal PPC &quot;ri&quot; instruction, any 16-bit value can be safely encoded.  If</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// this is a PPC64 &quot;ix&quot; instruction, only a 16-bit value with the low two bits</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// clear can be encoded.  This is extremely uncommon, because normally you</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// only &quot;std&quot; to a stack slot that is at least 4-byte aligned, but it can</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// happen in invalid code.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  assert(OpC != <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">PPC::DBG_VALUE</a> &amp;&amp;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         <span class="stringliteral">&quot;This should be handle in a target independent way&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (!noImmForm &amp;&amp; <a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Offset) &amp;&amp; (!isIXAddr || (Offset &amp; 3) == 0)) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OffsetOperandNo).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(Offset);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// The offset doesn&#39;t fit into a single register, scavenge one to build the</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// offset in.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordtype">bool</span> is64Bit = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *G8RC = &amp;PPC::G8RCRegClass;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *GPRC = &amp;PPC::GPRCRegClass;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *RC = is64Bit ? G8RC : GPRC;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordtype">unsigned</span> SRegHi = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC),</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;           SReg = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>().<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">createVirtualRegister</a>(RC);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// Insert a set of rA with the full offset value before the ld, st, or add</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64Bit ? PPC::LIS8 : PPC::LIS), SRegHi)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    .addImm(Offset &gt;&gt; 16);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(MBB, II, dl, TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(is64Bit ? PPC::ORI8 : PPC::ORI), SReg)</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    .addReg(SRegHi, <a class="code" href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">RegState::Kill</a>)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Offset);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="comment">// Convert into indexed form of the instruction:</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="comment">// </span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="comment">//   sth 0:rA, 1:imm 2:(rB) ==&gt; sthx 0:rA, 2:rB, 1:r0</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="comment">//   addi 0:rA 1:rB, 2, imm ==&gt; add 0:rA, 1:rB, 2:r0</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordtype">unsigned</span> OperandBase;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (noImmForm)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    OperandBase = 1;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OpC != <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae48b49a3b740bb9162f647640fd19c21">TargetOpcode::INLINEASM</a>) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    assert(ImmToIdxMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(OpC) &amp;&amp;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;           <span class="stringliteral">&quot;No indexed form of load or store available!&quot;</span>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordtype">unsigned</span> NewOpcode = ImmToIdxMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">find</a>(OpC)-&gt;second;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    MI.<a class="code" href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">setDesc</a>(TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(NewOpcode));</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    OperandBase = 1;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    OperandBase = OffsetOperandNo;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordtype">unsigned</span> StackReg = MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">getReg</a>();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperandBase).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(StackReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OperandBase + 1).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(SReg, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a49fada5ca633d94af9c4a5985560576b">  685</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a49fada5ca633d94af9c4a5985560576b">PPCRegisterInfo::getFrameRegister</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetFrameLowering.html">TargetFrameLowering</a> *TFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>();</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>())</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">hasFP</a>(MF) ? PPC::R31 : PPC::R1;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">return</span> TFI-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">hasFP</a>(MF) ? PPC::X31 : PPC::X1;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a1b0283d9242716fb53e448456ac85a85">  694</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a1b0283d9242716fb53e448456ac85a85">PPCRegisterInfo::getBaseRegister</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">hasBasePointer</a>(MF))</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a49fada5ca633d94af9c4a5985560576b">getFrameRegister</a>(MF);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? PPC::X30 : PPC::R30;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">  701</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">PPCRegisterInfo::hasBasePointer</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="PPCRegisterInfo_8cpp.html#aad6afecfdd07d9f99a0e1ff057a057c0">EnableBasePointer</a>)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="PPCRegisterInfo_8cpp.html#ae02fdd16b4ab7a47d9d31256808ee89f">AlwaysBasePointer</a>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// If we need to realign the stack, then the stack pointer can no longer</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// serve as an offset into the caller&#39;s stack space. As a result, we need a</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// base pointer.</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a2dac79c3c520e85dad6f4196a691ec0e">needsStackRealignment</a>(MF);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#aadefd020970f80d60e9076e110c5fc00">  713</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#aadefd020970f80d60e9076e110c5fc00">PPCRegisterInfo::canRealignStack</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">hasFnAttribute</a>(<span class="stringliteral">&quot;no-realign-stack&quot;</span>))</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a2dac79c3c520e85dad6f4196a691ec0e">  720</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a2dac79c3c520e85dad6f4196a691ec0e">PPCRegisterInfo::needsStackRealignment</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF)<span class="keyword"> const </span>{</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFrameInfo.html">MachineFrameInfo</a> *MFI = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">getFrameInfo</a>();</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">getFunction</a>();</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordtype">unsigned</span> StackAlign = MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>()-&gt;<a class="code" href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">getStackAlignment</a>();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">bool</span> requiresRealignment =</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    ((MFI-&gt;<a class="code" href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">getMaxAlignment</a>() &gt; StackAlign) ||</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;     F-&gt;<a class="code" href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">getAttributes</a>().<a class="code" href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">hasAttribute</a>(AttributeSet::FunctionIndex,</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                                     <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae4294b4feb8a782cf78df5da0f992f33">Attribute::StackAlignment</a>));</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">return</span> requiresRealignment &amp;&amp; <a class="code" href="classllvm_1_1PPCRegisterInfo.html#aadefd020970f80d60e9076e110c5fc00">canRealignStack</a>(MF);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">/// Returns true if the instruction&#39;s frame index</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">/// reference would be better served by a base register other than FP</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/// or SP. Used by LocalStackFrameAllocation to determine which frame index</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/// references it should create new base registers for.</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#ae1ca2322fc165f0e4a194e390000d293">PPCRegisterInfo::</a></div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#ae1ca2322fc165f0e4a194e390000d293">  737</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#ae1ca2322fc165f0e4a194e390000d293">needsFrameBaseReg</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>, int64_t Offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  assert(Offset &lt; 0 &amp;&amp; <span class="stringliteral">&quot;Local offset must be negative&quot;</span>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordtype">unsigned</span> FIOperandNum = 0;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">while</span> (!MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>()) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    ++FIOperandNum;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    assert(FIOperandNum &lt; MI-&gt;getNumOperands() &amp;&amp;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;           <span class="stringliteral">&quot;Instr doesn&#39;t have FrameIndex operand!&quot;</span>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordtype">unsigned</span> OffsetOperandNo = <a class="code" href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">getOffsetONFromFION</a>(*MI, FIOperandNum);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  Offset += MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OffsetOperandNo).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// It&#39;s the load/store FI references that cause issues, as it can be difficult</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// to materialize the offset if it won&#39;t fit in the literal field. Estimate</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// based on the size of the local frame and some conservative assumptions</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">// about the rest of the stack frame (note, this is pre-regalloc, so</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// we don&#39;t know everything for certain yet) whether this offset is likely</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// to be out of range of the immediate. Return true if so.</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// We only generate virtual base registers for loads and stores that have</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// an r+i form. Return false for everything else.</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordtype">unsigned</span> OpC = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>();</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (!ImmToIdxMap.<a class="code" href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">count</a>(OpC))</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="comment">// Don&#39;t generate a new virtual base register just to add zero to it.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> ((OpC == PPC::ADDI || OpC == PPC::ADDI8) &amp;&amp;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(2).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>() == 0)</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;MBB = *MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">getParent</a>();</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1PPCFrameLowering.html">PPCFrameLowering</a> *PPCFI =</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1PPCFrameLowering.html">PPCFrameLowering</a>*<span class="keyword">&gt;</span>(MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">getFrameLowering</a>());</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordtype">unsigned</span> StackEst =</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    PPCFI-&gt;<a class="code" href="classllvm_1_1PPCFrameLowering.html#a4cadcd345232522d4a0e02dc39f2dbeb">determineFrameLayout</a>(MF, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">// If we likely don&#39;t need a stack frame, then we probably don&#39;t need a</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">// virtual base register either.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordflow">if</span> (!StackEst)</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// Estimate an offset from the stack pointer.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">// The incoming offset is relating to the SP at the start of the function,</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// but when we access the local it&#39;ll be relative to the SP after local</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// allocation, so adjust our SP-relative offset by that allocation size.</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  Offset += StackEst;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// The frame pointer will point to the end of the stack, so estimate the</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="comment">// offset as the difference between the object offset and the FP location.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a915862ab25d05ae5db13113dc9ea6af8">isFrameOffsetLegal</a>(MI, Offset);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/// Insert defining instruction(s) for BaseReg to</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">/// be a pointer to FrameIdx at the beginning of the basic block.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a36d2965c4cfcb3a96af346c2f746881e">PPCRegisterInfo::</a></div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a36d2965c4cfcb3a96af346c2f746881e">  795</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a36d2965c4cfcb3a96af346c2f746881e">materializeFrameBaseRegister</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB,</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                             <span class="keywordtype">unsigned</span> BaseReg, <span class="keywordtype">int</span> FrameIdx,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                             int64_t Offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordtype">unsigned</span> ADDriOpc = Subtarget.<a class="code" href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">isPPC64</a>() ? PPC::ADDI8 : PPC::ADDI;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">Ins</a> = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="classllvm_1_1DebugLoc.html">DebugLoc</a> DL;                  <span class="comment">// Defaults to &quot;unknown&quot;</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">if</span> (Ins != MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    DL = Ins-&gt;getDebugLoc();</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = *MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a> = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">getTarget</a>().<a class="code" href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">getInstrInfo</a>();</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCInstrDesc.html">MCInstrDesc</a> &amp;MCID = TII.<a class="code" href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">get</a>(ADDriOpc);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a> = MBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  MRI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">constrainRegClass</a>(BaseReg, TII.<a class="code" href="classllvm_1_1TargetInstrInfo.html#aabf764b704ed905ec6841a8872815bff">getRegClass</a>(MCID, 0, <span class="keyword">this</span>, MF));</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">BuildMI</a>(*MBB, Ins, DL, MCID, BaseReg)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    .<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">addFrameIndex</a>(FrameIdx).<a class="code" href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">addImm</a>(Offset);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a228832a34b1571ac2a84f4a7948aab3b">  816</a></span>&#160;<a class="code" href="classllvm_1_1PPCRegisterInfo.html#a228832a34b1571ac2a84f4a7948aab3b">PPCRegisterInfo::resolveFrameIndex</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                   <span class="keywordtype">unsigned</span> BaseReg, int64_t Offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">unsigned</span> FIOperandNum = 0;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">while</span> (!MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">isFI</a>()) {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    ++FIOperandNum;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    assert(FIOperandNum &lt; MI.<a class="code" href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">getNumOperands</a>() &amp;&amp;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;           <span class="stringliteral">&quot;Instr doesn&#39;t have FrameIndex operand!&quot;</span>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(FIOperandNum).<a class="code" href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">ChangeToRegister</a>(BaseReg, <span class="keyword">false</span>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordtype">unsigned</span> OffsetOperandNo = <a class="code" href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">getOffsetONFromFION</a>(MI, FIOperandNum);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  Offset += MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OffsetOperandNo).<a class="code" href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">getImm</a>();</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  MI.<a class="code" href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">getOperand</a>(OffsetOperandNo).<a class="code" href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">ChangeToImmediate</a>(Offset);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="classllvm_1_1PPCRegisterInfo.html#a915862ab25d05ae5db13113dc9ea6af8">  833</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1PPCRegisterInfo.html#a915862ab25d05ae5db13113dc9ea6af8">PPCRegisterInfo::isFrameOffsetLegal</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">MI</a>,</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                                         int64_t Offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">return</span> MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">getOpcode</a>() == <a class="code" href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">PPC::DBG_VALUE</a> || <span class="comment">// DBG_VALUE is always Reg+Imm</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;         (<a class="code" href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">isInt&lt;16&gt;</a>(Offset) &amp;&amp; (!<a class="code" href="PPCRegisterInfo_8cpp.html#a6a85b2ced9b654f823c162320d451150">usesIXAddr</a>(*MI) || (Offset &amp; 3) == 0));</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="ttc" id="X86ISelDAGToDAG_8cpp_html_afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f"><div class="ttname"><a href="X86ISelDAGToDAG_8cpp.html#afc4e10b4f2ab2d548ab80b30f3b712e9a865555c9f2e0458a7078486aa1b3254f">AND</a></div><div class="ttdef"><b>Definition:</b> <a href="X86ISelDAGToDAG_8cpp_source.html#l01588">X86ISelDAGToDAG.cpp:1588</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html_a360555ed6db3b28a33fa5449a0335f19"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a360555ed6db3b28a33fa5449a0335f19">llvm::TargetFrameLowering::getStackAlignment</a></div><div class="ttdeci">unsigned getStackAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00070">TargetFrameLowering.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_af2e482ff2a9253ec6bc2285491496bd6"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af2e482ff2a9253ec6bc2285491496bd6">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00137">MachineBasicBlock.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html_a1964207fae81f04966b2a9dcfc21cf7b"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">llvm::BitVector::set</a></div><div class="ttdeci">BitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00236">BitVector.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_a537a9265c55392ab47d44954f27db538"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a537a9265c55392ab47d44954f27db538">llvm::MachineBasicBlock::erase</a></div><div class="ttdeci">instr_iterator erase(instr_iterator I)</div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60eae4294b4feb8a782cf78df5da0f992f33"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60eae4294b4feb8a782cf78df5da0f992f33">llvm::Attribute::StackAlignment</a></div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00098">Attributes.h:98</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7db02b21d284294b8d9369803fe1c13b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7db02b21d284294b8d9369803fe1c13b">llvm::MachineOperand::ChangeToRegister</a></div><div class="ttdeci">void ChangeToRegister(unsigned Reg, bool isDef, bool isImp=false, bool isKill=false, bool isDead=false, bool isUndef=false, bool isDebug=false)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00129">MachineInstr.cpp:129</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00075">MachineFunction.h:75</a></div></div>
<div class="ttc" id="Type_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="CallingConv_8h_html"><div class="ttname"><a href="CallingConv_8h.html">CallingConv.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a27ef3d0113fbcca318c3ed2a86116932"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a27ef3d0113fbcca318c3ed2a86116932">llvm::PPCSubtarget::isDarwinABI</a></div><div class="ttdeci">bool isDarwinABI() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00208">PPCSubtarget.h:208</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_abaffc47cf2c2e4278bf137c694426b5e"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#abaffc47cf2c2e4278bf137c694426b5e">llvm::PPCRegisterInfo::eliminateFrameIndex</a></div><div class="ttdeci">void eliminateFrameIndex(MachineBasicBlock::iterator II, int SPAdj, unsigned FIOperandNum, RegScavenger *RS=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00555">PPCRegisterInfo.cpp:555</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a76c3c7e3d4f11b4cfad37fc0449c9635"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a76c3c7e3d4f11b4cfad37fc0449c9635">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">unsigned createVirtualRegister(const TargetRegisterClass *RegClass)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00104">MachineRegisterInfo.cpp:104</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a36d2965c4cfcb3a96af346c2f746881e"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a36d2965c4cfcb3a96af346c2f746881e">llvm::PPCRegisterInfo::materializeFrameBaseRegister</a></div><div class="ttdeci">void materializeFrameBaseRegister(MachineBasicBlock *MBB, unsigned BaseReg, int FrameIdx, int64_t Offset) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00795">PPCRegisterInfo.cpp:795</a></div></div>
<div class="ttc" id="classllvm_1_1RegScavenger_html"><div class="ttname"><a href="classllvm_1_1RegScavenger.html">llvm::RegScavenger</a></div><div class="ttdef"><b>Definition:</b> <a href="RegisterScavenging_8h_source.html#l00031">RegisterScavenging.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a26f1a5d230abf644526c1816276a67fa"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a26f1a5d230abf644526c1816276a67fa">llvm::PPCRegisterInfo::getCallPreservedMask</a></div><div class="ttdeci">const uint32_t * getCallPreservedMask(CallingConv::ID CC) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00119">PPCRegisterInfo.cpp:119</a></div></div>
<div class="ttc" id="namespacellvm_1_1RegState_html_a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#a079b254e749130fbe5d740f314ca92daa9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00033">MachineInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrDesc_html"><div class="ttname"><a href="classllvm_1_1MCInstrDesc.html">llvm::MCInstrDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00137">MCInstrDesc.h:137</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1MipsISD_html_a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a7a7035feda1dc16252a7a15a7e230122ad5006873d15f9569d1cf09deef3c6363">llvm::MipsISD::Ins</a></div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00105">MipsISelLowering.h:105</a></div></div>
<div class="ttc" id="Target_2TargetMachine_8h_html"><div class="ttname"><a href="Target_2TargetMachine_8h.html">TargetMachine.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_a25f9ba8e78af92ca34f9c1bba7881601"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a25f9ba8e78af92ca34f9c1bba7881601">llvm::TargetRegisterClass::getID</a></div><div class="ttdeci">unsigned getID() const </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00053">TargetRegisterInfo.h:53</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a33706aab89e700b8f79e1fa6f4f0e3ee"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a33706aab89e700b8f79e1fa6f4f0e3ee">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path)</div><div class="ttdoc">Get begin iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00173">Path.cpp:173</a></div></div>
<div class="ttc" id="classllvm_1_1DebugLoc_html"><div class="ttname"><a href="classllvm_1_1DebugLoc.html">llvm::DebugLoc</a></div><div class="ttdef"><b>Definition:</b> <a href="DebugLoc_8h_source.html#l00028">DebugLoc.h:28</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_a33ece1ef8074506a15d7f86eb76dbae6"><div class="ttname"><a href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F</a></div><div class="ttdeci">F(f)</div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ad784a6594990530bffb2018aeeed56f3"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad784a6594990530bffb2018aeeed56f3">llvm::MachineFunction::getFunction</a></div><div class="ttdeci">const Function * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00151">MachineFunction.h:151</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00070">Function.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_adf5a8daa38aa690c5207f072b0c92312"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#adf5a8daa38aa690c5207f072b0c92312">llvm::PPCRegisterInfo::lowerVRSAVERestore</a></div><div class="ttdeci">void lowerVRSAVERestore(MachineBasicBlock::iterator II, unsigned FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00480">PPCRegisterInfo.cpp:480</a></div></div>
<div class="ttc" id="MathExtras_8h_html_a9211f62d8e1e6de999eaa63ec0f6ae02"><div class="ttname"><a href="MathExtras_8h.html#a9211f62d8e1e6de999eaa63ec0f6ae02">R2</a></div><div class="ttdeci">#define R2(n)</div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a2dac79c3c520e85dad6f4196a691ec0e"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a2dac79c3c520e85dad6f4196a691ec0e">llvm::PPCRegisterInfo::needsStackRealignment</a></div><div class="ttdeci">bool needsStackRealignment(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00720">PPCRegisterInfo.cpp:720</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00238">MachineBasicBlock.h:238</a></div></div>
<div class="ttc" id="classllvm_1_1AttributeSet_html_a54abbe67d4a53c92652f1666dc19281f"><div class="ttname"><a href="classllvm_1_1AttributeSet.html#a54abbe67d4a53c92652f1666dc19281f">llvm::AttributeSet::hasAttribute</a></div><div class="ttdeci">bool hasAttribute(unsigned Index, Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the attribute exists at the given index. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8cpp_source.html#l00818">Attributes.cpp:818</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_a5919eff14f47c663b6dcf33f32777b21"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#a5919eff14f47c663b6dcf33f32777b21">llvm::TargetRegisterClass::iterator</a></div><div class="ttdeci">const MCPhysReg * iterator</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00038">TargetRegisterInfo.h:38</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_a48acc37c623a6d5e12a3a262077ffe35"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#a48acc37c623a6d5e12a3a262077ffe35">llvm::PPCSubtarget::hasAltivec</a></div><div class="ttdeci">bool hasAltivec() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00189">PPCSubtarget.h:189</a></div></div>
<div class="ttc" id="classllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea8e13906a502f0a86ae2e2d8142fae055">llvm::Attribute::Naked</a></div><div class="ttdoc">Naked function. </div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00078">Attributes.h:78</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#a1add7850fad3f66c140ecee871460ea4ae9d798593a4a6b5cc48486a453a59e5e">llvm::ARM_PROC::IE</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00091">ARMBaseInfo.h:91</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00109">CommandLine.h:109</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a0af0a11b8eda54e79422c199cb687f5c"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a0af0a11b8eda54e79422c199cb687f5c">llvm::MachineFrameInfo::getMaxAlignment</a></div><div class="ttdeci">unsigned getMaxAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00438">MachineFrameInfo.h:438</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a34874094b3ba8b56fd68801250f77183"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a34874094b3ba8b56fd68801250f77183">llvm::MachineFrameInfo::getStackSize</a></div><div class="ttdeci">uint64_t getStackSize() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00417">MachineFrameInfo.h:417</a></div></div>
<div class="ttc" id="X86DisassemblerDecoder_8h_html_a546839a5c4bcf9f9450967155f48de41"><div class="ttname"><a href="X86DisassemblerDecoder_8h.html#a546839a5c4bcf9f9450967155f48de41">Reg</a></div><div class="ttdeci">Reg</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00428">X86DisassemblerDecoder.h:428</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a853716015b99747c10b31bfb4241df91"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a853716015b99747c10b31bfb4241df91">PPC</a></div><div class="ttdeci">should just be implemented with a CLZ instruction Since there are other e PPC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00709">Target/ARM/README.txt:709</a></div></div>
<div class="ttc" id="MachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1NVPTX_1_1PTXCvtMode_html_ad81eb7557182862503894d8bc5e8328fab649a92948d9ef9d051acb0681fea44a"><div class="ttname"><a href="namespacellvm_1_1NVPTX_1_1PTXCvtMode.html#ad81eb7557182862503894d8bc5e8328fab649a92948d9ef9d051acb0681fea44a">llvm::NVPTX::PTXCvtMode::RM</a></div><div class="ttdef"><b>Definition:</b> <a href="NVPTX_8h_source.html#l00142">NVPTX.h:142</a></div></div>
<div class="ttc" id="PPCMachineFunctionInfo_8h_html"><div class="ttname"><a href="PPCMachineFunctionInfo_8h.html">PPCMachineFunctionInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html">llvm::PPCFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00023">PPCMachineFunctionInfo.h:23</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00115">HexagonCopyToCombine.cpp:115</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html_a59182730437bdb0a45a274261a7ea84b"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html#a59182730437bdb0a45a274261a7ea84b">llvm::TargetFrameLowering::hasFP</a></div><div class="ttdeci">virtual bool hasFP(const MachineFunction &amp;MF) const =0</div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a38a718cd63711e048b4208d92eae69ab"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a38a718cd63711e048b4208d92eae69ab">llvm::PPCRegisterInfo::hasReservedSpillSlot</a></div><div class="ttdeci">bool hasReservedSpillSlot(const MachineFunction &amp;MF, unsigned Reg, int &amp;FrameIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00507">PPCRegisterInfo.cpp:507</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a49fada5ca633d94af9c4a5985560576b"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a49fada5ca633d94af9c4a5985560576b">llvm::PPCRegisterInfo::getFrameRegister</a></div><div class="ttdeci">unsigned getFrameRegister(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00685">PPCRegisterInfo.cpp:685</a></div></div>
<div class="ttc" id="MachineFrameInfo_8h_html"><div class="ttname"><a href="MachineFrameInfo_8h.html">MachineFrameInfo.h</a></div></div>
<div class="ttc" id="PPCRegisterInfo_8cpp_html_a700ef849e7af4576b5355d0505cc694c"><div class="ttname"><a href="PPCRegisterInfo_8cpp.html#a700ef849e7af4576b5355d0505cc694c">getOffsetONFromFION</a></div><div class="ttdeci">static unsigned getOffsetONFromFION(const MachineInstr &amp;MI, unsigned FIOperandNum)</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00544">PPCRegisterInfo.cpp:544</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00036">TargetRegisterInfo.h:36</a></div></div>
<div class="ttc" id="STLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="BitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html">llvm::MachineFrameInfo</a></div><div class="ttdoc">Abstract Stack Frame Information. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00080">MachineFrameInfo.h:80</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a963c5f591e7ab574fec0dc740539602a"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a963c5f591e7ab574fec0dc740539602a">llvm::PPCRegisterInfo::getReservedRegs</a></div><div class="ttdeci">BitVector getReservedRegs(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00141">PPCRegisterInfo.cpp:141</a></div></div>
<div class="ttc" id="namespacellvm_1_1CallingConv_html_a4f861731fc6dbfdccc05af5968d98974"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a4f861731fc6dbfdccc05af5968d98974">llvm::CallingConv::ID</a></div><div class="ttdeci">ID</div><div class="ttdoc">LLVM Calling Convention Representation. </div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00026">CallingConv.h:26</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a9f1fae6a5dbb6e378ca85df1fded8515"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a9f1fae6a5dbb6e378ca85df1fded8515">llvm::MachineInstrBuilder::addImm</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addImm(int64_t Val) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00083">MachineInstrBuilder.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a7b5fe96d88954efc855e6c466207e535"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a7b5fe96d88954efc855e6c466207e535">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00265">MachineInstr.h:265</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_ae1ca2322fc165f0e4a194e390000d293"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#ae1ca2322fc165f0e4a194e390000d293">llvm::PPCRegisterInfo::needsFrameBaseReg</a></div><div class="ttdeci">bool needsFrameBaseReg(MachineInstr *MI, int64_t Offset) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00737">PPCRegisterInfo.cpp:737</a></div></div>
<div class="ttc" id="PPC_8h_html"><div class="ttname"><a href="PPC_8h.html">PPC.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa21b508be8c212bdb0b28d734ab0ddb8"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa21b508be8c212bdb0b28d734ab0ddb8">llvm::MachineOperand::isKill</a></div><div class="ttdeci">bool isKill() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00289">MachineOperand.h:289</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a19a1a901f757893c5ddac81e3ce867dc"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a19a1a901f757893c5ddac81e3ce867dc">llvm::MachineInstr::definesRegister</a></div><div class="ttdeci">bool definesRegister(unsigned Reg, const TargetRegisterInfo *TRI=NULL) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00753">MachineInstr.h:753</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab0d5ec413fa43a1e470dafb6cafda9b5"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab0d5ec413fa43a1e470dafb6cafda9b5">llvm::MachineOperand::isFI</a></div><div class="ttdeci">bool isFI() const </div><div class="ttdoc">isFI - Tests if this is a MO_FrameIndex operand. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00234">MachineOperand.h:234</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a242314c0ae0147d1a7ef54c9bc312616"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a242314c0ae0147d1a7ef54c9bc312616">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">int getOpcode() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00261">MachineInstr.h:261</a></div></div>
<div class="ttc" id="MachineInstrBuilder_8h_html"><div class="ttname"><a href="MachineInstrBuilder_8h.html">MachineInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a1aab38bf57be3d4259d90044441a27a6"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a1aab38bf57be3d4259d90044441a27a6">llvm::PPCRegisterInfo::lowerVRSAVESpilling</a></div><div class="ttdeci">void lowerVRSAVESpilling(MachineBasicBlock::iterator II, unsigned FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00455">PPCRegisterInfo.cpp:455</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html">llvm::PPCFrameLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8h_source.html#l00025">PPCFrameLowering.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00027">BitVector.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a59ef2bbd23f611442e7527330196ab4e"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a59ef2bbd23f611442e7527330196ab4e">llvm::PPCRegisterInfo::lowerCRRestore</a></div><div class="ttdeci">void lowerCRRestore(MachineBasicBlock::iterator II, unsigned FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00413">PPCRegisterInfo.cpp:413</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a7059d68a29d5ecfb37623ab45cdb4e8d"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a7059d68a29d5ecfb37623ab45cdb4e8d">llvm::MachineOperand::getImm</a></div><div class="ttdeci">int64_t getImm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00402">MachineOperand.h:402</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_a0071b1186435b05bd312b95e5d09a50b"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#a0071b1186435b05bd312b95e5d09a50b">llvm::PPCFunctionInfo::getFramePointerSaveIndex</a></div><div class="ttdeci">int getFramePointerSaveIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00114">PPCMachineFunctionInfo.h:114</a></div></div>
<div class="ttc" id="MathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a4312b4757ac75bf9be905acfeefd6838"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a4312b4757ac75bf9be905acfeefd6838">llvm::MachineRegisterInfo::constrainRegClass</a></div><div class="ttdeci">const TargetRegisterClass * constrainRegClass(unsigned Reg, const TargetRegisterClass *RC, unsigned MinNumRegs=0)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00052">MachineRegisterInfo.cpp:52</a></div></div>
<div class="ttc" id="namespacellvm_html_aac57d4100e9a9d02522fbd724568397d"><div class="ttname"><a href="namespacellvm.html#aac57d4100e9a9d02522fbd724568397d">llvm::getKillRegState</a></div><div class="ttdeci">unsigned getKillRegState(bool B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00389">MachineInstrBuilder.h:389</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_aa7e43fc5b201a1cc5b2b0f1f72963dd2"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#aa7e43fc5b201a1cc5b2b0f1f72963dd2">llvm::MachineOperand::ChangeToImmediate</a></div><div class="ttdeci">void ChangeToImmediate(int64_t ImmVal)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00112">MachineInstr.cpp:112</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_aabad9b72f6d20d3462efc34020d39f73"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#aabad9b72f6d20d3462efc34020d39f73">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00119">MachineInstr.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00047">TargetInstrInfo.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ac51be7ff80fe8d6ae5e8c0acb194908a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ac51be7ff80fe8d6ae5e8c0acb194908a">llvm::MachineBasicBlock::iterator</a></div><div class="ttdeci">bundle_iterator&lt; MachineInstr, instr_iterator &gt; iterator</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00212">MachineBasicBlock.h:212</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5a4916e736d6b7cc68359b39d5eb50f6db">llvm::A64DB::ST</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00178">AArch64BaseInfo.h:178</a></div></div>
<div class="ttc" id="CommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00314">CommandLine.h:314</a></div></div>
<div class="ttc" id="RegisterScavenging_8h_html"><div class="ttname"><a href="RegisterScavenging_8h.html">RegisterScavenging.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a1b0283d9242716fb53e448456ac85a85"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a1b0283d9242716fb53e448456ac85a85">llvm::PPCRegisterInfo::getBaseRegister</a></div><div class="ttdeci">unsigned getBaseRegister(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00694">PPCRegisterInfo.cpp:694</a></div></div>
<div class="ttc" id="Constants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a302e45878c6dc1714334c7ce96d56846"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a302e45878c6dc1714334c7ce96d56846">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00267">MachineInstr.h:267</a></div></div>
<div class="ttc" id="structllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00286">CommandLine.h:286</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00062">MachineBasicBlock.h:62</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ac2dc0fa143c9f2127f0501734577a0a0"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac2dc0fa143c9f2127f0501734577a0a0">llvm::MachineFunction::getInfo</a></div><div class="ttdeci">Ty * getInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00236">MachineFunction.h:236</a></div></div>
<div class="ttc" id="Target_2PowerPC_2README_8txt_html_afc7ca55ad1da67847ecd4b99ef64dc84"><div class="ttname"><a href="Target_2PowerPC_2README_8txt.html#afc7ca55ad1da67847ecd4b99ef64dc84">CC</a></div><div class="ttdeci">which only computes the address of bar double int Z void if you have a function since the bit double ate up the argument bytes for r4 and r5 The trick then would be to shuffle the argument order for functions we can internalize so that the maximum number of integers pointers get passed in regs before you see any of the fp arguments Instead of implementing it would actually probably be easier to just implement a PPC where we could do whatever we wanted to the CC</div><div class="ttdef"><b>Definition:</b> <a href="Target_2PowerPC_2README_8txt_source.html#l00247">Target/PowerPC/README.txt:247</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a737dd9745612bee8cbac57c136399287"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a737dd9745612bee8cbac57c136399287">llvm::PPCRegisterInfo::getPointerRegClass</a></div><div class="ttdeci">virtual const TargetRegisterClass * getPointerRegClass(const MachineFunction &amp;MF, unsigned Kind=0) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00085">PPCRegisterInfo.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a4efb46d4834f6f750ae0649ed89ce44c"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a4efb46d4834f6f750ae0649ed89ce44c">llvm::DenseMapBase::count</a></div><div class="ttdeci">bool count(const KeyT &amp;Val) const </div><div class="ttdoc">count - Return true if the specified key is in the map. </div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00103">DenseMap.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a228832a34b1571ac2a84f4a7948aab3b"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a228832a34b1571ac2a84f4a7948aab3b">llvm::PPCRegisterInfo::resolveFrameIndex</a></div><div class="ttdeci">void resolveFrameIndex(MachineBasicBlock::iterator I, unsigned BaseReg, int64_t Offset) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00816">PPCRegisterInfo.cpp:816</a></div></div>
<div class="ttc" id="ValueTypes_8h_html"><div class="ttname"><a href="ValueTypes_8h.html">ValueTypes.h</a></div></div>
<div class="ttc" id="namespacellvm_html_a980570dc1410d4ef53806f82028ca381"><div class="ttname"><a href="namespacellvm.html#a980570dc1410d4ef53806f82028ca381">llvm::BuildMI</a></div><div class="ttdeci">MachineInstrBuilder BuildMI(MachineFunction &amp;MF, DebugLoc DL, const MCInstrDesc &amp;MCID)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00223">MachineInstrBuilder.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_a02aa9d4cbd6ffcc70dfe1143ec0995ef"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a02aa9d4cbd6ffcc70dfe1143ec0995ef">llvm::TargetMachine::getFrameLowering</a></div><div class="ttdeci">virtual const TargetFrameLowering * getFrameLowering() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00120">Target/TargetMachine.h:120</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_ad3563d2997bf4ab88c11c3ba13dc4a3e"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#ad3563d2997bf4ab88c11c3ba13dc4a3e">llvm::PPCSubtarget::isSVR4ABI</a></div><div class="ttdeci">bool isSVR4ABI() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00209">PPCSubtarget.h:209</a></div></div>
<div class="ttc" id="classllvm_1_1MCInstrInfo_html_ab16f5a81fccfe4b7f645ba5a74ffad02"><div class="ttname"><a href="classllvm_1_1MCInstrInfo.html#ab16f5a81fccfe4b7f645ba5a74ffad02">llvm::MCInstrInfo::get</a></div><div class="ttdeci">const MCInstrDesc &amp; get(unsigned Opcode) const </div><div class="ttdef"><b>Definition:</b> <a href="MCInstrInfo_8h_source.html#l00048">MCInstrInfo.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_aefac52e417d31959e35868879aba672b"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#aefac52e417d31959e35868879aba672b">llvm::MachineFrameInfo::getObjectOffset</a></div><div class="ttdeci">int64_t getObjectOffset(int ObjectIdx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00394">MachineFrameInfo.h:394</a></div></div>
<div class="ttc" id="namespacellvm_html_ad73248c76f67b663abacff7aff17fd2c"><div class="ttname"><a href="namespacellvm.html#ad73248c76f67b663abacff7aff17fd2c">llvm::addFrameReference</a></div><div class="ttdeci">static const MachineInstrBuilder &amp; addFrameReference(const MachineInstrBuilder &amp;MIB, int FI, int Offset=0, bool mem=true)</div><div class="ttdef"><b>Definition:</b> <a href="PPCInstrBuilder_8h_source.html#l00033">PPCInstrBuilder.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_aa5f6261df90e69ab2f3bb40530686639"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#aa5f6261df90e69ab2f3bb40530686639">llvm::PPCRegisterInfo::lowerDynamicAlloc</a></div><div class="ttdeci">void lowerDynamicAlloc(MachineBasicBlock::iterator II) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00250">PPCRegisterInfo.cpp:250</a></div></div>
<div class="ttc" id="classllvm_1_1TargetMachine_html_ac13d0f6f2c915757013b101ef6e8afbc"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#ac13d0f6f2c915757013b101ef6e8afbc">llvm::TargetMachine::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00119">Target/TargetMachine.h:119</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a915862ab25d05ae5db13113dc9ea6af8"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a915862ab25d05ae5db13113dc9ea6af8">llvm::PPCRegisterInfo::isFrameOffsetLegal</a></div><div class="ttdeci">bool isFrameOffsetLegal(const MachineInstr *MI, int64_t Offset) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00833">PPCRegisterInfo.cpp:833</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a9ee6e585cddd343ffca371e763dc8965"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a9ee6e585cddd343ffca371e763dc8965">llvm::PPCRegisterInfo::getNoPreservedMask</a></div><div class="ttdeci">const uint32_t * getNoPreservedMask() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00137">PPCRegisterInfo.cpp:137</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_ad6d8d219c275e8a79f168dcdb653e4a7"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#ad6d8d219c275e8a79f168dcdb653e4a7">llvm::PPCRegisterInfo::getRegPressureLimit</a></div><div class="ttdeci">unsigned getRegPressureLimit(const TargetRegisterClass *RC, MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00215">PPCRegisterInfo.cpp:215</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1ecb35298bc4d1fe03997959e1210c87"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1ecb35298bc4d1fe03997959e1210c87">llvm::MachineInstr::setDesc</a></div><div class="ttdeci">void setDesc(const MCInstrDesc &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00984">MachineInstr.h:984</a></div></div>
<div class="ttc" id="PPCRegisterInfo_8cpp_html_ae02fdd16b4ab7a47d9d31256808ee89f"><div class="ttname"><a href="PPCRegisterInfo_8cpp.html#ae02fdd16b4ab7a47d9d31256808ee89f">AlwaysBasePointer</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; AlwaysBasePointer(&quot;ppc-always-use-base-pointer&quot;, cl::Hidden, cl::init(false), cl::desc(&quot;Force the use of a base pointer in every function&quot;))</div></div>
<div class="ttc" id="TargetOptions_8h_html"><div class="ttname"><a href="TargetOptions_8h.html">TargetOptions.h</a></div></div>
<div class="ttc" id="PPCRegisterInfo_8cpp_html_a6a85b2ced9b654f823c162320d451150"><div class="ttname"><a href="PPCRegisterInfo_8cpp.html#a6a85b2ced9b654f823c162320d451150">usesIXAddr</a></div><div class="ttdeci">static bool usesIXAddr(const MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00529">PPCRegisterInfo.cpp:529</a></div></div>
<div class="ttc" id="namespacellvm_1_1EngineKind_html_a9df47239a42cd9621ac26d9ecbd57441"><div class="ttname"><a href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">llvm::EngineKind::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00499">ExecutionEngine/ExecutionEngine.h:499</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html">llvm::PPCSubtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00060">PPCSubtarget.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_acd9af7d3f8a155c4356edccbc0522c8e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#acd9af7d3f8a155c4356edccbc0522c8e">llvm::MachineInstr::isInlineAsm</a></div><div class="ttdeci">bool isInlineAsm() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00651">MachineInstr.h:651</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFrameInfo_html_a00e048d1d905fa65ee3377d99d4f2ae3"><div class="ttname"><a href="classllvm_1_1MachineFrameInfo.html#a00e048d1d905fa65ee3377d99d4f2ae3">llvm::MachineFrameInfo::getMaxCallFrameSize</a></div><div class="ttdeci">unsigned getMaxCallFrameSize() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFrameInfo_8h_source.html#l00459">MachineFrameInfo.h:459</a></div></div>
<div class="ttc" id="classllvm_1_1TargetFrameLowering_html"><div class="ttname"><a href="classllvm_1_1TargetFrameLowering.html">llvm::TargetFrameLowering</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00033">TargetFrameLowering.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a4ad4295a88187ea1ae12ecfcfa18a70f"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a4ad4295a88187ea1ae12ecfcfa18a70f">llvm::MachineFunction::getFrameInfo</a></div><div class="ttdeci">MachineFrameInfo * getFrameInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00174">MachineFunction.h:174</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_a4cadcd345232522d4a0e02dc39f2dbeb"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#a4cadcd345232522d4a0e02dc39f2dbeb">llvm::PPCFrameLowering::determineFrameLayout</a></div><div class="ttdeci">unsigned determineFrameLayout(MachineFunction &amp;MF, bool UpdateMF=true, bool UseEstimate=false) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8cpp_source.html#l00198">PPCFrameLowering.cpp:198</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a626648c4c0b3a79d0128473f3b72b88d"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a626648c4c0b3a79d0128473f3b72b88d">llvm::MachineInstrBuilder::addFrameIndex</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addFrameIndex(int Idx) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00104">MachineInstrBuilder.h:104</a></div></div>
<div class="ttc" id="namespacellvm_1_1A64DB_html_a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e"><div class="ttname"><a href="namespacellvm_1_1A64DB.html#a6fce8157775f3ec93f326b52b0f1e0f5ad61b145eb8cbab18feb1b2e2ce269a7e">llvm::A64DB::LD</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00177">AArch64BaseInfo.h:177</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_adaf73c5c12f1f33216669755d4fa3a77"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#adaf73c5c12f1f33216669755d4fa3a77">llvm::PPCRegisterInfo::PPCRegisterInfo</a></div><div class="ttdeci">PPCRegisterInfo(const PPCSubtarget &amp;SubTarget)</div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00059">PPCRegisterInfo.cpp:59</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a72873ed64b7be01507a2248b8e756ec8"><div class="ttname"><a href="classllvm_1_1Function.html#a72873ed64b7be01507a2248b8e756ec8">llvm::Function::getAttributes</a></div><div class="ttdeci">AttributeSet getAttributes() const </div><div class="ttdoc">Return the attribute list for this Function. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00170">Function.h:170</a></div></div>
<div class="ttc" id="classllvm_1_1PPCSubtarget_html_abe67953ec410f1bbfe499c7a50b2dc8b"><div class="ttname"><a href="classllvm_1_1PPCSubtarget.html#abe67953ec410f1bbfe499c7a50b2dc8b">llvm::PPCSubtarget::isPPC64</a></div><div class="ttdeci">bool isPPC64() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCSubtarget_8h_source.html#l00154">PPCSubtarget.h:154</a></div></div>
<div class="ttc" id="namespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00062">ISDOpcodes.h:62</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a58202903ffe35789bd984f290d83e11f">llvm::PPCISD::MFOCRF</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00122">PPCISelLowering.h:122</a></div></div>
<div class="ttc" id="Function_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="PPCRegisterInfo_8h_html"><div class="ttname"><a href="PPCRegisterInfo_8h.html">PPCRegisterInfo.h</a></div></div>
<div class="ttc" id="TargetFrameLowering_8h_html"><div class="ttname"><a href="TargetFrameLowering_8h.html">TargetFrameLowering.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFrameLowering_html_a4a2d4460149d7682613fa25af1b965be"><div class="ttname"><a href="classllvm_1_1PPCFrameLowering.html#a4a2d4460149d7682613fa25af1b965be">llvm::PPCFrameLowering::needsFP</a></div><div class="ttdeci">bool needsFP(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCFrameLowering_8cpp_source.html#l00279">PPCFrameLowering.cpp:279</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00030">MachineRegisterInfo.h:30</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00050">MachineInstr.h:50</a></div></div>
<div class="ttc" id="MachineModuleInfo_8h_html"><div class="ttname"><a href="MachineModuleInfo_8h.html">MachineModuleInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01149">CommandLine.h:1149</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac9485ae7d6fedd71ad4460f72c799c98"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac9485ae7d6fedd71ad4460f72c799c98">llvm::MachineOperand::getIndex</a></div><div class="ttdeci">int getIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00422">MachineOperand.h:422</a></div></div>
<div class="ttc" id="classllvm_1_1Function_html_a603f8f8d2c9d8de6762092830cf82b13"><div class="ttname"><a href="classllvm_1_1Function.html#a603f8f8d2c9d8de6762092830cf82b13">llvm::Function::hasFnAttribute</a></div><div class="ttdeci">bool hasFnAttribute(Attribute::AttrKind Kind) const </div><div class="ttdoc">Return true if the function has the attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00200">Function.h:200</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00167">MachineFunction.h:167</a></div></div>
<div class="ttc" id="PPCSubtarget_8h_html"><div class="ttname"><a href="PPCSubtarget_8h.html">PPCSubtarget.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ad3fe1d0d0fe22d208bcd8712b2ea051a">llvm::TargetOpcode::DBG_VALUE</a></div><div class="ttdoc">DBG_VALUE - a mapping of the llvm.dbg.value intrinsic. </div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00069">TargetOpcodes.h:69</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classPPCGenRegisterInfo_html"><div class="ttname"><a href="classPPCGenRegisterInfo.html">PPCGenRegisterInfo</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a6745c3bfdfc5b0643b078b96df2db252"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a6745c3bfdfc5b0643b078b96df2db252">llvm::MachineFunction::getTarget</a></div><div class="ttdeci">const TargetMachine &amp; getTarget() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00163">MachineFunction.h:163</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00236">MachineBasicBlock.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_aadefd020970f80d60e9076e110c5fc00"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#aadefd020970f80d60e9076e110c5fc00">llvm::PPCRegisterInfo::canRealignStack</a></div><div class="ttdeci">bool canRealignStack(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00713">PPCRegisterInfo.cpp:713</a></div></div>
<div class="ttc" id="namespacellvm_html_a3b9662928ee4d58fef185abfe20e8184"><div class="ttname"><a href="namespacellvm.html#a3b9662928ee4d58fef185abfe20e8184">llvm::isInt&lt; 16 &gt;</a></div><div class="ttdeci">bool isInt&lt; 16 &gt;(int64_t x)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00272">MathExtras.h:272</a></div></div>
<div class="ttc" id="namespacellvm_1_1PPCISD_html_a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54"><div class="ttname"><a href="namespacellvm_1_1PPCISD.html#a69ad64696d1df3be05f01dfb67f5bc66a098fa0d2b0ca58b9d504edb6a164ee54">llvm::PPCISD::DYNALLOC</a></div><div class="ttdef"><b>Definition:</b> <a href="PPCISelLowering_8h_source.html#l00092">PPCISelLowering.h:92</a></div></div>
<div class="ttc" id="PPCInstrBuilder_8h_html"><div class="ttname"><a href="PPCInstrBuilder_8h.html">PPCInstrBuilder.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a6e4dbd3363d953b582f539ae32552302"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a6e4dbd3363d953b582f539ae32552302">llvm::PPCRegisterInfo::lowerCRSpilling</a></div><div class="ttdeci">void lowerCRSpilling(MachineBasicBlock::iterator II, unsigned FrameIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00369">PPCRegisterInfo.cpp:369</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ab75f703d251cc0ce0206fe00a999db86"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ab75f703d251cc0ce0206fe00a999db86">llvm::MachineOperand::getReg</a></div><div class="ttdeci">unsigned getReg() const </div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00259">MachineOperand.h:259</a></div></div>
<div class="ttc" id="PPCRegisterInfo_8cpp_html_aad6afecfdd07d9f99a0e1ff057a057c0"><div class="ttname"><a href="PPCRegisterInfo_8cpp.html#aad6afecfdd07d9f99a0e1ff057a057c0">EnableBasePointer</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableBasePointer(&quot;ppc-use-base-pointer&quot;, cl::Hidden, cl::init(true), cl::desc(&quot;Enable use of a base pointer for complex stack frames&quot;))</div></div>
<div class="ttc" id="namespacellvm_1_1A64CC_html_af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442"><div class="ttname"><a href="namespacellvm_1_1A64CC.html#af5804bc0518be9568f73db566e4d6f46a2db5e7546f960277ff98f96cd5624442">llvm::A64CC::MI</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00035">AArch64BaseInfo.h:35</a></div></div>
<div class="ttc" id="namespacellvm_1_1TargetOpcode_html_a348d4259b5fa6a8ecfe94e7ae512e1a8ae48b49a3b740bb9162f647640fd19c21"><div class="ttname"><a href="namespacellvm_1_1TargetOpcode.html#a348d4259b5fa6a8ecfe94e7ae512e1a8ae48b49a3b740bb9162f647640fd19c21">llvm::TargetOpcode::INLINEASM</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetOpcodes_8h_source.html#l00027">TargetOpcodes.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_aabf764b704ed905ec6841a8872815bff"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#aabf764b704ed905ec6841a8872815bff">llvm::TargetInstrInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(const MCInstrDesc &amp;TID, unsigned OpNum, const TargetRegisterInfo *TRI, const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8cpp_source.html#l00040">TargetInstrInfo.cpp:40</a></div></div>
<div class="ttc" id="MCModuleYAML_8cpp_html_a5e410df3f6875c5af4a7f2be284f235d"><div class="ttname"><a href="MCModuleYAML_8cpp.html#a5e410df3f6875c5af4a7f2be284f235d">MRI</a></div><div class="ttdeci">const MCRegisterInfo &amp; MRI</div><div class="ttdef"><b>Definition:</b> <a href="MCModuleYAML_8cpp_source.html#l00056">MCModuleYAML.cpp:56</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="PPCFrameLowering_8h_html"><div class="ttname"><a href="PPCFrameLowering_8h.html">PPCFrameLowering.h</a></div></div>
<div class="ttc" id="classllvm_1_1PPCFunctionInfo_html_aa2a3b758039ec4077ab1f93470163d67"><div class="ttname"><a href="classllvm_1_1PPCFunctionInfo.html#aa2a3b758039ec4077ab1f93470163d67">llvm::PPCFunctionInfo::getCRSpillFrameIndex</a></div><div class="ttdeci">int getCRSpillFrameIndex() const </div><div class="ttdef"><b>Definition:</b> <a href="PPCMachineFunctionInfo_8h_source.html#l00167">PPCMachineFunctionInfo.h:167</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMapBase_html_a21cf94357e53cd1069aba475266fdb63"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a21cf94357e53cd1069aba475266fdb63">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const KeyT &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstrBuilder_html_a5125cce72b214df09ca8f93dcbbf4c3a"><div class="ttname"><a href="classllvm_1_1MachineInstrBuilder.html#a5125cce72b214df09ca8f93dcbbf4c3a">llvm::MachineInstrBuilder::addReg</a></div><div class="ttdeci">const MachineInstrBuilder &amp; addReg(unsigned RegNo, unsigned flags=0, unsigned SubReg=0) const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00064">MachineInstrBuilder.h:64</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a4c72532fa51eb93b0f5959f263c452da"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a4c72532fa51eb93b0f5959f263c452da">llvm::PPCRegisterInfo::getCalleeSavedRegs</a></div><div class="ttdeci">const uint16_t * getCalleeSavedRegs(const MachineFunction *MF=0) const </div><div class="ttdoc">Code Generation virtual methods... </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00101">PPCRegisterInfo.cpp:101</a></div></div>
<div class="ttc" id="classllvm_1_1PPCRegisterInfo_html_a01c0538bcab82c67250f58b3b68b2f6b"><div class="ttname"><a href="classllvm_1_1PPCRegisterInfo.html#a01c0538bcab82c67250f58b3b68b2f6b">llvm::PPCRegisterInfo::hasBasePointer</a></div><div class="ttdeci">bool hasBasePointer(const MachineFunction &amp;MF) const </div><div class="ttdef"><b>Definition:</b> <a href="PPCRegisterInfo_8cpp_source.html#l00701">PPCRegisterInfo.cpp:701</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a5ca4af2a257043145ad650eafb4402f9"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a5ca4af2a257043145ad650eafb4402f9">llvm::MachineInstr::getDebugLoc</a></div><div class="ttdeci">DebugLoc getDebugLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00244">MachineInstr.h:244</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:00:50 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
