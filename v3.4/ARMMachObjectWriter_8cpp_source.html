<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: ARMMachObjectWriter.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ARMMachObjectWriter_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ARMMachObjectWriter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ARMMachObjectWriter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- ARMMachObjectWriter.cpp - ARM Mach Object Writer ------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMMCTargetDesc_8h.html">MCTargetDesc/ARMMCTargetDesc.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMBaseInfo_8h.html">MCTargetDesc/ARMBaseInfo.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ARMFixupKinds_8h.html">MCTargetDesc/ARMFixupKinds.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmLayout_8h.html">llvm/MC/MCAsmLayout.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAssembler_8h.html">llvm/MC/MCAssembler.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCExpr_8h.html">llvm/MC/MCExpr.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCFixup_8h.html">llvm/MC/MCFixup.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCFixupKindInfo_8h.html">llvm/MC/MCFixupKindInfo.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCMachOSymbolFlags_8h.html">llvm/MC/MCMachOSymbolFlags.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCMachObjectWriter_8h.html">llvm/MC/MCMachObjectWriter.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCValue_8h.html">llvm/MC/MCValue.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2MachO_8h.html">llvm/Support/MachO.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">class </span>ARMMachObjectWriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCMachObjectTargetWriter.html">MCMachObjectTargetWriter</a> {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordtype">void</span> RecordARMScatteredRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                    <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                    <span class="keywordtype">unsigned</span> Log2Size,</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                    uint64_t &amp;FixedValue);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordtype">void</span> RecordARMScatteredHalfRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup, <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                        uint64_t &amp;FixedValue);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordtype">bool</span> requiresExternRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> &amp;Fragment,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                <span class="keywordtype">unsigned</span> RelocType, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *SD,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                uint64_t FixedValue);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  ARMMachObjectWriter(<span class="keywordtype">bool</span> Is64Bit, uint32_t <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">CPUType</a>,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                      uint32_t CPUSubtype)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    : <a class="code" href="classllvm_1_1MCMachObjectTargetWriter.html">MCMachObjectTargetWriter</a>(Is64Bit, CPUType, CPUSubtype,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                               <span class="comment">/*UseAggressiveSymbolFolding=*/</span><a class="code" href="namespacetrue.html">true</a>) {}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordtype">void</span> RecordRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>, uint64_t &amp;FixedValue);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;};</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="ARMMachObjectWriter_8cpp.html#a951157333861d746f5908c6ab6ead41a">   63</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="ARMMachObjectWriter_8cpp.html#a951157333861d746f5908c6ab6ead41a">getARMFixupKindMachOInfo</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">Kind</a>, <span class="keywordtype">unsigned</span> &amp;RelocType,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                              <span class="keywordtype">unsigned</span> &amp;Log2Size) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72">MachO::ARM_RELOC_VANILLA</a>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  Log2Size = ~0U;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">switch</span> (Kind) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e">FK_Data_1</a>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(1);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7">FK_Data_2</a>:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(2);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d">FK_Data_4</a>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(4);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe">FK_Data_8</a>:</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(8);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Handle 24-bit branch kinds.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0ac8226e9dee163f040579c8cd8e5eb8c5">ARM::fixup_arm_ldst_pcrel_12</a>:</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a1eea621a676048b22be7958e8be8a714">ARM::fixup_arm_pcrel_10</a>:</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a0d7591bd8aae60a8151c5015a61f000b">ARM::fixup_arm_adr_pcrel_12</a>:</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0afbaadabc6e1f4ff4ddacc0b8ddf61872">ARM::fixup_arm_condbranch</a>:</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a1f91bda8769d2b0c0a7e9d6e813334b8">ARM::fixup_arm_uncondbranch</a>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a8b3ea0884f12a07077ecb6fd18395467">ARM::fixup_arm_uncondbl</a>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0ac101b88c74df376a53087a2a12829576">ARM::fixup_arm_condbl</a>:</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a92999538a175673cea0e806d24285585">ARM::fixup_arm_blx</a>:</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa0f9c042e43bdf5138b1cb367b81c24c4">MachO::ARM_RELOC_BR24</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Report as &#39;long&#39;, even though that is not quite accurate.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(4);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// Handle Thumb branches.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a02e738702c5e86913f9f7df2f83480b3">ARM::fixup_arm_thumb_br</a>:</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa191129bae4337ffd064cc19eeed66794">MachO::ARM_THUMB_RELOC_BR22</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(2);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a81dbbcf6c6a3e2c7c87af5dc5b9301d3">ARM::fixup_t2_uncondbranch</a>:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0adb86ef3fcfce8098efef7cb48f3ae98d">ARM::fixup_arm_thumb_bl</a>:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a78f923cec6a90c05ba09b4cf99112b93">ARM::fixup_arm_thumb_blx</a>:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa191129bae4337ffd064cc19eeed66794">MachO::ARM_THUMB_RELOC_BR22</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    Log2Size = <a class="code" href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a>(4);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// For movw/movt r_type relocations they always have a pair following them and</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// the r_length bits are used differently.  The encoding of the r_length is as</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// follows:</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">//   low bit of r_length:</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">//      0 - :lower16: for movw instructions</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">//      1 - :upper16: for movt instructions</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">//   high bit of r_length:</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">//      0 - arm instructions</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">//      1 - thumb instructions</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a551a7051fef9738a64327579574a84f1">ARM::fixup_arm_movt_hi16</a>:</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a156116fc4a5cd715d89b9b37a0f00997">ARM::fixup_arm_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    Log2Size = 1;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a3175e012a680bfa04176f1073d837f78">ARM::fixup_t2_movt_hi16</a>:</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a022297f89f22e95d829705a8301d3cb5">ARM::fixup_t2_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    Log2Size = 3;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a2b8a01780fc474ad24becf86799f112b">ARM::fixup_arm_movw_lo16</a>:</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a8e1b19d24563bdc51c05367927ec8cde">ARM::fixup_arm_movw_lo16_pcrel</a>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    Log2Size = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0af29359bd1f79d7f6aec8e2c9275f44d1">ARM::fixup_t2_movw_lo16</a>:</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0acf41663b9377539c0f95b6fa4019009d">ARM::fixup_t2_movw_lo16_pcrel</a>:</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    RelocType = unsigned(<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    Log2Size = 2;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keywordtype">void</span> ARMMachObjectWriter::</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;RecordARMScatteredHalfRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                 <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                 uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  uint32_t FixupOffset = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment)+Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">unsigned</span> IsPCRel = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">isFixupKindPCRel</a>(Asm, Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>());</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// See &lt;reloc.h&gt;.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = &amp;Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *A_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(*A);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (!A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                       <span class="stringliteral">&quot;symbol &#39;&quot;</span> + A-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">getName</a>() +</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                       <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  uint32_t <a class="code" href="classllvm_1_1Value.html">Value</a> = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(A_SD, Layout);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  uint32_t Value2 = 0;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  uint64_t SecAddr =</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  FixedValue += SecAddr;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *B_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol());</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (!B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                         <span class="stringliteral">&quot;symbol &#39;&quot;</span> + <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol().getName() +</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                         <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// Select the appropriate difference relocation type.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa7ddb841f45e7015c8cbb2694c78205d8">MachO::ARM_RELOC_HALF_SECTDIFF</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    Value2 = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(B_SD, Layout);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    FixedValue -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// Relocations are written out in reverse order, so the PAIR comes first.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// ARM_RELOC_HALF and ARM_RELOC_HALF_SECTDIFF abuse the r_length field:</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// For these two r_type relocations they always have a pair following them and</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// the r_length bits are used differently.  The encoding of the r_length is as</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// follows:</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">//   low bit of r_length:</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">//      0 - :lower16: for movw instructions</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">//      1 - :upper16: for movt instructions</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">//   high bit of r_length:</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">//      0 - arm instructions</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">//      1 - thumb instructions</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// the other half of the relocated expression is in the following pair</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// relocation entry in the low 16 bits of r_address field.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">unsigned</span> ThumbBit = 0;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">unsigned</span> MovtBit = 0;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span>)Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>()) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a551a7051fef9738a64327579574a84f1">ARM::fixup_arm_movt_hi16</a>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a156116fc4a5cd715d89b9b37a0f00997">ARM::fixup_arm_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    MovtBit = 1;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// The thumb bit shouldn&#39;t be set in the &#39;other-half&#39; bit of the</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// relocation, but it will be set in FixedValue if the base symbol</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// is a thumb function. Clear it out here.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">getFlags</a>() &amp; <a class="code" href="namespacellvm.html#aa5b2de0a812e0e161e0262bbff1aaec0a254a1f5a76b3b07c401583edc11f153b">SF_ThumbFunc</a>)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      FixedValue &amp;= 0xfffffffe;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a3175e012a680bfa04176f1073d837f78">ARM::fixup_t2_movt_hi16</a>:</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a022297f89f22e95d829705a8301d3cb5">ARM::fixup_t2_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">getFlags</a>() &amp; <a class="code" href="namespacellvm.html#aa5b2de0a812e0e161e0262bbff1aaec0a254a1f5a76b3b07c401583edc11f153b">SF_ThumbFunc</a>)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      FixedValue &amp;= 0xfffffffe;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    MovtBit = 1;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Fallthrough</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0af29359bd1f79d7f6aec8e2c9275f44d1">ARM::fixup_t2_movw_lo16</a>:</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0acf41663b9377539c0f95b6fa4019009d">ARM::fixup_t2_movw_lo16_pcrel</a>:</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    ThumbBit = 1;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span> (Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa7ddb841f45e7015c8cbb2694c78205d8">MachO::ARM_RELOC_HALF_SECTDIFF</a>) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    uint32_t OtherHalf = MovtBit</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      ? (FixedValue &amp; 0xffff) : ((FixedValue &amp; 0xffff0000) &gt;&gt; 16);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = ((OtherHalf             &lt;&lt;  0) |</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                   (<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa07e7b613f4b94b847079f1fc29db128b">MachO::ARM_RELOC_PAIR</a> &lt;&lt; 24) |</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                   (MovtBit               &lt;&lt; 28) |</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                   (ThumbBit              &lt;&lt; 29) |</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                   (IsPCRel               &lt;&lt; 30) |</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                   MachO::R_SCATTERED);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    MRE.r_word1 = Value2;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = ((FixupOffset &lt;&lt;  0) |</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                 (Type        &lt;&lt; 24) |</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                 (MovtBit     &lt;&lt; 28) |</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                 (ThumbBit    &lt;&lt; 29) |</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                 (IsPCRel     &lt;&lt; 30) |</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                 MachO::R_SCATTERED);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = Value;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keywordtype">void</span> ARMMachObjectWriter::RecordARMScatteredRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                                    <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> Target,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                                    <span class="keywordtype">unsigned</span> Log2Size,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                                    uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  uint32_t FixupOffset = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment)+Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordtype">unsigned</span> IsPCRel = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">isFixupKindPCRel</a>(Asm, Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>());</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72">MachO::ARM_RELOC_VANILLA</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// See &lt;reloc.h&gt;.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = &amp;Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *A_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(*A);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> (!A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                       <span class="stringliteral">&quot;symbol &#39;&quot;</span> + A-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">getName</a>() +</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                       <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  uint32_t <a class="code" href="classllvm_1_1Value.html">Value</a> = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(A_SD, Layout);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  uint64_t SecAddr = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(A_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  FixedValue += SecAddr;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  uint32_t Value2 = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *B_SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol());</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (!B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>())</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                         <span class="stringliteral">&quot;symbol &#39;&quot;</span> + <a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a>-&gt;getSymbol().getName() +</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                         <span class="stringliteral">&quot;&#39; can not be undefined in a subtraction expression&quot;</span>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Select the appropriate difference relocation type.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    Type = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa94f9f6152db97d1fab522c2273d9e1d1">MachO::ARM_RELOC_SECTDIFF</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    Value2 = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">getSymbolAddress</a>(B_SD, Layout);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    FixedValue -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(B_SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">getFragment</a>()-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// Relocations are written out in reverse order, so the PAIR comes first.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa94f9f6152db97d1fab522c2273d9e1d1">MachO::ARM_RELOC_SECTDIFF</a> ||</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa280d7617c91ec05b4daf2c62202dc11f">MachO::ARM_RELOC_LOCAL_SECTDIFF</a>) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = ((0                     &lt;&lt;  0) |</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                   (<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa07e7b613f4b94b847079f1fc29db128b">MachO::ARM_RELOC_PAIR</a> &lt;&lt; 24) |</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                   (Log2Size              &lt;&lt; 28) |</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                   (IsPCRel               &lt;&lt; 30) |</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                   MachO::R_SCATTERED);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = Value2;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = ((FixupOffset &lt;&lt;  0) |</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                 (Type        &lt;&lt; 24) |</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                 (Log2Size    &lt;&lt; 28) |</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                 (IsPCRel     &lt;&lt; 30) |</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                 MachO::R_SCATTERED);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = Value;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keywordtype">bool</span> ARMMachObjectWriter::requiresExternRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> &amp;Fragment,</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                                   <span class="keywordtype">unsigned</span> RelocType,</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *SD,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                                   uint64_t FixedValue) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Most cases can be identified purely from the symbol.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3870b3210f6da4796465acee4f5226bf">doesSymbolRequireExternRelocation</a>(SD))</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  int64_t <a class="code" href="classllvm_1_1Value.html">Value</a> = (int64_t)FixedValue;  <span class="comment">// The displacement is signed.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  int64_t Range;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">switch</span> (RelocType) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa0f9c042e43bdf5138b1cb367b81c24c4">MachO::ARM_RELOC_BR24</a>:</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// PC pre-adjustment of 8 for these instructions.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    Value -= 8;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// ARM BL/BLX has a 25-bit offset.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    Range = 0x1ffffff;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa191129bae4337ffd064cc19eeed66794">MachO::ARM_THUMB_RELOC_BR22</a>:</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// PC pre-adjustment of 4 for these instructions.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    Value -= 4;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// Thumb BL/BLX has a 24-bit offset.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    Range = 0xffffff;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// BL/BLX also use external relocations when an internal relocation</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// would result in the target being out of range. This gives the linker</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// enough information to generate a branch island.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> &amp;SymSD = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a01a873a1697548326ccac6d26e947af2">getSectionData</a>(</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">getSection</a>());</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  Value += Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(&amp;SymSD);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  Value -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(Fragment.<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// If the resultant value would be out of range for an internal relocation,</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// use an external instead.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span> (Value &gt; Range || Value &lt; -(Range + 1))</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keywordtype">void</span> ARMMachObjectWriter::RecordRelocation(<a class="code" href="classllvm_1_1MachObjectWriter.html">MachObjectWriter</a> *Writer,</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                           <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> Target,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                           uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">unsigned</span> IsPCRel = Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">isFixupKindPCRel</a>(Asm, Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>());</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">unsigned</span> Log2Size;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">unsigned</span> RelocType = <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72">MachO::ARM_RELOC_VANILLA</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ARMMachObjectWriter_8cpp.html#a951157333861d746f5908c6ab6ead41a">getARMFixupKindMachOInfo</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>(), RelocType, Log2Size))</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// If we failed to get fixup kind info, it&#39;s because there&#39;s no legal</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// relocation type for the fixup kind. This happens when it&#39;s a fixup that&#39;s</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// expected to always be resolvable at assembly time and not have any</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// relocations needed.</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">getContext</a>().<a class="code" href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">FatalError</a>(Fixup.<a class="code" href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">getLoc</a>(),</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                <span class="stringliteral">&quot;unsupported relocation on symbol&quot;</span>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// If this is a difference or a defined symbol plus an offset, then we need a</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// scattered relocation entry.  Differences always require scattered</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// relocations.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (RelocType == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">return</span> RecordARMScatteredHalfRelocation(Writer, Asm, Layout, Fragment,</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                              Fixup, Target, FixedValue);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> RecordARMScatteredRelocation(Writer, Asm, Layout, Fragment, Fixup,</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                        Target, Log2Size, FixedValue);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Get the symbol data, if any.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> *SD = 0;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>())</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    SD = &amp;Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>());</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// FIXME: For other platforms, we need to use scattered relocations for</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// internal relocations with offsets.  If this is an internal relocation with</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// an offset, it also needs a scattered relocation entry.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// Is this right for ARM?</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  uint32_t Offset = Target.<a class="code" href="classllvm_1_1MCValue.html#a346511f8c3557311c19317cada868bd8">getConstant</a>();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (IsPCRel &amp;&amp; RelocType == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72">MachO::ARM_RELOC_VANILLA</a>)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    Offset += 1 &lt;&lt; Log2Size;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (Offset &amp;&amp; SD &amp;&amp; !Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3870b3210f6da4796465acee4f5226bf">doesSymbolRequireExternRelocation</a>(SD))</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> RecordARMScatteredRelocation(Writer, Asm, Layout, Fragment, Fixup,</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                        Target, Log2Size, FixedValue);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// See &lt;reloc.h&gt;.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  uint32_t FixupOffset = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment)+Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordtype">unsigned</span> Index = 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordtype">unsigned</span> IsExtern = 0;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1Type.html">Type</a> = 0;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#af95b44f4eb2141bca657c80972f3bae9">isAbsolute</a>()) { <span class="comment">// constant</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// FIXME!</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;FIXME: relocations to absolute targets &quot;</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                       <span class="stringliteral">&quot;not yet implemented&quot;</span>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// Resolve constant variables.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>()) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      int64_t Res;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">if</span> (SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">getVariableValue</a>()-&gt;EvaluateAsAbsolute(</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            Res, Layout, Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#aea638fbc27fbb7cfdd8f7a7e68a5b60a">getSectionAddressMap</a>())) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        FixedValue = Res;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Check whether we need an external or internal relocation.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (requiresExternRelocation(Writer, Asm, *Fragment, RelocType, SD,</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                 FixedValue)) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      IsExtern = 1;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      Index = SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5f385bb2fe164893f230d8ff95827515">getIndex</a>();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="comment">// For external relocations, make sure to offset the fixup value to</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="comment">// compensate for the addend of the symbol address, if it was</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">// undefined. This occurs with weak definitions, for example.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordflow">if</span> (!SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#ae96be2fea7c41692f8d24481bd2ebd37">Symbol</a>-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a2260c62e12734815ad60dc038bf514f5">isUndefined</a>())</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        FixedValue -= Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">getSymbolOffset</a>(SD);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="comment">// The index is the section ordinal (1-based).</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> &amp;SymSD = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a01a873a1697548326ccac6d26e947af2">getSectionData</a>(</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        SD-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">getSection</a>());</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      Index = SymSD.<a class="code" href="classllvm_1_1MCSectionData.html#a529d2e1978e0d621feaf8cd19fa6f45d">getOrdinal</a>() + 1;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      FixedValue += Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(&amp;SymSD);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (IsPCRel)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      FixedValue -= Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">getSectionAddress</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>());</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// The type is determined by the fixup kind.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    Type = RelocType;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// struct relocation_info (8 bytes)</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MRE;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = FixupOffset;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  MRE.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = ((Index     &lt;&lt;  0) |</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                 (IsPCRel   &lt;&lt; 24) |</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                 (Log2Size  &lt;&lt; 25) |</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                 (IsExtern  &lt;&lt; 27) |</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                 (Type      &lt;&lt; 28));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// Even when it&#39;s not a scattered relocation, movw/movt always uses</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// a PAIR relocation.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (Type == <a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">MachO::ARM_RELOC_HALF</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// The other-half value only gets populated for the movt and movw</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// relocation entries.</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    uint32_t <a class="code" href="classllvm_1_1Value.html">Value</a> = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span>)Fixup.<a class="code" href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">getKind</a>()) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a2b8a01780fc474ad24becf86799f112b">ARM::fixup_arm_movw_lo16</a>:</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a8e1b19d24563bdc51c05367927ec8cde">ARM::fixup_arm_movw_lo16_pcrel</a>:</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0af29359bd1f79d7f6aec8e2c9275f44d1">ARM::fixup_t2_movw_lo16</a>:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0acf41663b9377539c0f95b6fa4019009d">ARM::fixup_t2_movw_lo16_pcrel</a>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      Value = (FixedValue &gt;&gt; 16) &amp; 0xffff;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a551a7051fef9738a64327579574a84f1">ARM::fixup_arm_movt_hi16</a>:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a156116fc4a5cd715d89b9b37a0f00997">ARM::fixup_arm_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a3175e012a680bfa04176f1073d837f78">ARM::fixup_t2_movt_hi16</a>:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a022297f89f22e95d829705a8301d3cb5">ARM::fixup_t2_movt_hi16_pcrel</a>:</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      Value = FixedValue &amp; 0xffff;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html">MachO::any_relocation_info</a> MREPair;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    MREPair.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">r_word0</a> = Value;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    MREPair.<a class="code" href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">r_word1</a> = ((0xffffff              &lt;&lt;  0) |</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                       (Log2Size              &lt;&lt; 25) |</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                       (<a class="code" href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa07e7b613f4b94b847079f1fc29db128b">MachO::ARM_RELOC_PAIR</a> &lt;&lt; 28));</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MREPair);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  Writer-&gt;<a class="code" href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">addRelocation</a>(Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>(), MRE);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="namespacellvm.html#af8e4330d6547a6be82923d4547fde8b5">  488</a></span>&#160;<a class="code" href="classllvm_1_1MCObjectWriter.html">MCObjectWriter</a> *<a class="code" href="namespacellvm.html#af8e4330d6547a6be82923d4547fde8b5">llvm::createARMMachObjectWriter</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS,</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                                <span class="keywordtype">bool</span> Is64Bit,</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                                                uint32_t <a class="code" href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">CPUType</a>,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                                uint32_t CPUSubtype) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a817d0ea46ab467585802ccb54852009b">createMachObjectWriter</a>(<span class="keyword">new</span> ARMMachObjectWriter(Is64Bit,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                                        CPUType,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                                        CPUSubtype),</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                OS, <span class="comment">/*IsLittleEndian=*/</span><span class="keyword">true</span>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="MCMachObjectWriter_8h_html"><div class="ttname"><a href="MCMachObjectWriter_8h.html">MCMachObjectWriter.h</a></div></div>
<div class="ttc" id="MCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_afba43ef04f7e89dc23859d7938820bd8"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">llvm::MCSymbolRefExpr::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00283">MCExpr.h:283</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_a18ca31ed8c975c3d94758aced7694b3e"><div class="ttname"><a href="classllvm_1_1MCFixup.html#a18ca31ed8c975c3d94758aced7694b3e">llvm::MCFixup::getLoc</a></div><div class="ttdeci">SMLoc getLoc() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00107">MCFixup.h:107</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html"><div class="ttname"><a href="classllvm_1_1MCValue.html">llvm::MCValue</a></div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00037">MCValue.h:37</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html">llvm::MachO::any_relocation_info</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00856">Support/MachO.h:856</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html"><div class="ttname"><a href="classllvm_1_1MCSymbol.html">llvm::MCSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00033">MCSymbol.h:33</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a92999538a175673cea0e806d24285585"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a92999538a175673cea0e806d24285585">llvm::ARM::fixup_arm_blx</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00079">ARMFixupKinds.h:79</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a8b3ea0884f12a07077ecb6fd18395467"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a8b3ea0884f12a07077ecb6fd18395467">llvm::ARM::fixup_arm_uncondbl</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00072">ARMFixupKinds.h:72</a></div></div>
<div class="ttc" id="MCMachOSymbolFlags_8h_html"><div class="ttname"><a href="MCMachOSymbolFlags_8h.html">MCMachOSymbolFlags.h</a></div></div>
<div class="ttc" id="MCFixupKindInfo_8h_html"><div class="ttname"><a href="MCFixupKindInfo_8h.html">MCFixupKindInfo.h</a></div></div>
<div class="ttc" id="ARMMCTargetDesc_8h_html"><div class="ttname"><a href="ARMMCTargetDesc_8h.html">ARMMCTargetDesc.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a02e738702c5e86913f9f7df2f83480b3"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a02e738702c5e86913f9f7df2f83480b3">llvm::ARM::fixup_arm_thumb_br</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00060">ARMFixupKinds.h:60</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0afbaadabc6e1f4ff4ddacc0b8ddf61872"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0afbaadabc6e1f4ff4ddacc0b8ddf61872">llvm::ARM::fixup_arm_condbranch</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00048">ARMFixupKinds.h:48</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html">llvm::MachObjectWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00082">MCMachObjectWriter.h:82</a></div></div>
<div class="ttc" id="Twine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="Support_2MachO_8h_html"><div class="ttname"><a href="Support_2MachO_8h.html">MachO.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa07e7b613f4b94b847079f1fc29db128b"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa07e7b613f4b94b847079f1fc29db128b">llvm::MachO::ARM_RELOC_PAIR</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00396">Support/MachO.h:396</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a85f602e21fbfcdc94288a8f472ec92d5"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a85f602e21fbfcdc94288a8f472ec92d5">llvm::MCAssembler::getContext</a></div><div class="ttdeci">MCContext &amp; getContext() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00992">MCAssembler.h:992</a></div></div>
<div class="ttc" id="classllvm_1_1MCObjectWriter_html"><div class="ttname"><a href="classllvm_1_1MCObjectWriter.html">llvm::MCObjectWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCObjectWriter_8h_source.html#l00039">MCObjectWriter.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html"><div class="ttname"><a href="classllvm_1_1MCAssembler.html">llvm::MCAssembler</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00807">MCAssembler.h:807</a></div></div>
<div class="ttc" id="MCAssembler_8h_html"><div class="ttname"><a href="MCAssembler_8h.html">MCAssembler.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a5182c3b7a2e987173d8199ebe41b66c8"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">llvm::MCSymbolData::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00718">MCAssembler.h:718</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47"><div class="ttname"><a href="namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47">llvm::MachO::CPUType</a></div><div class="ttdeci">CPUType</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00903">Support/MachO.h:903</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html"><div class="ttname"><a href="classllvm_1_1MCFixup.html">llvm::MCFixup</a></div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00061">MCFixup.h:61</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html_aff97edf4109298178b12aca5621bd6ec"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html#aff97edf4109298178b12aca5621bd6ec">llvm::MachO::any_relocation_info::r_word1</a></div><div class="ttdeci">uint32_t r_word1</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00857">Support/MachO.h:857</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a1f91bda8769d2b0c0a7e9d6e813334b8"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a1f91bda8769d2b0c0a7e9d6e813334b8">llvm::ARM::fixup_arm_uncondbranch</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00051">ARMFixupKinds.h:51</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0ac101b88c74df376a53087a2a12829576"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0ac101b88c74df376a53087a2a12829576">llvm::ARM::fixup_arm_condbl</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00076">ARMFixupKinds.h:76</a></div></div>
<div class="ttc" id="namespacellvm_html_aa5b2de0a812e0e161e0262bbff1aaec0a254a1f5a76b3b07c401583edc11f153b"><div class="ttname"><a href="namespacellvm.html#aa5b2de0a812e0e161e0262bbff1aaec0a254a1f5a76b3b07c401583edc11f153b">llvm::SF_ThumbFunc</a></div><div class="ttdef"><b>Definition:</b> <a href="MCMachOSymbolFlags_8h_source.html#l00037">MCMachOSymbolFlags.h:37</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a5f385bb2fe164893f230d8ff95827515"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a5f385bb2fe164893f230d8ff95827515">llvm::MCSymbolData::getIndex</a></div><div class="ttdeci">uint64_t getIndex() const </div><div class="ttdoc">getIndex - Get the (implementation defined) index. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00781">MCAssembler.h:781</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html"><div class="ttname"><a href="classllvm_1_1MCSectionData.html">llvm::MCSectionData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00544">MCAssembler.h:544</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdoc">0ffh </div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00027">MCInstPrinter.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a7605b3302f3325d1fbdac43346c1a2dd"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">llvm::MCSymbol::getSection</a></div><div class="ttdeci">const MCSection &amp; getSection() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00111">MCSymbol.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_ac8774951d96008928ab510c90bbff9e4"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#ac8774951d96008928ab510c90bbff9e4">llvm::MachObjectWriter::getSymbolAddress</a></div><div class="ttdeci">uint64_t getSymbolAddress(const MCSymbolData *SD, const MCAsmLayout &amp;Layout) const </div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00073">MachObjectWriter.cpp:73</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html">llvm::MCAsmLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAsmLayout_8h_source.html#l00029">MCAsmLayout.h:29</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a3edce2254ea42487721b42c00bbafe18"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">llvm::MCSymbol::getVariableValue</a></div><div class="ttdeci">const MCExpr * getVariableValue() const </div><div class="ttdoc">getVariableValue() - Get the value for variable symbols. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00137">MCSymbol.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html">llvm::MCSymbolRefExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00141">MCExpr.h:141</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfaf6e91ff8795152a02d4310c2debff044">llvm::MachO::ARM_RELOC_HALF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00403">Support/MachO.h:403</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a2b8a01780fc474ad24becf86799f112b"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a2b8a01780fc474ad24becf86799f112b">llvm::ARM::fixup_arm_movw_lo16</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00099">ARMFixupKinds.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a01a873a1697548326ccac6d26e947af2"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a01a873a1697548326ccac6d26e947af2">llvm::MCAssembler::getSectionData</a></div><div class="ttdeci">MCSectionData &amp; getSectionData(const MCSection &amp;Section) const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01128">MCAssembler.h:1128</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a5d58ab615cde98af13deb16dbc09f42d">llvm::FK_Data_4</a></div><div class="ttdoc">A four-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00025">MCFixup.h:25</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a0d7591bd8aae60a8151c5015a61f000b"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a0d7591bd8aae60a8151c5015a61f000b">llvm::ARM::fixup_arm_adr_pcrel_12</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00042">ARMFixupKinds.h:42</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a56f972d8aca0c842218ea5b0fd4559a8"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a56f972d8aca0c842218ea5b0fd4559a8">llvm::MachObjectWriter::isFixupKindPCRel</a></div><div class="ttdeci">bool isFixupKindPCRel(const MCAssembler &amp;Asm, unsigned Kind)</div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00060">MachObjectWriter.cpp:60</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a75a41bd19ef0b051ef7bc426e8dfb403"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a75a41bd19ef0b051ef7bc426e8dfb403">llvm::MachObjectWriter::getSectionAddress</a></div><div class="ttdeci">uint64_t getSectionAddress(const MCSectionData *SD) const </div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00137">MCMachObjectWriter.h:137</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_af95b44f4eb2141bca657c80972f3bae9"><div class="ttname"><a href="classllvm_1_1MCValue.html#af95b44f4eb2141bca657c80972f3bae9">llvm::MCValue::isAbsolute</a></div><div class="ttdeci">bool isAbsolute() const </div><div class="ttdoc">isAbsolute - Is this an absolute (as opposed to relocatable) value. </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00047">MCValue.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a14a11f14edf382edc98d246e935754fc"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a14a11f14edf382edc98d246e935754fc">llvm::MCSymbolData::getFragment</a></div><div class="ttdeci">MCFragment * getFragment() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00720">MCAssembler.h:720</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa280d7617c91ec05b4daf2c62202dc11f"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa280d7617c91ec05b4daf2c62202dc11f">llvm::MachO::ARM_RELOC_LOCAL_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00398">Support/MachO.h:398</a></div></div>
<div class="ttc" id="ARMFixupKinds_8h_html"><div class="ttname"><a href="ARMFixupKinds_8h.html">ARMFixupKinds.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html">llvm::MCSymbolData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00669">MCAssembler.h:669</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_add5cb03f27e1c84630cc1970478fcfe2"><div class="ttname"><a href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">llvm::MCFixup::getOffset</a></div><div class="ttdeci">uint32_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00090">MCFixup.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_aea638fbc27fbb7cfdd8f7a7e68a5b60a"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#aea638fbc27fbb7cfdd8f7a7e68a5b60a">llvm::MachObjectWriter::getSectionAddressMap</a></div><div class="ttdeci">SectionAddrMap &amp; getSectionAddressMap()</div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00135">MCMachObjectWriter.h:135</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html_a529d2e1978e0d621feaf8cd19fa6f45d"><div class="ttname"><a href="classllvm_1_1MCSectionData.html#a529d2e1978e0d621feaf8cd19fa6f45d">llvm::MCSectionData::getOrdinal</a></div><div class="ttdeci">unsigned getOrdinal() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00613">MCAssembler.h:613</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a8e1b19d24563bdc51c05367927ec8cde"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a8e1b19d24563bdc51c05367927ec8cde">llvm::ARM::fixup_arm_movw_lo16_pcrel</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00108">ARMFixupKinds.h:108</a></div></div>
<div class="ttc" id="structllvm_1_1MachO_1_1any__relocation__info_html_a2c1c46bbe4b0ef3065fe91d3e9ca806e"><div class="ttname"><a href="structllvm_1_1MachO_1_1any__relocation__info.html#a2c1c46bbe4b0ef3065fe91d3e9ca806e">llvm::MachO::any_relocation_info::r_word0</a></div><div class="ttdeci">uint32_t r_word0</div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00857">Support/MachO.h:857</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html_a3a2b9285a252f6b21bb34b0d6281608a"><div class="ttname"><a href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">llvm::MCFragment::getParent</a></div><div class="ttdeci">MCSectionData * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00095">MCAssembler.h:95</a></div></div>
<div class="ttc" id="classllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00044">Type.h:44</a></div></div>
<div class="ttc" id="ARMMachObjectWriter_8cpp_html_a951157333861d746f5908c6ab6ead41a"><div class="ttname"><a href="ARMMachObjectWriter_8cpp.html#a951157333861d746f5908c6ab6ead41a">getARMFixupKindMachOInfo</a></div><div class="ttdeci">static bool getARMFixupKindMachOInfo(unsigned Kind, unsigned &amp;RelocType, unsigned &amp;Log2Size)</div><div class="ttdef"><b>Definition:</b> <a href="ARMMachObjectWriter_8cpp_source.html#l00063">ARMMachObjectWriter.cpp:63</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a943509e19433ee64c3bc9754ee0e9e26"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">llvm::MCSymbolData::getFlags</a></div><div class="ttdeci">uint32_t getFlags() const </div><div class="ttdoc">getFlags - Get the (implementation defined) symbol flags. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00770">MCAssembler.h:770</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a022297f89f22e95d829705a8301d3cb5"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a022297f89f22e95d829705a8301d3cb5">llvm::ARM::fixup_t2_movt_hi16_pcrel</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00109">ARMFixupKinds.h:109</a></div></div>
<div class="ttc" id="MCExpr_8h_html"><div class="ttname"><a href="MCExpr_8h.html">MCExpr.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa0f9c042e43bdf5138b1cb367b81c24c4"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa0f9c042e43bdf5138b1cb367b81c24c4">llvm::MachO::ARM_RELOC_BR24</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00400">Support/MachO.h:400</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_ad8f4fe03a52f33f5e40be038fde9e67e"><div class="ttname"><a href="classllvm_1_1MCFixup.html#ad8f4fe03a52f33f5e40be038fde9e67e">llvm::MCFixup::getKind</a></div><div class="ttdeci">MCFixupKind getKind() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00088">MCFixup.h:88</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_aaa5d15ff3a8e1bef663102f651c212d2"><div class="ttname"><a href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">llvm::MCValue::getSymB</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymB() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00044">MCValue.h:44</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a3175e012a680bfa04176f1073d837f78"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a3175e012a680bfa04176f1073d837f78">llvm::ARM::fixup_t2_movt_hi16</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00100">ARMFixupKinds.h:100</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a4aee2a3e203379bbb0c9639d4ef31b6e">llvm::FK_Data_1</a></div><div class="ttdoc">A one-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00023">MCFixup.h:23</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a1eea621a676048b22be7958e8be8a714"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a1eea621a676048b22be7958e8be8a714">llvm::ARM::fixup_arm_pcrel_10</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00032">ARMFixupKinds.h:32</a></div></div>
<div class="ttc" id="classllvm_1_1MCContext_html_af0415bde7fddd0165e60ee1358b13985"><div class="ttname"><a href="classllvm_1_1MCContext.html#af0415bde7fddd0165e60ee1358b13985">llvm::MCContext::FatalError</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void FatalError(SMLoc L, const Twine &amp;Msg)</div><div class="ttdef"><b>Definition:</b> <a href="MCContext_8cpp_source.html#l00412">MCContext.cpp:412</a></div></div>
<div class="ttc" id="namespacellvm_html_af8e4330d6547a6be82923d4547fde8b5"><div class="ttname"><a href="namespacellvm.html#af8e4330d6547a6be82923d4547fde8b5">llvm::createARMMachObjectWriter</a></div><div class="ttdeci">MCObjectWriter * createARMMachObjectWriter(raw_ostream &amp;OS, bool Is64Bit, uint32_t CPUType, uint32_t CPUSubtype)</div><div class="ttdoc">createARMMachObjectWriter - Construct an ARM Mach-O object writer. </div><div class="ttdef"><b>Definition:</b> <a href="ARMMachObjectWriter_8cpp_source.html#l00488">ARMMachObjectWriter.cpp:488</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a1bdc5a7bf34c469f9ea35dec62e94895"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">llvm::MCAssembler::getSymbolData</a></div><div class="ttdeci">MCSymbolData &amp; getSymbolData(const MCSymbol &amp;Symbol) const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01145">MCAssembler.h:1145</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_a635fb3df602b4e40097fdb91d78302fc"><div class="ttname"><a href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">llvm::MCValue::getSymA</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymA() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00043">MCValue.h:43</a></div></div>
<div class="ttc" id="namespacellvm_1_1EngineKind_html_a9df47239a42cd9621ac26d9ecbd57441"><div class="ttname"><a href="namespacellvm_1_1EngineKind.html#a9df47239a42cd9621ac26d9ecbd57441">llvm::EngineKind::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="ExecutionEngine_2ExecutionEngine_8h_source.html#l00499">ExecutionEngine/ExecutionEngine.h:499</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa94f9f6152db97d1fab522c2273d9e1d1"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa94f9f6152db97d1fab522c2273d9e1d1">llvm::MachO::ARM_RELOC_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00397">Support/MachO.h:397</a></div></div>
<div class="ttc" id="MCAsmLayout_8h_html"><div class="ttname"><a href="MCAsmLayout_8h.html">MCAsmLayout.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0af29359bd1f79d7f6aec8e2c9275f44d1"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0af29359bd1f79d7f6aec8e2c9275f44d1">llvm::ARM::fixup_t2_movw_lo16</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00101">ARMFixupKinds.h:101</a></div></div>
<div class="ttc" id="MCValue_8h_html"><div class="ttname"><a href="MCValue_8h.html">MCValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a18d15032e8ed44a3dd0196aecdfee80a"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">llvm::MCAsmLayout::getSymbolOffset</a></div><div class="ttdeci">uint64_t getSymbolOffset(const MCSymbolData *SD) const </div><div class="ttdoc">Get the offset of the given symbol, as computed in the current layout. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00119">MCAssembler.cpp:119</a></div></div>
<div class="ttc" id="namespacellvm_html_a646986783f35e0fef8988f0f28d2589f"><div class="ttname"><a href="namespacellvm.html#a646986783f35e0fef8988f0f28d2589f">llvm::Log2_32</a></div><div class="ttdeci">unsigned Log2_32(uint32_t Value)</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00443">MathExtras.h:443</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0ac8226e9dee163f040579c8cd8e5eb8c5"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0ac8226e9dee163f040579c8cd8e5eb8c5">llvm::ARM::fixup_arm_ldst_pcrel_12</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00020">ARMFixupKinds.h:20</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a3870b3210f6da4796465acee4f5226bf"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a3870b3210f6da4796465acee4f5226bf">llvm::MachObjectWriter::doesSymbolRequireExternRelocation</a></div><div class="ttdeci">bool doesSymbolRequireExternRelocation(const MCSymbolData *SD)</div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00040">MachObjectWriter.cpp:40</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0acf41663b9377539c0f95b6fa4019009d"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0acf41663b9377539c0f95b6fa4019009d">llvm::ARM::fixup_t2_movw_lo16_pcrel</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00110">ARMFixupKinds.h:110</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a1c2e92b00e94b279e7a880a305548765"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">llvm::MCSymbol::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdoc">getName - Get the symbol name. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00070">MCSymbol.h:70</a></div></div>
<div class="ttc" id="ARMBaseInfo_8h_html"><div class="ttname"><a href="ARMBaseInfo_8h.html">ARMBaseInfo.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a156116fc4a5cd715d89b9b37a0f00997"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a156116fc4a5cd715d89b9b37a0f00997">llvm::ARM::fixup_arm_movt_hi16_pcrel</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00107">ARMFixupKinds.h:107</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a78f923cec6a90c05ba09b4cf99112b93"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a78f923cec6a90c05ba09b4cf99112b93">llvm::ARM::fixup_arm_thumb_blx</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00085">ARMFixupKinds.h:85</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a551a7051fef9738a64327579574a84f1"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a551a7051fef9738a64327579574a84f1">llvm::ARM::fixup_arm_movt_hi16</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00098">ARMFixupKinds.h:98</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58a3a9388f6478ca218e5d1996e4063c8fe">llvm::FK_Data_8</a></div><div class="ttdoc">A eight-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00026">MCFixup.h:26</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfafe908592b8ad4d11021be507dd0c2d72">llvm::MachO::ARM_RELOC_VANILLA</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00395">Support/MachO.h:395</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a55f4fc3f3ac63372b71cd525dd39f0f8"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">llvm::MCAsmLayout::getFragmentOffset</a></div><div class="ttdeci">uint64_t getFragmentOffset(const MCFragment *F) const </div><div class="ttdoc">Get the offset of the given fragment inside its containing section. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00113">MCAssembler.cpp:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0a81dbbcf6c6a3e2c7c87af5dc5b9301d3"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0a81dbbcf6c6a3e2c7c87af5dc5b9301d3">llvm::ARM::fixup_t2_uncondbranch</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00057">ARMFixupKinds.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_ac542b727bb1c9dd954198bf3906912ce"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">llvm::MCSymbol::isVariable</a></div><div class="ttdeci">bool isVariable() const </div><div class="ttdoc">isVariable - Check if this is a variable symbol. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00132">MCSymbol.h:132</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_a346511f8c3557311c19317cada868bd8"><div class="ttname"><a href="classllvm_1_1MCValue.html#a346511f8c3557311c19317cada868bd8">llvm::MCValue::getConstant</a></div><div class="ttdeci">int64_t getConstant() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00042">MCValue.h:42</a></div></div>
<div class="ttc" id="namespacetrue_html"><div class="ttname"><a href="namespacetrue.html">true</a></div><div class="ttdef"><b>Definition:</b> <a href="DominanceFrontier_8cpp_source.html#l00024">DominanceFrontier.cpp:24</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM_html_ad950a20a6062ddd7f336a9eede28bdf0adb86ef3fcfce8098efef7cb48f3ae98d"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ad950a20a6062ddd7f336a9eede28bdf0adb86ef3fcfce8098efef7cb48f3ae98d">llvm::ARM::fixup_arm_thumb_bl</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMFixupKinds_8h_source.html#l00082">ARMFixupKinds.h:82</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html"><div class="ttname"><a href="classllvm_1_1MCFragment.html">llvm::MCFragment</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00041">MCAssembler.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1MachObjectWriter_html_a3d665ca71a92c95c6194b9c854faf7b4"><div class="ttname"><a href="classllvm_1_1MachObjectWriter.html#a3d665ca71a92c95c6194b9c854faf7b4">llvm::MachObjectWriter::addRelocation</a></div><div class="ttdeci">void addRelocation(const MCSectionData *SD, MachO::any_relocation_info &amp;MRE)</div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00214">MCMachObjectWriter.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a2260c62e12734815ad60dc038bf514f5"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a2260c62e12734815ad60dc038bf514f5">llvm::MCSymbol::isUndefined</a></div><div class="ttdeci">bool isUndefined() const </div><div class="ttdoc">isUndefined - Check if this symbol undefined (i.e., implicitly defined). </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00100">MCSymbol.h:100</a></div></div>
<div class="ttc" id="classllvm_1_1MCMachObjectTargetWriter_html"><div class="ttname"><a href="classllvm_1_1MCMachObjectTargetWriter.html">llvm::MCMachObjectTargetWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCMachObjectWriter_8h_source.html#l00027">MCMachObjectWriter.h:27</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa7ddb841f45e7015c8cbb2694c78205d8"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa7ddb841f45e7015c8cbb2694c78205d8">llvm::MachO::ARM_RELOC_HALF_SECTDIFF</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00404">Support/MachO.h:404</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_ae96be2fea7c41692f8d24481bd2ebd37"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#ae96be2fea7c41692f8d24481bd2ebd37">llvm::MCSymbolData::Symbol</a></div><div class="ttdeci">const MCSymbol * Symbol</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00671">MCAssembler.h:671</a></div></div>
<div class="ttc" id="namespacellvm_1_1MachO_html_ad23021ed657c8b0f302154585b0fd3bfa191129bae4337ffd064cc19eeed66794"><div class="ttname"><a href="namespacellvm_1_1MachO.html#ad23021ed657c8b0f302154585b0fd3bfa191129bae4337ffd064cc19eeed66794">llvm::MachO::ARM_THUMB_RELOC_BR22</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2MachO_8h_source.html#l00401">Support/MachO.h:401</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="namespacellvm_html_a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7"><div class="ttname"><a href="namespacellvm.html#a84cef097f15848752272d38769011f58afe607fbae154a24e4b463cf9fd5916f7">llvm::FK_Data_2</a></div><div class="ttdoc">A two-byte fixup. </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00024">MCFixup.h:24</a></div></div>
<div class="ttc" id="namespacellvm_html_a817d0ea46ab467585802ccb54852009b"><div class="ttname"><a href="namespacellvm.html#a817d0ea46ab467585802ccb54852009b">llvm::createMachObjectWriter</a></div><div class="ttdeci">MCObjectWriter * createMachObjectWriter(MCMachObjectTargetWriter *MOTW, raw_ostream &amp;OS, bool IsLittleEndian)</div><div class="ttdoc">Construct a new Mach-O writer instance. </div><div class="ttdef"><b>Definition:</b> <a href="MachObjectWriter_8cpp_source.html#l00954">MachObjectWriter.cpp:954</a></div></div>
<div class="ttc" id="MCFixup_8h_html"><div class="ttname"><a href="MCFixup_8h.html">MCFixup.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 22:58:08 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
