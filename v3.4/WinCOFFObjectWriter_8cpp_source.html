<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="keywords" content="LLVM,Low Level Virtual Machine,C++,doxygen,API,documentation"/>
<meta name="description" content="C++ source code API documentation for LLVM."/>
<title>LLVM: WinCOFFObjectWriter.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head><body>
<p class="title">LLVM API Documentation</p>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('WinCOFFObjectWriter_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">WinCOFFObjectWriter.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="WinCOFFObjectWriter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- llvm/MC/WinCOFFObjectWriter.cpp -------------------------*- C++ -*-===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//                     The LLVM Compiler Infrastructure</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This file is distributed under the University of Illinois Open Source</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// License. See LICENSE.TXT for details.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This file contains an implementation of a Win32 COFF object file writer.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="WinCOFFObjectWriter_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   14</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;WinCOFFObjectWriter&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCWinCOFFObjectWriter_8h.html">llvm/MC/MCWinCOFFObjectWriter.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OwningPtr_8h.html">llvm/ADT/OwningPtr.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringMap_8h.html">llvm/ADT/StringMap.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAsmLayout_8h.html">llvm/MC/MCAsmLayout.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCAssembler_8h.html">llvm/MC/MCAssembler.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCContext_8h.html">llvm/MC/MCContext.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCExpr_8h.html">llvm/MC/MCExpr.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCObjectWriter_8h.html">llvm/MC/MCObjectWriter.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSection_8h.html">llvm/MC/MCSection.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSectionCOFF_8h.html">llvm/MC/MCSectionCOFF.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCSymbol_8h.html">llvm/MC/MCSymbol.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCValue_8h.html">llvm/MC/MCValue.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2COFF_8h.html">llvm/Support/COFF.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TimeValue_8h.html">llvm/Support/TimeValue.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span>{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;COFF::NameSize&gt;</a> name;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="WinCOFFObjectWriter_8cpp.html#acb3c2359a88e789b41c2d1ee02c5c7d9">   42</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="WinCOFFObjectWriter_8cpp.html#acb3c2359a88e789b41c2d1ee02c5c7d9">AuxiliaryType</a> {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  ATFunctionDefinition,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  ATbfAndefSymbol,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  ATWeakExternal,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  ATFile,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  ATSectionDefinition</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">struct </span>AuxSymbol {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="WinCOFFObjectWriter_8cpp.html#acb3c2359a88e789b41c2d1ee02c5c7d9">AuxiliaryType</a>   AuxType;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="unionllvm_1_1COFF_1_1Auxiliary.html">COFF::Auxiliary</a> Aux;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;};</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">class </span>COFFSymbol;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">class </span>COFFSection;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">class </span>COFFSymbol {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="structllvm_1_1COFF_1_1symbol.html">COFF::symbol</a> Data;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;AuxSymbol, 1&gt;</a> AuxiliarySymbols;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  name             <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">int</span>              Index;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  AuxiliarySymbols Aux;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  COFFSymbol      *Other;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  COFFSection     *<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">int</span>              Relocations;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> *<a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  COFFSymbol(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> name);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">void</span> set_name_offset(uint32_t Offset);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">bool</span> should_keep() <span class="keyword">const</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// This class contains staging data for a COFF relocation entry.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">struct </span>COFFRelocation {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="structllvm_1_1COFF_1_1relocation.html">COFF::relocation</a> Data;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  COFFSymbol          *Symb;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  COFFRelocation() : Symb(NULL) {}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>() { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946caf42dc67370019b06e0185840756d3b51">COFF::RelocationSize</a>; }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;};</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">typedef</span> std::vector&lt;COFFRelocation&gt; relocations;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">class </span>COFFSection {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="structllvm_1_1COFF_1_1section.html">COFF::section</a> Header;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  std::string          <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">int</span>                  Number;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> <span class="keyword">const</span> *<a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  COFFSymbol          *<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  relocations          Relocations;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  COFFSection(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> name);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;};</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">// This class holds the COFF string table.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">class </span>StringTable {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;size_t&gt;</a> map;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  map Map;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">void</span> update_length();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  std::vector&lt;char&gt; Data;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  StringTable();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">size_t</span> insert(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a394bf05139245f8e3ee22865dc9c1caf">String</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">class </span>WinCOFFObjectWriter : <span class="keyword">public</span> <a class="code" href="classllvm_1_1MCObjectWriter.html">MCObjectWriter</a> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">typedef</span> std::vector&lt;COFFSymbol*&gt;  symbols;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">typedef</span> std::vector&lt;COFFSection*&gt; sections;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MCSymbol  const *, COFFSymbol *&gt;</a>   symbol_map;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;MCSection const *, COFFSection *&gt;</a> section_map;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classllvm_1_1OwningPtr.html">llvm::OwningPtr&lt;MCWinCOFFObjectTargetWriter&gt;</a> TargetObjectWriter;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// Root level file contents.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="structllvm_1_1COFF_1_1header.html">COFF::header</a> Header;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  sections     Sections;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  symbols      Symbols;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  StringTable  Strings;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Maps used during object file creation.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  section_map SectionMap;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  symbol_map  SymbolMap;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  WinCOFFObjectWriter(<a class="code" href="classllvm_1_1MCWinCOFFObjectTargetWriter.html">MCWinCOFFObjectTargetWriter</a> *MOTW, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">virtual</span> ~WinCOFFObjectWriter();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  COFFSymbol *createSymbol(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  COFFSymbol *GetOrCreateCOFFSymbol(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> * <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  COFFSection *createSection(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <span class="keywordtype">object</span>_t, <span class="keyword">typename</span> list_t&gt;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  object_t *createCOFFEntity(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name, list_t &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5afef9bccea014fbcc9d61070cb7dbb5ff">List</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">void</span> DefineSection(<a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> <span class="keyword">const</span> &amp;SectionData);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">void</span> DefineSymbol(<a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> &amp;SymbolData, <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Assembler,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">void</span> MakeSymbolReal(COFFSymbol &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keywordtype">size_t</span> Index);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">void</span> MakeSectionReal(COFFSection &amp;S, <span class="keywordtype">size_t</span> Number);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">bool</span> ExportSymbol(<a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> &amp;SymbolData, <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">bool</span> IsPhysicalSection(COFFSection *S);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// Entity writing methods.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">void</span> WriteFileHeader(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1header.html">COFF::header</a> &amp;Header);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">void</span> WriteSymbol(<span class="keyword">const</span> COFFSymbol *S);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">void</span> WriteAuxiliarySymbols(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">COFFSymbol::AuxiliarySymbols</a> &amp;S);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">void</span> WriteSectionHeader(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1section.html">COFF::section</a> &amp;S);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">void</span> WriteRelocation(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1relocation.html">COFF::relocation</a> &amp;R);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// MCObjectWriter interface implementation.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordtype">void</span> ExecutePostLayoutBinding(<a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">void</span> RecordRelocation(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        uint64_t &amp;FixedValue);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">void</span> WriteObject(<a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;};</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">  184</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">write_uint32_le</a>(<span class="keywordtype">void</span> *Data, uint32_t <span class="keyword">const</span> &amp;<a class="code" href="classllvm_1_1Value.html">Value</a>) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  uint8_t *Ptr = <span class="keyword">reinterpret_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(Data);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  Ptr[0] = (Value &amp; 0x000000FF) &gt;&gt;  0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  Ptr[1] = (Value &amp; 0x0000FF00) &gt;&gt;  8;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  Ptr[2] = (Value &amp; 0x00FF0000) &gt;&gt; 16;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  Ptr[3] = (Value &amp; 0xFF000000) &gt;&gt; 24;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">// Symbol class implementation</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;COFFSymbol::COFFSymbol(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> name)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>(name.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>(), name.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>())</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  , Other(NULL)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  , <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a>(NULL)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  , Relocations(0)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  , <a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a>(NULL) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(&amp;Data, 0, <span class="keyword">sizeof</span>(Data));</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">COFFSymbol::size</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca0fe37dab543644510056ae65f6d25b53">COFF::SymbolSize</a> + (Data.NumberOfAuxSymbols * <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca0fe37dab543644510056ae65f6d25b53">COFF::SymbolSize</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// In the case that the name does not fit within 8 bytes, the offset</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// into the string table is stored in the last 4 bytes instead, leaving</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">// the first 4 bytes as 0.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keywordtype">void</span> COFFSymbol::set_name_offset(uint32_t Offset) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">write_uint32_le</a>(Data.Name + 0, 0);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">write_uint32_le</a>(Data.Name + 4, Offset);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/// logic to decide if the symbol should be reported in the symbol table</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> COFFSymbol::should_keep()<span class="keyword"> const </span>{</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// no section means its external, keep it</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a> == NULL)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// if it has relocations pointing at it, keep it</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (Relocations &gt; 0)   {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    assert(<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a>-&gt;Number != -1 &amp;&amp; <span class="stringliteral">&quot;Sections with relocations must be real!&quot;</span>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// if the section its in is being droped, drop it</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a>-&gt;Number == -1)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// if it is the section symbol, keep it</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">Section</a>-&gt;Symbol == <span class="keyword">this</span>)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// if its temporary, drop it</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a> &amp;&amp; <a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a>-&gt;getSymbol().isTemporary())</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// otherwise, keep it</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">// Section class implementation</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;COFFSection::COFFSection(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> name)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  : <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>(name)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  , <a class="code" href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">MCData</a>(NULL)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  , <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>(NULL) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(&amp;Header, 0, <span class="keyword">sizeof</span>(Header));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">COFFSection::size</a>() {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946cad6041a54e670e50494068b9840a7b657">COFF::SectionSize</a>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// StringTable class implementation</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/// Write the length of the string table into Data.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/// The length of the string table includes uint32 length header.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> StringTable::update_length() {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">write_uint32_le</a>(&amp;Data.front(), Data.size());</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;StringTable::StringTable() {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// The string table data begins with the length of the entire string table</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// including the length header. Allocate space for this header.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  Data.resize(4);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  update_length();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">StringTable::size</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">return</span> Data.size();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">/// Add String to the table iff it is not already there.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/// @returns the index into the string table where the string is now located.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span><span class="keywordtype">size_t</span> StringTable::insert(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a394bf05139245f8e3ee22865dc9c1caf">String</a>) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  map::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Map.find(String);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (i != Map.end())</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> i-&gt;second;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordtype">size_t</span> Offset = Data.size();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// Insert string data into string table.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  Data.insert(Data.end(), String.<a class="code" href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">begin</a>(), String.<a class="code" href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">end</a>());</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  Data.push_back(<span class="charliteral">&#39;\0&#39;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// Put a reference to it in the map.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  Map[<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a394bf05139245f8e3ee22865dc9c1caf">String</a>] = Offset;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// Update the internal length field.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  update_length();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">return</span> Offset;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// WinCOFFObjectWriter class implementation</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;WinCOFFObjectWriter::WinCOFFObjectWriter(<a class="code" href="classllvm_1_1MCWinCOFFObjectTargetWriter.html">MCWinCOFFObjectTargetWriter</a> *MOTW,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                         <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  : <a class="code" href="classllvm_1_1MCObjectWriter.html">MCObjectWriter</a>(OS, <span class="keyword">true</span>)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  , TargetObjectWriter(MOTW) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(&amp;Header, 0, <span class="keyword">sizeof</span>(Header));</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  Header.Machine = TargetObjectWriter-&gt;getMachine();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;WinCOFFObjectWriter::~WinCOFFObjectWriter() {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">for</span> (symbols::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Symbols.begin(), E = Symbols.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keyword">delete</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">for</span> (sections::iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = Sections.begin(), E = Sections.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != E; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">delete</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;COFFSymbol *WinCOFFObjectWriter::createSymbol(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">return</span> createCOFFEntity&lt;COFFSymbol&gt;(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, Symbols);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;COFFSymbol *WinCOFFObjectWriter::GetOrCreateCOFFSymbol(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> * <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>){</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  symbol_map::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = SymbolMap.find(Symbol);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (i != SymbolMap.end())</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> i-&gt;second;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  COFFSymbol *RetSymbol</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    = createCOFFEntity&lt;COFFSymbol&gt;(Symbol-&gt;<a class="code" href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">getName</a>(), Symbols);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  SymbolMap[<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>] = RetSymbol;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> RetSymbol;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;COFFSection *WinCOFFObjectWriter::createSection(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> createCOFFEntity&lt;COFFSection&gt;(<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a>, Sections);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/// A template used to lookup or create a symbol/section, and initialize it if</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/// needed.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> <span class="keywordtype">object</span>_t, <span class="keyword">typename</span> list_t&gt;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;object_t *WinCOFFObjectWriter::createCOFFEntity(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                                list_t &amp;<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5afef9bccea014fbcc9d61070cb7dbb5ff">List</a>) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  object_t *Object = <span class="keyword">new</span> object_t(Name);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  List.push_back(Object);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> Object;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">/// This function takes a section data object from the assembler</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/// and creates the associated COFF section staging object.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> WinCOFFObjectWriter::DefineSection(<a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> <span class="keyword">const</span> &amp;SectionData) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  assert(SectionData.<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>().<a class="code" href="classllvm_1_1MCSection.html#aa915d4102b789b76b51018c6e3e853b6">getVariant</a>() == <a class="code" href="classllvm_1_1MCSection.html#afecf7c84b079ea5c169f71b6c06ece98abcf1b00b3f8f61318b8837dc27cebb15">MCSection::SV_COFF</a></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    &amp;&amp; <span class="stringliteral">&quot;Got non COFF section in the COFF backend!&quot;</span>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// FIXME: Not sure how to verify this (at least in a debug build).</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classllvm_1_1MCSectionCOFF.html">MCSectionCOFF</a> <span class="keyword">const</span> &amp;Sec =</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classllvm_1_1MCSectionCOFF.html">MCSectionCOFF</a> <span class="keyword">const </span>&amp;<span class="keyword">&gt;</span>(SectionData.<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>());</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  COFFSection *<a class="code" href="structllvm_1_1object_1_1coff__section.html">coff_section</a> = createSection(Sec.getSectionName());</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  COFFSymbol  *<a class="code" href="structllvm_1_1object_1_1coff__symbol.html">coff_symbol</a> = createSymbol(Sec.getSectionName());</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  coff_section-&gt;Symbol = coff_symbol;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  coff_symbol-&gt;Section = coff_section;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  coff_symbol-&gt;Data.StorageClass = <a class="code" href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115afc617a23fd5e4cce7f2adfc7c2966e1c">COFF::IMAGE_SYM_CLASS_STATIC</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">// In this case the auxiliary symbol is a Section Definition.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  coff_symbol-&gt;Aux.resize(1);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(&amp;coff_symbol-&gt;Aux[0], 0, <span class="keyword">sizeof</span>(coff_symbol-&gt;Aux[0]));</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  coff_symbol-&gt;Aux[0].AuxType = ATSectionDefinition;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  coff_symbol-&gt;Aux[0].Aux.SectionDefinition.Selection = Sec.getSelection();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  coff_section-&gt;Header.Characteristics = Sec.getCharacteristics();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  uint32_t &amp;<a class="code" href="COFFYAML_8cpp.html#a922bc825602fa7f953204cac8d14b71f">Characteristics</a> = coff_section-&gt;Header.Characteristics;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">switch</span> (SectionData.<a class="code" href="classllvm_1_1MCSectionData.html#a311bdb3c6e9351c9ec95eb05c3a77c4e">getAlignment</a>()) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">case</span> 1:    Characteristics |= COFF::IMAGE_SCN_ALIGN_1BYTES;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">case</span> 2:    Characteristics |= COFF::IMAGE_SCN_ALIGN_2BYTES;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">case</span> 4:    Characteristics |= COFF::IMAGE_SCN_ALIGN_4BYTES;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">case</span> 8:    Characteristics |= COFF::IMAGE_SCN_ALIGN_8BYTES;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">case</span> 16:   Characteristics |= COFF::IMAGE_SCN_ALIGN_16BYTES;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">case</span> 32:   Characteristics |= COFF::IMAGE_SCN_ALIGN_32BYTES;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">case</span> 64:   Characteristics |= COFF::IMAGE_SCN_ALIGN_64BYTES;   <span class="keywordflow">break</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">case</span> 128:  Characteristics |= COFF::IMAGE_SCN_ALIGN_128BYTES;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">case</span> 256:  Characteristics |= COFF::IMAGE_SCN_ALIGN_256BYTES;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">case</span> 512:  Characteristics |= COFF::IMAGE_SCN_ALIGN_512BYTES;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">case</span> 1024: Characteristics |= COFF::IMAGE_SCN_ALIGN_1024BYTES; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">case</span> 2048: Characteristics |= COFF::IMAGE_SCN_ALIGN_2048BYTES; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">case</span> 4096: Characteristics |= COFF::IMAGE_SCN_ALIGN_4096BYTES; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">case</span> 8192: Characteristics |= COFF::IMAGE_SCN_ALIGN_8192BYTES; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unsupported section alignment&quot;</span>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// Bind internal COFF section to MC section.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  coff_section-&gt;MCData = &amp;SectionData;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  SectionMap[&amp;SectionData.<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>()] = coff_section;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/// This function takes a section data object from the assembler</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">/// and creates the associated COFF symbol staging object.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> WinCOFFObjectWriter::DefineSymbol(<a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> &amp;SymbolData,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                       <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Assembler,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> <span class="keyword">const</span> &amp;Symbol = SymbolData.<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  COFFSymbol *<a class="code" href="structllvm_1_1object_1_1coff__symbol.html">coff_symbol</a> = GetOrCreateCOFFSymbol(&amp;Symbol);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  SymbolMap[&amp;<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">Symbol</a>] = coff_symbol;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (SymbolData.<a class="code" href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">getFlags</a>() &amp; <a class="code" href="namespacellvm_1_1COFF.html#a859c4e0a0dd786386ec921c828ede830a44aae7112075cfa83de5dfb8788d1b93">COFF::SF_WeakExternal</a>) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    coff_symbol-&gt;Data.StorageClass = <a class="code" href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115afbf31b8df4bc8375989d1e65af8c8925">COFF::IMAGE_SYM_CLASS_WEAK_EXTERNAL</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>()) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *SymRef =</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">dyn_cast</a>&lt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a>&gt;(Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">getVariableValue</a>());</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">if</span> (!SymRef)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;Weak externals may only alias symbols&quot;</span>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      coff_symbol-&gt;Other = GetOrCreateCOFFSymbol(&amp;SymRef-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>());</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      std::string WeakName = std::string(<span class="stringliteral">&quot;.weak.&quot;</span>)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                           +  Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">str</a>()</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                           + <span class="stringliteral">&quot;.default&quot;</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      COFFSymbol *WeakDefault = createSymbol(WeakName);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      WeakDefault-&gt;Data.SectionNumber = <a class="code" href="namespacellvm_1_1COFF.html#aad7183537a9744ad25b4e8f5905b7dccaa262b1c9c4e4e4411eb76fb8818264b5">COFF::IMAGE_SYM_ABSOLUTE</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      WeakDefault-&gt;Data.StorageClass  = <a class="code" href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115a8b4296b2d59a622e33b331345fc9507b">COFF::IMAGE_SYM_CLASS_EXTERNAL</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      WeakDefault-&gt;Data.Type          = 0;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      WeakDefault-&gt;Data.Value         = 0;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      coff_symbol-&gt;Other = WeakDefault;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// Setup the Weak External auxiliary symbol.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    coff_symbol-&gt;Aux.resize(1);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">memset</a>(&amp;coff_symbol-&gt;Aux[0], 0, <span class="keyword">sizeof</span>(coff_symbol-&gt;Aux[0]));</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    coff_symbol-&gt;Aux[0].AuxType = ATWeakExternal;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    coff_symbol-&gt;Aux[0].Aux.WeakExternal.TagIndex = 0;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    coff_symbol-&gt;Aux[0].Aux.WeakExternal.Characteristics =</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="namespacellvm_1_1COFF.html#a0383d501c7fbf8312a37db613a4dd191af378923df25d4921c81e464179a5c302">COFF::IMAGE_WEAK_EXTERN_SEARCH_LIBRARY</a>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    coff_symbol-&gt;MCData = &amp;SymbolData;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> &amp;ResSymData =</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      Assembler.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#a8efc430800be9a5ea35d7944903e6954">AliasedSymbol</a>());</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>()) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      int64_t Addr;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> (Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">getVariableValue</a>()-&gt;EvaluateAsAbsolute(Addr, Layout))</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        coff_symbol-&gt;Data.Value = Addr;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    coff_symbol-&gt;Data.Type         = (ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">getFlags</a>() &amp; 0x0000FFFF) &gt;&gt;  0;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    coff_symbol-&gt;Data.StorageClass = (ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">getFlags</a>() &amp; 0x00FF0000) &gt;&gt; 16;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// If no storage class was specified in the streamer, define it here.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (coff_symbol-&gt;Data.StorageClass == 0) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordtype">bool</span> external = ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a88bed7b0b29829716b0cb559d18182a3">isExternal</a>() || (ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">Fragment</a> == NULL);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      coff_symbol-&gt;Data.StorageClass =</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;       external ? <a class="code" href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115a8b4296b2d59a622e33b331345fc9507b">COFF::IMAGE_SYM_CLASS_EXTERNAL</a> : <a class="code" href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115afc617a23fd5e4cce7f2adfc7c2966e1c">COFF::IMAGE_SYM_CLASS_STATIC</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#ab477873a8bfe855bdaaaad8174af1bb8">isAbsolute</a>() || Symbol.<a class="code" href="classllvm_1_1MCSymbol.html#a8efc430800be9a5ea35d7944903e6954">AliasedSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>())</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      coff_symbol-&gt;Data.SectionNumber = <a class="code" href="namespacellvm_1_1COFF.html#aad7183537a9744ad25b4e8f5905b7dccaa262b1c9c4e4e4411eb76fb8818264b5">COFF::IMAGE_SYM_ABSOLUTE</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a> (ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">Fragment</a> != NULL)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      coff_symbol-&gt;Section =</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        SectionMap[&amp;ResSymData.<a class="code" href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">Fragment</a>-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>()-&gt;<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>()];</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    coff_symbol-&gt;MCData = &amp;ResSymData;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">/// making a section real involves assigned it a number and putting</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">/// name into the string table if needed</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> WinCOFFObjectWriter::MakeSectionReal(COFFSection &amp;<a class="code" href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <span class="keywordtype">size_t</span> Number) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">if</span> (S.Name.size() &gt; <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61">COFF::NameSize</a>) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Max6DecimalSize = 999999;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> Max7DecimalSize = 9999999;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    uint64_t StringTableEntry = Strings.insert(S.Name.c_str());</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (StringTableEntry &lt;= Max6DecimalSize) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7">std::sprintf</a>(S.Header.Name, <span class="stringliteral">&quot;/%d&quot;</span>, <span class="keywordtype">unsigned</span>(StringTableEntry));</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (StringTableEntry &lt;= Max7DecimalSize) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">// With seven digits, we have to skip the terminating null. Because</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// sprintf always appends it, we use a larger temporary buffer.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordtype">char</span> buffer[9] = { };</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7">std::sprintf</a>(buffer, <span class="stringliteral">&quot;/%d&quot;</span>, <span class="keywordtype">unsigned</span>(StringTableEntry));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">std::memcpy</a>(S.Header.Name, buffer, 8);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<span class="stringliteral">&quot;COFF string table is greater than 9,999,999 bytes.&quot;</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">std::memcpy</a>(S.Header.Name, S.Name.c_str(), S.Name.size());</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  S.Number = Number;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  S.Symbol-&gt;Data.SectionNumber = S.Number;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  S.Symbol-&gt;Aux[0].Aux.SectionDefinition.Number = S.Number;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::MakeSymbolReal(COFFSymbol &amp;S, <span class="keywordtype">size_t</span> Index) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (S.Name.size() &gt; <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61">COFF::NameSize</a>) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">size_t</span> StringTableEntry = Strings.insert(S.Name.c_str());</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    S.set_name_offset(StringTableEntry);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">std::memcpy</a>(S.Data.Name, S.Name.c_str(), S.Name.size());</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  S.Index = Index;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="keywordtype">bool</span> WinCOFFObjectWriter::ExportSymbol(<a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> &amp;SymbolData,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                       <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;<a class="code" href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">Asm</a>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// This doesn&#39;t seem to be right. Strings referred to from the .data section</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// need symbols so they can be linked to code in the .text section right?</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// return Asm.isSymbolLinkerVisible (&amp;SymbolData);</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// For now, all non-variable symbols are exported,</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// the linker will sort the rest out for us.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">return</span> SymbolData.<a class="code" href="classllvm_1_1MCSymbolData.html#a88bed7b0b29829716b0cb559d18182a3">isExternal</a>() || !SymbolData.<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">isVariable</a>();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="keywordtype">bool</span> WinCOFFObjectWriter::IsPhysicalSection(COFFSection *S) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">return</span> (S-&gt;Header.Characteristics</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         &amp; COFF::IMAGE_SCN_CNT_UNINITIALIZED_DATA) == 0;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">// entity writing methods</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteFileHeader(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1header.html">COFF::header</a> &amp;Header) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  WriteLE16(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a2ef7885cc09f9687eb89b4e18b16a2cb">Machine</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  WriteLE16(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a831459bbd2717ee097b1a2f24a48e202">NumberOfSections</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  WriteLE32(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a5175637d5eddefcec026f5cf6b646c5b">TimeDateStamp</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  WriteLE32(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#ac73e2cb3a6df241b3605b7238930e13b">PointerToSymbolTable</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  WriteLE32(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a6f17823d8f2859b2fecb64e27dc0b8bb">NumberOfSymbols</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  WriteLE16(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a5a249ad78feb69e7d0f86b312f2f290c">SizeOfOptionalHeader</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  WriteLE16(Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a8f3f61fd6f08027021f056d4cbcb854d">Characteristics</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteSymbol(<span class="keyword">const</span> COFFSymbol *S) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  WriteBytes(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(S-&gt;Data.Name, <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61">COFF::NameSize</a>));</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  WriteLE32(S-&gt;Data.Value);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  WriteLE16(S-&gt;Data.SectionNumber);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  WriteLE16(S-&gt;Data.Type);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  Write8(S-&gt;Data.StorageClass);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  Write8(S-&gt;Data.NumberOfAuxSymbols);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  WriteAuxiliarySymbols(S-&gt;Aux);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteAuxiliarySymbols(</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallVector.html">COFFSymbol::AuxiliarySymbols</a> &amp;S) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="classT.html">COFFSymbol::AuxiliarySymbols::const_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = S.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), e = S.<a class="code" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">switch</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;AuxType) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">case</span> ATFunctionDefinition:</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.FunctionDefinition.TagIndex);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.FunctionDefinition.TotalSize);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.FunctionDefinition.PointerToLinenumber);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.FunctionDefinition.PointerToNextFunction);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.FunctionDefinition.unused));</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">case</span> ATbfAndefSymbol:</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.bfAndefSymbol.unused1));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      WriteLE16(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.bfAndefSymbol.Linenumber);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.bfAndefSymbol.unused2));</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.bfAndefSymbol.PointerToNextFunction);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.bfAndefSymbol.unused3));</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">case</span> ATWeakExternal:</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.WeakExternal.TagIndex);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.WeakExternal.Characteristics);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.WeakExternal.unused));</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">case</span> ATFile:</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      WriteBytes(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(reinterpret_cast&lt;const char *&gt;(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.File.FileName),</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                 <span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.File.FileName)));</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">case</span> ATSectionDefinition:</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.Length);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      WriteLE16(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.NumberOfRelocations);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      WriteLE16(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.NumberOfLinenumbers);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      WriteLE32(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.CheckSum);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      WriteLE16(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.Number);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      Write8(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.Selection);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      WriteZeros(<span class="keyword">sizeof</span>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;Aux.SectionDefinition.unused));</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteSectionHeader(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1section.html">COFF::section</a> &amp;S) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  WriteBytes(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#ae3f859e92e664e6b19ce1d65c3d4577e">Name</a>, <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61">COFF::NameSize</a>));</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#a26b78e958606ea8e956c02d249def931">VirtualSize</a>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#af3d598cf4a6dbc5fa44f268098a6aa2c">VirtualAddress</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#ad3e9101ad4377b3deaee59ffd486518a">SizeOfRawData</a>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#a8c515c541f79c6d138d046c667902c19">PointerToRawData</a>);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#a653bb8a76d7ffe84f3901ef7a1551d2a">PointerToRelocations</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#afc1c897880b84207d8b14a4eb41704fa">PointerToLineNumbers</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  WriteLE16(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#ad9daf03141c72e95d1897cd54c037dc0">NumberOfRelocations</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  WriteLE16(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#a7a0ae4f282361a25fe99b8de25988bc2">NumberOfLineNumbers</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  WriteLE32(S.<a class="code" href="structllvm_1_1COFF_1_1section.html#ad54307f6fcaef777aaf18ac13b93b7d4">Characteristics</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteRelocation(<span class="keyword">const</span> <a class="code" href="structllvm_1_1COFF_1_1relocation.html">COFF::relocation</a> &amp;R) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  WriteLE32(R.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a0b0a0731fd1a396f1156cffec699cbaf">VirtualAddress</a>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  WriteLE32(R.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a5a1b5c6f90e1f02bf758c755a9aaeadc">SymbolTableIndex</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  WriteLE16(R.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a7b08948d08c110e644c2d4993729c451">Type</a>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"></span><span class="comment">// MCObjectWriter interface implementations</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::ExecutePostLayoutBinding(<a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// &quot;Define&quot; each section &amp; symbol. This creates section &amp; symbol</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// entries in the staging area.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">MCAssembler::const_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#aadbadf0d60017c2129a4e055cca5d1f8">begin</a>(), e = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a9cbf4be0a270a498c18b7cf93fab5ff1">end</a>(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    DefineSection(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">MCAssembler::const_symbol_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1718390a6db2f0e9999fd4187e13d6ed">symbol_begin</a>(),</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                          e = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#ad7899d79219384782a3fb18614199e61">symbol_end</a>();</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;       <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (ExportSymbol(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Asm)) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      DefineSymbol(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Asm, Layout);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::RecordRelocation(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout,</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFragment.html">MCFragment</a> *Fragment,</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCFixup.html">MCFixup</a> &amp;Fixup,</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                           <a class="code" href="classllvm_1_1MCValue.html">MCValue</a> <a class="code" href="classllvm_1_1Target.html">Target</a>,</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                           uint64_t &amp;FixedValue) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  assert(Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>() != NULL &amp;&amp; <span class="stringliteral">&quot;Relocation must reference a symbol!&quot;</span>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> &amp;Symbol = Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>();</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> &amp;<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a> = Symbol.AliasedSymbol();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> &amp;A_SD = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(A);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="classllvm_1_1MCSectionData.html">MCSectionData</a> <span class="keyword">const</span> *SectionData = Fragment-&gt;<a class="code" href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">getParent</a>();</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// Mark this symbol as requiring an entry in the symbol table.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  assert(SectionMap.find(&amp;SectionData-&gt;<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>()) != SectionMap.end() &amp;&amp;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;         <span class="stringliteral">&quot;Section must already have been defined in ExecutePostLayoutBinding!&quot;</span>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  assert(SymbolMap.find(&amp;A_SD.<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>()) != SymbolMap.end() &amp;&amp;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;         <span class="stringliteral">&quot;Symbol must already have been defined in ExecutePostLayoutBinding!&quot;</span>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  COFFSection *<a class="code" href="structllvm_1_1object_1_1coff__section.html">coff_section</a> = SectionMap[&amp;SectionData-&gt;<a class="code" href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">getSection</a>()];</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  COFFSymbol *<a class="code" href="structllvm_1_1object_1_1coff__symbol.html">coff_symbol</a> = SymbolMap[&amp;A_SD.<a class="code" href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">getSymbol</a>()];</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *SymA = Target.<a class="code" href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">getSymA</a>();</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbolRefExpr.html">MCSymbolRefExpr</a> *SymB = Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>();</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> CrossSection = SymB &amp;&amp;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    &amp;SymA-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">getSection</a>() != &amp;SymB-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>().<a class="code" href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">getSection</a>();</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSymbol.html">MCSymbol</a> *<a class="code" href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a> = &amp;Target.<a class="code" href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">getSymB</a>()-&gt;<a class="code" href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">getSymbol</a>();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> &amp;B_SD = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">getSymbolData</a>(*B);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">// Offset of the symbol in the section</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    int64_t <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a> = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">getSymbolOffset</a>(&amp;B_SD);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// Ofeset of the relocation in the section</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    int64_t <a class="code" href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a> = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment) + Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    FixedValue = b - <a class="code" href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// In the case where we have SymbA and SymB, we just need to store the delta</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// between the two symbols.  Update FixedValue to account for the delta, and</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">// skip recording the relocation.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (!CrossSection)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    FixedValue = Target.<a class="code" href="classllvm_1_1MCValue.html#a346511f8c3557311c19317cada868bd8">getConstant</a>();</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  COFFRelocation Reloc;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  Reloc.Data.SymbolTableIndex = 0;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  Reloc.Data.VirtualAddress = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(Fragment);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// Turn relocations for temporary symbols into section relocations.</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">if</span> (coff_symbol-&gt;MCData-&gt;getSymbol().isTemporary() || CrossSection) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    Reloc.Symb = coff_symbol-&gt;Section-&gt;Symbol;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    FixedValue += Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(coff_symbol-&gt;MCData-&gt;Fragment)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                + coff_symbol-&gt;MCData-&gt;getOffset();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    Reloc.Symb = coff_symbol;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  ++Reloc.Symb-&gt;Relocations;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  Reloc.Data.VirtualAddress += Fixup.<a class="code" href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">getOffset</a>();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  Reloc.Data.Type = TargetObjectWriter-&gt;getRelocType(Target, Fixup,</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                                     CrossSection);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// FIXME: Can anyone explain what this does other than adjust for the size</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// of the offset?</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (Reloc.Data.Type == <a class="code" href="namespacellvm_1_1COFF.html#aa974b15a07ef5d31d99b7943a46e6c0aa1376dddaf4ade08fe5429571a06c6249">COFF::IMAGE_REL_AMD64_REL32</a> ||</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      Reloc.Data.Type == <a class="code" href="namespacellvm_1_1COFF.html#aa974b15a07ef5d31d99b7943a46e6c0aa32627d83f2285f6f55acdf638a21284d">COFF::IMAGE_REL_I386_REL32</a>)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    FixedValue += 4;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  coff_section-&gt;Relocations.push_back(Reloc);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="keywordtype">void</span> WinCOFFObjectWriter::WriteObject(<a class="code" href="classllvm_1_1MCAssembler.html">MCAssembler</a> &amp;Asm,</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCAsmLayout.html">MCAsmLayout</a> &amp;Layout) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// Assign symbol and section indexes and offsets.</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a831459bbd2717ee097b1a2f24a48e202">NumberOfSections</a> = 0;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;COFFSection *, uint16_t&gt;</a> SectionIndices;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">for</span> (sections::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Sections.begin(),</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                          e = Sections.end(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a35fc3bab47da3e74249f67916ac6007c">getSectionAddressSize</a>((*i)-&gt;MCData) &gt; 0) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordtype">size_t</span> Number = ++Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a831459bbd2717ee097b1a2f24a48e202">NumberOfSections</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      SectionIndices[*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] = Number;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      MakeSectionReal(**<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, Number);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      (*i)-&gt;Number = -1;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a6f17823d8f2859b2fecb64e27dc0b8bb">NumberOfSymbols</a> = 0;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">for</span> (symbols::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Symbols.begin(), e = Symbols.end(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    COFFSymbol *<a class="code" href="structllvm_1_1object_1_1coff__symbol.html">coff_symbol</a> = *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="classllvm_1_1MCSymbolData.html">MCSymbolData</a> <span class="keyword">const</span> *SymbolData = coff_symbol-&gt;MCData;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// Update section number &amp; offset for symbols that have them.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> ((SymbolData != NULL) &amp;&amp; (SymbolData-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">Fragment</a> != NULL)) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      assert(coff_symbol-&gt;Section != NULL);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      coff_symbol-&gt;Data.SectionNumber = coff_symbol-&gt;Section-&gt;Number;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      coff_symbol-&gt;Data.Value = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">getFragmentOffset</a>(SymbolData-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">Fragment</a>)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                              + SymbolData-&gt;<a class="code" href="classllvm_1_1MCSymbolData.html#a1afe0f2ad7c51e9f649a0da01db82de2">Offset</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (coff_symbol-&gt;should_keep()) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      MakeSymbolReal(*coff_symbol, Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a6f17823d8f2859b2fecb64e27dc0b8bb">NumberOfSymbols</a>++);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="comment">// Update auxiliary symbol info.</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      coff_symbol-&gt;Data.NumberOfAuxSymbols = coff_symbol-&gt;Aux.size();</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a6f17823d8f2859b2fecb64e27dc0b8bb">NumberOfSymbols</a> += coff_symbol-&gt;Data.NumberOfAuxSymbols;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      coff_symbol-&gt;Index = -1;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Fixup weak external references.</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span> (symbols::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Symbols.begin(), e = Symbols.end(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    COFFSymbol *<a class="code" href="structllvm_1_1object_1_1coff__symbol.html">coff_symbol</a> = *<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (coff_symbol-&gt;Other != NULL) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      assert(coff_symbol-&gt;Index != -1);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      assert(coff_symbol-&gt;Aux.size() == 1 &amp;&amp;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;             <span class="stringliteral">&quot;Symbol must contain one aux symbol!&quot;</span>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      assert(coff_symbol-&gt;Aux[0].AuxType == ATWeakExternal &amp;&amp;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;             <span class="stringliteral">&quot;Symbol&#39;s aux symbol must be a Weak External!&quot;</span>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      coff_symbol-&gt;Aux[0].Aux.WeakExternal.TagIndex = coff_symbol-&gt;Other-&gt;Index;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// Fixup associative COMDAT sections.</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">for</span> (sections::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Sections.begin(),</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                          e = Sections.end(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> ((*i)-&gt;Symbol-&gt;Aux[0].Aux.SectionDefinition.Selection !=</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="namespacellvm_1_1COFF.html#abc6c8907c4767b1d33c8070104b7678aa85161daa9965cdbe86d035f42c2c65ed">COFF::IMAGE_COMDAT_SELECT_ASSOCIATIVE</a>)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MCSectionCOFF.html">MCSectionCOFF</a> &amp;MCSec = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classllvm_1_1MCSectionCOFF.html">MCSectionCOFF</a> &amp;<span class="keyword">&gt;</span>(</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                                    (*i)-&gt;MCData-&gt;getSection());</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    COFFSection *Assoc = SectionMap.lookup(MCSec.<a class="code" href="classllvm_1_1MCSectionCOFF.html#ab1629d5f5256ef59fed128613dad2d43">getAssocSection</a>());</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (!Assoc) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">report_fatal_error</a>(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;Missing associated COMDAT section &quot;</span>) +</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                         MCSec.<a class="code" href="classllvm_1_1MCSectionCOFF.html#ab1629d5f5256ef59fed128613dad2d43">getAssocSection</a>()-&gt;<a class="code" href="classllvm_1_1MCSectionCOFF.html#a315fbfeada07fb394cdc2acf01483dfb">getSectionName</a>() +</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                         <span class="stringliteral">&quot; for section &quot;</span> + MCSec.<a class="code" href="classllvm_1_1MCSectionCOFF.html#a315fbfeada07fb394cdc2acf01483dfb">getSectionName</a>());</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// Skip this section if the associated section is unused.</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (Assoc-&gt;Number == -1)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    (*i)-&gt;Symbol-&gt;Aux[0].Aux.SectionDefinition.Number = SectionIndices[Assoc];</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// Assign file offsets to COFF object file structures.</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">unsigned</span> offset = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  offset += <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946cace007c33a3ca350236eb4362246ca98d">COFF::HeaderSize</a>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  offset += <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946cad6041a54e670e50494068b9840a7b657">COFF::SectionSize</a> * Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a831459bbd2717ee097b1a2f24a48e202">NumberOfSections</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1ilist__iterator.html">MCAssembler::const_iterator</a> <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#aadbadf0d60017c2129a4e055cca5d1f8">begin</a>(),</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                                   e = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a9cbf4be0a270a498c18b7cf93fab5ff1">end</a>();</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                   <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    COFFSection *Sec = SectionMap[&amp;<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>-&gt;getSection()];</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (Sec-&gt;Number == -1)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    Sec-&gt;Header.SizeOfRawData = Layout.<a class="code" href="classllvm_1_1MCAsmLayout.html#a35fc3bab47da3e74249f67916ac6007c">getSectionAddressSize</a>(<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">if</span> (IsPhysicalSection(Sec)) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      Sec-&gt;Header.PointerToRawData = offset;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      offset += Sec-&gt;Header.SizeOfRawData;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (Sec-&gt;Relocations.size() &gt; 0) {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordtype">bool</span> RelocationsOverflow = Sec-&gt;Relocations.size() &gt;= 0xffff;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">if</span> (RelocationsOverflow) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="comment">// Signal overflow by setting NumberOfSections to max value. Actual</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="comment">// size is found in reloc #0. Microsoft tools understand this.</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        Sec-&gt;Header.NumberOfRelocations = 0xffff;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        Sec-&gt;Header.NumberOfRelocations = Sec-&gt;Relocations.size();</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      Sec-&gt;Header.PointerToRelocations = offset;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">if</span> (RelocationsOverflow) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="comment">// Reloc #0 will contain actual count, so make room for it.</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        offset += <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946caf42dc67370019b06e0185840756d3b51">COFF::RelocationSize</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      offset += <a class="code" href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946caf42dc67370019b06e0185840756d3b51">COFF::RelocationSize</a> * Sec-&gt;Relocations.size();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="keywordflow">for</span> (relocations::iterator cr = Sec-&gt;Relocations.begin(),</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                 er = Sec-&gt;Relocations.end();</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                 cr != er; ++cr) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        assert((*cr).Symb-&gt;Index != -1);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        (*cr).Data.SymbolTableIndex = (*cr).Symb-&gt;Index;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    assert(Sec-&gt;Symbol-&gt;Aux.size() == 1</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      &amp;&amp; <span class="stringliteral">&quot;Section&#39;s symbol must have one aux!&quot;</span>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    AuxSymbol &amp;Aux = Sec-&gt;Symbol-&gt;Aux[0];</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    assert(Aux.AuxType == ATSectionDefinition &amp;&amp;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;           <span class="stringliteral">&quot;Section&#39;s symbol&#39;s aux symbol must be a Section Definition!&quot;</span>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    Aux.Aux.SectionDefinition.Length = Sec-&gt;Header.SizeOfRawData;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    Aux.Aux.SectionDefinition.NumberOfRelocations =</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                                Sec-&gt;Header.NumberOfRelocations;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    Aux.Aux.SectionDefinition.NumberOfLinenumbers =</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                                Sec-&gt;Header.NumberOfLineNumbers;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#ac73e2cb3a6df241b3605b7238930e13b">PointerToSymbolTable</a> = offset;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#a5175637d5eddefcec026f5cf6b646c5b">TimeDateStamp</a> = <a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a15e2f7fb19eb0cd78ca161247eb38fba">sys::TimeValue::now</a>().<a class="code" href="classllvm_1_1sys_1_1TimeValue.html#a97f2384146cc770158b564f0ad5c986f">toEpochTime</a>();</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// Write it all to disk...</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  WriteFileHeader(Header);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    sections::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ie;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="classllvm_1_1ilist__iterator.html">MCAssembler::const_iterator</a> <a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>, je;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">for</span> (i = Sections.begin(), ie = Sections.end(); i != ie; i++)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> ((*i)-&gt;Number != -1) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> ((*i)-&gt;Relocations.size() &gt;= 0xffff) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;          (*i)-&gt;Header.Characteristics |= COFF::IMAGE_SCN_LNK_NRELOC_OVFL;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        WriteSectionHeader((*i)-&gt;Header);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">for</span> (i = Sections.begin(), ie = Sections.end(),</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         j = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#aadbadf0d60017c2129a4e055cca5d1f8">begin</a>(), je = Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a9cbf4be0a270a498c18b7cf93fab5ff1">end</a>();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;         (i != ie) &amp;&amp; (j != je); ++<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, ++<a class="code" href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a>) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> ((*i)-&gt;Number == -1)</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="keywordflow">if</span> ((*i)-&gt;Header.PointerToRawData != 0) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        assert(OS.<a class="code" href="classllvm_1_1raw__ostream.html#a1d3d57b3c65f3bcf65546f7c008d7b13">tell</a>() == (*i)-&gt;Header.PointerToRawData &amp;&amp;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;               <span class="stringliteral">&quot;Section::PointerToRawData is insane!&quot;</span>);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        Asm.<a class="code" href="classllvm_1_1MCAssembler.html#a40eef272451c56604f2ef9f781279027">writeSectionData</a>(j, Layout);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">if</span> ((*i)-&gt;Relocations.size() &gt; 0) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        assert(OS.<a class="code" href="classllvm_1_1raw__ostream.html#a1d3d57b3c65f3bcf65546f7c008d7b13">tell</a>() == (*i)-&gt;Header.PointerToRelocations &amp;&amp;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;               <span class="stringliteral">&quot;Section::PointerToRelocations is insane!&quot;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">if</span> ((*i)-&gt;Relocations.size() &gt;= 0xffff) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          <span class="comment">// In case of overflow, write actual relocation count as first</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <span class="comment">// relocation. Including the synthetic reloc itself (+ 1).</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <a class="code" href="structllvm_1_1COFF_1_1relocation.html">COFF::relocation</a> r;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          r.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a0b0a0731fd1a396f1156cffec699cbaf">VirtualAddress</a> = (*i)-&gt;Relocations.size() + 1;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;          r.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a5a1b5c6f90e1f02bf758c755a9aaeadc">SymbolTableIndex</a> = 0;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          r.<a class="code" href="structllvm_1_1COFF_1_1relocation.html#a7b08948d08c110e644c2d4993729c451">Type</a> = 0;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          WriteRelocation(r);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">for</span> (relocations::const_iterator k = (*i)-&gt;Relocations.begin(),</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                               ke = (*i)-&gt;Relocations.end();</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                               k != ke; k++) {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          WriteRelocation(k-&gt;Data);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        assert((*i)-&gt;Header.PointerToRelocations == 0 &amp;&amp;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;               <span class="stringliteral">&quot;Section::PointerToRelocations is insane!&quot;</span>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  assert(OS.<a class="code" href="classllvm_1_1raw__ostream.html#a1d3d57b3c65f3bcf65546f7c008d7b13">tell</a>() == Header.<a class="code" href="structllvm_1_1COFF_1_1header.html#ac73e2cb3a6df241b3605b7238930e13b">PointerToSymbolTable</a> &amp;&amp;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;         <span class="stringliteral">&quot;Header::PointerToSymbolTable is insane!&quot;</span>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">for</span> (symbols::iterator <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = Symbols.begin(), e = Symbols.end(); <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != e; <a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> ((*i)-&gt;Index != -1)</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      WriteSymbol(*<a class="code" href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  OS.<a class="code" href="classllvm_1_1raw__ostream.html#a6e0cbc5c8568d8446c284c8538b2c9f1">write</a>((<span class="keywordtype">char</span> <span class="keyword">const</span> *)&amp;Strings.Data.front(), Strings.Data.size());</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;}</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="classllvm_1_1MCWinCOFFObjectTargetWriter.html#a1a0a17e6c398aabca7cb280e753ca9de">  914</a></span>&#160;<a class="code" href="classllvm_1_1MCWinCOFFObjectTargetWriter.html#a1a0a17e6c398aabca7cb280e753ca9de">MCWinCOFFObjectTargetWriter::MCWinCOFFObjectTargetWriter</a>(<span class="keywordtype">unsigned</span> Machine_) :</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <a class="code" href="COFFYAML_8cpp.html#a9dbc9c66cf3908e866b252feca6395a4">Machine</a>(Machine_) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">// Pin the vtable to this file.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="keywordtype">void</span> MCWinCOFFObjectTargetWriter::anchor() {}</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">// WinCOFFObjectWriter factory function</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div><div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="namespacellvm.html#a27782881dbae7b996d98c2c5a8e80a50">  925</a></span>&#160;  <a class="code" href="classllvm_1_1MCObjectWriter.html">MCObjectWriter</a> *<a class="code" href="namespacellvm.html#a27782881dbae7b996d98c2c5a8e80a50">createWinCOFFObjectWriter</a>(<a class="code" href="classllvm_1_1MCWinCOFFObjectTargetWriter.html">MCWinCOFFObjectTargetWriter</a> *MOTW,</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                            <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS) {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> WinCOFFObjectWriter(MOTW, OS);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div><div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00114">SmallVector.h:114</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a394bf05139245f8e3ee22865dc9c1caf"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a394bf05139245f8e3ee22865dc9c1caf">llvm::tgtok::String</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00047">TGLexer.h:47</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBaseInfo_8h_source.html#l00098">ARMBaseInfo.h:98</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a6f390578da3efc297f5a202bbce1946caf42dc67370019b06e0185840756d3b51"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946caf42dc67370019b06e0185840756d3b51">llvm::COFF::RelocationSize</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00042">Support/COFF.h:42</a></div></div>
<div class="ttc" id="MCContext_8h_html"><div class="ttname"><a href="MCContext_8h.html">MCContext.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1LibFunc_html_abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7"><div class="ttname"><a href="namespacellvm_1_1LibFunc.html#abf8f6830387f338fed0bce2e65108c6fa803e1ed0f626405d7808490a6abef2d7">llvm::LibFunc::sprintf</a></div><div class="ttdoc">int sprintf(char *str, const char *format, ...); </div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8h_source.html#l00511">TargetLibraryInfo.h:511</a></div></div>
<div class="ttc" id="classllvm_1_1sys_1_1TimeValue_html_a15e2f7fb19eb0cd78ca161247eb38fba"><div class="ttname"><a href="classllvm_1_1sys_1_1TimeValue.html#a15e2f7fb19eb0cd78ca161247eb38fba">llvm::sys::TimeValue::now</a></div><div class="ttdeci">static TimeValue now()</div><div class="ttdoc">Creates a TimeValue with the current time (UTC). </div></div>
<div class="ttc" id="namespacellvm_1_1ARMBuildAttrs_html_a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf"><div class="ttname"><a href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aaa10cda45fcbf7c8c9804e4e4d2e1bcdf">llvm::ARMBuildAttrs::Symbol</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBuildAttrs_8h_source.html#l00031">ARMBuildAttrs.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html_afba43ef04f7e89dc23859d7938820bd8"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html#afba43ef04f7e89dc23859d7938820bd8">llvm::MCSymbolRefExpr::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00283">MCExpr.h:283</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_abc6c8907c4767b1d33c8070104b7678aa85161daa9965cdbe86d035f42c2c65ed"><div class="ttname"><a href="namespacellvm_1_1COFF.html#abc6c8907c4767b1d33c8070104b7678aa85161daa9965cdbe86d035f42c2c65ed">llvm::COFF::IMAGE_COMDAT_SELECT_ASSOCIATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00326">Support/COFF.h:326</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">List of target independent CodeGen pass IDs. </div><div class="ttdef"><b>Definition:</b> <a href="APFloat_8h_source.html#l00022">APFloat.h:22</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1symbol_html"><div class="ttname"><a href="structllvm_1_1COFF_1_1symbol.html">llvm::COFF::symbol</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00121">Support/COFF.h:121</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a6f390578da3efc297f5a202bbce1946cace007c33a3ca350236eb4362246ca98d"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946cace007c33a3ca350236eb4362246ca98d">llvm::COFF::HeaderSize</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00038">Support/COFF.h:38</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a6f390578da3efc297f5a202bbce1946cad6041a54e670e50494068b9840a7b657"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946cad6041a54e670e50494068b9840a7b657">llvm::COFF::SectionSize</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00041">Support/COFF.h:41</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a02def7c594e9f19ff247ed0bf33d1c30"><div class="ttname"><a href="Target_2README_8txt.html#a02def7c594e9f19ff247ed0bf33d1c30">size</a></div><div class="ttdeci">i&lt; reg-&gt; size</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00204">Target/README.txt:204</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html"><div class="ttname"><a href="classllvm_1_1MCValue.html">llvm::MCValue</a></div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00037">MCValue.h:37</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a0383d501c7fbf8312a37db613a4dd191af378923df25d4921c81e464179a5c302"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a0383d501c7fbf8312a37db613a4dd191af378923df25d4921c81e464179a5c302">llvm::COFF::IMAGE_WEAK_EXTERN_SEARCH_LIBRARY</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00357">Support/COFF.h:357</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html"><div class="ttname"><a href="classllvm_1_1MCSymbol.html">llvm::MCSymbol</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00033">MCSymbol.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1MCSection_html_aa915d4102b789b76b51018c6e3e853b6"><div class="ttname"><a href="classllvm_1_1MCSection.html#aa915d4102b789b76b51018c6e3e853b6">llvm::MCSection::getVariant</a></div><div class="ttdeci">SectionVariant getVariant() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSection_8h_source.html#l00049">MCSection.h:49</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_ad3e9101ad4377b3deaee59ffd486518a"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#ad3e9101ad4377b3deaee59ffd486518a">llvm::COFF::section::SizeOfRawData</a></div><div class="ttdeci">uint32_t SizeOfRawData</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00216">Support/COFF.h:216</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_aadbadf0d60017c2129a4e055cca5d1f8"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#aadbadf0d60017c2129a4e055cca5d1f8">llvm::MCAssembler::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01039">MCAssembler.h:1039</a></div></div>
<div class="ttc" id="WinCOFFObjectWriter_8cpp_html_acb3c2359a88e789b41c2d1ee02c5c7d9"><div class="ttname"><a href="WinCOFFObjectWriter_8cpp.html#acb3c2359a88e789b41c2d1ee02c5c7d9">AuxiliaryType</a></div><div class="ttdeci">AuxiliaryType</div><div class="ttdef"><b>Definition:</b> <a href="WinCOFFObjectWriter_8cpp_source.html#l00042">WinCOFFObjectWriter.cpp:42</a></div></div>
<div class="ttc" id="namespacellvm_html_a3f2f98c2a67c9e79f58aad9150a62e42"><div class="ttname"><a href="namespacellvm.html#a3f2f98c2a67c9e79f58aad9150a62e42">llvm::dyn_cast</a></div><div class="ttdeci">enable_if_c&lt;!is_simple_type&lt; Y &gt;::value, typename cast_retty&lt; X, const Y &gt;::ret_type &gt;::type dyn_cast(const Y &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="Casting_8h_source.html#l00266">Casting.h:266</a></div></div>
<div class="ttc" id="classllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00534">DenseMap.h:534</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_a3a76669632041022e6976766a22bd2b0"><div class="ttname"><a href="Target_2README_8txt.html#a3a76669632041022e6976766a22bd2b0">j</a></div><div class="ttdeci">return j(j&lt;&lt; 16)</div></div>
<div class="ttc" id="structllvm_1_1object_1_1coff__section_html"><div class="ttname"><a href="structllvm_1_1object_1_1coff__section.html">llvm::object::coff_section</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_2COFF_8h_source.html#l00188">Object/COFF.h:188</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_ae3f859e92e664e6b19ce1d65c3d4577e"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#ae3f859e92e664e6b19ce1d65c3d4577e">llvm::COFF::section::Name</a></div><div class="ttdeci">char Name[NameSize]</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00213">Support/COFF.h:213</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_ab02cb6f4884b5c788efb97b6741dccaf"><div class="ttname"><a href="classllvm_1_1StringRef.html#ab02cb6f4884b5c788efb97b6741dccaf">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const </div><div class="ttdoc">str - Get the contents as an std::string. </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00181">StringRef.h:181</a></div></div>
<div class="ttc" id="namespacellvm_html_a7a3cfdfe9d0c756ea70e685fe4aced6b"><div class="ttname"><a href="namespacellvm.html#a7a3cfdfe9d0c756ea70e685fe4aced6b">llvm::MCData</a></div><div class="ttdeci">uint8_t MCData</div><div class="ttdoc">An entry in an MCDataAtom. </div><div class="ttdef"><b>Definition:</b> <a href="MCAtom_8h_source.html#l00167">MCAtom.h:167</a></div></div>
<div class="ttc" id="Twine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ab20709bfc1ed1765cd3b43f69bf11edc">llvm::Intrinsic::memcpy</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01260">Intrinsics.h:1260</a></div></div>
<div class="ttc" id="classllvm_1_1MCObjectWriter_html"><div class="ttname"><a href="classllvm_1_1MCObjectWriter.html">llvm::MCObjectWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCObjectWriter_8h_source.html#l00039">MCObjectWriter.h:39</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html"><div class="ttname"><a href="classllvm_1_1MCAssembler.html">llvm::MCAssembler</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00807">MCAssembler.h:807</a></div></div>
<div class="ttc" id="MCAssembler_8h_html"><div class="ttname"><a href="MCAssembler_8h.html">MCAssembler.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a5182c3b7a2e987173d8199ebe41b66c8"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a5182c3b7a2e987173d8199ebe41b66c8">llvm::MCSymbolData::getSymbol</a></div><div class="ttdeci">const MCSymbol &amp; getSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00718">MCAssembler.h:718</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a2ef7885cc09f9687eb89b4e18b16a2cb"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a2ef7885cc09f9687eb89b4e18b16a2cb">llvm::COFF::header::Machine</a></div><div class="ttdeci">uint16_t Machine</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00046">Support/COFF.h:46</a></div></div>
<div class="ttc" id="namespacellvm_html_a1f6978055dbb761b380de39070e34bd3"><div class="ttname"><a href="namespacellvm.html#a1f6978055dbb761b380de39070e34bd3">llvm::report_fatal_error</a></div><div class="ttdeci">LLVM_ATTRIBUTE_NORETURN void report_fatal_error(const char *reason, bool gen_crash_diag=true)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8cpp_source.html#l00053">ErrorHandling.cpp:53</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html">llvm::COFF::section</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00212">Support/COFF.h:212</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a1718390a6db2f0e9999fd4187e13d6ed"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a1718390a6db2f0e9999fd4187e13d6ed">llvm::MCAssembler::symbol_begin</a></div><div class="ttdeci">symbol_iterator symbol_begin()</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01054">MCAssembler.h:1054</a></div></div>
<div class="ttc" id="namespacellvm_html_a27782881dbae7b996d98c2c5a8e80a50"><div class="ttname"><a href="namespacellvm.html#a27782881dbae7b996d98c2c5a8e80a50">llvm::createWinCOFFObjectWriter</a></div><div class="ttdeci">MCObjectWriter * createWinCOFFObjectWriter(MCWinCOFFObjectTargetWriter *MOTW, raw_ostream &amp;OS)</div><div class="ttdoc">Construct a new Win COFF writer instance. </div><div class="ttdef"><b>Definition:</b> <a href="WinCOFFObjectWriter_8cpp_source.html#l00925">WinCOFFObjectWriter.cpp:925</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_acdf5bf3bbc10f9331f56441a4d483bb1"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#acdf5bf3bbc10f9331f56441a4d483bb1">b</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int b</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00396">Target/ARM/README.txt:396</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html"><div class="ttname"><a href="classllvm_1_1MCFixup.html">llvm::MCFixup</a></div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00061">MCFixup.h:61</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionCOFF_html"><div class="ttname"><a href="classllvm_1_1MCSectionCOFF.html">llvm::MCSectionCOFF</a></div><div class="ttdoc">MCSectionCOFF - This represents a section on Windows. </div><div class="ttdef"><b>Definition:</b> <a href="MCSectionCOFF_8h_source.html#l00025">MCSectionCOFF.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1MCSection_html_afecf7c84b079ea5c169f71b6c06ece98abcf1b00b3f8f61318b8837dc27cebb15"><div class="ttname"><a href="classllvm_1_1MCSection.html#afecf7c84b079ea5c169f71b6c06ece98abcf1b00b3f8f61318b8837dc27cebb15">llvm::MCSection::SV_COFF</a></div><div class="ttdef"><b>Definition:</b> <a href="MCSection_8h_source.html#l00032">MCSection.h:32</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1relocation_html_a7b08948d08c110e644c2d4993729c451"><div class="ttname"><a href="structllvm_1_1COFF_1_1relocation.html#a7b08948d08c110e644c2d4993729c451">llvm::COFF::relocation::Type</a></div><div class="ttdeci">uint16_t Type</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00268">Support/COFF.h:268</a></div></div>
<div class="ttc" id="MCWinCOFFObjectWriter_8h_html"><div class="ttname"><a href="MCWinCOFFObjectWriter_8h.html">MCWinCOFFObjectWriter.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00044">GraphWriter.h:44</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a8f3f61fd6f08027021f056d4cbcb854d"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a8f3f61fd6f08027021f056d4cbcb854d">llvm::COFF::header::Characteristics</a></div><div class="ttdeci">uint16_t Characteristics</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00052">Support/COFF.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html"><div class="ttname"><a href="classllvm_1_1MCSectionData.html">llvm::MCSectionData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00544">MCAssembler.h:544</a></div></div>
<div class="ttc" id="namespacellvm_1_1HexStyle_html_a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9"><div class="ttname"><a href="namespacellvm_1_1HexStyle.html#a2ff7bb0072f1202f7b06bb426d6ecda0aee14e37b71e28e68ace5e2f6b67042a9">llvm::HexStyle::Asm</a></div><div class="ttdoc">0ffh </div><div class="ttdef"><b>Definition:</b> <a href="MCInstPrinter_8h_source.html#l00027">MCInstPrinter.h:27</a></div></div>
<div class="ttc" id="classllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a7605b3302f3325d1fbdac43346c1a2dd"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a7605b3302f3325d1fbdac43346c1a2dd">llvm::MCSymbol::getSection</a></div><div class="ttdeci">const MCSection &amp; getSection() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00111">MCSymbol.h:111</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html">llvm::MCAsmLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAsmLayout_8h_source.html#l00029">MCAsmLayout.h:29</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a906c310d62ec1ae55afe3295a4fc2115afbf31b8df4bc8375989d1e65af8c8925"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115afbf31b8df4bc8375989d1e65af8c8925">llvm::COFF::IMAGE_SYM_CLASS_WEAK_EXTERNAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00178">Support/COFF.h:178</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdef"><b>Definition:</b> <a href="ErrorHandling_8h_source.html#l00103">ErrorHandling.h:103</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a3edce2254ea42487721b42c00bbafe18"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a3edce2254ea42487721b42c00bbafe18">llvm::MCSymbol::getVariableValue</a></div><div class="ttdeci">const MCExpr * getVariableValue() const </div><div class="ttdoc">getVariableValue() - Get the value for variable symbols. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00137">MCSymbol.h:137</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_ac73e2cb3a6df241b3605b7238930e13b"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#ac73e2cb3a6df241b3605b7238930e13b">llvm::COFF::header::PointerToSymbolTable</a></div><div class="ttdeci">uint32_t PointerToSymbolTable</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00049">Support/COFF.h:49</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolRefExpr_html"><div class="ttname"><a href="classllvm_1_1MCSymbolRefExpr.html">llvm::MCSymbolRefExpr</a></div><div class="ttdef"><b>Definition:</b> <a href="MCExpr_8h_source.html#l00141">MCExpr.h:141</a></div></div>
<div class="ttc" id="ErrorHandling_8h_html"><div class="ttname"><a href="ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5afef9bccea014fbcc9d61070cb7dbb5ff"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5afef9bccea014fbcc9d61070cb7dbb5ff">llvm::tgtok::List</a></div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00046">TGLexer.h:46</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a906c310d62ec1ae55afe3295a4fc2115afc617a23fd5e4cce7f2adfc7c2966e1c"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115afc617a23fd5e4cce7f2adfc7c2966e1c">llvm::COFF::IMAGE_SYM_CLASS_STATIC</a></div><div class="ttdoc">Static. </div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00154">Support/COFF.h:154</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html_a1d3d57b3c65f3bcf65546f7c008d7b13"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#a1d3d57b3c65f3bcf65546f7c008d7b13">llvm::raw_ostream::tell</a></div><div class="ttdeci">uint64_t tell() const </div><div class="ttdoc">tell - Return the current offset with the file. </div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00085">raw_ostream.h:85</a></div></div>
<div class="ttc" id="WinCOFFObjectWriter_8cpp_html_ad87e58fc25fef263935c5e3e13f78f55"><div class="ttname"><a href="WinCOFFObjectWriter_8cpp.html#ad87e58fc25fef263935c5e3e13f78f55">write_uint32_le</a></div><div class="ttdeci">static void write_uint32_le(void *Data, uint32_t const &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="WinCOFFObjectWriter_8cpp_source.html#l00184">WinCOFFObjectWriter.cpp:184</a></div></div>
<div class="ttc" id="namespacellvm_1_1Intrinsic_html_a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#a73349916f7e54a6b988a3646c7a02e90ae857cbc5cf8c5a980f0bd245ad5ec61a">llvm::Intrinsic::memset</a></div><div class="ttdef"><b>Definition:</b> <a href="Intrinsics_8h_source.html#l01262">Intrinsics.h:1262</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a88bed7b0b29829716b0cb559d18182a3"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a88bed7b0b29829716b0cb559d18182a3">llvm::MCSymbolData::isExternal</a></div><div class="ttdeci">bool isExternal() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00730">MCAssembler.h:730</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html">llvm::COFF::header</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00045">Support/COFF.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00025">SmallString.h:25</a></div></div>
<div class="ttc" id="classllvm_1_1MCWinCOFFObjectTargetWriter_html"><div class="ttname"><a href="classllvm_1_1MCWinCOFFObjectTargetWriter.html">llvm::MCWinCOFFObjectTargetWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="MCWinCOFFObjectWriter_8h_source.html#l00019">MCWinCOFFObjectWriter.h:19</a></div></div>
<div class="ttc" id="COFFYAML_8cpp_html_a9dbc9c66cf3908e866b252feca6395a4"><div class="ttname"><a href="COFFYAML_8cpp.html#a9dbc9c66cf3908e866b252feca6395a4">Machine</a></div><div class="ttdeci">COFF::MachineTypes Machine</div><div class="ttdef"><b>Definition:</b> <a href="COFFYAML_8cpp_source.html#l00211">COFFYAML.cpp:211</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html_a859468d865715476a6bc721654282b4c"><div class="ttname"><a href="classllvm_1_1MCSectionData.html#a859468d865715476a6bc721654282b4c">llvm::MCSectionData::getSection</a></div><div class="ttdeci">const MCSection &amp; getSection() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00605">MCAssembler.h:605</a></div></div>
<div class="ttc" id="classllvm_1_1MCWinCOFFObjectTargetWriter_html_a1a0a17e6c398aabca7cb280e753ca9de"><div class="ttname"><a href="classllvm_1_1MCWinCOFFObjectTargetWriter.html#a1a0a17e6c398aabca7cb280e753ca9de">llvm::MCWinCOFFObjectTargetWriter::MCWinCOFFObjectTargetWriter</a></div><div class="ttdeci">MCWinCOFFObjectTargetWriter(unsigned Machine_)</div><div class="ttdef"><b>Definition:</b> <a href="WinCOFFObjectWriter_8cpp_source.html#l00914">WinCOFFObjectWriter.cpp:914</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a9cbf4be0a270a498c18b7cf93fab5ff1"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a9cbf4be0a270a498c18b7cf93fab5ff1">llvm::MCAssembler::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01042">MCAssembler.h:1042</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html">llvm::MCSymbolData</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00669">MCAssembler.h:669</a></div></div>
<div class="ttc" id="classllvm_1_1MCFixup_html_add5cb03f27e1c84630cc1970478fcfe2"><div class="ttname"><a href="classllvm_1_1MCFixup.html#add5cb03f27e1c84630cc1970478fcfe2">llvm::MCFixup::getOffset</a></div><div class="ttdeci">uint32_t getOffset() const </div><div class="ttdef"><b>Definition:</b> <a href="MCFixup_8h_source.html#l00090">MCFixup.h:90</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a4a0abf8eb4fa5989df63172649cba99f"><div class="ttname"><a href="classllvm_1_1StringRef.html#a4a0abf8eb4fa5989df63172649cba99f">llvm::StringRef::begin</a></div><div class="ttdeci">iterator begin() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00097">StringRef.h:97</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1relocation_html"><div class="ttname"><a href="structllvm_1_1COFF_1_1relocation.html">llvm::COFF::relocation</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00265">Support/COFF.h:265</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a5a249ad78feb69e7d0f86b312f2f290c"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a5a249ad78feb69e7d0f86b312f2f290c">llvm::COFF::header::SizeOfOptionalHeader</a></div><div class="ttdeci">uint16_t SizeOfOptionalHeader</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00051">Support/COFF.h:51</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1relocation_html_a5a1b5c6f90e1f02bf758c755a9aaeadc"><div class="ttname"><a href="structllvm_1_1COFF_1_1relocation.html#a5a1b5c6f90e1f02bf758c755a9aaeadc">llvm::COFF::relocation::SymbolTableIndex</a></div><div class="ttdeci">uint32_t SymbolTableIndex</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00267">Support/COFF.h:267</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionCOFF_html_ab1629d5f5256ef59fed128613dad2d43"><div class="ttname"><a href="classllvm_1_1MCSectionCOFF.html#ab1629d5f5256ef59fed128613dad2d43">llvm::MCSectionCOFF::getAssocSection</a></div><div class="ttdeci">const MCSectionCOFF * getAssocSection() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSectionCOFF_8h_source.html#l00080">MCSectionCOFF.h:80</a></div></div>
<div class="ttc" id="LLParser_8cpp_html_aae58e3df0180401e8f3ab75c18fbc07a"><div class="ttname"><a href="LLParser_8cpp.html#aae58e3df0180401e8f3ab75c18fbc07a">if</a></div><div class="ttdeci">* if(!EatIfPresent(lltok::kw_thread_local)) return false</div></div>
<div class="ttc" id="classllvm_1_1sys_1_1TimeValue_html_a97f2384146cc770158b564f0ad5c986f"><div class="ttname"><a href="classllvm_1_1sys_1_1TimeValue.html#a97f2384146cc770158b564f0ad5c986f">llvm::sys::TimeValue::toEpochTime</a></div><div class="ttdeci">uint64_t toEpochTime() const </div><div class="ttdef"><b>Definition:</b> <a href="TimeValue_8h_source.html#l00250">TimeValue.h:250</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html_a3a2b9285a252f6b21bb34b0d6281608a"><div class="ttname"><a href="classllvm_1_1MCFragment.html#a3a2b9285a252f6b21bb34b0d6281608a">llvm::MCFragment::getParent</a></div><div class="ttdeci">MCSectionData * getParent() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00095">MCAssembler.h:95</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a906c310d62ec1ae55afe3295a4fc2115a8b4296b2d59a622e33b331345fc9507b"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a906c310d62ec1ae55afe3295a4fc2115a8b4296b2d59a622e33b331345fc9507b">llvm::COFF::IMAGE_SYM_CLASS_EXTERNAL</a></div><div class="ttdoc">External symbol. </div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00153">Support/COFF.h:153</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a943509e19433ee64c3bc9754ee0e9e26"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a943509e19433ee64c3bc9754ee0e9e26">llvm::MCSymbolData::getFlags</a></div><div class="ttdeci">uint32_t getFlags() const </div><div class="ttdoc">getFlags - Get the (implementation defined) symbol flags. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00770">MCAssembler.h:770</a></div></div>
<div class="ttc" id="MCSection_8h_html"><div class="ttname"><a href="MCSection_8h.html">MCSection.h</a></div></div>
<div class="ttc" id="classllvm_1_1OwningPtr_html"><div class="ttname"><a href="classllvm_1_1OwningPtr.html">llvm::OwningPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="OwningPtr_8h_source.html#l00028">OwningPtr.h:28</a></div></div>
<div class="ttc" id="MCExpr_8h_html"><div class="ttname"><a href="MCExpr_8h.html">MCExpr.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a1afe0f2ad7c51e9f649a0da01db82de2"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a1afe0f2ad7c51e9f649a0da01db82de2">llvm::MCSymbolData::Offset</a></div><div class="ttdeci">uint64_t Offset</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00678">MCAssembler.h:678</a></div></div>
<div class="ttc" id="StringMap_8h_html"><div class="ttname"><a href="StringMap_8h.html">StringMap.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbolData_html_a199cb0957448ff1fc332d2b84525a9c7"><div class="ttname"><a href="classllvm_1_1MCSymbolData.html#a199cb0957448ff1fc332d2b84525a9c7">llvm::MCSymbolData::Fragment</a></div><div class="ttdeci">MCFragment * Fragment</div><div class="ttdoc">Fragment - The fragment this symbol&amp;#39;s value is relative to, if any. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00674">MCAssembler.h:674</a></div></div>
<div class="ttc" id="DenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_aaa5d15ff3a8e1bef663102f651c212d2"><div class="ttname"><a href="classllvm_1_1MCValue.html#aaa5d15ff3a8e1bef663102f651c212d2">llvm::MCValue::getSymB</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymB() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00044">MCValue.h:44</a></div></div>
<div class="ttc" id="classT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_ab477873a8bfe855bdaaaad8174af1bb8"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#ab477873a8bfe855bdaaaad8174af1bb8">llvm::MCSymbol::isAbsolute</a></div><div class="ttdeci">bool isAbsolute() const </div><div class="ttdoc">isAbsolute - Check if this is an absolute symbol. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00105">MCSymbol.h:105</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_a7a0ae4f282361a25fe99b8de25988bc2"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#a7a0ae4f282361a25fe99b8de25988bc2">llvm::COFF::section::NumberOfLineNumbers</a></div><div class="ttdeci">uint16_t NumberOfLineNumbers</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00221">Support/COFF.h:221</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_af3d598cf4a6dbc5fa44f268098a6aa2c"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#af3d598cf4a6dbc5fa44f268098a6aa2c">llvm::COFF::section::VirtualAddress</a></div><div class="ttdeci">uint32_t VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00215">Support/COFF.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html_a6e0cbc5c8568d8446c284c8538b2c9f1"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#a6e0cbc5c8568d8446c284c8538b2c9f1">llvm::raw_ostream::write</a></div><div class="ttdeci">raw_ostream &amp; write(unsigned char C)</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00269">raw_ostream.cpp:269</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a5175637d5eddefcec026f5cf6b646c5b"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a5175637d5eddefcec026f5cf6b646c5b">llvm::COFF::header::TimeDateStamp</a></div><div class="ttdeci">uint32_t TimeDateStamp</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00048">Support/COFF.h:48</a></div></div>
<div class="ttc" id="namespacellvm_1_1ARMBuildAttrs_html_a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090"><div class="ttname"><a href="namespacellvm_1_1ARMBuildAttrs.html#a7c1a2fb50eb1779d204a599368df2e3aa69c8a3bdf3f5753779a342f0cd97c090">llvm::ARMBuildAttrs::Section</a></div><div class="ttdef"><b>Definition:</b> <a href="ARMBuildAttrs_8h_source.html#l00030">ARMBuildAttrs.h:30</a></div></div>
<div class="ttc" id="MCSymbol_8h_html"><div class="ttname"><a href="MCSymbol_8h.html">MCSymbol.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a1bdc5a7bf34c469f9ea35dec62e94895"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a1bdc5a7bf34c469f9ea35dec62e94895">llvm::MCAssembler::getSymbolData</a></div><div class="ttdeci">MCSymbolData &amp; getSymbolData(const MCSymbol &amp;Symbol) const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01145">MCAssembler.h:1145</a></div></div>
<div class="ttc" id="classllvm_1_1ilist__iterator_html"><div class="ttname"><a href="classllvm_1_1ilist__iterator.html">llvm::ilist_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="ilist_8h_source.html#l00050">ilist.h:50</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00197">Target/ARM/README.txt:197</a></div></div>
<div class="ttc" id="MCSectionCOFF_8h_html"><div class="ttname"><a href="MCSectionCOFF_8h.html">MCSectionCOFF.h</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_a653bb8a76d7ffe84f3901ef7a1551d2a"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#a653bb8a76d7ffe84f3901ef7a1551d2a">llvm::COFF::section::PointerToRelocations</a></div><div class="ttdeci">uint32_t PointerToRelocations</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00218">Support/COFF.h:218</a></div></div>
<div class="ttc" id="StringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_a635fb3df602b4e40097fdb91d78302fc"><div class="ttname"><a href="classllvm_1_1MCValue.html#a635fb3df602b4e40097fdb91d78302fc">llvm::MCValue::getSymA</a></div><div class="ttdeci">const MCSymbolRefExpr * getSymA() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00043">MCValue.h:43</a></div></div>
<div class="ttc" id="Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="Target_2README_8txt_source.html#l00029">Target/README.txt:29</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionCOFF_html_a315fbfeada07fb394cdc2acf01483dfb"><div class="ttname"><a href="classllvm_1_1MCSectionCOFF.html#a315fbfeada07fb394cdc2acf01483dfb">llvm::MCSectionCOFF::getSectionName</a></div><div class="ttdeci">StringRef getSectionName() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSectionCOFF_8h_source.html#l00071">MCSectionCOFF.h:71</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00880">SmallVector.h:880</a></div></div>
<div class="ttc" id="classllvm_1_1MCSectionData_html_a311bdb3c6e9351c9ec95eb05c3a77c4e"><div class="ttname"><a href="classllvm_1_1MCSectionData.html#a311bdb3c6e9351c9ec95eb05c3a77c4e">llvm::MCSectionData::getAlignment</a></div><div class="ttdeci">unsigned getAlignment() const </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00607">MCAssembler.h:607</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca084ca1f72ecd10e22d3d8867548e0f61">llvm::COFF::NameSize</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00039">Support/COFF.h:39</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a6f390578da3efc297f5a202bbce1946ca0fe37dab543644510056ae65f6d25b53"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a6f390578da3efc297f5a202bbce1946ca0fe37dab543644510056ae65f6d25b53">llvm::COFF::SymbolSize</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00040">Support/COFF.h:40</a></div></div>
<div class="ttc" id="MCAsmLayout_8h_html"><div class="ttname"><a href="MCAsmLayout_8h.html">MCAsmLayout.h</a></div></div>
<div class="ttc" id="TimeValue_8h_html"><div class="ttname"><a href="TimeValue_8h.html">TimeValue.h</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_a859c4e0a0dd786386ec921c828ede830a44aae7112075cfa83de5dfb8788d1b93"><div class="ttname"><a href="namespacellvm_1_1COFF.html#a859c4e0a0dd786386ec921c828ede830a44aae7112075cfa83de5dfb8788d1b93">llvm::COFF::SF_WeakExternal</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00137">Support/COFF.h:137</a></div></div>
<div class="ttc" id="structllvm_1_1object_1_1coff__symbol_html"><div class="ttname"><a href="structllvm_1_1object_1_1coff__symbol.html">llvm::object::coff_symbol</a></div><div class="ttdef"><b>Definition:</b> <a href="Object_2COFF_8h_source.html#l00160">Object/COFF.h:160</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_a8c515c541f79c6d138d046c667902c19"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#a8c515c541f79c6d138d046c667902c19">llvm::COFF::section::PointerToRawData</a></div><div class="ttdeci">uint32_t PointerToRawData</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00217">Support/COFF.h:217</a></div></div>
<div class="ttc" id="MCValue_8h_html"><div class="ttname"><a href="MCValue_8h.html">MCValue.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a18d15032e8ed44a3dd0196aecdfee80a"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a18d15032e8ed44a3dd0196aecdfee80a">llvm::MCAsmLayout::getSymbolOffset</a></div><div class="ttdeci">uint64_t getSymbolOffset(const MCSymbolData *SD) const </div><div class="ttdoc">Get the offset of the given symbol, as computed in the current layout. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00119">MCAssembler.cpp:119</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a35fc3bab47da3e74249f67916ac6007c"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a35fc3bab47da3e74249f67916ac6007c">llvm::MCAsmLayout::getSectionAddressSize</a></div><div class="ttdeci">uint64_t getSectionAddressSize(const MCSectionData *SD) const </div><div class="ttdoc">Get the address space size of the given section, as it effects layout. This may differ from the size ...</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00151">MCAssembler.cpp:151</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_a26b78e958606ea8e956c02d249def931"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#a26b78e958606ea8e956c02d249def931">llvm::COFF::section::VirtualSize</a></div><div class="ttdeci">uint32_t VirtualSize</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00214">Support/COFF.h:214</a></div></div>
<div class="ttc" id="classllvm_1_1StringMap_html"><div class="ttname"><a href="classllvm_1_1StringMap.html">llvm::StringMap</a></div><div class="ttdef"><b>Definition:</b> <a href="StringMap_8h_source.html#l00236">StringMap.h:236</a></div></div>
<div class="ttc" id="classllvm_1_1Target_html"><div class="ttname"><a href="classllvm_1_1Target.html">llvm::Target</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegistry_8h_source.html#l00078">TargetRegistry.h:78</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_aa974b15a07ef5d31d99b7943a46e6c0aa1376dddaf4ade08fe5429571a06c6249"><div class="ttname"><a href="namespacellvm_1_1COFF.html#aa974b15a07ef5d31d99b7943a46e6c0aa1376dddaf4ade08fe5429571a06c6249">llvm::COFF::IMAGE_REL_AMD64_REL32</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00288">Support/COFF.h:288</a></div></div>
<div class="ttc" id="classllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00112">SmallVector.h:112</a></div></div>
<div class="ttc" id="MCObjectWriter_8h_html"><div class="ttname"><a href="MCObjectWriter_8h.html">MCObjectWriter.h</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a6f17823d8f2859b2fecb64e27dc0b8bb"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a6f17823d8f2859b2fecb64e27dc0b8bb">llvm::COFF::header::NumberOfSymbols</a></div><div class="ttdeci">uint32_t NumberOfSymbols</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00050">Support/COFF.h:50</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a1c2e92b00e94b279e7a880a305548765"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a1c2e92b00e94b279e7a880a305548765">llvm::MCSymbol::getName</a></div><div class="ttdeci">StringRef getName() const </div><div class="ttdoc">getName - Get the symbol name. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00070">MCSymbol.h:70</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_a8efc430800be9a5ea35d7944903e6954"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#a8efc430800be9a5ea35d7944903e6954">llvm::MCSymbol::AliasedSymbol</a></div><div class="ttdeci">const MCSymbol &amp; AliasedSymbol() const </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8cpp_source.html#l00042">MCSymbol.cpp:42</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_aad7183537a9744ad25b4e8f5905b7dccaa262b1c9c4e4e4411eb76fb8818264b5"><div class="ttname"><a href="namespacellvm_1_1COFF.html#aad7183537a9744ad25b4e8f5905b7dccaa262b1c9c4e4e4411eb76fb8818264b5">llvm::COFF::IMAGE_SYM_ABSOLUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00142">Support/COFF.h:142</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00054">MD5.cpp:54</a></div></div>
<div class="ttc" id="classllvm_1_1MCAsmLayout_html_a55f4fc3f3ac63372b71cd525dd39f0f8"><div class="ttname"><a href="classllvm_1_1MCAsmLayout.html#a55f4fc3f3ac63372b71cd525dd39f0f8">llvm::MCAsmLayout::getFragmentOffset</a></div><div class="ttdeci">uint64_t getFragmentOffset(const MCFragment *F) const </div><div class="ttdoc">Get the offset of the given fragment inside its containing section. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00113">MCAssembler.cpp:113</a></div></div>
<div class="ttc" id="namespacellvm_1_1COFF_html_aa974b15a07ef5d31d99b7943a46e6c0aa32627d83f2285f6f55acdf638a21284d"><div class="ttname"><a href="namespacellvm_1_1COFF.html#aa974b15a07ef5d31d99b7943a46e6c0aa32627d83f2285f6f55acdf638a21284d">llvm::COFF::IMAGE_REL_I386_REL32</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00282">Support/COFF.h:282</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1header_html_a831459bbd2717ee097b1a2f24a48e202"><div class="ttname"><a href="structllvm_1_1COFF_1_1header.html#a831459bbd2717ee097b1a2f24a48e202">llvm::COFF::header::NumberOfSections</a></div><div class="ttdeci">uint16_t NumberOfSections</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00047">Support/COFF.h:47</a></div></div>
<div class="ttc" id="classllvm_1_1MCSymbol_html_ac542b727bb1c9dd954198bf3906912ce"><div class="ttname"><a href="classllvm_1_1MCSymbol.html#ac542b727bb1c9dd954198bf3906912ce">llvm::MCSymbol::isVariable</a></div><div class="ttdeci">bool isVariable() const </div><div class="ttdoc">isVariable - Check if this is a variable symbol. </div><div class="ttdef"><b>Definition:</b> <a href="MCSymbol_8h_source.html#l00132">MCSymbol.h:132</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_ad9daf03141c72e95d1897cd54c037dc0"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#ad9daf03141c72e95d1897cd54c037dc0">llvm::COFF::section::NumberOfRelocations</a></div><div class="ttdeci">uint16_t NumberOfRelocations</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00220">Support/COFF.h:220</a></div></div>
<div class="ttc" id="classllvm_1_1MCValue_html_a346511f8c3557311c19317cada868bd8"><div class="ttname"><a href="classllvm_1_1MCValue.html#a346511f8c3557311c19317cada868bd8">llvm::MCValue::getConstant</a></div><div class="ttdeci">int64_t getConstant() const </div><div class="ttdef"><b>Definition:</b> <a href="MCValue_8h_source.html#l00042">MCValue.h:42</a></div></div>
<div class="ttc" id="Target_2X86_2README_8txt_html_a668d6902e1f37328dfbbb1f75aa82fc9"><div class="ttname"><a href="Target_2X86_2README_8txt.html#a668d6902e1f37328dfbbb1f75aa82fc9">a</a></div><div class="ttdeci">=0.0?0.0:(a &gt; 0.0?1.0:-1.0) a</div><div class="ttdef"><b>Definition:</b> <a href="Target_2X86_2README_8txt_source.html#l00652">Target/X86/README.txt:652</a></div></div>
<div class="ttc" id="classllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation. </div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00066">Value.h:66</a></div></div>
<div class="ttc" id="classllvm_1_1MCFragment_html"><div class="ttname"><a href="classllvm_1_1MCFragment.html">llvm::MCFragment</a></div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l00041">MCAssembler.h:41</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html_a9e277b660236bb0318b61ab9cdf60dc7"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9e277b660236bb0318b61ab9cdf60dc7">llvm::StringRef::end</a></div><div class="ttdeci">iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00099">StringRef.h:99</a></div></div>
<div class="ttc" id="classllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00031">raw_ostream.h:31</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_a40eef272451c56604f2ef9f781279027"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#a40eef272451c56604f2ef9f781279027">llvm::MCAssembler::writeSectionData</a></div><div class="ttdeci">void writeSectionData(const MCSectionData *Section, const MCAsmLayout &amp;Layout) const </div><div class="ttdoc">Emit the section contents using the given object writer. </div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8cpp_source.html#l00685">MCAssembler.cpp:685</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_afc1c897880b84207d8b14a4eb41704fa"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#afc1c897880b84207d8b14a4eb41704fa">llvm::COFF::section::PointerToLineNumbers</a></div><div class="ttdeci">uint32_t PointerToLineNumbers</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00219">Support/COFF.h:219</a></div></div>
<div class="ttc" id="classllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00041">StringRef.h:41</a></div></div>
<div class="ttc" id="COFFYAML_8cpp_html_a922bc825602fa7f953204cac8d14b71f"><div class="ttname"><a href="COFFYAML_8cpp.html#a922bc825602fa7f953204cac8d14b71f">Characteristics</a></div><div class="ttdeci">COFF::SectionCharacteristics Characteristics</div><div class="ttdef"><b>Definition:</b> <a href="COFFYAML_8cpp_source.html#l00196">COFFYAML.cpp:196</a></div></div>
<div class="ttc" id="OwningPtr_8h_html"><div class="ttname"><a href="OwningPtr_8h.html">OwningPtr.h</a></div></div>
<div class="ttc" id="Target_2ARM_2README_8txt_html_a90cca76dd78688687e0d697679dbc799"><div class="ttname"><a href="Target_2ARM_2README_8txt.html#a90cca76dd78688687e0d697679dbc799">B</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional ldr LCPI1_0 ldr ldr tst movne lsr ldr LCPI1_1 and r0 bx lr it saves an instruction and a register It might be profitable to cse MOVi16 if there are lots of bit immediates with the same bottom half Robert Muth started working on an alternate jump table implementation that does not put the tables in line in the text This is more like the llvm default jump table implementation This might be useful sometime Several revisions of patches are on the mailing beginning while CMP sets them like a subtract Therefore to be able to use CMN for comparisons other than the Z we ll need additional logic to reverse the conditionals associated with the comparison Perhaps a pseudo instruction for the with a post codegen pass to clean up and handle the condition codes See PR5694 for testcase Given the following on int B</div><div class="ttdef"><b>Definition:</b> <a href="Target_2ARM_2README_8txt_source.html#l00592">Target/ARM/README.txt:592</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1section_html_ad54307f6fcaef777aaf18ac13b93b7d4"><div class="ttname"><a href="structllvm_1_1COFF_1_1section.html#ad54307f6fcaef777aaf18ac13b93b7d4">llvm::COFF::section::Characteristics</a></div><div class="ttdeci">uint32_t Characteristics</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00222">Support/COFF.h:222</a></div></div>
<div class="ttc" id="unionllvm_1_1COFF_1_1Auxiliary_html"><div class="ttname"><a href="unionllvm_1_1COFF_1_1Auxiliary.html">llvm::COFF::Auxiliary</a></div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00375">Support/COFF.h:375</a></div></div>
<div class="ttc" id="structllvm_1_1COFF_1_1relocation_html_a0b0a0731fd1a396f1156cffec699cbaf"><div class="ttname"><a href="structllvm_1_1COFF_1_1relocation.html#a0b0a0731fd1a396f1156cffec699cbaf">llvm::COFF::relocation::VirtualAddress</a></div><div class="ttdeci">uint32_t VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="Support_2COFF_8h_source.html#l00266">Support/COFF.h:266</a></div></div>
<div class="ttc" id="Support_2COFF_8h_html"><div class="ttname"><a href="Support_2COFF_8h.html">COFF.h</a></div></div>
<div class="ttc" id="classllvm_1_1MCAssembler_html_ad7899d79219384782a3fb18614199e61"><div class="ttname"><a href="classllvm_1_1MCAssembler.html#ad7899d79219384782a3fb18614199e61">llvm::MCAssembler::symbol_end</a></div><div class="ttdeci">symbol_iterator symbol_end()</div><div class="ttdef"><b>Definition:</b> <a href="MCAssembler_8h_source.html#l01057">MCAssembler.h:1057</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p class="footer">
Generated on Sat Nov 10 2018 23:03:06 for <a href="http://llvm.org/">LLVM</a> by
<a href="http://www.doxygen.org"><img src="doxygen.png" alt="Doxygen"
align="middle" border="0"/>1.8.11</a><br>
Copyright &copy; 2003-2013 University of Illinois at Urbana-Champaign.
All Rights Reserved.</p>
<hr>
<!--#include virtual="/attrib.incl" -->
</body>
</html>
